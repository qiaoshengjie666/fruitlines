{"version":3,"sources":["assets\\gameComon\\scripts\\model\\util.js"],"names":["module","exports","format","f","objects","i","arguments","length","push","inspect","join","args","len","formatRegExp","RegExp","str","String","replace","x","Number","JSON","stringify","loadGameAutoAtlas","url","spriteName","node","cb","CC_BUILD","cc","resources","load","SpriteAtlas","err","atlas","frame","getSpriteFrame","spriteFrame","bind","SpriteFrame","log","message","loadJSONData","bundleName","name","callback","assetManager","loadBundle","bundle","JsonAsset","error","res","jsondata","json","loadBundleSprite","bundlename","loadname","spriteframe","guid","S4","Math","random","toString","substring","timeConvertInt","time","sceond","parseInt","lower","upper","floor","distance","p1","p2","dx","abs","dy","y","sqrt","pow","goldCrarryBit","gold","array","value","toFixed","setVirusColor","color","children","js","getComponent","getVirusColorByHp","hp","gVirusColor","pro","getVirusScaleByHp","gVirusScale","scale","getRandomSpeed","index","gSpeed","randAlloc","total","min","max","Error","result","restValue","restLength","restMin","restMax","usable","minValue","limit","copyText","word","rid","sys","platform","BYTEDANCE_GAME","WECHAT_GAME","BAIDU_GAME","comObject","swan","wx","tt","setClipboardData","data","success","showToast","title","icon","getClipboardData","spreadUrl","consts","HTTP_SPREAD_REPORT","httpUtils","httpSendRequest","spreadRes","fail","spreadWordFun","comApp","combrand","commodel","getSystemInfoSync","host","brand","model","appGame","appName","qq","param","userId","HTTP_RECORD_PACKAGE","httpPostParam","HTTP_SPREAD_WORD","resWord","code","gameServerRoom","wordRid","util","spreadClose","ridUrl","HTTP_SPREAD_CLOSE","getUrlSerConfig","Code","detailparse","parse","Detail","compareVersion","v1","v2","split","num1","num2"],"mappings":"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","sourceRoot":"/","sourcesContent":["module.exports = {\n    format: function (f) {\n        if (typeof f !== 'string') {\n            var objects = [];\n            for (var i = 0; i < arguments.length; i++) {\n                objects.push(inspect(arguments[i]));\n            }\n            return objects.join(' ');\n        }\n        var i = 1;\n        var args = arguments;\n        var len = args.length;\n        var formatRegExp = new RegExp(\"%%|%s|%d|%j\", \"g\");\n        var str = String(f).replace(formatRegExp, function (x) {\n            if (x === '%%') return '%';\n            if (i >= len) return x;\n            switch (x) {\n                case '%s':\n                    return String(args[i++]);\n                case '%d':\n                    return Number(args[i++]);\n                case '%j':\n                    return JSON.stringify(args[i++]);\n                default:\n                    return x;\n            }\n        });\n        for (var x = args[i]; i < len; x = args[++i]) {\n            if (x === null || typeof x !== 'object') {\n                str += ' ' + x;\n            } else {\n                str += ' ' + inspect(x);\n            }\n        }\n        return str;\n    },\n\n    loadGameAutoAtlas(url,spriteName,node,cb){\n        if(CC_BUILD){\n            cc.resources.load(url, cc.SpriteAtlas, function (err, atlas) {\n                var frame = atlas.getSpriteFrame(spriteName);\n                node.spriteFrame = frame;\n                cb(true);\n            }.bind(this));\n        }else{\n            cc.resources.load(url+spriteName,cc.SpriteFrame,function(err,spriteFrame){\n                if(err){\n                    cc.log(err.message||err);\n                    cb(false);\n                    return;\n                }\n                node.spriteFrame = spriteFrame;\n                cb(true);\n            }.bind(this));\n            \n        }\n    },\n\n    loadJSONData(bundleName,name,callback){\n        cc.assetManager.loadBundle(bundleName, function(err, bundle){\n            bundle.load(name, cc.JsonAsset, function (error, res) {\n                if (error) {\n                    return;\n                }\n                let jsondata = res.json;\n                callback(jsondata);\n                //cc.log(\"jsondata==\"+JSON.stringify(jsondata.data))\n            }.bind(this));\n        }.bind(this));\n    },\n\n    loadBundleSprite(bundlename,loadname,node,cb){\n        cc.assetManager.loadBundle(bundlename, function (err, bundle) {\n            bundle.load(loadname,cc.SpriteFrame, function(err, spriteframe) {\n                if(err){\n                    return;\n                }\n                node.spriteFrame = spriteframe;\n                cb(true);\n            }.bind(this));\n        }.bind(this));\n    },\n\n    guid() {\n        function S4() {\n            return (((1+Math.random())*0x10000)|0).toString(16).substring(1);\n        }\n        return (S4()+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+\"-\"+S4()+S4()+S4());\n    },\n\n    timeConvertInt(time){\n        //let converttime = 0;\n        let sceond = parseInt(time/1000);\n        // if(sceond<=10){\n        //     converttime = sceond;\n        // }else{\n        //     let timestr = sceond+'';\n        //     let s1 = timestr.substring(0,timestr.length-1);\n        //     s1 = s1+'0';\n        //     converttime = parseInt(s1)\n        // }\n        return sceond;\n    },\n\n    random(lower, upper) {\n        return Math.floor(Math.random() * (upper - lower)) + lower;\n    },\n    distance(p1,p2){\n        var dx = Math.abs(p2.x - p1.x);\n        var dy = Math.abs(p2.y - p1.y);\n        return Math.sqrt(Math.pow(dx,2)+Math.pow(dy,2));\n    },\n    //货币进位\n    goldCrarryBit(gold){\n    \n        var array=[\n            [100000000,'N'],\n            [10000000,'T'],\n            [1000000,'G'],\n            [100000,'M'],\n            [10000,'K'],\n            [1000,'B'],\n        ];\n        for (var i = 0; i < array.length; i++) {\n            var value = gold/array[i][0];\n            if(value > 1 ){\n                return ''+value.toFixed(1)+array[i][1];\n            }\n        }\n        return gold;\n    },\n    setVirusColor(node,color){\n        for (var i = 0; i < node.children.length; i++) {\n            var js = node.children[i].getComponent('color');\n            if(js != null){\n                node.children[i].color = color;\n            }\n            this.setVirusColor(node.children[i],color);\n        }\n    },\n\n    getVirusColorByHp(hp) {\n        for (var i = 0; i < gVirusColor.length; i++) {\n            if(hp <= gVirusColor[i].pro){\n                return gVirusColor[i].color;\n            }\n        }\n    },\n    getVirusScaleByHp(hp){\n        for (var i = 0; i < gVirusColor.length; i++) {\n            if(hp <= gVirusColor[i].pro){\n                return gVirusScale[i].scale;\n            }\n        }\n    },\n    \n    getRandomSpeed() {\n        var index = random(0,gSpeed.length-1);\n        return gSpeed[index];\n    },\n    \n    randAlloc(total, min, max, length) {\n        // 首先要判断是否符合 min 和 max 条件\n        if (min * length > total || max * length < total) {\n            throw Error(`没法满足最最少 ${min} 最大 ${max} 的条件`);\n        }\n    \n        const result = [];\n        let restValue = total;\n        let restLength = length;\n        for (let i = 0; i < length - 1; i++) {\n             restLength--;\n            // 这一次要发的数量必须保证剩下的要足最小量\n            // 同进要保证剩下的不能大于需要的最大量\n            const restMin = restLength * min;\n            const restMax = restLength * max;\n            // 可发的量\n            const usable = restValue - restMin;\n            // 最少要发的量\n            const minValue = Math.max(min, restValue - restMax);\n            // 以 minValue 为最左，max 为中线来进行随机，即随机范围是 (max - minValue) * 2\n            // 如果这个范围大于 usable - minValue，取 usable - minValue\n            const limit = Math.min(usable - minValue, (max - minValue) * 2);\n            // 随机部分加上最少要发的部分就是应该发的，但是如果大于 max，最大取到 max\n            result[i] = Math.min(max, minValue + Math.floor(limit * Math.random()));\n            restValue -= result[i];\n        }\n        result[length - 1] = restValue;\n    \n        return result;\n    },\n    copyText(word,rid) {\n        if(cc.sys.platform == cc.sys.BYTEDANCE_GAME || cc.sys.platform == cc.sys.WECHAT_GAME ||cc.sys.platform == cc.sys.BAIDU_GAME){ //头条平台\n            let comObject;\n            if(cc.sys.platform == cc.sys.BAIDU_GAME){\n                comObject = swan;\n            }else if(cc.sys.platform == cc.sys.WECHAT_GAME){\n                comObject = wx;\n            }else{\n                comObject = tt; \n            }\n            comObject.setClipboardData({\n            data:word,\n            success: function (res) {\n                if(cc.sys.platform == cc.sys.BAIDU_GAME){\n                    comObject.showToast({\n                        title: '加载完成',\n                        icon: 'none'\n                    });\n                }\n                comObject.getClipboardData({\n                    success: function (res) {\n                        let spreadUrl =consts.HTTP_SPREAD_REPORT+'rid='+rid+'&status='+1;\n                        httpUtils.httpSendRequest(spreadUrl,function(spreadRes){});\n                    },\n                    fail:function(res){\n                        let spreadUrl =consts.HTTP_SPREAD_REPORT+'rid='+rid+'&status='+0;\n                        httpUtils.httpSendRequest(spreadUrl,function(spreadRes){});\n                    }\n                })\n            },\n            fail:function(res){\n                let spreadUrl =consts.HTTP_SPREAD_REPORT+'rid='+rid+'&status='+0;\n                httpUtils.httpSendRequest(spreadUrl,function(spreadRes){});\n            }\n            }\n            )\n        }\n    },\n    spreadWordFun(){\n        if(cc.sys.platform == cc.sys.BYTEDANCE_GAME || cc.sys.platform == cc.sys.WECHAT_GAME ||cc.sys.platform == cc.sys.BAIDU_GAME){ //头条平台\n            let comApp,combrand,commodel;\n            if(cc.sys.platform == cc.sys.BAIDU_GAME){\n                const {host,brand,model} = swan.getSystemInfoSync();\n                comApp = host;\n                combrand = brand;\n                commodel = model;\n            }else if(cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'WX'){\n                const {appName,brand,model} = wx.getSystemInfoSync();\n                comApp = appName;\n                combrand = brand;\n                commodel = model;\n            }else if(cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'QQ'){\n                const {appName,brand,model} = qq.getSystemInfoSync();\n                comApp = appName;\n                combrand = brand;\n                commodel = model;\n            } else{\n                const {appName,brand,model} = tt.getSystemInfoSync();\n                comApp = appName;\n                combrand = brand;\n                commodel = model;\n            }\n            \n            let param = {\"did\":appGame.userId,\"package\":consts.HTTP_RECORD_PACKAGE,\"app\":comApp,\n        \"brand\":combrand,\"model\":commodel};\n            //console.log(\"param==\"+JSON.stringify(param))\n            httpUtils.httpPostParam(consts.HTTP_SPREAD_WORD,param,function(resWord){\n                //console.log(\"resWord ==\"+JSON.stringify(resWord))\n                if(resWord){\n                    if(resWord.code == 200 && resWord.data){\n                        appGame.gameServerRoom.wordRid = resWord.rid;\n                        util.copyText(resWord.data,resWord.rid);\n                    }else{\n                        appGame.gameServerRoom.wordRid = '';\n                    }\n                }\n            }.bind(this));\n        }\n        // let param = {\"did\":appGame.userId,\"package\":consts.HTTP_RECORD_PACKAGE,\"app\":\"Toutiao\"};\n        // cc.log(\"param==\"+JSON.stringify(param))\n        // httpUtils.httpPostParam(consts.HTTP_SPREAD_WORD,param,function(resWord){\n        //     cc.log(\"resWord ==\"+JSON.stringify(resWord))\n        //     if(resWord){\n        //         if(resWord.data && resWord.code == 200){\n        //              appGame.gameServerRoom.wordRid = resWord.rid\n        //             let spreadUrl =consts.HTTP_SPREAD_REPORT+'rid='+resWord.rid+'&status='+0;\n        //             httpUtils.httpSendRequest(spreadUrl,function(spreadRes){}.bind(this));\n        //             util.copyText(resWord.data,resWord.rid);\n        //         }else{\n        //             appGame.gameServerRoom.wordRid = '';\n        //         }\n        //     }else{\n        //         appGame.gameServerRoom.wordRid = '';\n        //     }\n        // }.bind(this));\n    },\n\n    spreadClose(rid){\n        let ridUrl = consts.HTTP_SPREAD_CLOSE+rid;\n        httpUtils.httpSendRequest(ridUrl,function(spreadRes){});\n    },\n\n    /*\n    * url 获取配置url\n    * bundle  本地配置bundle\n    * json  本地配置文件名\n    * config  存在该字段 \n    * cb 回调\n    */\n    getUrlSerConfig(url,bundle,json,cb){\n        httpUtils.httpSendRequest(url,function(res){\n            //console.log(\"room ==\"+JSON.stringify(res))\n            if(res && res.Code == 200){\n                let detailparse = JSON.parse(res.Detail);\n                cb(detailparse);\n            }else{\n                util.loadJSONData(bundle,json,function(data){\n                    cb(data);\n                }.bind(this));\n            }\n        }.bind(this));\n    },\n    /*\n    *比较版本号\n    */\n    compareVersion:function(v1, v2) {\n        v1 = v1.split('.')\n        v2 = v2.split('.')\n        var len = Math.max(v1.length, v2.length)\n       \n        while (v1.length < len) {\n          v1.push('0')\n        }\n        while (v2.length < len) {\n          v2.push('0')\n        }\n        for (var i = 0; i < len; i++) {\n          var num1 = parseInt(v1[i])\n          var num2 = parseInt(v2[i])\n       \n          if (num1 > num2) {\n            return 1\n          } else if (num1 < num2) {\n            return -1\n          }\n        }\n        return 0\n    },\n}"]}