{"version":3,"sources":["assets\\framework\\plugin_boosts\\gamesys\\LocalTimeSystem.ts"],"names":[],"mappings":";;;;;AAAA;IAAA;IAuDA,CAAC;IAnDU,oBAAI,GAAX,UAAY,QAAe;QAEvB,IAAG,QAAQ,IAAI,IAAI,IAAE,QAAQ,IAAI,SAAS;YAAC,OAAO;QAClD,eAAe,CAAC,OAAO,GAAG,QAAQ,CAAC;QACnC,IAAG,EAAE,CAAC,GAAG,CAAC,WAAW,IAAI,EAAE,CAAC,GAAG,CAAC,QAAQ,EACxC;YACI,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,QAAQ,CAAC,CAAC;YACzB,EAAE,CAAC,MAAM,CAAC,IAAI,CAAC,OAAO,CAAC,CAAA;SAC1B;QACD,uCAAuC;IAC3C,CAAC;IAEM,0BAAU,GAAjB;QAEI,IAAI,CAAC,KAAK,GAAG,WAAW,CAAC,UAAA,CAAC;YACtB,eAAe,CAAC,OAAO,IAAI,IAAI,CAAC;QACpC,CAAC,EAAC,IAAI,CAAC,CAAC;IACZ,CAAC;IAEM,yBAAS,GAAhB;QACI,aAAa,CAAC,IAAI,CAAC,KAAK,CAAC,CAAC;IAC9B,CAAC;IAEM,sBAAM,GAAb;QAEI,OAAO,eAAe,CAAC,OAAO,IAAI,IAAI,IAAI,EAAE,CAAC,OAAO,EAAE,GAAC,IAAI,CAAC;IAChE,CAAC;IAEM,uBAAO,GAAd;QAEI,IAAG,eAAe,CAAC,OAAO,EAC1B;YACI,IAAI,IAAI,GAAI,IAAI,IAAI,EAAE,CAAA;YACtB,IAAI,CAAC,OAAO,CAAC,eAAe,CAAC,OAAO,GAAC,IAAI,CAAC,CAAC;YAC3C,OAAO,IAAI,CAAC;SACf;QACD,OAAO,IAAI,IAAI,EAAE,CAAC;IAEtB,CAAC;IAGM,wBAAQ,GAAf;QAEI,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAA;QACpC,oBAAoB;IACxB,CAAC;IACM,uBAAO,GAAd;QAEI,OAAO,CAAC,GAAG,CAAC,uBAAuB,CAAC,CAAA;QACpC,qBAAqB;IACzB,CAAC;IACL,sBAAC;AAAD,CAvDA,AAuDC,IAAA","file":"","sourceRoot":"/","sourcesContent":["export default class LocalTimeSystem\n{\n    static utc_sec:number\n    static timer:number;\n    static init(utc_msec:number)\n    {\n        if(utc_msec == null||utc_msec == undefined)return;\n        LocalTimeSystem.utc_sec = utc_msec;\n        if(cc.sys.WECHAT_GAME == cc.sys.platform)\n        {\n            wx.onHide(this.onHidden);\n            wx.onShow(this.onShown)\n        }\n        //g.setGlobalInstance(LocalTimeSystem);\n    }\n\n    static startTimer()\n    {\n        this.timer = setInterval(_=>{\n            LocalTimeSystem.utc_sec += 1000;\n        },1000);\n    }\n\n    static stopTimer(){\n        clearInterval(this.timer);\n    }\n\n    static getSec():number\n    {\n        return LocalTimeSystem.utc_sec || new Date().getTime()/1000;\n    }\n\n    static getDate()\n    {\n        if(LocalTimeSystem.utc_sec)\n        {\n            let date =  new Date()\n            date.setTime(LocalTimeSystem.utc_sec*1000);\n            return date;\n        }\n        return new Date();\n        \n    }\n  \n    static lastLocalTime:number;\n    static onHidden()\n    {\n        console.log(\"game enter background\")\n        // this.stopTimer();\n    }\n    static onShown()\n    {\n        console.log(\"game enter foreground\")\n        // this.startTimer();\n    }\n}"]}