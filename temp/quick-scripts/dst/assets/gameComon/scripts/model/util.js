
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/model/util.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '8a9f96OA6hCcY7Fl9XOa3ug', 'util');
// gameComon/scripts/model/util.js

"use strict";

module.exports = {
  format: function format(f) {
    if (typeof f !== 'string') {
      var objects = [];

      for (var i = 0; i < arguments.length; i++) {
        objects.push(inspect(arguments[i]));
      }

      return objects.join(' ');
    }

    var i = 1;
    var args = arguments;
    var len = args.length;
    var formatRegExp = new RegExp("%%|%s|%d|%j", "g");
    var str = String(f).replace(formatRegExp, function (x) {
      if (x === '%%') return '%';
      if (i >= len) return x;

      switch (x) {
        case '%s':
          return String(args[i++]);

        case '%d':
          return Number(args[i++]);

        case '%j':
          return JSON.stringify(args[i++]);

        default:
          return x;
      }
    });

    for (var x = args[i]; i < len; x = args[++i]) {
      if (x === null || typeof x !== 'object') {
        str += ' ' + x;
      } else {
        str += ' ' + inspect(x);
      }
    }

    return str;
  },
  loadGameAutoAtlas: function loadGameAutoAtlas(url, spriteName, node, cb) {
    if (CC_BUILD) {
      cc.resources.load(url, cc.SpriteAtlas, function (err, atlas) {
        var frame = atlas.getSpriteFrame(spriteName);
        node.spriteFrame = frame;
        cb(true);
      }.bind(this));
    } else {
      cc.resources.load(url + spriteName, cc.SpriteFrame, function (err, spriteFrame) {
        if (err) {
          cc.log(err.message || err);
          cb(false);
          return;
        }

        node.spriteFrame = spriteFrame;
        cb(true);
      }.bind(this));
    }
  },
  loadJSONData: function loadJSONData(bundleName, name, callback) {
    cc.assetManager.loadBundle(bundleName, function (err, bundle) {
      bundle.load(name, cc.JsonAsset, function (error, res) {
        if (error) {
          return;
        }

        var jsondata = res.json;
        callback(jsondata); //cc.log("jsondata=="+JSON.stringify(jsondata.data))
      }.bind(this));
    }.bind(this));
  },
  loadBundleSprite: function loadBundleSprite(bundlename, loadname, node, cb) {
    cc.assetManager.loadBundle(bundlename, function (err, bundle) {
      bundle.load(loadname, cc.SpriteFrame, function (err, spriteframe) {
        if (err) {
          return;
        }

        node.spriteFrame = spriteframe;
        cb(true);
      }.bind(this));
    }.bind(this));
  },
  guid: function guid() {
    function S4() {
      return ((1 + Math.random()) * 0x10000 | 0).toString(16).substring(1);
    }

    return S4() + S4() + "-" + S4() + "-" + S4() + "-" + S4() + "-" + S4() + S4() + S4();
  },
  timeConvertInt: function timeConvertInt(time) {
    //let converttime = 0;
    var sceond = parseInt(time / 1000); // if(sceond<=10){
    //     converttime = sceond;
    // }else{
    //     let timestr = sceond+'';
    //     let s1 = timestr.substring(0,timestr.length-1);
    //     s1 = s1+'0';
    //     converttime = parseInt(s1)
    // }

    return sceond;
  },
  random: function random(lower, upper) {
    return Math.floor(Math.random() * (upper - lower)) + lower;
  },
  distance: function distance(p1, p2) {
    var dx = Math.abs(p2.x - p1.x);
    var dy = Math.abs(p2.y - p1.y);
    return Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));
  },
  //货币进位
  goldCrarryBit: function goldCrarryBit(gold) {
    var array = [[100000000, 'N'], [10000000, 'T'], [1000000, 'G'], [100000, 'M'], [10000, 'K'], [1000, 'B']];

    for (var i = 0; i < array.length; i++) {
      var value = gold / array[i][0];

      if (value > 1) {
        return '' + value.toFixed(1) + array[i][1];
      }
    }

    return gold;
  },
  setVirusColor: function setVirusColor(node, color) {
    for (var i = 0; i < node.children.length; i++) {
      var js = node.children[i].getComponent('color');

      if (js != null) {
        node.children[i].color = color;
      }

      this.setVirusColor(node.children[i], color);
    }
  },
  getVirusColorByHp: function getVirusColorByHp(hp) {
    for (var i = 0; i < gVirusColor.length; i++) {
      if (hp <= gVirusColor[i].pro) {
        return gVirusColor[i].color;
      }
    }
  },
  getVirusScaleByHp: function getVirusScaleByHp(hp) {
    for (var i = 0; i < gVirusColor.length; i++) {
      if (hp <= gVirusColor[i].pro) {
        return gVirusScale[i].scale;
      }
    }
  },
  getRandomSpeed: function getRandomSpeed() {
    var index = random(0, gSpeed.length - 1);
    return gSpeed[index];
  },
  randAlloc: function randAlloc(total, min, max, length) {
    // 首先要判断是否符合 min 和 max 条件
    if (min * length > total || max * length < total) {
      throw Error("\u6CA1\u6CD5\u6EE1\u8DB3\u6700\u6700\u5C11 " + min + " \u6700\u5927 " + max + " \u7684\u6761\u4EF6");
    }

    var result = [];
    var restValue = total;
    var restLength = length;

    for (var i = 0; i < length - 1; i++) {
      restLength--; // 这一次要发的数量必须保证剩下的要足最小量
      // 同进要保证剩下的不能大于需要的最大量

      var restMin = restLength * min;
      var restMax = restLength * max; // 可发的量

      var usable = restValue - restMin; // 最少要发的量

      var minValue = Math.max(min, restValue - restMax); // 以 minValue 为最左，max 为中线来进行随机，即随机范围是 (max - minValue) * 2
      // 如果这个范围大于 usable - minValue，取 usable - minValue

      var limit = Math.min(usable - minValue, (max - minValue) * 2); // 随机部分加上最少要发的部分就是应该发的，但是如果大于 max，最大取到 max

      result[i] = Math.min(max, minValue + Math.floor(limit * Math.random()));
      restValue -= result[i];
    }

    result[length - 1] = restValue;
    return result;
  },
  copyText: function copyText(word, rid) {
    if (cc.sys.platform == cc.sys.BYTEDANCE_GAME || cc.sys.platform == cc.sys.WECHAT_GAME || cc.sys.platform == cc.sys.BAIDU_GAME) {
      //头条平台
      var comObject;

      if (cc.sys.platform == cc.sys.BAIDU_GAME) {
        comObject = swan;
      } else if (cc.sys.platform == cc.sys.WECHAT_GAME) {
        comObject = wx;
      } else {
        comObject = tt;
      }

      comObject.setClipboardData({
        data: word,
        success: function success(res) {
          if (cc.sys.platform == cc.sys.BAIDU_GAME) {
            comObject.showToast({
              title: '加载完成',
              icon: 'none'
            });
          }

          comObject.getClipboardData({
            success: function success(res) {
              var spreadUrl = consts.HTTP_SPREAD_REPORT + 'rid=' + rid + '&status=' + 1;
              httpUtils.httpSendRequest(spreadUrl, function (spreadRes) {});
            },
            fail: function fail(res) {
              var spreadUrl = consts.HTTP_SPREAD_REPORT + 'rid=' + rid + '&status=' + 0;
              httpUtils.httpSendRequest(spreadUrl, function (spreadRes) {});
            }
          });
        },
        fail: function fail(res) {
          var spreadUrl = consts.HTTP_SPREAD_REPORT + 'rid=' + rid + '&status=' + 0;
          httpUtils.httpSendRequest(spreadUrl, function (spreadRes) {});
        }
      });
    }
  },
  spreadWordFun: function spreadWordFun() {
    if (cc.sys.platform == cc.sys.BYTEDANCE_GAME || cc.sys.platform == cc.sys.WECHAT_GAME || cc.sys.platform == cc.sys.BAIDU_GAME) {
      //头条平台
      var comApp, combrand, commodel;

      if (cc.sys.platform == cc.sys.BAIDU_GAME) {
        var _swan$getSystemInfoSy = swan.getSystemInfoSync(),
            host = _swan$getSystemInfoSy.host,
            brand = _swan$getSystemInfoSy.brand,
            model = _swan$getSystemInfoSy.model;

        comApp = host;
        combrand = brand;
        commodel = model;
      } else if (cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'WX') {
        var _wx$getSystemInfoSync = wx.getSystemInfoSync(),
            appName = _wx$getSystemInfoSync.appName,
            _brand = _wx$getSystemInfoSync.brand,
            _model = _wx$getSystemInfoSync.model;

        comApp = appName;
        combrand = _brand;
        commodel = _model;
      } else if (cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'QQ') {
        var _qq$getSystemInfoSync = qq.getSystemInfoSync(),
            _appName = _qq$getSystemInfoSync.appName,
            _brand2 = _qq$getSystemInfoSync.brand,
            _model2 = _qq$getSystemInfoSync.model;

        comApp = _appName;
        combrand = _brand2;
        commodel = _model2;
      } else {
        var _tt$getSystemInfoSync = tt.getSystemInfoSync(),
            _appName2 = _tt$getSystemInfoSync.appName,
            _brand3 = _tt$getSystemInfoSync.brand,
            _model3 = _tt$getSystemInfoSync.model;

        comApp = _appName2;
        combrand = _brand3;
        commodel = _model3;
      }

      var param = {
        "did": appGame.userId,
        "package": consts.HTTP_RECORD_PACKAGE,
        "app": comApp,
        "brand": combrand,
        "model": commodel
      }; //console.log("param=="+JSON.stringify(param))

      httpUtils.httpPostParam(consts.HTTP_SPREAD_WORD, param, function (resWord) {
        //console.log("resWord =="+JSON.stringify(resWord))
        if (resWord) {
          if (resWord.code == 200 && resWord.data) {
            appGame.gameServerRoom.wordRid = resWord.rid;
            util.copyText(resWord.data, resWord.rid);
          } else {
            appGame.gameServerRoom.wordRid = '';
          }
        }
      }.bind(this));
    } // let param = {"did":appGame.userId,"package":consts.HTTP_RECORD_PACKAGE,"app":"Toutiao"};
    // cc.log("param=="+JSON.stringify(param))
    // httpUtils.httpPostParam(consts.HTTP_SPREAD_WORD,param,function(resWord){
    //     cc.log("resWord =="+JSON.stringify(resWord))
    //     if(resWord){
    //         if(resWord.data && resWord.code == 200){
    //              appGame.gameServerRoom.wordRid = resWord.rid
    //             let spreadUrl =consts.HTTP_SPREAD_REPORT+'rid='+resWord.rid+'&status='+0;
    //             httpUtils.httpSendRequest(spreadUrl,function(spreadRes){}.bind(this));
    //             util.copyText(resWord.data,resWord.rid);
    //         }else{
    //             appGame.gameServerRoom.wordRid = '';
    //         }
    //     }else{
    //         appGame.gameServerRoom.wordRid = '';
    //     }
    // }.bind(this));

  },
  spreadClose: function spreadClose(rid) {
    var ridUrl = consts.HTTP_SPREAD_CLOSE + rid;
    httpUtils.httpSendRequest(ridUrl, function (spreadRes) {});
  },

  /*
  * url 获取配置url
  * bundle  本地配置bundle
  * json  本地配置文件名
  * config  存在该字段 
  * cb 回调
  */
  getUrlSerConfig: function getUrlSerConfig(url, bundle, json, cb) {
    httpUtils.httpSendRequest(url, function (res) {
      //console.log("room =="+JSON.stringify(res))
      if (res && res.Code == 200) {
        var detailparse = JSON.parse(res.Detail);
        cb(detailparse);
      } else {
        util.loadJSONData(bundle, json, function (data) {
          cb(data);
        }.bind(this));
      }
    }.bind(this));
  },

  /*
  *比较版本号
  */
  compareVersion: function compareVersion(v1, v2) {
    v1 = v1.split('.');
    v2 = v2.split('.');
    var len = Math.max(v1.length, v2.length);

    while (v1.length < len) {
      v1.push('0');
    }

    while (v2.length < len) {
      v2.push('0');
    }

    for (var i = 0; i < len; i++) {
      var num1 = parseInt(v1[i]);
      var num2 = parseInt(v2[i]);

      if (num1 > num2) {
        return 1;
      } else if (num1 < num2) {
        return -1;
      }
    }

    return 0;
  }
};

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFxtb2RlbFxcdXRpbC5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiZm9ybWF0IiwiZiIsIm9iamVjdHMiLCJpIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicHVzaCIsImluc3BlY3QiLCJqb2luIiwiYXJncyIsImxlbiIsImZvcm1hdFJlZ0V4cCIsIlJlZ0V4cCIsInN0ciIsIlN0cmluZyIsInJlcGxhY2UiLCJ4IiwiTnVtYmVyIiwiSlNPTiIsInN0cmluZ2lmeSIsImxvYWRHYW1lQXV0b0F0bGFzIiwidXJsIiwic3ByaXRlTmFtZSIsIm5vZGUiLCJjYiIsIkNDX0JVSUxEIiwiY2MiLCJyZXNvdXJjZXMiLCJsb2FkIiwiU3ByaXRlQXRsYXMiLCJlcnIiLCJhdGxhcyIsImZyYW1lIiwiZ2V0U3ByaXRlRnJhbWUiLCJzcHJpdGVGcmFtZSIsImJpbmQiLCJTcHJpdGVGcmFtZSIsImxvZyIsIm1lc3NhZ2UiLCJsb2FkSlNPTkRhdGEiLCJidW5kbGVOYW1lIiwibmFtZSIsImNhbGxiYWNrIiwiYXNzZXRNYW5hZ2VyIiwibG9hZEJ1bmRsZSIsImJ1bmRsZSIsIkpzb25Bc3NldCIsImVycm9yIiwicmVzIiwianNvbmRhdGEiLCJqc29uIiwibG9hZEJ1bmRsZVNwcml0ZSIsImJ1bmRsZW5hbWUiLCJsb2FkbmFtZSIsInNwcml0ZWZyYW1lIiwiZ3VpZCIsIlM0IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwidGltZUNvbnZlcnRJbnQiLCJ0aW1lIiwic2Nlb25kIiwicGFyc2VJbnQiLCJsb3dlciIsInVwcGVyIiwiZmxvb3IiLCJkaXN0YW5jZSIsInAxIiwicDIiLCJkeCIsImFicyIsImR5IiwieSIsInNxcnQiLCJwb3ciLCJnb2xkQ3JhcnJ5Qml0IiwiZ29sZCIsImFycmF5IiwidmFsdWUiLCJ0b0ZpeGVkIiwic2V0VmlydXNDb2xvciIsImNvbG9yIiwiY2hpbGRyZW4iLCJqcyIsImdldENvbXBvbmVudCIsImdldFZpcnVzQ29sb3JCeUhwIiwiaHAiLCJnVmlydXNDb2xvciIsInBybyIsImdldFZpcnVzU2NhbGVCeUhwIiwiZ1ZpcnVzU2NhbGUiLCJzY2FsZSIsImdldFJhbmRvbVNwZWVkIiwiaW5kZXgiLCJnU3BlZWQiLCJyYW5kQWxsb2MiLCJ0b3RhbCIsIm1pbiIsIm1heCIsIkVycm9yIiwicmVzdWx0IiwicmVzdFZhbHVlIiwicmVzdExlbmd0aCIsInJlc3RNaW4iLCJyZXN0TWF4IiwidXNhYmxlIiwibWluVmFsdWUiLCJsaW1pdCIsImNvcHlUZXh0Iiwid29yZCIsInJpZCIsInN5cyIsInBsYXRmb3JtIiwiQllURURBTkNFX0dBTUUiLCJXRUNIQVRfR0FNRSIsIkJBSURVX0dBTUUiLCJjb21PYmplY3QiLCJzd2FuIiwid3giLCJ0dCIsInNldENsaXBib2FyZERhdGEiLCJkYXRhIiwic3VjY2VzcyIsInNob3dUb2FzdCIsInRpdGxlIiwiaWNvbiIsImdldENsaXBib2FyZERhdGEiLCJzcHJlYWRVcmwiLCJjb25zdHMiLCJIVFRQX1NQUkVBRF9SRVBPUlQiLCJodHRwVXRpbHMiLCJodHRwU2VuZFJlcXVlc3QiLCJzcHJlYWRSZXMiLCJmYWlsIiwic3ByZWFkV29yZEZ1biIsImNvbUFwcCIsImNvbWJyYW5kIiwiY29tbW9kZWwiLCJnZXRTeXN0ZW1JbmZvU3luYyIsImhvc3QiLCJicmFuZCIsIm1vZGVsIiwiYXBwR2FtZSIsImFwcE5hbWUiLCJxcSIsInBhcmFtIiwidXNlcklkIiwiSFRUUF9SRUNPUkRfUEFDS0FHRSIsImh0dHBQb3N0UGFyYW0iLCJIVFRQX1NQUkVBRF9XT1JEIiwicmVzV29yZCIsImNvZGUiLCJnYW1lU2VydmVyUm9vbSIsIndvcmRSaWQiLCJ1dGlsIiwic3ByZWFkQ2xvc2UiLCJyaWRVcmwiLCJIVFRQX1NQUkVBRF9DTE9TRSIsImdldFVybFNlckNvbmZpZyIsIkNvZGUiLCJkZXRhaWxwYXJzZSIsInBhcnNlIiwiRGV0YWlsIiwiY29tcGFyZVZlcnNpb24i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LEtBQUgsQ0FBUyxHQUFULENBQUw7QUFDQUQsSUFBQUEsRUFBRSxHQUFHQSxFQUFFLENBQUNDLEtBQUgsQ0FBUyxHQUFULENBQUw7QUFDQSxRQUFJOUosR0FBRyxHQUFHK0MsSUFBSSxDQUFDMkMsR0FBTCxDQUFTa0UsRUFBRSxDQUFDakssTUFBWixFQUFvQmtLLEVBQUUsQ0FBQ2xLLE1BQXZCLENBQVY7O0FBRUEsV0FBT2lLLEVBQUUsQ0FBQ2pLLE1BQUgsR0FBWUssR0FBbkIsRUFBd0I7QUFDdEI0SixNQUFBQSxFQUFFLENBQUNoSyxJQUFILENBQVEsR0FBUjtBQUNEOztBQUNELFdBQU9pSyxFQUFFLENBQUNsSyxNQUFILEdBQVlLLEdBQW5CLEVBQXdCO0FBQ3RCNkosTUFBQUEsRUFBRSxDQUFDakssSUFBSCxDQUFRLEdBQVI7QUFDRDs7QUFDRCxTQUFLLElBQUlILENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdPLEdBQXBCLEVBQXlCUCxDQUFDLEVBQTFCLEVBQThCO0FBQzVCLFVBQUlzSyxJQUFJLEdBQUd6RyxRQUFRLENBQUNzRyxFQUFFLENBQUNuSyxDQUFELENBQUgsQ0FBbkI7QUFDQSxVQUFJdUssSUFBSSxHQUFHMUcsUUFBUSxDQUFDdUcsRUFBRSxDQUFDcEssQ0FBRCxDQUFILENBQW5COztBQUVBLFVBQUlzSyxJQUFJLEdBQUdDLElBQVgsRUFBaUI7QUFDZixlQUFPLENBQVA7QUFDRCxPQUZELE1BRU8sSUFBSUQsSUFBSSxHQUFHQyxJQUFYLEVBQWlCO0FBQ3RCLGVBQU8sQ0FBQyxDQUFSO0FBQ0Q7QUFDRjs7QUFDRCxXQUFPLENBQVA7QUFDSDtBQWxWWSxDQUFqQiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgZm9ybWF0OiBmdW5jdGlvbiAoZikge1xuICAgICAgICBpZiAodHlwZW9mIGYgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgb2JqZWN0cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBvYmplY3RzLnB1c2goaW5zcGVjdChhcmd1bWVudHNbaV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvYmplY3RzLmpvaW4oJyAnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaSA9IDE7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICB2YXIgbGVuID0gYXJncy5sZW5ndGg7XG4gICAgICAgIHZhciBmb3JtYXRSZWdFeHAgPSBuZXcgUmVnRXhwKFwiJSV8JXN8JWR8JWpcIiwgXCJnXCIpO1xuICAgICAgICB2YXIgc3RyID0gU3RyaW5nKGYpLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgaWYgKHggPT09ICclJScpIHJldHVybiAnJSc7XG4gICAgICAgICAgICBpZiAoaSA+PSBsZW4pIHJldHVybiB4O1xuICAgICAgICAgICAgc3dpdGNoICh4KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnJXMnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKGFyZ3NbaSsrXSk7XG4gICAgICAgICAgICAgICAgY2FzZSAnJWQnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyKGFyZ3NbaSsrXSk7XG4gICAgICAgICAgICAgICAgY2FzZSAnJWonOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXJnc1tpKytdKTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAodmFyIHggPSBhcmdzW2ldOyBpIDwgbGVuOyB4ID0gYXJnc1srK2ldKSB7XG4gICAgICAgICAgICBpZiAoeCA9PT0gbnVsbCB8fCB0eXBlb2YgeCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBzdHIgKz0gJyAnICsgeDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RyICs9ICcgJyArIGluc3BlY3QoeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9LFxuXG4gICAgbG9hZEdhbWVBdXRvQXRsYXModXJsLHNwcml0ZU5hbWUsbm9kZSxjYil7XG4gICAgICAgIGlmKENDX0JVSUxEKXtcbiAgICAgICAgICAgIGNjLnJlc291cmNlcy5sb2FkKHVybCwgY2MuU3ByaXRlQXRsYXMsIGZ1bmN0aW9uIChlcnIsIGF0bGFzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZyYW1lID0gYXRsYXMuZ2V0U3ByaXRlRnJhbWUoc3ByaXRlTmFtZSk7XG4gICAgICAgICAgICAgICAgbm9kZS5zcHJpdGVGcmFtZSA9IGZyYW1lO1xuICAgICAgICAgICAgICAgIGNiKHRydWUpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBjYy5yZXNvdXJjZXMubG9hZCh1cmwrc3ByaXRlTmFtZSxjYy5TcHJpdGVGcmFtZSxmdW5jdGlvbihlcnIsc3ByaXRlRnJhbWUpe1xuICAgICAgICAgICAgICAgIGlmKGVycil7XG4gICAgICAgICAgICAgICAgICAgIGNjLmxvZyhlcnIubWVzc2FnZXx8ZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgY2IoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5vZGUuc3ByaXRlRnJhbWUgPSBzcHJpdGVGcmFtZTtcbiAgICAgICAgICAgICAgICBjYih0cnVlKTtcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBsb2FkSlNPTkRhdGEoYnVuZGxlTmFtZSxuYW1lLGNhbGxiYWNrKXtcbiAgICAgICAgY2MuYXNzZXRNYW5hZ2VyLmxvYWRCdW5kbGUoYnVuZGxlTmFtZSwgZnVuY3Rpb24oZXJyLCBidW5kbGUpe1xuICAgICAgICAgICAgYnVuZGxlLmxvYWQobmFtZSwgY2MuSnNvbkFzc2V0LCBmdW5jdGlvbiAoZXJyb3IsIHJlcykge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBqc29uZGF0YSA9IHJlcy5qc29uO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGpzb25kYXRhKTtcbiAgICAgICAgICAgICAgICAvL2NjLmxvZyhcImpzb25kYXRhPT1cIitKU09OLnN0cmluZ2lmeShqc29uZGF0YS5kYXRhKSlcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfSxcblxuICAgIGxvYWRCdW5kbGVTcHJpdGUoYnVuZGxlbmFtZSxsb2FkbmFtZSxub2RlLGNiKXtcbiAgICAgICAgY2MuYXNzZXRNYW5hZ2VyLmxvYWRCdW5kbGUoYnVuZGxlbmFtZSwgZnVuY3Rpb24gKGVyciwgYnVuZGxlKSB7XG4gICAgICAgICAgICBidW5kbGUubG9hZChsb2FkbmFtZSxjYy5TcHJpdGVGcmFtZSwgZnVuY3Rpb24oZXJyLCBzcHJpdGVmcmFtZSkge1xuICAgICAgICAgICAgICAgIGlmKGVycil7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbm9kZS5zcHJpdGVGcmFtZSA9IHNwcml0ZWZyYW1lO1xuICAgICAgICAgICAgICAgIGNiKHRydWUpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9LFxuXG4gICAgZ3VpZCgpIHtcbiAgICAgICAgZnVuY3Rpb24gUzQoKSB7XG4gICAgICAgICAgICByZXR1cm4gKCgoMStNYXRoLnJhbmRvbSgpKSoweDEwMDAwKXwwKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoUzQoKStTNCgpK1wiLVwiK1M0KCkrXCItXCIrUzQoKStcIi1cIitTNCgpK1wiLVwiK1M0KCkrUzQoKStTNCgpKTtcbiAgICB9LFxuXG4gICAgdGltZUNvbnZlcnRJbnQodGltZSl7XG4gICAgICAgIC8vbGV0IGNvbnZlcnR0aW1lID0gMDtcbiAgICAgICAgbGV0IHNjZW9uZCA9IHBhcnNlSW50KHRpbWUvMTAwMCk7XG4gICAgICAgIC8vIGlmKHNjZW9uZDw9MTApe1xuICAgICAgICAvLyAgICAgY29udmVydHRpbWUgPSBzY2VvbmQ7XG4gICAgICAgIC8vIH1lbHNle1xuICAgICAgICAvLyAgICAgbGV0IHRpbWVzdHIgPSBzY2VvbmQrJyc7XG4gICAgICAgIC8vICAgICBsZXQgczEgPSB0aW1lc3RyLnN1YnN0cmluZygwLHRpbWVzdHIubGVuZ3RoLTEpO1xuICAgICAgICAvLyAgICAgczEgPSBzMSsnMCc7XG4gICAgICAgIC8vICAgICBjb252ZXJ0dGltZSA9IHBhcnNlSW50KHMxKVxuICAgICAgICAvLyB9XG4gICAgICAgIHJldHVybiBzY2VvbmQ7XG4gICAgfSxcblxuICAgIHJhbmRvbShsb3dlciwgdXBwZXIpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh1cHBlciAtIGxvd2VyKSkgKyBsb3dlcjtcbiAgICB9LFxuICAgIGRpc3RhbmNlKHAxLHAyKXtcbiAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnMocDIueCAtIHAxLngpO1xuICAgICAgICB2YXIgZHkgPSBNYXRoLmFicyhwMi55IC0gcDEueSk7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coZHgsMikrTWF0aC5wb3coZHksMikpO1xuICAgIH0sXG4gICAgLy/otKfluIHov5vkvY1cbiAgICBnb2xkQ3JhcnJ5Qml0KGdvbGQpe1xuICAgIFxuICAgICAgICB2YXIgYXJyYXk9W1xuICAgICAgICAgICAgWzEwMDAwMDAwMCwnTiddLFxuICAgICAgICAgICAgWzEwMDAwMDAwLCdUJ10sXG4gICAgICAgICAgICBbMTAwMDAwMCwnRyddLFxuICAgICAgICAgICAgWzEwMDAwMCwnTSddLFxuICAgICAgICAgICAgWzEwMDAwLCdLJ10sXG4gICAgICAgICAgICBbMTAwMCwnQiddLFxuICAgICAgICBdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBnb2xkL2FycmF5W2ldWzBdO1xuICAgICAgICAgICAgaWYodmFsdWUgPiAxICl7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnK3ZhbHVlLnRvRml4ZWQoMSkrYXJyYXlbaV1bMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdvbGQ7XG4gICAgfSxcbiAgICBzZXRWaXJ1c0NvbG9yKG5vZGUsY29sb3Ipe1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBqcyA9IG5vZGUuY2hpbGRyZW5baV0uZ2V0Q29tcG9uZW50KCdjb2xvcicpO1xuICAgICAgICAgICAgaWYoanMgIT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgbm9kZS5jaGlsZHJlbltpXS5jb2xvciA9IGNvbG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZXRWaXJ1c0NvbG9yKG5vZGUuY2hpbGRyZW5baV0sY29sb3IpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGdldFZpcnVzQ29sb3JCeUhwKGhwKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ1ZpcnVzQ29sb3IubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmKGhwIDw9IGdWaXJ1c0NvbG9yW2ldLnBybyl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdWaXJ1c0NvbG9yW2ldLmNvbG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRWaXJ1c1NjYWxlQnlIcChocCl7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ1ZpcnVzQ29sb3IubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmKGhwIDw9IGdWaXJ1c0NvbG9yW2ldLnBybyl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdWaXJ1c1NjYWxlW2ldLnNjYWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICBnZXRSYW5kb21TcGVlZCgpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gcmFuZG9tKDAsZ1NwZWVkLmxlbmd0aC0xKTtcbiAgICAgICAgcmV0dXJuIGdTcGVlZFtpbmRleF07XG4gICAgfSxcbiAgICBcbiAgICByYW5kQWxsb2ModG90YWwsIG1pbiwgbWF4LCBsZW5ndGgpIHtcbiAgICAgICAgLy8g6aaW5YWI6KaB5Yik5pat5piv5ZCm56ym5ZCIIG1pbiDlkowgbWF4IOadoeS7tlxuICAgICAgICBpZiAobWluICogbGVuZ3RoID4gdG90YWwgfHwgbWF4ICogbGVuZ3RoIDwgdG90YWwpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKGDmsqHms5Xmu6HotrPmnIDmnIDlsJEgJHttaW59IOacgOWkpyAke21heH0g55qE5p2h5Lu2YCk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGxldCByZXN0VmFsdWUgPSB0b3RhbDtcbiAgICAgICAgbGV0IHJlc3RMZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgcmVzdExlbmd0aC0tO1xuICAgICAgICAgICAgLy8g6L+Z5LiA5qyh6KaB5Y+R55qE5pWw6YeP5b+F6aG75L+d6K+B5Ymp5LiL55qE6KaB6Laz5pyA5bCP6YePXG4gICAgICAgICAgICAvLyDlkIzov5vopoHkv53or4HliankuIvnmoTkuI3og73lpKfkuo7pnIDopoHnmoTmnIDlpKfph49cbiAgICAgICAgICAgIGNvbnN0IHJlc3RNaW4gPSByZXN0TGVuZ3RoICogbWluO1xuICAgICAgICAgICAgY29uc3QgcmVzdE1heCA9IHJlc3RMZW5ndGggKiBtYXg7XG4gICAgICAgICAgICAvLyDlj6/lj5HnmoTph49cbiAgICAgICAgICAgIGNvbnN0IHVzYWJsZSA9IHJlc3RWYWx1ZSAtIHJlc3RNaW47XG4gICAgICAgICAgICAvLyDmnIDlsJHopoHlj5HnmoTph49cbiAgICAgICAgICAgIGNvbnN0IG1pblZhbHVlID0gTWF0aC5tYXgobWluLCByZXN0VmFsdWUgLSByZXN0TWF4KTtcbiAgICAgICAgICAgIC8vIOS7pSBtaW5WYWx1ZSDkuLrmnIDlt6bvvIxtYXgg5Li65Lit57q/5p2l6L+b6KGM6ZqP5py677yM5Y2z6ZqP5py66IyD5Zu05pivIChtYXggLSBtaW5WYWx1ZSkgKiAyXG4gICAgICAgICAgICAvLyDlpoLmnpzov5nkuKrojIPlm7TlpKfkuo4gdXNhYmxlIC0gbWluVmFsdWXvvIzlj5YgdXNhYmxlIC0gbWluVmFsdWVcbiAgICAgICAgICAgIGNvbnN0IGxpbWl0ID0gTWF0aC5taW4odXNhYmxlIC0gbWluVmFsdWUsIChtYXggLSBtaW5WYWx1ZSkgKiAyKTtcbiAgICAgICAgICAgIC8vIOmaj+acuumDqOWIhuWKoOS4iuacgOWwkeimgeWPkeeahOmDqOWIhuWwseaYr+W6lOivpeWPkeeahO+8jOS9huaYr+WmguaenOWkp+S6jiBtYXjvvIzmnIDlpKflj5bliLAgbWF4XG4gICAgICAgICAgICByZXN1bHRbaV0gPSBNYXRoLm1pbihtYXgsIG1pblZhbHVlICsgTWF0aC5mbG9vcihsaW1pdCAqIE1hdGgucmFuZG9tKCkpKTtcbiAgICAgICAgICAgIHJlc3RWYWx1ZSAtPSByZXN1bHRbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0W2xlbmd0aCAtIDFdID0gcmVzdFZhbHVlO1xuICAgIFxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG4gICAgY29weVRleHQod29yZCxyaWQpIHtcbiAgICAgICAgaWYoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5CWVRFREFOQ0VfR0FNRSB8fCBjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLldFQ0hBVF9HQU1FIHx8Y2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5CQUlEVV9HQU1FKXsgLy/lpLTmnaHlubPlj7BcbiAgICAgICAgICAgIGxldCBjb21PYmplY3Q7XG4gICAgICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLkJBSURVX0dBTUUpe1xuICAgICAgICAgICAgICAgIGNvbU9iamVjdCA9IHN3YW47XG4gICAgICAgICAgICB9ZWxzZSBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLldFQ0hBVF9HQU1FKXtcbiAgICAgICAgICAgICAgICBjb21PYmplY3QgPSB3eDtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGNvbU9iamVjdCA9IHR0OyBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbU9iamVjdC5zZXRDbGlwYm9hcmREYXRhKHtcbiAgICAgICAgICAgIGRhdGE6d29yZCxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLkJBSURVX0dBTUUpe1xuICAgICAgICAgICAgICAgICAgICBjb21PYmplY3Quc2hvd1RvYXN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5Yqg6L295a6M5oiQJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdub25lJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29tT2JqZWN0LmdldENsaXBib2FyZERhdGEoe1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3ByZWFkVXJsID1jb25zdHMuSFRUUF9TUFJFQURfUkVQT1JUKydyaWQ9JytyaWQrJyZzdGF0dXM9JysxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaHR0cFV0aWxzLmh0dHBTZW5kUmVxdWVzdChzcHJlYWRVcmwsZnVuY3Rpb24oc3ByZWFkUmVzKXt9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZmFpbDpmdW5jdGlvbihyZXMpe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNwcmVhZFVybCA9Y29uc3RzLkhUVFBfU1BSRUFEX1JFUE9SVCsncmlkPScrcmlkKycmc3RhdHVzPScrMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0dHBVdGlscy5odHRwU2VuZFJlcXVlc3Qoc3ByZWFkVXJsLGZ1bmN0aW9uKHNwcmVhZFJlcyl7fSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZhaWw6ZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAgICAgICBsZXQgc3ByZWFkVXJsID1jb25zdHMuSFRUUF9TUFJFQURfUkVQT1JUKydyaWQ9JytyaWQrJyZzdGF0dXM9JyswO1xuICAgICAgICAgICAgICAgIGh0dHBVdGlscy5odHRwU2VuZFJlcXVlc3Qoc3ByZWFkVXJsLGZ1bmN0aW9uKHNwcmVhZFJlcyl7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICApXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNwcmVhZFdvcmRGdW4oKXtcbiAgICAgICAgaWYoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5CWVRFREFOQ0VfR0FNRSB8fCBjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLldFQ0hBVF9HQU1FIHx8Y2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5CQUlEVV9HQU1FKXsgLy/lpLTmnaHlubPlj7BcbiAgICAgICAgICAgIGxldCBjb21BcHAsY29tYnJhbmQsY29tbW9kZWw7XG4gICAgICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLkJBSURVX0dBTUUpe1xuICAgICAgICAgICAgICAgIGNvbnN0IHtob3N0LGJyYW5kLG1vZGVsfSA9IHN3YW4uZ2V0U3lzdGVtSW5mb1N5bmMoKTtcbiAgICAgICAgICAgICAgICBjb21BcHAgPSBob3N0O1xuICAgICAgICAgICAgICAgIGNvbWJyYW5kID0gYnJhbmQ7XG4gICAgICAgICAgICAgICAgY29tbW9kZWwgPSBtb2RlbDtcbiAgICAgICAgICAgIH1lbHNlIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuV0VDSEFUX0dBTUUgJiYgYXBwR2FtZS5wbGF0Zm9ybSA9PSAnV1gnKXtcbiAgICAgICAgICAgICAgICBjb25zdCB7YXBwTmFtZSxicmFuZCxtb2RlbH0gPSB3eC5nZXRTeXN0ZW1JbmZvU3luYygpO1xuICAgICAgICAgICAgICAgIGNvbUFwcCA9IGFwcE5hbWU7XG4gICAgICAgICAgICAgICAgY29tYnJhbmQgPSBicmFuZDtcbiAgICAgICAgICAgICAgICBjb21tb2RlbCA9IG1vZGVsO1xuICAgICAgICAgICAgfWVsc2UgaWYoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5XRUNIQVRfR0FNRSAmJiBhcHBHYW1lLnBsYXRmb3JtID09ICdRUScpe1xuICAgICAgICAgICAgICAgIGNvbnN0IHthcHBOYW1lLGJyYW5kLG1vZGVsfSA9IHFxLmdldFN5c3RlbUluZm9TeW5jKCk7XG4gICAgICAgICAgICAgICAgY29tQXBwID0gYXBwTmFtZTtcbiAgICAgICAgICAgICAgICBjb21icmFuZCA9IGJyYW5kO1xuICAgICAgICAgICAgICAgIGNvbW1vZGVsID0gbW9kZWw7XG4gICAgICAgICAgICB9IGVsc2V7XG4gICAgICAgICAgICAgICAgY29uc3Qge2FwcE5hbWUsYnJhbmQsbW9kZWx9ID0gdHQuZ2V0U3lzdGVtSW5mb1N5bmMoKTtcbiAgICAgICAgICAgICAgICBjb21BcHAgPSBhcHBOYW1lO1xuICAgICAgICAgICAgICAgIGNvbWJyYW5kID0gYnJhbmQ7XG4gICAgICAgICAgICAgICAgY29tbW9kZWwgPSBtb2RlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IHBhcmFtID0ge1wiZGlkXCI6YXBwR2FtZS51c2VySWQsXCJwYWNrYWdlXCI6Y29uc3RzLkhUVFBfUkVDT1JEX1BBQ0tBR0UsXCJhcHBcIjpjb21BcHAsXG4gICAgICAgIFwiYnJhbmRcIjpjb21icmFuZCxcIm1vZGVsXCI6Y29tbW9kZWx9O1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcInBhcmFtPT1cIitKU09OLnN0cmluZ2lmeShwYXJhbSkpXG4gICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3RQYXJhbShjb25zdHMuSFRUUF9TUFJFQURfV09SRCxwYXJhbSxmdW5jdGlvbihyZXNXb3JkKXtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwicmVzV29yZCA9PVwiK0pTT04uc3RyaW5naWZ5KHJlc1dvcmQpKVxuICAgICAgICAgICAgICAgIGlmKHJlc1dvcmQpe1xuICAgICAgICAgICAgICAgICAgICBpZihyZXNXb3JkLmNvZGUgPT0gMjAwICYmIHJlc1dvcmQuZGF0YSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLndvcmRSaWQgPSByZXNXb3JkLnJpZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0aWwuY29weVRleHQocmVzV29yZC5kYXRhLHJlc1dvcmQucmlkKTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLndvcmRSaWQgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbGV0IHBhcmFtID0ge1wiZGlkXCI6YXBwR2FtZS51c2VySWQsXCJwYWNrYWdlXCI6Y29uc3RzLkhUVFBfUkVDT1JEX1BBQ0tBR0UsXCJhcHBcIjpcIlRvdXRpYW9cIn07XG4gICAgICAgIC8vIGNjLmxvZyhcInBhcmFtPT1cIitKU09OLnN0cmluZ2lmeShwYXJhbSkpXG4gICAgICAgIC8vIGh0dHBVdGlscy5odHRwUG9zdFBhcmFtKGNvbnN0cy5IVFRQX1NQUkVBRF9XT1JELHBhcmFtLGZ1bmN0aW9uKHJlc1dvcmQpe1xuICAgICAgICAvLyAgICAgY2MubG9nKFwicmVzV29yZCA9PVwiK0pTT04uc3RyaW5naWZ5KHJlc1dvcmQpKVxuICAgICAgICAvLyAgICAgaWYocmVzV29yZCl7XG4gICAgICAgIC8vICAgICAgICAgaWYocmVzV29yZC5kYXRhICYmIHJlc1dvcmQuY29kZSA9PSAyMDApe1xuICAgICAgICAvLyAgICAgICAgICAgICAgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS53b3JkUmlkID0gcmVzV29yZC5yaWRcbiAgICAgICAgLy8gICAgICAgICAgICAgbGV0IHNwcmVhZFVybCA9Y29uc3RzLkhUVFBfU1BSRUFEX1JFUE9SVCsncmlkPScrcmVzV29yZC5yaWQrJyZzdGF0dXM9JyswO1xuICAgICAgICAvLyAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFNlbmRSZXF1ZXN0KHNwcmVhZFVybCxmdW5jdGlvbihzcHJlYWRSZXMpe30uYmluZCh0aGlzKSk7XG4gICAgICAgIC8vICAgICAgICAgICAgIHV0aWwuY29weVRleHQocmVzV29yZC5kYXRhLHJlc1dvcmQucmlkKTtcbiAgICAgICAgLy8gICAgICAgICB9ZWxzZXtcbiAgICAgICAgLy8gICAgICAgICAgICAgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS53b3JkUmlkID0gJyc7XG4gICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAvLyAgICAgfWVsc2V7XG4gICAgICAgIC8vICAgICAgICAgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS53b3JkUmlkID0gJyc7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH0uYmluZCh0aGlzKSk7XG4gICAgfSxcblxuICAgIHNwcmVhZENsb3NlKHJpZCl7XG4gICAgICAgIGxldCByaWRVcmwgPSBjb25zdHMuSFRUUF9TUFJFQURfQ0xPU0UrcmlkO1xuICAgICAgICBodHRwVXRpbHMuaHR0cFNlbmRSZXF1ZXN0KHJpZFVybCxmdW5jdGlvbihzcHJlYWRSZXMpe30pO1xuICAgIH0sXG5cbiAgICAvKlxuICAgICogdXJsIOiOt+WPlumFjee9rnVybFxuICAgICogYnVuZGxlICDmnKzlnLDphY3nva5idW5kbGVcbiAgICAqIGpzb24gIOacrOWcsOmFjee9ruaWh+S7tuWQjVxuICAgICogY29uZmlnICDlrZjlnKjor6XlrZfmrrUgXG4gICAgKiBjYiDlm57osINcbiAgICAqL1xuICAgIGdldFVybFNlckNvbmZpZyh1cmwsYnVuZGxlLGpzb24sY2Ipe1xuICAgICAgICBodHRwVXRpbHMuaHR0cFNlbmRSZXF1ZXN0KHVybCxmdW5jdGlvbihyZXMpe1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcInJvb20gPT1cIitKU09OLnN0cmluZ2lmeShyZXMpKVxuICAgICAgICAgICAgaWYocmVzICYmIHJlcy5Db2RlID09IDIwMCl7XG4gICAgICAgICAgICAgICAgbGV0IGRldGFpbHBhcnNlID0gSlNPTi5wYXJzZShyZXMuRGV0YWlsKTtcbiAgICAgICAgICAgICAgICBjYihkZXRhaWxwYXJzZSk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICB1dGlsLmxvYWRKU09ORGF0YShidW5kbGUsanNvbixmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgY2IoZGF0YSk7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9LFxuICAgIC8qXG4gICAgKuavlOi+g+eJiOacrOWPt1xuICAgICovXG4gICAgY29tcGFyZVZlcnNpb246ZnVuY3Rpb24odjEsIHYyKSB7XG4gICAgICAgIHYxID0gdjEuc3BsaXQoJy4nKVxuICAgICAgICB2MiA9IHYyLnNwbGl0KCcuJylcbiAgICAgICAgdmFyIGxlbiA9IE1hdGgubWF4KHYxLmxlbmd0aCwgdjIubGVuZ3RoKVxuICAgICAgIFxuICAgICAgICB3aGlsZSAodjEubGVuZ3RoIDwgbGVuKSB7XG4gICAgICAgICAgdjEucHVzaCgnMCcpXG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHYyLmxlbmd0aCA8IGxlbikge1xuICAgICAgICAgIHYyLnB1c2goJzAnKVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICB2YXIgbnVtMSA9IHBhcnNlSW50KHYxW2ldKVxuICAgICAgICAgIHZhciBudW0yID0gcGFyc2VJbnQodjJbaV0pXG4gICAgICAgXG4gICAgICAgICAgaWYgKG51bTEgPiBudW0yKSB7XG4gICAgICAgICAgICByZXR1cm4gMVxuICAgICAgICAgIH0gZWxzZSBpZiAobnVtMSA8IG51bTIpIHtcbiAgICAgICAgICAgIHJldHVybiAtMVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMFxuICAgIH0sXG59Il19