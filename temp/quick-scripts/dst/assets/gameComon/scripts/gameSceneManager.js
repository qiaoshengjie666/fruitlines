
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/gameSceneManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '6be4flAQQJHL6gxxNXHg9Az', 'gameSceneManager');
// gameComon/scripts/gameSceneManager.js

"use strict";

var AppGame = null;
var GameSceneManager = cc.Class({
  "extends": cc.Component,
  properties: {},
  onLoad: function onLoad() {
    if (AppGame == null) {
      AppGame = require('appGame');
      AppGame.init();
      this.initAppData(function () {
        var RoomGame = require('roomGame');

        appGame.gameServerRoom = RoomGame.create({});
      }.bind(this));
    }

    appGame.emitter.on(consts.HTTP_EVENT_MIDDLE_DESK_CONFIG, this.refreshGameConfig);
    appGame.emitter.on(consts.LOCAL_EVENT_POPUP_LOADTIP, this.showLoadTipFun);
    appGame.emitter.on(consts.LOCAL_EVENT_POPUP_DIALOG, this.showDialogFun);
    appGame.emitter.on(consts.LOCAL_EVENT_POPUP_GAME_COMMON, this.showCommonUIFun);
  },
  onDestroy: function onDestroy() {
    appGame.emitter.off(consts.HTTP_EVENT_MIDDLE_DESK_CONFIG, this.refreshGameConfig);
    appGame.emitter.off(consts.LOCAL_EVENT_POPUP_DIALOG, this.showDialogFun);
    appGame.emitter.off(consts.LOCAL_EVENT_POPUP_LOADTIP, this.showLoadTipFun);
    appGame.emitter.off(consts.LOCAL_EVENT_POPUP_GAME_COMMON, this.showCommonUIFun);
  },
  refreshGameConfig: function refreshGameConfig(data) {
    var VideoBanner = require('videoBanner');

    appGame.videoBanner = VideoBanner.create({});

    var InterstitialAd = require('interstitialAd');

    appGame.interstitialAd = InterstitialAd.create({});

    var Banner = require('banner');

    appGame.banner = Banner.create({});

    var WXNativeAd = require('wxnativeAd');

    appGame.nativeAd = WXNativeAd.create({});

    var WwxgridAd = require('wxgridAd');

    appGame.gridAd = WwxgridAd.create({});

    var AppBoxAd = require('qqAppBox');

    appGame.appBoxAd = AppBoxAd.create({});

    var BlockAd = require('qqBlockAd');

    appGame.blockAd = BlockAd.create({});

    var ScreenrecordAuto = require('screenrecordAuto');

    appGame.screenAuto = ScreenrecordAuto.create({});
  },
  initAppData: function initAppData(cb) {
    appGame.userId = cc.sys.localStorage.getItem("snmi_guid");

    if (appGame.userId == null || appGame.userId == '') {
      appGame.userId = util.guid();
      cc.sys.localStorage.setItem("snmi_guid", appGame.userId);
    }

    if (cc.sys.platform === cc.sys.VIVO_GAME) {
      if (qg) {
        qg.getSystemInfo({
          success: function success(data) {
            appGame.deviceInfo = data;
          }
        });
      }
    } else if (cc.sys.platform == cc.sys.BAIDU_GAME) {
      swan.getSystemInfo({
        success: function success(res) {
          console.log(res);
          appGame.deviceInfo = res;
        },
        fail: function fail(res) {
          console.log("getSystemInfo \u8C03\u7528\u5931\u8D25");
        }
      });
    } else if (cc.sys.platform == cc.sys.BYTEDANCE_GAME) {
      tt.getSystemInfo({
        success: function success(res) {
          console.log(res);
          appGame.deviceInfo = res;
        },
        fail: function fail(res) {
          console.log("getSystemInfo \u8C03\u7528\u5931\u8D25");
        }
      });
    } else if (cc.sys.platform == cc.sys.MOBILE_BROWSER || cc.sys.platform == cc.sys.DESKTOP_BROWSER) {
      appGame.deviceInfo = '';
    } else if (cc.sys.platform == cc.sys.OPPO_GAME) {
      qg.getSystemInfo({
        success: function success(res) {
          appGame.deviceInfo = res;
        },
        fail: function fail(err) {},
        complete: function complete(res) {}
      });
    } else if (cc.sys.platform == cc.sys.XIAOMI_GAME) {
      qg.getSystemInfo({
        success: function success(res) {
          appGame.deviceInfo = res;
        },
        fail: function fail(err) {},
        complete: function complete(res) {}
      });
    } else if (cc.sys.platform == cc.sys.ANDROID) {
      appGame.deviceInfo = '';
    } else {
      appGame.deviceInfo = '';
    }

    httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
      title: '登录',
      content: '进入主界面'
    }, function () {});
    appGame.appStartTime = new Date().getTime();
    var countEnter = cc.sys.localStorage.getItem("snmi_entercount");

    if (countEnter == null || countEnter == '') {
      countEnter = 1;
      cc.sys.localStorage.setItem("snmi_entercount", 1);
    } else {
      countEnter = parseInt(countEnter);
      countEnter++;
      cc.sys.localStorage.setItem("snmi_entercount", countEnter);
    }

    httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
      title: '打开APP',
      content: '进入游戏次数统计',
      desc: countEnter
    }, function () {});
    cb();
  },
  disConnectFun: function disConnectFun() {
    appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_DIALOG, {
      title: '提示',
      content: "网络已断开\n是否退出重连？",
      okLabel: "确定",
      okCB: function () {//App.SceneManager.changeScene("Login");
        //App.isReconnect = false;
      }.bind(this)
    });
  },
  showCommonUIFun: function showCommonUIFun(opts) {
    var popupPanelEventCallback = function popupPanelEventCallback(opts, zIndex, cb) {
      if (opts && opts.prefabName) {
        cc.log("prefabName==" + opts.prefabName);
        cc.assetManager.loadBundle(opts.bundle, function (err, bundle) {
          bundle.load(opts.prefabName, cc.Prefab, function (error, prefab) {
            if (error) {
              cc.error(error);
              return;
            }

            var isShowing = false;
            var canvasParent = cc.find('Canvas');

            if (canvasParent.childrenCount > 0) {
              for (var i = 0; i < canvasParent.children.length; i++) {
                if (canvasParent.children[i].name == opts.prefabName) {
                  isShowing = true;
                  break;
                }
              }
            }

            if (isShowing) {
              return;
            } // let canvasParent = cc.find('Canvas');
            // if(canvasParent.childrenCount>0){
            //     for(let i=0;i<canvasParent.children.length;i++){
            //         if(canvasParent.children[i].name == opts.prefabName){
            //             cc.log("prefabName==删除")
            //             canvasParent.children[i].removeFromParent();
            //         }
            //     }
            // }


            var instance = cc.instantiate(prefab);
            canvasParent.addChild(instance);
            var controlComponent = instance.getComponent(opts.prefabName);
            controlComponent && controlComponent.show && controlComponent.show(opts); //所有弹出层控制组件都应实现这个函数，确保触发事件时传递的参数能传递到界面

            instance.zIndex = zIndex;
            instance.active = true;
            cb && cb(null, instance);
          }.bind(this));
        }.bind(this));
      }
    };

    opts = opts || {};
    popupPanelEventCallback(opts, opts.zIndex || 1300);
  },
  showDialogFun: function showDialogFun(opts) {
    var popupPanelEventCallback = function popupPanelEventCallback(prefabName, opts, zIndex, cb) {
      cc.assetManager.loadBundle('comPrefab', function (err, bundle) {
        bundle.load(prefabName, cc.Prefab, function (error, prefab) {
          if (error) {
            cc.error(error);
            return;
          }

          var canvasParent = cc.find('Canvas');

          if (canvasParent.childrenCount > 0) {
            for (var i = 0; i < canvasParent.children.length; i++) {
              if (canvasParent.children[i].name == 'dialogBox') {
                canvasParent.children[i].removeFromParent();
              }
            }
          }

          var instance = cc.instantiate(prefab);
          canvasParent.addChild(instance);
          var controlComponent = instance.getComponent(prefabName);
          controlComponent && controlComponent.show && controlComponent.show(opts); //所有弹出层控制组件都应实现这个函数，确保触发事件时传递的参数能传递到界面

          instance.zIndex = zIndex;
          instance.active = true;
          cb && cb(null, instance);
        }.bind(this));
      }.bind(this));
    };

    opts = opts || {};
    popupPanelEventCallback('dialogBox', opts, opts.zIndex || 1400);
  },
  showLoadTipFun: function showLoadTipFun(opts) {
    var popupPanelEventCallback = function popupPanelEventCallback(prefabName, opts, zIndex, cb) {
      cc.assetManager.loadBundle('comPrefab', function (err, bundle) {
        bundle.load(prefabName, cc.Prefab, function (error, prefab) {
          if (error) {
            cc.error(error);
            return;
          }

          var canvasParent = cc.find('Canvas');

          if (canvasParent.childrenCount > 0) {
            for (var i = 0; i < canvasParent.children.length; i++) {
              if (canvasParent.children[i].name == 'loadTip') {
                canvasParent.children[i].removeFromParent();
              }
            }
          }

          var instance = cc.instantiate(prefab);
          canvasParent.addChild(instance);
          var controlComponent = instance.getComponent(prefabName);
          controlComponent && controlComponent.show && controlComponent.show(opts); //所有弹出层控制组件都应实现这个函数，确保触发事件时传递的参数能传递到界面

          instance.zIndex = zIndex;
          instance.active = true;
          cb && cb(null, instance);
        }.bind(this));
      }.bind(this));
    };

    opts = opts || {};
    popupPanelEventCallback('loadTip', opts, opts.zIndex || 1500);
  },
  showGameHelpFun: function showGameHelpFun(opts) {
    var popupPanelEventCallback = function popupPanelEventCallback(prefabName, opts, zIndex, cb) {
      var prefabPath = 'gameComon/prefab/' + prefabName;
      cc.loader.loadRes(prefabPath, cc.Prefab, function (error, prefab) {
        if (error) {
          cc.error(error);
          return;
        }

        var instance = cc.instantiate(prefab);
        cc.find('Canvas').addChild(instance); //cc.find("Canvas/alert").addChild(instance);

        var controlComponent = instance.getComponent(prefabName);
        controlComponent && controlComponent.show && controlComponent.show(opts); //所有弹出层控制组件都应实现这个函数，确保触发事件时传递的参数能传递到界面

        instance.zIndex = zIndex;
        instance.active = true;
        cb && cb(null, instance);
      });
    };

    opts = opts || {};
    popupPanelEventCallback('helpPanel', opts, opts.zIndex || 1000);
  }
});
module.exports = GameSceneManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFxnYW1lU2NlbmVNYW5hZ2VyLmpzIl0sIm5hbWVzIjpbIkFwcEdhbWUiLCJHYW1lU2NlbmVNYW5hZ2VyIiwiY2MiLCJDbGFzcyIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJvbkxvYWQiLCJyZXF1aXJlIiwiaW5pdCIsImluaXRBcHBEYXRhIiwiUm9vbUdhbWUiLCJhcHBHYW1lIiwiZ2FtZVNlcnZlclJvb20iLCJjcmVhdGUiLCJiaW5kIiwiZW1pdHRlciIsIm9uIiwiY29uc3RzIiwiSFRUUF9FVkVOVF9NSURETEVfREVTS19DT05GSUciLCJyZWZyZXNoR2FtZUNvbmZpZyIsIkxPQ0FMX0VWRU5UX1BPUFVQX0xPQURUSVAiLCJzaG93TG9hZFRpcEZ1biIsIkxPQ0FMX0VWRU5UX1BPUFVQX0RJQUxPRyIsInNob3dEaWFsb2dGdW4iLCJMT0NBTF9FVkVOVF9QT1BVUF9HQU1FX0NPTU1PTiIsInNob3dDb21tb25VSUZ1biIsIm9uRGVzdHJveSIsIm9mZiIsImRhdGEiLCJWaWRlb0Jhbm5lciIsInZpZGVvQmFubmVyIiwiSW50ZXJzdGl0aWFsQWQiLCJpbnRlcnN0aXRpYWxBZCIsIkJhbm5lciIsImJhbm5lciIsIldYTmF0aXZlQWQiLCJuYXRpdmVBZCIsIld3eGdyaWRBZCIsImdyaWRBZCIsIkFwcEJveEFkIiwiYXBwQm94QWQiLCJCbG9ja0FkIiwiYmxvY2tBZCIsIlNjcmVlbnJlY29yZEF1dG8iLCJzY3JlZW5BdXRvIiwiY2IiLCJ1c2VySWQiLCJzeXMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwidXRpbCIsImd1aWQiLCJzZXRJdGVtIiwicGxhdGZvcm0iLCJWSVZPX0dBTUUiLCJxZyIsImdldFN5c3RlbUluZm8iLCJzdWNjZXNzIiwiZGV2aWNlSW5mbyIsIkJBSURVX0dBTUUiLCJzd2FuIiwicmVzIiwiY29uc29sZSIsImxvZyIsImZhaWwiLCJCWVRFREFOQ0VfR0FNRSIsInR0IiwiTU9CSUxFX0JST1dTRVIiLCJERVNLVE9QX0JST1dTRVIiLCJPUFBPX0dBTUUiLCJlcnIiLCJjb21wbGV0ZSIsIlhJQU9NSV9HQU1FIiwiQU5EUk9JRCIsImh0dHBVdGlscyIsImh0dHBQb3N0IiwiSFRUUF9SRUNPUkRfU0VSVkVSIiwidGl0bGUiLCJjb250ZW50IiwiYXBwU3RhcnRUaW1lIiwiRGF0ZSIsImdldFRpbWUiLCJjb3VudEVudGVyIiwicGFyc2VJbnQiLCJkZXNjIiwiZGlzQ29ubmVjdEZ1biIsImVtaXQiLCJva0xhYmVsIiwib2tDQiIsIm9wdHMiLCJwb3B1cFBhbmVsRXZlbnRDYWxsYmFjayIsInpJbmRleCIsInByZWZhYk5hbWUiLCJhc3NldE1hbmFnZXIiLCJsb2FkQnVuZGxlIiwiYnVuZGxlIiwibG9hZCIsIlByZWZhYiIsImVycm9yIiwicHJlZmFiIiwiaXNTaG93aW5nIiwiY2FudmFzUGFyZW50IiwiZmluZCIsImNoaWxkcmVuQ291bnQiLCJpIiwiY2hpbGRyZW4iLCJsZW5ndGgiLCJuYW1lIiwiaW5zdGFuY2UiLCJpbnN0YW50aWF0ZSIsImFkZENoaWxkIiwiY29udHJvbENvbXBvbmVudCIsImdldENvbXBvbmVudCIsInNob3ciLCJhY3RpdmUiLCJyZW1vdmVGcm9tUGFyZW50Iiwic2hvd0dhbWVIZWxwRnVuIiwicHJlZmFiUGF0aCIsImxvYWRlciIsImxvYWRSZXMiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLE9BQU8sR0FBRyxJQUFkO0FBQ0EsSUFBSUMsZ0JBQWdCLEdBQUdDLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTO0FBQzVCLGFBQVNELEVBQUUsQ0FBQ0UsU0FEZ0I7QUFHNUJDLEVBQUFBLFVBQVUsRUFBRSxFQUhnQjtBQUs1QkMsRUFBQUEsTUFBTSxFQUFFLGtCQUFZO0FBQ2hCLFFBQUdOLE9BQU8sSUFBSSxJQUFkLEVBQW1CO0FBQ2ZBLE1BQUFBLE9BQU8sR0FBR08sT0FBTyxDQUFDLFNBQUQsQ0FBakI7QUFDQVAsTUFBQUEs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Q0FBdkI7QUFtUkE2QixNQUFNLENBQUNDLE9BQVAsR0FBaUJ4SCxnQkFBakIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbInZhciBBcHBHYW1lID0gbnVsbDtcclxudmFyIEdhbWVTY2VuZU1hbmFnZXIgPSBjYy5DbGFzcyh7XHJcbiAgICBleHRlbmRzOiBjYy5Db21wb25lbnQsXHJcblxyXG4gICAgcHJvcGVydGllczoge30sXHJcblxyXG4gICAgb25Mb2FkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYoQXBwR2FtZSA9PSBudWxsKXtcclxuICAgICAgICAgICAgQXBwR2FtZSA9IHJlcXVpcmUoJ2FwcEdhbWUnKTtcclxuICAgICAgICAgICAgQXBwR2FtZS5pbml0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdEFwcERhdGEoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHZhciBSb29tR2FtZSA9IHJlcXVpcmUoJ3Jvb21HYW1lJyk7XHJcbiAgICAgICAgICAgICAgICBhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tID0gUm9vbUdhbWUuY3JlYXRlKHt9KTtcclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXBwR2FtZS5lbWl0dGVyLm9uKGNvbnN0cy5IVFRQX0VWRU5UX01JRERMRV9ERVNLX0NPTkZJRyx0aGlzLnJlZnJlc2hHYW1lQ29uZmlnKTtcclxuICAgICAgICBhcHBHYW1lLmVtaXR0ZXIub24oY29uc3RzLkxPQ0FMX0VWRU5UX1BPUFVQX0xPQURUSVAsdGhpcy5zaG93TG9hZFRpcEZ1bik7XHJcbiAgICAgICAgYXBwR2FtZS5lbWl0dGVyLm9uKGNvbnN0cy5MT0NBTF9FVkVOVF9QT1BVUF9ESUFMT0csdGhpcy5zaG93RGlhbG9nRnVuKTtcclxuICAgICAgICBhcHBHYW1lLmVtaXR0ZXIub24oY29uc3RzLkxPQ0FMX0VWRU5UX1BPUFVQX0dBTUVfQ09NTU9OLHRoaXMuc2hvd0NvbW1vblVJRnVuKTtcclxuICAgIH0sXHJcblxyXG4gICAgb25EZXN0cm95KCl7XHJcbiAgICAgICAgYXBwR2FtZS5lbWl0dGVyLm9mZihjb25zdHMuSFRUUF9FVkVOVF9NSURETEVfREVTS19DT05GSUcsdGhpcy5yZWZyZXNoR2FtZUNvbmZpZyk7XHJcbiAgICAgICAgYXBwR2FtZS5lbWl0dGVyLm9mZihjb25zdHMuTE9DQUxfRVZFTlRfUE9QVVBfRElBTE9HLHRoaXMuc2hvd0RpYWxvZ0Z1bik7XHJcbiAgICAgICAgYXBwR2FtZS5lbWl0dGVyLm9mZihjb25zdHMuTE9DQUxfRVZFTlRfUE9QVVBfTE9BRFRJUCx0aGlzLnNob3dMb2FkVGlwRnVuKTtcclxuICAgICAgICBhcHBHYW1lLmVtaXR0ZXIub2ZmKGNvbnN0cy5MT0NBTF9FVkVOVF9QT1BVUF9HQU1FX0NPTU1PTix0aGlzLnNob3dDb21tb25VSUZ1bik7XHJcbiAgICB9LFxyXG5cclxuICAgIHJlZnJlc2hHYW1lQ29uZmlnKGRhdGEpe1xyXG4gICAgICAgIHZhciBWaWRlb0Jhbm5lciA9IHJlcXVpcmUoJ3ZpZGVvQmFubmVyJyk7XHJcbiAgICAgICAgYXBwR2FtZS52aWRlb0Jhbm5lciA9IFZpZGVvQmFubmVyLmNyZWF0ZSh7fSk7XHJcbiAgICAgICAgdmFyIEludGVyc3RpdGlhbEFkID0gcmVxdWlyZSgnaW50ZXJzdGl0aWFsQWQnKTtcclxuICAgICAgICBhcHBHYW1lLmludGVyc3RpdGlhbEFkID0gSW50ZXJzdGl0aWFsQWQuY3JlYXRlKHt9KTtcclxuICAgICAgICB2YXIgQmFubmVyID0gcmVxdWlyZSgnYmFubmVyJyk7XHJcbiAgICAgICAgYXBwR2FtZS5iYW5uZXIgPSBCYW5uZXIuY3JlYXRlKHt9KTtcclxuICAgICAgICB2YXIgV1hOYXRpdmVBZCA9IHJlcXVpcmUoJ3d4bmF0aXZlQWQnKTtcclxuICAgICAgICBhcHBHYW1lLm5hdGl2ZUFkID0gV1hOYXRpdmVBZC5jcmVhdGUoe30pO1xyXG4gICAgICAgIHZhciBXd3hncmlkQWQgPSByZXF1aXJlKCd3eGdyaWRBZCcpO1xyXG4gICAgICAgIGFwcEdhbWUuZ3JpZEFkID0gV3d4Z3JpZEFkLmNyZWF0ZSh7fSk7XHJcbiAgICAgICAgdmFyIEFwcEJveEFkID0gcmVxdWlyZSgncXFBcHBCb3gnKTtcclxuICAgICAgICBhcHBHYW1lLmFwcEJveEFkID0gQXBwQm94QWQuY3JlYXRlKHt9KTtcclxuICAgICAgICB2YXIgQmxvY2tBZCA9IHJlcXVpcmUoJ3FxQmxvY2tBZCcpO1xyXG4gICAgICAgIGFwcEdhbWUuYmxvY2tBZCA9IEJsb2NrQWQuY3JlYXRlKHt9KTtcclxuICAgICAgICB2YXIgU2NyZWVucmVjb3JkQXV0byA9IHJlcXVpcmUoJ3NjcmVlbnJlY29yZEF1dG8nKTtcclxuICAgICAgICBhcHBHYW1lLnNjcmVlbkF1dG8gPSBTY3JlZW5yZWNvcmRBdXRvLmNyZWF0ZSh7fSk7XHJcbiAgICB9LFxyXG5cclxuICAgIGluaXRBcHBEYXRhKGNiKXtcclxuICAgICAgICBhcHBHYW1lLnVzZXJJZCA9IGNjLnN5cy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInNubWlfZ3VpZFwiKTtcclxuICAgICAgICBpZihhcHBHYW1lLnVzZXJJZD09bnVsbCB8fCBhcHBHYW1lLnVzZXJJZD09Jycpe1xyXG4gICAgICAgICAgICBhcHBHYW1lLnVzZXJJZCA9IHV0aWwuZ3VpZCgpO1xyXG4gICAgICAgICAgICBjYy5zeXMubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJzbm1pX2d1aWRcIixhcHBHYW1lLnVzZXJJZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT09IGNjLnN5cy5WSVZPX0dBTUUpe1xyXG4gICAgICAgICAgICBpZihxZyl7XHJcbiAgICAgICAgICAgICAgICBxZy5nZXRTeXN0ZW1JbmZvKHtcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBHYW1lLmRldmljZUluZm8gPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZSBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLkJBSURVX0dBTUUpe1xyXG4gICAgICAgICAgICBzd2FuLmdldFN5c3RlbUluZm8oe1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzcyhyZXMpIHtcclxuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgICAgICAgICAgICAgICAgYXBwR2FtZS5kZXZpY2VJbmZvID0gcmVzO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZhaWwocmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBnZXRTeXN0ZW1JbmZvIOiwg+eUqOWksei0pWApO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9ZWxzZSBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLkJZVEVEQU5DRV9HQU1FKXtcclxuICAgICAgICAgICAgdHQuZ2V0U3lzdGVtSW5mbyh7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzKHJlcykge1xyXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgICAgICAgICAgICAgICBhcHBHYW1lLmRldmljZUluZm8gPSByZXM7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZmFpbChyZXMpIHtcclxuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYGdldFN5c3RlbUluZm8g6LCD55So5aSx6LSlYCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1lbHNlIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuTU9CSUxFX0JST1dTRVIgfHxjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLkRFU0tUT1BfQlJPV1NFUil7XHJcbiAgICAgICAgICAgIGFwcEdhbWUuZGV2aWNlSW5mbyA9ICcnO1xyXG4gICAgICAgIH1lbHNlIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuT1BQT19HQU1FKXtcclxuICAgICAgICAgICAgcWcuZ2V0U3lzdGVtSW5mbyh7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBhcHBHYW1lLmRldmljZUluZm8gPSByZXM7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZmFpbDogZnVuY3Rpb24oZXJyKSB7fSxcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZXMpIHt9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfWVsc2UgaWYoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5YSUFPTUlfR0FNRSl7XHJcbiAgICAgICAgICAgIHFnLmdldFN5c3RlbUluZm8oe1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwR2FtZS5kZXZpY2VJbmZvID0gcmVzO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZhaWw6IGZ1bmN0aW9uKGVycikge30sXHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVzKSB7fVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1lbHNlIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuQU5EUk9JRCl7XHJcbiAgICAgICAgICAgIGFwcEdhbWUuZGV2aWNlSW5mbyA9ICcnO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBhcHBHYW1lLmRldmljZUluZm8gPSAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOifnmbvlvZUnLGNvbnRlbnQ6J+i/m+WFpeS4u+eVjOmdoid9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYXBwR2FtZS5hcHBTdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgY291bnRFbnRlciA9IGNjLnN5cy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInNubWlfZW50ZXJjb3VudFwiKTtcclxuICAgICAgICBpZihjb3VudEVudGVyPT1udWxsIHx8IGNvdW50RW50ZXI9PScnKXtcclxuICAgICAgICAgICAgY291bnRFbnRlciA9IDE7XHJcbiAgICAgICAgICAgIGNjLnN5cy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInNubWlfZW50ZXJjb3VudFwiLDEpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBjb3VudEVudGVyID0gcGFyc2VJbnQoY291bnRFbnRlcik7XHJcbiAgICAgICAgICAgIGNvdW50RW50ZXIrKztcclxuICAgICAgICAgICAgY2Muc3lzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwic25taV9lbnRlcmNvdW50XCIsY291bnRFbnRlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon5omT5byAQVBQJyxjb250ZW50Oifov5vlhaXmuLjmiI/mrKHmlbDnu5/orqEnLGRlc2M6Y291bnRFbnRlcn0sZnVuY3Rpb24oKXtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjYigpO1xyXG4gICAgfSxcclxuXHJcbiAgICBkaXNDb25uZWN0RnVuKCkge1xyXG4gICAgICAgIGFwcEdhbWUuZW1pdHRlci5lbWl0KGNvbnN0cy5MT0NBTF9FVkVOVF9QT1BVUF9ESUFMT0csIHtcclxuICAgICAgICAgICAgdGl0bGU6ICfmj5DnpLonLFxyXG4gICAgICAgICAgICBjb250ZW50OiBcIue9kee7nOW3suaWreW8gFxcbuaYr+WQpumAgOWHuumHjei/nu+8n1wiLFxyXG4gICAgICAgICAgICBva0xhYmVsOlwi56Gu5a6aXCIsXHJcbiAgICAgICAgICAgIG9rQ0I6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vQXBwLlNjZW5lTWFuYWdlci5jaGFuZ2VTY2VuZShcIkxvZ2luXCIpO1xyXG4gICAgICAgICAgICAgICAgLy9BcHAuaXNSZWNvbm5lY3QgPSBmYWxzZTtcclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcbiAgICBzaG93Q29tbW9uVUlGdW4ob3B0cyl7XHJcbiAgICAgICAgbGV0IHBvcHVwUGFuZWxFdmVudENhbGxiYWNrID0gZnVuY3Rpb24gKG9wdHMsIHpJbmRleCwgY2IpIHtcclxuICAgICAgICAgICAgaWYob3B0cyAmJiBvcHRzLnByZWZhYk5hbWUpe1xyXG4gICAgICAgICAgICAgICAgY2MubG9nKFwicHJlZmFiTmFtZT09XCIrb3B0cy5wcmVmYWJOYW1lKVxyXG4gICAgICAgICAgICAgICAgY2MuYXNzZXRNYW5hZ2VyLmxvYWRCdW5kbGUob3B0cy5idW5kbGUsIGZ1bmN0aW9uKGVyciwgYnVuZGxlKXtcclxuICAgICAgICAgICAgICAgICAgICBidW5kbGUubG9hZChvcHRzLnByZWZhYk5hbWUsIGNjLlByZWZhYiwgZnVuY3Rpb24gKGVycm9yLCBwcmVmYWIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYy5lcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzU2hvd2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2FudmFzUGFyZW50ID0gY2MuZmluZCgnQ2FudmFzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNhbnZhc1BhcmVudC5jaGlsZHJlbkNvdW50PjApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7aTxjYW52YXNQYXJlbnQuY2hpbGRyZW4ubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2FudmFzUGFyZW50LmNoaWxkcmVuW2ldLm5hbWUgPT0gb3B0cy5wcmVmYWJOYW1lKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTaG93aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGlzU2hvd2luZyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGV0IGNhbnZhc1BhcmVudCA9IGNjLmZpbmQoJ0NhbnZhcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZihjYW52YXNQYXJlbnQuY2hpbGRyZW5Db3VudD4wKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGZvcihsZXQgaT0wO2k8Y2FudmFzUGFyZW50LmNoaWxkcmVuLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGlmKGNhbnZhc1BhcmVudC5jaGlsZHJlbltpXS5uYW1lID09IG9wdHMucHJlZmFiTmFtZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGNjLmxvZyhcInByZWZhYk5hbWU9PeWIoOmZpFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBjYW52YXNQYXJlbnQuY2hpbGRyZW5baV0ucmVtb3ZlRnJvbVBhcmVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBjYy5pbnN0YW50aWF0ZShwcmVmYWIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNQYXJlbnQuYWRkQ2hpbGQoaW5zdGFuY2UpO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29udHJvbENvbXBvbmVudCA9IGluc3RhbmNlLmdldENvbXBvbmVudChvcHRzLnByZWZhYk5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sQ29tcG9uZW50ICYmIGNvbnRyb2xDb21wb25lbnQuc2hvdyAmJiBjb250cm9sQ29tcG9uZW50LnNob3cob3B0cyk7IC8v5omA5pyJ5by55Ye65bGC5o6n5Yi257uE5Lu26YO95bqU5a6e546w6L+Z5Liq5Ye95pWw77yM56Gu5L+d6Kem5Y+R5LqL5Lu25pe25Lyg6YCS55qE5Y+C5pWw6IO95Lyg6YCS5Yiw55WM6Z2iXHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLnpJbmRleCA9IHpJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2IgJiYgY2IobnVsbCwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBvcHRzID0gb3B0cyB8fCB7fTtcclxuICAgICAgICBwb3B1cFBhbmVsRXZlbnRDYWxsYmFjayhvcHRzLCBvcHRzLnpJbmRleCB8fDEzMDApO1xyXG4gICAgfSxcclxuXHJcbiAgICBzaG93RGlhbG9nRnVuKG9wdHMpe1xyXG4gICAgICAgIGxldCBwb3B1cFBhbmVsRXZlbnRDYWxsYmFjayA9IGZ1bmN0aW9uIChwcmVmYWJOYW1lLCBvcHRzLCB6SW5kZXgsIGNiKSB7XHJcbiAgICAgICAgICAgIGNjLmFzc2V0TWFuYWdlci5sb2FkQnVuZGxlKCdjb21QcmVmYWInLCBmdW5jdGlvbihlcnIsIGJ1bmRsZSl7XHJcbiAgICAgICAgICAgICAgICBidW5kbGUubG9hZChwcmVmYWJOYW1lLCBjYy5QcmVmYWIsIGZ1bmN0aW9uIChlcnJvciwgcHJlZmFiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNjLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2FudmFzUGFyZW50ID0gY2MuZmluZCgnQ2FudmFzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY2FudmFzUGFyZW50LmNoaWxkcmVuQ291bnQ+MCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8Y2FudmFzUGFyZW50LmNoaWxkcmVuLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2FudmFzUGFyZW50LmNoaWxkcmVuW2ldLm5hbWUgPT0gJ2RpYWxvZ0JveCcpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhc1BhcmVudC5jaGlsZHJlbltpXS5yZW1vdmVGcm9tUGFyZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gY2MuaW5zdGFudGlhdGUocHJlZmFiKTtcclxuICAgICAgICAgICAgICAgICAgICBjYW52YXNQYXJlbnQuYWRkQ2hpbGQoaW5zdGFuY2UpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRyb2xDb21wb25lbnQgPSBpbnN0YW5jZS5nZXRDb21wb25lbnQocHJlZmFiTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbENvbXBvbmVudCAmJiBjb250cm9sQ29tcG9uZW50LnNob3cgJiYgY29udHJvbENvbXBvbmVudC5zaG93KG9wdHMpOyAvL+aJgOacieW8ueWHuuWxguaOp+WItue7hOS7tumDveW6lOWunueOsOi/meS4quWHveaVsO+8jOehruS/neinpuWPkeS6i+S7tuaXtuS8oOmAkueahOWPguaVsOiDveS8oOmAkuWIsOeVjOmdolxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuekluZGV4ID0gekluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICBjYiAmJiBjYihudWxsLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgb3B0cyA9IG9wdHMgfHwge307XHJcbiAgICAgICAgcG9wdXBQYW5lbEV2ZW50Q2FsbGJhY2soJ2RpYWxvZ0JveCcsIG9wdHMsIG9wdHMuekluZGV4IHx8MTQwMCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHNob3dMb2FkVGlwRnVuKG9wdHMpe1xyXG4gICAgICAgIGxldCBwb3B1cFBhbmVsRXZlbnRDYWxsYmFjayA9IGZ1bmN0aW9uIChwcmVmYWJOYW1lLCBvcHRzLCB6SW5kZXgsIGNiKSB7XHJcbiAgICAgICAgICAgIGNjLmFzc2V0TWFuYWdlci5sb2FkQnVuZGxlKCdjb21QcmVmYWInLCBmdW5jdGlvbihlcnIsIGJ1bmRsZSl7XHJcbiAgICAgICAgICAgICAgICBidW5kbGUubG9hZChwcmVmYWJOYW1lLCBjYy5QcmVmYWIsIGZ1bmN0aW9uIChlcnJvciwgcHJlZmFiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNjLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2FudmFzUGFyZW50ID0gY2MuZmluZCgnQ2FudmFzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY2FudmFzUGFyZW50LmNoaWxkcmVuQ291bnQ+MCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8Y2FudmFzUGFyZW50LmNoaWxkcmVuLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2FudmFzUGFyZW50LmNoaWxkcmVuW2ldLm5hbWUgPT0gJ2xvYWRUaXAnKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNQYXJlbnQuY2hpbGRyZW5baV0ucmVtb3ZlRnJvbVBhcmVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IGNjLmluc3RhbnRpYXRlKHByZWZhYik7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzUGFyZW50LmFkZENoaWxkKGluc3RhbmNlKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250cm9sQ29tcG9uZW50ID0gaW5zdGFuY2UuZ2V0Q29tcG9uZW50KHByZWZhYk5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xDb21wb25lbnQgJiYgY29udHJvbENvbXBvbmVudC5zaG93ICYmIGNvbnRyb2xDb21wb25lbnQuc2hvdyhvcHRzKTsgLy/miYDmnInlvLnlh7rlsYLmjqfliLbnu4Tku7bpg73lupTlrp7njrDov5nkuKrlh73mlbDvvIznoa7kv53op6blj5Hkuovku7bml7bkvKDpgJLnmoTlj4LmlbDog73kvKDpgJLliLDnlYzpnaJcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLnpJbmRleCA9IHpJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgY2IgJiYgY2IobnVsbCwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xyXG4gICAgICAgIHBvcHVwUGFuZWxFdmVudENhbGxiYWNrKCdsb2FkVGlwJywgb3B0cywgb3B0cy56SW5kZXggfHwxNTAwKTtcclxuICAgIH0sXHJcblxyXG4gICAgc2hvd0dhbWVIZWxwRnVuKG9wdHMpe1xyXG4gICAgICAgIGxldCBwb3B1cFBhbmVsRXZlbnRDYWxsYmFjayA9IGZ1bmN0aW9uIChwcmVmYWJOYW1lLCBvcHRzLCB6SW5kZXgsIGNiKSB7XHJcbiAgICAgICAgICAgIHZhciBwcmVmYWJQYXRoID0gJ2dhbWVDb21vbi9wcmVmYWIvJyArIHByZWZhYk5hbWU7XHJcbiAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKHByZWZhYlBhdGgsIGNjLlByZWZhYiwgZnVuY3Rpb24gKGVycm9yLCBwcmVmYWIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNjLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBjYy5pbnN0YW50aWF0ZShwcmVmYWIpO1xyXG4gICAgICAgICAgICAgICAgY2MuZmluZCgnQ2FudmFzJykuYWRkQ2hpbGQoaW5zdGFuY2UpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vY2MuZmluZChcIkNhbnZhcy9hbGVydFwiKS5hZGRDaGlsZChpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29udHJvbENvbXBvbmVudCA9IGluc3RhbmNlLmdldENvbXBvbmVudChwcmVmYWJOYW1lKTtcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xDb21wb25lbnQgJiYgY29udHJvbENvbXBvbmVudC5zaG93ICYmIGNvbnRyb2xDb21wb25lbnQuc2hvdyhvcHRzKTsgLy/miYDmnInlvLnlh7rlsYLmjqfliLbnu4Tku7bpg73lupTlrp7njrDov5nkuKrlh73mlbDvvIznoa7kv53op6blj5Hkuovku7bml7bkvKDpgJLnmoTlj4LmlbDog73kvKDpgJLliLDnlYzpnaJcclxuXHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS56SW5kZXggPSB6SW5kZXg7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5hY3RpdmUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGNiICYmIGNiKG51bGwsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBvcHRzID0gb3B0cyB8fCB7fTtcclxuICAgICAgICBwb3B1cFBhbmVsRXZlbnRDYWxsYmFjaygnaGVscFBhbmVsJywgb3B0cywgb3B0cy56SW5kZXggfHwxMDAwKTtcclxuICAgIH0sXHJcbn0pO1xyXG5tb2R1bGUuZXhwb3J0cyA9IEdhbWVTY2VuZU1hbmFnZXI7XHJcbiJdfQ==