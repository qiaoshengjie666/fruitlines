
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/ad/videoBanner.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '984cbg+bTFE9qHzstOIM3zd', 'videoBanner');
// gameComon/scripts/ad/videoBanner.js

"use strict";

var videoAdId = '';
var appId = '';
var isPlaySuccess = false;
var countDownTimeOut;
var VideoBanner = cc.Class({
  properties: {},
  ctor: function ctor() {
    this.instance = null;
  },
  statics: {
    create: function create(data) {
      if (!this.instance) {
        this.instance = new VideoBanner();
        this.instance.initWithData(data);
        return this.instance;
      }
    }
  },
  initWithData: function initWithData(data) {
    isPlaySuccess = false;
    this.callback = null;
    this.count = 1;

    if (cc.sys.platform == cc.sys.BYTEDANCE_GAME) {
      //头条平台
      videoAdId = '1gr8f7hvpon3mb2llf';

      if (appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.videoId && appGame.gameServerRoom.adConfig.videoId.toutiao) {
        videoAdId = appGame.gameServerRoom.adConfig.videoId.toutiao.adUnitId;
      }

      this.globalData = {
        videoAd: tt.createRewardedVideoAd({
          adUnitId: videoAdId
        })
      };
      httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
        title: '广告位激励视频',
        content: '创建成功',
        desc: videoAdId
      }, function () {});
    } else if (cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'WX') {
      //微信
      videoAdId = 'adunit-168ed0ed4d9f8fad';

      if (appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.videoId && appGame.gameServerRoom.adConfig.videoId.WX) {
        videoAdId = appGame.gameServerRoom.adConfig.videoId.WX.adUnitId;
      }

      this.globalData = {
        videoAd: wx.createRewardedVideoAd({
          adUnitId: videoAdId
        })
      };
      httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
        title: '广告位激励视频',
        content: '创建成功',
        desc: videoAdId
      }, function () {});
    } else if (cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'QQ') {
      //qq
      videoAdId = 'adunit-168ed0ed4d9f8fad';

      if (appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.videoId && appGame.gameServerRoom.adConfig.videoId.QQ) {
        videoAdId = appGame.gameServerRoom.adConfig.videoId.QQ.adUnitId;
      }

      this.globalData = {
        videoAd: qq.createRewardedVideoAd({
          adUnitId: videoAdId
        })
      };
      httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
        title: '广告位激励视频',
        content: '创建成功',
        desc: videoAdId
      }, function () {});
    } else if (cc.sys.platform == cc.sys.BAIDU_GAME) {
      //百度
      videoAdId = '7433930';

      if (appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.videoId && appGame.gameServerRoom.adConfig.videoId.baidu) {
        videoAdId = appGame.gameServerRoom.adConfig.videoId.baidu.adUnitId;
      }

      if (appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.videoId && appGame.gameServerRoom.adConfig.videoId.baidu) {
        appId = appGame.gameServerRoom.adConfig.videoId.baidu.appSid;
      }

      this.globalData = {
        videoAd: swan.createRewardedVideoAd({
          adUnitId: videoAdId,
          appSid: appId
        })
      };
    }

    httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
      title: '广告位激励视频',
      content: '创建成功',
      desc: videoAdId
    }, function () {});

    if (cc.sys.platform != cc.sys.WECHAT_GAME) {
      if (this.globalData && this.globalData.videoAd) {
        this.globalData.videoAd.onClose(function (res) {
          if (res.isEnded) {
            console.log("看完视频关闭");
            httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
              title: '广告位激励视频',
              content: '点击关闭',
              desc: videoAdId + "播放成功"
            }, function () {});
            clearTimeout(countDownTimeOut);
            this.callback && this.callback(1);
            appGame.audioMgr.getMusicStatus(function (onOff) {
              if (onOff) {
                appGame.audioMgr.setMusicOnOff(onOff);
              }
            }.bind(this));
          } else {
            httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
              title: '广告位激励视频',
              content: '点击关闭',
              desc: videoAdId + "播放失败"
            }, function () {});
            console.log("未看完视频关闭");
            clearTimeout(countDownTimeOut);
            this.callback && this.callback(2);
            appGame.audioMgr.getMusicStatus(function (onOff) {
              if (onOff) {
                appGame.audioMgr.setMusicOnOff(onOff);
              }
            }.bind(this));
          }
        }.bind(this));

        var onErrorFuc = function (listener) {
          console.log("播放视频广告出问题" + listener.errCode + listener.errMsg);
          httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
            title: '广告位激励视频',
            content: videoAdId,
            desc: listener.errCode + listener.errMsg
          }, function () {});
          clearTimeout(countDownTimeOut);
          this.callback && this.callback(3);
          appGame.audioMgr.getMusicStatus(function (onOff) {
            if (onOff) {
              appGame.audioMgr.setMusicOnOff(onOff);
            }
          }.bind(this));
        }.bind(this);

        this.globalData.videoAd.onError(onErrorFuc); //this.globalData.videoAd.offError(onErrorFuc);
      }
    }
  },
  playVideoAd: function playVideoAd(sceneId, cb) {
    isPlaySuccess = false;
    console.log("播放视频广告");
    this.count++;
    httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
      title: '广告位激励视频',
      content: this.count,
      desc: videoAdId
    }, function () {});
    clearTimeout(countDownTimeOut);

    if (this.globalData && this.globalData.videoAd) {
      appGame.audioMgr.getMusicStatus(function (onOff) {
        if (onOff) {
          appGame.audioMgr.setMusicOnOff(onOff);
        }
      }.bind(this));
      countDownTimeOut = setTimeout(function () {
        if (!isPlaySuccess) {
          console.log("倒计时到返回回调");
          clearTimeout(countDownTimeOut);
          appGame.audioMgr.getMusicStatus(function (onOff) {
            if (onOff) {
              appGame.audioMgr.setMusicOnOff(onOff);
            }
          }.bind(this));
          cb(3);
        }
      }.bind(this), 5000);
      var videoAd = this.globalData.videoAd;

      if (cc.sys.platform == cc.sys.WECHAT_GAME && (appGame.platform == 'WX' || appGame.platform == 'QQ')) {
        console.log("播放微信视频");

        if (_videoAd) {
          _videoAd.destroy();
        }

        var _videoAd = null;

        if (appGame.platform == 'WX') {
          _videoAd = wx.createRewardedVideoAd({
            adUnitId: videoAdId
          });
        } else {
          _videoAd = qq.createRewardedVideoAd({
            adUnitId: videoAdId
          });
        }

        httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
          title: '广告位激励视频',
          content: '创建成功',
          desc: videoAdId
        }, function () {});

        _videoAd.onError(function (res) {
          clearTimeout(countDownTimeOut);
          this.callback && this.callback(3);
          appGame.audioMgr.getMusicStatus(function (onOff) {
            if (onOff) {
              appGame.audioMgr.setMusicOnOff(onOff);
            }
          }.bind(this));
          httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
            title: '广告位激励视频',
            content: videoAdId,
            desc: res.errCode + res.errMsg
          }, function () {});
          console.log('videoAd onError', res);
        }.bind(this));

        _videoAd.onLoad(function (res) {
          console.log('videoAd onLoad', res);
        });

        _videoAd.onClose(function (res) {
          console.log("关闭微信视频========" + res.isEnded);

          if (res.isEnded) {
            httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
              title: '广告位激励视频',
              content: '点击关闭',
              desc: videoAdId + "播放成功"
            }, function () {});
            clearTimeout(countDownTimeOut);
            this.callback && this.callback(1);
            appGame.audioMgr.getMusicStatus(function (onOff) {
              if (onOff) {
                appGame.audioMgr.setMusicOnOff(onOff);
              }
            }.bind(this));
          } else {
            httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
              title: '广告位激励视频',
              content: '点击关闭',
              desc: videoAdId + "播放失败"
            }, function () {});
            clearTimeout(countDownTimeOut);
            this.callback && this.callback(2);
            appGame.audioMgr.getMusicStatus(function (onOff) {
              if (onOff) {
                appGame.audioMgr.setMusicOnOff(onOff);
              }
            }.bind(this));
          }

          _videoAd.offClose();
        }.bind(this));

        _videoAd.load().then(function () {
          console.log('激励视频加载成功');

          _videoAd.show().then(function () {
            isPlaySuccess = true;
            httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
              title: '广告位激励视频',
              content: '展示成功',
              desc: videoAdId + sceneId
            }, function () {});
            console.log('激励视频 广告显示成功');
          })["catch"](function (err) {
            httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
              title: '广告位激励视频',
              content: '展示失败',
              desc: videoAdId + sceneId
            }, function () {});
            console.log('激励视频 广告显示失败');
          });
        })["catch"](function (err) {
          console.log('激励视频加载失败');
        });

        this.callback = cb;
      } else {
        videoAd.show().then(function () {
          isPlaySuccess = true;
          httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
            title: '广告位激励视频',
            content: '展示成功',
            desc: videoAdId + sceneId
          }, function () {});
          console.log("广告显示成功");
        })["catch"](function (err) {
          httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
            title: '广告位激励视频',
            content: '展示失败',
            desc: videoAdId + sceneId
          }, function () {});
          console.log("广告组件出现问题", err); // 可以手动加载一次

          videoAd.load().then(function () {
            console.log("手动加载成功"); // 加载成功后需要再显示广告

            httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
              title: '广告位激励视频',
              content: '手动加载成功',
              desc: videoAdId
            }, function () {});
            isPlaySuccess = true;
            return videoAd.show();
          });
        });
        this.callback = cb;
      }
    } else {
      //没有激励视频的直接返回
      appGame.audioMgr.getMusicStatus(function (onOff) {
        if (onOff) {
          appGame.audioMgr.setMusicOnOff(onOff);
        }
      }.bind(this));
      cb(1);
    }
  }
});
module.exports = VideoBanner;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFxhZFxcdmlkZW9CYW5uZXIuanMiXSwibmFtZXMiOlsidmlkZW9BZElkIiwiYXBwSWQiLCJpc1BsYXlTdWNjZXNzIiwiY291bnREb3duVGltZU91dCIsIlZpZGVvQmFubmVyIiwiY2MiLCJDbGFzcyIsInByb3BlcnRpZXMiLCJjdG9yIiwiaW5zdGFuY2UiLCJzdGF0aWNzIiwiY3JlYXRlIiwiZGF0YSIsImluaXRXaXRoRGF0YSIsImNhbGxiYWNrIiwiY291bnQiLCJzeXMiLCJwbGF0Zm9ybSIsIkJZVEVEQU5DRV9HQU1FIiwiYXBwR2FtZSIsImdhbWVTZXJ2ZXJSb29tIiwiYWRDb25maWciLCJ2aWRlb0lkIiwidG91dGlhbyIsImFkVW5pdElkIiwiZ2xvYmFsRGF0YSIsInZpZGVvQWQiLCJ0dCIsImNyZWF0ZVJld2FyZGVkVmlkZW9BZCIsImh0dHBVdGlscyIsImh0dHBQb3N0IiwiY29uc3RzIiwiSFRUUF9SRUNPUkRfU0VSVkVSIiwidGl0bGUiLCJjb250ZW50IiwiZGVzYyIsIldFQ0hBVF9HQU1FIiwiV1giLCJ3eCIsIlFRIiwicXEiLCJCQUlEVV9HQU1FIiwiYmFpZHUiLCJhcHBTaWQiLCJzd2FuIiwib25DbG9zZSIsInJlcyIsImlzRW5kZWQiLCJjb25zb2xlIiwibG9nIiwiY2xlYXJUaW1lb3V0IiwiYXVkaW9NZ3IiLCJnZXRNdXNpY1N0YXR1cyIsIm9uT2ZmIiwic2V0TXVzaWNPbk9mZiIsImJpbmQiLCJvbkVycm9yRnVjIiwibGlzdGVuZXIiLCJlcnJDb2RlIiwiZXJyTXNnIiwib25FcnJvciIsInBsYXlWaWRlb0FkIiwic2NlbmVJZCIsImNiIiwic2V0VGltZW91dCIsImRlc3Ryb3kiLCJvbkxvYWQiLCJvZmZDbG9zZSIsImxvYWQiLCJ0aGVuIiwic2hvdyIsImVyciIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsU0FBUyxHQUFHLEVBQWhCO0FBQ0EsSUFBSUMsS0FBSyxHQUFHLEVBQVo7QUFDQSxJQUFJQyxhQUFhLEdBQUcsS0FBcEI7QUFDQSxJQUFJQyxnQkFBSjtBQUNBLElBQUlDLFdBQVcsR0FBR0MsRUFBRSxDQUFDQyxLQUFILENBQVM7QUFDdkJDLEVBQUFBLFVBQVUsRUFBRSxFQURXO0FBR3ZCQyxFQUFBQSxJQUh1QixrQkFHakI7QUFDRixTQUFLQyxRQUFMLEdBQWdCLElBQWhCO0FBQ0gsR0FMc0I7QUFNdkJDLEVBQUFBLE9BQU8sRUFBRTtBQUNMQyxJQUFBQSxNQUFNLEVBQUUsZ0JBQVVDLElBQVYsRUFBZ0I7QUFDcEIsVUFBRyxDQUFDLEtBQUtILFFBQVQsRUFBa0I7QUFDZCxhQUFLQSxRQUFMLEdBQWdCLElBQUlMLFdBQUosRUFBaEI7QUFDQSxhQUFLSyxRQUFMLENBQWNJLFlBQWQsQ0FBMkJELElBQTNCO0FBQ0EsZUFBTyxLQUFLSCxRQUFaO0FBQ0g7QUFDSjtBQVBJLEdBTmM7QUFldkJJLEVBQUFBLFlBQVksRUFBRSxzQkFBVUQsSUFBVixFQUFnQjtBQUMxQlYsSUFBQUEsYUFBYSxHQUFHLEtBQWhCO0FBQ0EsU0FBS1ksUUFBTCxHQUFnQixJQUFoQjtBQUNBLFNBQUtDLEtBQUwsR0FBYSxDQUFiOztBQUNBLFFBQUdWLEVBQUUsQ0FBQ1csR0FBSCxDQUFPQyxRQUFQLElBQW1CWixFQUFFLENBQUNXLEdBQUgsQ0FBT0UsY0FBN0IsRUFBNEM7QUFBRTtBQUMxQ2xCLE1BQUFBLFNBQVMsR0FBRyxvQkFBWjs7QUFDQSxVQUFHbUIsT0FBTyxDQUFDQyxjQUFSLENBQXVCQyxRQUF2QixJQUFtQ0YsT0FBTyxDQUFDQyxjQUFSLENBQXVCQyxRQUF2QixDQUFnQ0MsT0FBbkUsSUFBOEVILE9BQU8sQ0FBQ0MsY0FBUixDQUF1QkMsUUFBdkIsQ0FBZ0NDLE9BQWhDLENBQXdDQyxPQUF6SCxFQUFpSTtBQUM3SHZCLFFBQUFBLFNBQVMsR0FBR21CLE9BQU8sQ0FBQ0MsY0FBUixDQUF1QkMsUUFBdkIsQ0FBZ0NDLE9BQWhDLENBQXdDQyxPQUF4QyxDQUFnREMsUUFBNUQ7QUFDSDs7QUFDRCxXQUFLQyxVQUFMLEdBQWtCO0FBQ2RDLFFBQUFBLE9BQU8sRUFBRUMsRUFBRSxDQUFDQyxxQkFBSCxDQUF5QjtBQUM5QkosVUFBQUEsUUFBUSxFQUFFeEI7QUFEb0IsU0FBekI7QUFESyxPQUFsQjtBQUtBNkIsTUFBQUEsU0FBUyxDQUFDQyxRQUFWLENBQW1CQyxNQUFNLENBQUNDLGtCQUExQixFQUE2QztBQUFDQyxRQUFBQSxLQUFLLEVBQUMsU0FBUDtBQUFpQkMsUUFBQUEsT0FBTyxFQUFDLE1BQXpCO0FBQWdDQyxRQUFBQSxJQUFJLEVBQUNuQztBQUFyQyxPQUE3QyxFQUE2RixZQUFVLENBQ3RHLENBREQ7QUFFSCxLQVpELE1BWU0sSUFBR0ssRUFBRSxDQUFDVyxHQUFILENBQU9DLFFBQVAsSUFBbUJaLEVBQUUsQ0FBQ1csR0FBSCxDQUFPb0IsV0FBMUIsSUFBeUNqQixPQUFPLENBQUNGLFFBQVIsSUFBb0IsSUFBaEUsRUFBcUU7QUFBQztBQUN4RWpCLE1BQUFBLFNBQVMsR0FBRyx5QkFBWjs7QUFDQSxVQUFHbUIsT0FBTyxDQUFDQyxjQUFSLENBQXVCQyxRQUF2QixJQUFtQ0YsT0FBTyxDQUFDQyxjQUFSLENBQXVCQyxRQUF2QixDQUFnQ0MsT0FBbkUsSUFBOEVILE9BQU8sQ0FBQ0MsY0FBUixDQUF1QkMsUUFBdkIsQ0FBZ0NDLE9BQWhDLENBQXdDZSxFQUF6SCxFQUE0SDtBQUN4SHJDLFFBQUFBLFNBQVMsR0FBR21CLE9BQU8sQ0FBQ0MsY0FBUixDQUF1QkMsUUFBdkIsQ0FBZ0NDLE9BQWhDLENBQXdDZSxFQUF4QyxDQUEyQ2IsUUFBdkQ7QUFDSDs7QUFDRCxXQUFLQyxVQUFMLEdBQWtCO0FBQ2RDLFFBQUFBLE9BQU8sRUFBRVksRUFBRSxDQUFDVixxQkFBSCxDQUF5QjtBQUM5QkosVUFBQUEsUUFBUSxFQUFFeEI7QUFEb0IsU0FBekI7QUFESyxPQUFsQjtBQUtBNkIsTUFBQUEsU0FBUyxDQUFDQyxRQUFWLENBQW1CQyxNQUFNLENBQUNDLGtCQUExQixFQUE2QztBQUFDQyxRQUFBQSxLQUFLLEVBQUMsU0FBUDtBQUFpQkMsUUFBQUEsT0FBTyxFQUFDLE1BQXpCO0FBQWdDQyxRQUFBQSxJQUFJLEVBQUNuQztBQUFyQyxPQUE3QyxFQUE2RixZQUFVLENBQ3RHLENBREQ7QUFFSCxLQVpLLE1BWUEsSUFBR0ssRUFBRSxDQUFDVyxHQUFILENBQU9DLFFBQVAsSUFBbUJaLEVBQUUsQ0FBQ1csR0FBSCxDQUFPb0IsV0FBMUIsSUFBeUNqQixPQUFPLENBQUNGLFFBQVIsSUFBb0IsSUFBaEUsRUFBcUU7QUFBQztBQUN4RWpCLE1BQUFBLFNBQVMsR0FBRyx5QkFBWjs7QUFDQSxVQUFHbUIsT0FBTyxDQUFDQyxjQUFSLENBQXVCQyxRQUF2QixJQUFtQ0YsT0FBTyxDQUFDQyxjQUFSLENBQXVCQyxRQUF2QixDQUFnQ0MsT0FBbkUsSUFBOEVILE9BQU8sQ0FBQ0MsY0FBUixDQUF1QkMsUUFBdkIsQ0FBZ0NDLE9BQWhDLENBQXdDaUIsRUFBekgsRUFBNEg7QUFDeEh2QyxRQUFBQSxTQUFTLEdBQUdtQixPQUFPLENBQUNDLGNBQVIsQ0FBdUJDLFFBQXZCLENBQWdDQyxPQUFoQyxDQUF3Q2lCLEVBQXhDLENBQTJDZixRQUF2RDtBQUNIOztBQUNELFdBQUtDLFVBQUwsR0FBa0I7QUFDZEMsUUFBQUEsT0FBTyxFQUFFYyxFQUFFLENBQUNaLHFCQUFILENBQXlCO0FBQzlCSixVQUFBQSxRQUFRLEVBQUV4QjtBQURvQixTQUF6QjtBQURLLE9BQWxCO0FBS0E2QixNQUFBQSxTQUFTLENBQUNDLFFBQVYsQ0FBbUJDLE1BQU0sQ0FBQ0Msa0JBQTFCLEVBQTZDO0FBQUNDLFFBQUFBLEtBQUssRUFBQyxTQUFQO0FBQWlCQyxRQUFBQSxPQUFPLEVBQUMsTUFBekI7QUFBZ0NDLFFBQUFBLElBQUksRUFBQ25DO0FBQXJDLE9BQTdDLEVBQTZGLFlBQVUsQ0FDdEcsQ0FERDtBQUVILEtBWkssTUFZQSxJQUFHSyxFQUFFLENBQUNXLEdBQUgsQ0FBT0MsUUFBUCxJQUFtQlosRUFBRSxDQUFDVyxHQUFILENBQU95QixVQUE3QixFQUF3QztBQUFDO0FBQzNDekMsTUFBQUEsU0FBUyxHQUFHLFNBQVo7O0FBQ0EsVUFBR21CLE9BQU8sQ0FBQ0MsY0FBUixDQUF1QkMsUUFBdkIsSUFBbUNGLE9BQU8sQ0FBQ0MsY0FBUixDQUF1QkMsUUFBdkIsQ0FBZ0NDLE9BQW5FLElBQThFSCxPQUFPLENBQUNDLGNBQVIsQ0FBdUJDLFFBQXZCLENBQWdDQyxPQUFoQyxDQUF3Q29CLEtBQXpILEVBQStIO0FBQzNIMUMsUUFBQUEsU0FBUyxHQUFHbUIsT0FBTyxDQUFDQyxjQUFSLENBQXVCQyxRQUF2QixDQUFnQ0MsT0FBaEMsQ0FBd0NvQixLQUF4QyxDQUE4Q2xCLFFBQTFEO0FBQ0g7O0FBQ0QsVUFBR0wsT0FBTyxDQUFDQyxjQUFSLENBQXVCQyxRQUF2QixJQUFtQ0YsT0FBTyxDQUFDQyxjQUFSLENBQXVCQyxRQUF2QixDQUFnQ0MsT0FBbkUsSUFBOEVILE9BQU8sQ0FBQ0MsY0FBUixDQUF1QkMsUUFBdkIsQ0FBZ0NDLE9BQWhDLENBQXdDb0IsS0FBekgsRUFBK0g7QUFDM0h6QyxRQUFBQSxLQUFLLEdBQUdrQixPQUFPLENBQUNDLGNBQVIsQ0FBdUJDLFFBQXZCLENBQWdDQyxPQUFoQyxDQUF3Q29CLEtBQXhDLENBQThDQyxNQUF0RDtBQUNIOztBQUNELFdBQUtsQixVQUFMLEdBQWtCO0FBQ2RDLFFBQUFBLE9BQU8sRUFBRWtCLElBQUksQ0FBQ2hCLHFCQUFMLENBQTJCO0FBQ2hDSixVQUFBQSxRQUFRLEVBQUV4QixTQURzQjtBQUVoQzJDLFVBQUFBLE1BQU0sRUFBRTFDO0FBRndCLFNBQTNCO0FBREssT0FBbEI7QUFNSDs7QUFDRDRCLElBQUFBLFNBQVMsQ0FBQ0MsUUFBVixDQUFtQkMsTUFBTSxDQUFDQyxrQkFBMUIsRUFBNkM7QUFBQ0MsTUFBQUEsS0FBSyxFQUFDLFNBQVA7QUFBaUJDLE1BQUFBLE9BQU8sRUFBQyxNQUF6QjtBQUFnQ0MsTUFBQUEsSUFBSSxFQUFDbkM7QUFBckMsS0FBN0MsRUFBNkYsWUFBVSxDQUN0RyxDQUREOztBQUVBLFFBQUdLLEVBQUUsQ0FBQ1csR0FBSCxDQUFPQyxRQUFQLElBQW1CWixFQUFFLENBQUNXLEdBQUgsQ0FBT29CLFdBQTdCLEVBQXlDO0FBQ3JDLFVBQUksS0FBS1gsVUFBTCxJQUFtQixLQUFLQSxVQUFMLENBQWdCQyxPQUF2QyxFQUFnRDtBQUM1QyxhQUFLRCxVQUFMLENBQWdCQyxPQUFoQixDQUF3Qm1CLE9BQXhCLENBQWdDLFVBQVNDLEdBQVQsRUFBYTtBQUN6QyxjQUFJQSxHQUFHLENBQUNDLE9BQVIsRUFBaUI7QUFDYkMsWUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksUUFBWjtBQUNBcEIsWUFBQUEsU0FBUyxDQUFDQyxRQUFWLENBQW1CQyxNQUFNLENBQUNDLGtCQUExQixFQUE2QztBQUFDQyxjQUFBQSxLQUFLLEVBQUMsU0FBUDtBQUFpQkMsY0FBQUEsT0FBTyxFQUFDLE1BQXpCO0FBQWdDQyxjQUFBQSxJQUFJLEVBQUNuQyxTQUFTLEdBQUM7QUFBL0MsYUFBN0MsRUFBb0csWUFBVSxDQUM3RyxDQUREO0FBRUFrRCxZQUFBQSxZQUFZLENBQUMvQyxnQkFBRCxDQUFaO0FBQ0EsaUJBQUtXLFFBQUwsSUFBaUIsS0FBS0EsUUFBTCxDQUFjLENBQWQsQ0FBakI7QUFDQUssWUFBQUEsT0FBTyxDQUFDZ0MsUUFBUixDQUFpQkMsY0FBakIsQ0FBZ0MsVUFBU0MsS0FBVCxFQUFlO0FBQzNDLGtCQUFHQSxLQUFILEVBQVM7QUFDTGxDLGdCQUFBQSxPQUFPLENBQUNnQyxRQUFSLENBQWlCRyxhQUFqQixDQUErQkQsS0FBL0I7QUFDSDtBQUNKLGFBSitCLENBSTlCRSxJQUo4QixDQUl6QixJQUp5QixDQUFoQztBQUtILFdBWEQsTUFXTztBQUNIMUIsWUFBQUEsU0FBUyxDQUFDQyxRQUFWLENBQW1CQyxNQUFNLENBQUNDLGtCQUExQixFQUE2QztBQUFDQyxjQUFBQSxLQUFLLEVBQUMsU0FBUDtBQUFpQkMsY0FBQUEsT0FBTyxFQUFDLE1BQXpCO0FBQWdDQyxjQUFBQSxJQUFJLEVBQUNuQyxTQUFTLEdBQUM7QUFBL0MsYUFBN0MsRUFBb0csWUFBVSxDQUM3RyxDQUREO0FBRUFnRCxZQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxTQUFaO0FBQ0FDLFlBQUFBLFlBQVksQ0FBQy9DLGdCQUFELENBQVo7QUFDQSxpQkFBS1csUUFBTCxJQUFpQixLQUFLQSxRQUFMLENBQWMsQ0FBZCxDQUFqQjtBQUNBSyxZQUFBQSxPQUFPLENBQUNnQyxRQUFSLENBQWlCQyxjQUFqQixDQUFnQyxVQUFTQyxLQUFULEVBQWU7QUFDM0Msa0JBQUdBLEtBQUgsRUFBUztBQUNMbEMsZ0JBQUFBLE9BQU8sQ0FBQ2dDLFFBQVIsQ0FBaUJHLGFBQWpCLENBQStCRCxLQUEvQjtBQUNIO0FBQ0osYUFKK0IsQ0FJOUJFLElBSjhCLENBSXpCLElBSnlCLENBQWhDO0FBS0g7QUFDSixTQXhCK0IsQ0F3QjlCQSxJQXhCOEIsQ0F3QnpCLElBeEJ5QixDQUFoQzs7QUF5QkEsWUFBSUMsVUFBVSxHQUFHLFVBQVVDLFFBQVYsRUFBb0I7QUFDakNULFVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGNBQVlRLFFBQVEsQ0FBQ0MsT0FBckIsR0FBNkJELFFBQVEsQ0FBQ0UsTUFBbEQ7QUFDQTlCLFVBQUFBLFNBQVMsQ0FBQ0MsUUFBVixDQUFtQkMsTUFBTSxDQUFDQyxrQkFBMUIsRUFBNkM7QUFBQ0MsWUFBQUEsS0FBSyxFQUFDLFNBQVA7QUFBaUJDLFlBQUFBLE9BQU8sRUFBQ2xDLFNBQXpCO0FBQW1DbUMsWUFBQUEsSUFBSSxFQUFDc0IsUUFBUSxDQUFDQyxPQUFULEdBQWlCRCxRQUFRLENBQUNFO0FBQWxFLFdBQTdDLEVBQXVILFlBQVUsQ0FDaEksQ0FERDtBQUVBVCxVQUFBQSxZQUFZLENBQUMvQyxnQkFBRCxDQUFaO0FBQ0EsZUFBS1csUUFBTCxJQUFpQixLQUFLQSxRQUFMLENBQWMsQ0FBZCxDQUFqQjtBQUNBSyxVQUFBQSxPQUFPLENBQUNnQyxRQUFSLENBQWlCQyxjQUFqQixDQUFnQyxVQUFTQyxLQUFULEVBQWU7QUFDM0MsZ0JBQUdBLEtBQUgsRUFBUztBQUNMbEMsY0FBQUEsT0FBTyxDQUFDZ0MsUUFBUixDQUFpQkcsYUFBakIsQ0FBK0JELEtBQS9CO0FBQ0g7QUFDSixXQUorQixDQUk5QkUsSUFKOEIsQ0FJekIsSUFKeUIsQ0FBaEM7QUFLSCxTQVhnQixDQVdmQSxJQVhlLENBV1YsSUFYVSxDQUFqQjs7QUFZQSxhQUFLOUIsVUFBTCxDQUFnQkMsT0FBaEIsQ0FBd0JrQyxPQUF4QixDQUFnQ0osVUFBaEMsRUF0QzRDLENBdUM1QztBQUNIO0FBQ0o7QUFDSixHQW5Ic0I7QUFxSHZCSyxFQUFBQSxXQUFXLEVBQUMscUJBQVNDLE9BQVQsRUFBaUJDLEVBQWpCLEVBQXFCO0FBQzdCN0QsSUFBQUEsYUFBYSxHQUFHLEtBQWhCO0FBQ0E4QyxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxRQUFaO0FBQ0EsU0FBS2xDLEtBQUw7QUFDQWMsSUFBQUEsU0FBUyxDQUFDQyxRQUFWLENBQW1CQyxNQUFNLENBQUNDLGtCQUExQixFQUE2QztBQUFDQyxNQUFBQSxLQUFLLEVBQUMsU0FBUDtBQUFpQkMsTUFBQUEsT0FBTyxFQUFDLEtBQUtuQixLQUE5QjtBQUFvQ29CLE1BQUFBLElBQUksRUFBQ25DO0FBQXpDLEtBQTdDLEVBQWlHLFlBQVUsQ0FDMUcsQ0FERDtBQUVBa0QsSUFBQUEsWUFBWSxDQUFDL0MsZ0JBQUQsQ0FBWjs7QUFDQSxRQUFHLEtBQUtzQixVQUFMLElBQW1CLEtBQUtBLFVBQUwsQ0FBZ0JDLE9BQXRDLEVBQThDO0FBQzFDUCxNQUFBQSxPQUFPLENBQUNnQyxRQUFSLENBQWlCQyxjQUFqQixDQUFnQyxVQUFTQyxLQUFULEVBQWU7QUFDM0MsWUFBR0EsS0FBSCxFQUFTO0FBQ0xsQyxVQUFBQSxPQUFPLENBQUNnQyxRQUFSLENBQWlCRyxhQUFqQixDQUErQkQsS0FBL0I7QUFDSDtBQUNKLE9BSitCLENBSTlCRSxJQUo4QixDQUl6QixJQUp5QixDQUFoQztBQUtBcEQsTUFBQUEsZ0JBQWdCLEdBQUc2RCxVQUFVLENBQUMsWUFBVztBQUNyQyxZQUFHLENBQUM5RCxhQUFKLEVBQWtCO0FBQ2Q4QyxVQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxVQUFaO0FBQ0FDLFVBQUFBLFlBQVksQ0FBQy9DLGdCQUFELENBQVo7QUFDQWdCLFVBQUFBLE9BQU8sQ0FBQ2dDLFFBQVIsQ0FBaUJDLGNBQWpCLENBQWdDLFVBQVNDLEtBQVQsRUFBZTtBQUMzQyxnQkFBR0EsS0FBSCxFQUFTO0FBQ0xsQyxjQUFBQSxPQUFPLENBQUNnQyxRQUFSLENBQWlCRyxhQUFqQixDQUErQkQsS0FBL0I7QUFDSDtBQUNKLFdBSitCLENBSTlCRSxJQUo4QixDQUl6QixJQUp5QixDQUFoQztBQUtBUSxVQUFBQSxFQUFFLENBQUMsQ0FBRCxDQUFGO0FBQ0g7QUFDSixPQVg2QixDQVc1QlIsSUFYNEIsQ0FXdkIsSUFYdUIsQ0FBRCxFQVdmLElBWGUsQ0FBN0I7QUFZQSxVQUFJN0IsT0FBTyxHQUFHLEtBQUtELFVBQUwsQ0FBZ0JDLE9BQTlCOztBQUNBLFVBQUdyQixFQUFFLENBQUNXLEdBQUgsQ0FBT0MsUUFBUCxJQUFtQlosRUFBRSxDQUFDVyxHQUFILENBQU9vQixXQUExQixLQUEwQ2pCLE9BQU8sQ0FBQ0YsUUFBUixJQUFvQixJQUFwQixJQUEyQkUsT0FBTyxDQUFDRixRQUFSLElBQW9CLElBQXpGLENBQUgsRUFBa0c7QUFDOUYrQixRQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxRQUFaOztBQUNBLFlBQUl2QixRQUFKLEVBQWE7QUFDVEEsVUFBQUEsUUFBTyxDQUFDdUMsT0FBUjtBQUNIOztBQUNELFlBQUl2QyxRQUFPLEdBQUcsSUFBZDs7QUFDQSxZQUFHUCxPQUFPLENBQUNGLFFBQVIsSUFBb0IsSUFBdkIsRUFBNEI7QUFDeEJTLFVBQUFBLFFBQU8sR0FBR1ksRUFBRSxDQUFDVixxQkFBSCxDQUF5QjtBQUMvQkosWUFBQUEsUUFBUSxFQUFFeEI7QUFEcUIsV0FBekIsQ0FBVjtBQUdILFNBSkQsTUFJSztBQUNEMEIsVUFBQUEsUUFBTyxHQUFHYyxFQUFFLENBQUNaLHFCQUFILENBQXlCO0FBQy9CSixZQUFBQSxRQUFRLEVBQUV4QjtBQURxQixXQUF6QixDQUFWO0FBR0g7O0FBRUQ2QixRQUFBQSxTQUFTLENBQUNDLFFBQVYsQ0FBbUJDLE1BQU0sQ0FBQ0Msa0JBQTFCLEVBQTZDO0FBQUNDLFVBQUFBLEtBQUssRUFBQyxTQUFQO0FBQWlCQyxVQUFBQSxPQUFPLEVBQUMsTUFBekI7QUFBZ0NDLFVBQUFBLElBQUksRUFBQ25DO0FBQXJDLFNBQTdDLEVBQTZGLFlBQVUsQ0FDdEcsQ0FERDs7QUFFQTBCLFFBQUFBLFFBQU8sQ0FBQ2tDLE9BQVIsQ0FBZ0IsVUFBVWQsR0FBVixFQUFlO0FBQzNCSSxVQUFBQSxZQUFZLENBQUMvQyxnQkFBRCxDQUFaO0FBQ0EsZUFBS1csUUFBTCxJQUFpQixLQUFLQSxRQUFMLENBQWMsQ0FBZCxDQUFqQjtBQUNBSyxVQUFBQSxPQUFPLENBQUNnQyxRQUFSLENBQWlCQyxjQUFqQixDQUFnQyxVQUFTQyxLQUFULEVBQWU7QUFDM0MsZ0JBQUdBLEtBQUgsRUFBUztBQUNMbEMsY0FBQUEsT0FBTyxDQUFDZ0MsUUFBUixDQUFpQkcsYUFBakIsQ0FBK0JELEtBQS9CO0FBQ0g7QUFDSixXQUorQixDQUk5QkUsSUFKOEIsQ0FJekIsSUFKeUIsQ0FBaEM7QUFLQTFCLFVBQUFBLFNBQVMsQ0FBQ0MsUUFBVixDQUFtQkMsTUFBTSxDQUFDQyxrQkFBMUIsRUFBNkM7QUFBQ0MsWUFBQUEsS0FBSyxFQUFDLFNBQVA7QUFBaUJDLFlBQUFBLE9BQU8sRUFBQ2xDLFNBQXpCO0FBQW1DbUMsWUFBQUEsSUFBSSxFQUFDVyxHQUFHLENBQUNZLE9BQUosR0FBWVosR0FBRyxDQUFDYTtBQUF4RCxXQUE3QyxFQUE2RyxZQUFVLENBQ3RILENBREQ7QUFFQVgsVUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksaUJBQVosRUFBK0JILEdBQS9CO0FBQ0gsU0FYZSxDQVdkUyxJQVhjLENBV1QsSUFYUyxDQUFoQjs7QUFZQTdCLFFBQUFBLFFBQU8sQ0FBQ3dDLE1BQVIsQ0FBZSxVQUFVcEIsR0FBVixFQUFlO0FBQzFCRSxVQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxnQkFBWixFQUE4QkgsR0FBOUI7QUFDSCxTQUZEOztBQUdBcEIsUUFBQUEsUUFBTyxDQUFDbUIsT0FBUixDQUFnQixVQUFVQyxHQUFWLEVBQWU7QUFDM0JFLFVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLG1CQUFpQkgsR0FBRyxDQUFDQyxPQUFqQzs7QUFDQSxjQUFJRCxHQUFHLENBQUNDLE9BQVIsRUFBaUI7QUFDYmxCLFlBQUFBLFNBQVMsQ0FBQ0MsUUFBVixDQUFtQkMsTUFBTSxDQUFDQyxrQkFBMUIsRUFBNkM7QUFBQ0MsY0FBQUEsS0FBSyxFQUFDLFNBQVA7QUFBaUJDLGNBQUFBLE9BQU8sRUFBQyxNQUF6QjtBQUFnQ0MsY0FBQUEsSUFBSSxFQUFDbkMsU0FBUyxHQUFDO0FBQS9DLGFBQTdDLEVBQW9HLFlBQVUsQ0FDN0csQ0FERDtBQUVBa0QsWUFBQUEsWUFBWSxDQUFDL0MsZ0JBQUQsQ0FBWjtBQUNBLGlCQUFLVyxRQUFMLElBQWlCLEtBQUtBLFFBQUwsQ0FBYyxDQUFkLENBQWpCO0FBQ0FLLFlBQUFBLE9BQU8sQ0FBQ2dDLFFBQVIsQ0FBaUJDLGNBQWpCLENBQWdDLFVBQVNDLEtBQVQsRUFBZTtBQUMzQyxrQkFBR0EsS0FBSCxFQUFTO0FBQ0xsQyxnQkFBQUEsT0FBTyxDQUFDZ0MsUUFBUixDQUFpQkcsYUFBakIsQ0FBK0JELEtBQS9CO0FBQ0g7QUFDSixhQUorQixDQUk5QkUsSUFKOEIsQ0FJekIsSUFKeUIsQ0FBaEM7QUFLSCxXQVZELE1BVU87QUFDSDFCLFlBQUFBLFNBQVMsQ0FBQ0MsUUFBVixDQUFtQkMsTUFBTSxDQUFDQyxrQkFBMUIsRUFBNkM7QUFBQ0MsY0FBQUEsS0FBSyxFQUFDLFNBQVA7QUFBaUJDLGNBQUFBLE9BQU8sRUFBQyxNQUF6QjtBQUFnQ0MsY0FBQUEsSUFBSSxFQUFDbkMsU0FBUyxHQUFDO0FBQS9DLGFBQTdDLEVBQW9HLFlBQVUsQ0FDN0csQ0FERDtBQUVBa0QsWUFBQUEsWUFBWSxDQUFDL0MsZ0JBQUQsQ0FBWjtBQUNBLGlCQUFLVyxRQUFMLElBQWlCLEtBQUtBLFFBQUwsQ0FBYyxDQUFkLENBQWpCO0FBQ0FLLFlBQUFBLE9BQU8sQ0FBQ2dDLFFBQVIsQ0FBaUJDLGNBQWpCLENBQWdDLFVBQVNDLEtBQVQsRUFBZTtBQUMzQyxrQkFBR0EsS0FBSCxFQUFTO0FBQ0xsQyxnQkFBQUEsT0FBTyxDQUFDZ0MsUUFBUixDQUFpQkcsYUFBakIsQ0FBK0JELEtBQS9CO0FBQ0g7QUFDSixhQUorQixDQUk5QkUsSUFKOEIsQ0FJekIsSUFKeUIsQ0FBaEM7QUFLSDs7QUFDRDdCLFVBQUFBLFFBQU8sQ0FBQ3lDLFFBQVI7QUFDSCxTQXhCZSxDQXdCZFosSUF4QmMsQ0F3QlQsSUF4QlMsQ0FBaEI7O0FBeUJBN0IsUUFBQUEsUUFBTyxDQUFDMEMsSUFBUixHQUNLQyxJQURMLENBQ1UsWUFBTTtBQUNSckIsVUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksVUFBWjs7QUFDQXZCLFVBQUFBLFFBQU8sQ0FBQzRDLElBQVIsR0FBZUQsSUFBZixDQUFvQixZQUFNO0FBQ3RCbkUsWUFBQUEsYUFBYSxHQUFHLElBQWhCO0FBQ0EyQixZQUFBQSxTQUFTLENBQUNDLFFBQVYsQ0FBbUJDLE1BQU0sQ0FBQ0Msa0JBQTFCLEVBQTZDO0FBQUNDLGNBQUFBLEtBQUssRUFBQyxTQUFQO0FBQWlCQyxjQUFBQSxPQUFPLEVBQUMsTUFBekI7QUFBZ0NDLGNBQUFBLElBQUksRUFBQ25DLFNBQVMsR0FBQzhEO0FBQS9DLGFBQTdDLEVBQXFHLFlBQVUsQ0FDOUcsQ0FERDtBQUVBZCxZQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxhQUFaO0FBQ0gsV0FMRCxXQU1PLFVBQUFzQixHQUFHLEVBQUk7QUFDVjFDLFlBQUFBLFNBQVMsQ0FBQ0MsUUFBVixDQUFtQkMsTUFBTSxDQUFDQyxrQkFBMUIsRUFBNkM7QUFBQ0MsY0FBQUEsS0FBSyxFQUFDLFNBQVA7QUFBaUJDLGNBQUFBLE9BQU8sRUFBQyxNQUF6QjtBQUFnQ0MsY0FBQUEsSUFBSSxFQUFDbkMsU0FBUyxHQUFDOEQ7QUFBL0MsYUFBN0MsRUFBcUcsWUFBVSxDQUM5RyxDQUREO0FBRUFkLFlBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGFBQVo7QUFDSCxXQVZEO0FBV0gsU0FkTCxXQWVXLFVBQUFzQixHQUFHLEVBQUk7QUFDVnZCLFVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFVBQVo7QUFDSCxTQWpCTDs7QUFrQkEsYUFBS25DLFFBQUwsR0FBZ0JpRCxFQUFoQjtBQUNILE9BN0VELE1BNkVLO0FBQ0RyQyxRQUFBQSxPQUFPLENBQ040QyxJQURELEdBRUNELElBRkQsQ0FFTSxZQUFNO0FBQ1JuRSxVQUFBQSxhQUFhLEdBQUcsSUFBaEI7QUFDQTJCLFVBQUFBLFNBQVMsQ0FBQ0MsUUFBVixDQUFtQkMsTUFBTSxDQUFDQyxrQkFBMUIsRUFBNkM7QUFBQ0MsWUFBQUEsS0FBSyxFQUFDLFNBQVA7QUFBaUJDLFlBQUFBLE9BQU8sRUFBQyxNQUF6QjtBQUFnQ0MsWUFBQUEsSUFBSSxFQUFDbkMsU0FBUyxHQUFDOEQ7QUFBL0MsV0FBN0MsRUFBcUcsWUFBVSxDQUM5RyxDQUREO0FBRUFkLFVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFFBQVo7QUFDSCxTQVBELFdBUU8sVUFBQ3NCLEdBQUQsRUFBUztBQUNaMUMsVUFBQUEsU0FBUyxDQUFDQyxRQUFWLENBQW1CQyxNQUFNLENBQUNDLGtCQUExQixFQUE2QztBQUFDQyxZQUFBQSxLQUFLLEVBQUMsU0FBUDtBQUFpQkMsWUFBQUEsT0FBTyxFQUFDLE1BQXpCO0FBQWdDQyxZQUFBQSxJQUFJLEVBQUNuQyxTQUFTLEdBQUM4RDtBQUEvQyxXQUE3QyxFQUFxRyxZQUFVLENBQzlHLENBREQ7QUFFQWQsVUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksVUFBWixFQUF3QnNCLEdBQXhCLEVBSFksQ0FJWjs7QUFDQTdDLFVBQUFBLE9BQU8sQ0FBQzBDLElBQVIsR0FBZUMsSUFBZixDQUFvQixZQUFNO0FBQ3RCckIsWUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksUUFBWixFQURzQixDQUV0Qjs7QUFDQXBCLFlBQUFBLFNBQVMsQ0FBQ0MsUUFBVixDQUFtQkMsTUFBTSxDQUFDQyxrQkFBMUIsRUFBNkM7QUFBQ0MsY0FBQUEsS0FBSyxFQUFDLFNBQVA7QUFBaUJDLGNBQUFBLE9BQU8sRUFBQyxRQUF6QjtBQUFrQ0MsY0FBQUEsSUFBSSxFQUFDbkM7QUFBdkMsYUFBN0MsRUFBK0YsWUFBVSxDQUN4RyxDQUREO0FBRUFFLFlBQUFBLGFBQWEsR0FBRyxJQUFoQjtBQUNBLG1CQUFPd0IsT0FBTyxDQUFDNEMsSUFBUixFQUFQO0FBQ0gsV0FQRDtBQVFILFNBckJEO0FBc0JBLGFBQUt4RCxRQUFMLEdBQWdCaUQsRUFBaEI7QUFDSDtBQUNKLEtBekhELE1BeUhLO0FBQUM7QUFDRjVDLE1BQUFBLE9BQU8sQ0FBQ2dDLFFBQVIsQ0FBaUJDLGNBQWpCLENBQWdDLFVBQVNDLEtBQVQsRUFBZTtBQUMzQyxZQUFHQSxLQUFILEVBQVM7QUFDTGxDLFVBQUFBLE9BQU8sQ0FBQ2dDLFFBQVIsQ0FBaUJHLGFBQWpCLENBQStCRCxLQUEvQjtBQUNIO0FBQ0osT0FKK0IsQ0FJOUJFLElBSjhCLENBSXpCLElBSnlCLENBQWhDO0FBS0FRLE1BQUFBLEVBQUUsQ0FBQyxDQUFELENBQUY7QUFDSDtBQUNKO0FBN1BzQixDQUFULENBQWxCO0FBK1BBUyxNQUFNLENBQUNDLE9BQVAsR0FBaUJyRSxXQUFqQiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHZpZGVvQWRJZCA9ICcnO1xyXG52YXIgYXBwSWQgPSAnJztcclxudmFyIGlzUGxheVN1Y2Nlc3MgPSBmYWxzZTtcclxudmFyIGNvdW50RG93blRpbWVPdXQ7XHJcbnZhciBWaWRlb0Jhbm5lciA9IGNjLkNsYXNzKHtcclxuICAgIHByb3BlcnRpZXM6IHtcclxuICAgIH0sXHJcbiAgICBjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG51bGw7XHJcbiAgICB9LFxyXG4gICAgc3RhdGljczoge1xyXG4gICAgICAgIGNyZWF0ZTogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgaWYoIXRoaXMuaW5zdGFuY2Upe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBWaWRlb0Jhbm5lcigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5pbml0V2l0aERhdGEoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBpbml0V2l0aERhdGE6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgaXNQbGF5U3VjY2VzcyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY291bnQgPSAxO1xyXG4gICAgICAgIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuQllURURBTkNFX0dBTUUpeyAvL+WktOadoeW5s+WPsFxyXG4gICAgICAgICAgICB2aWRlb0FkSWQgPSAnMWdyOGY3aHZwb24zbWIybGxmJztcclxuICAgICAgICAgICAgaWYoYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZyAmJiBhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmFkQ29uZmlnLnZpZGVvSWQgJiYgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy52aWRlb0lkLnRvdXRpYW8pe1xyXG4gICAgICAgICAgICAgICAgdmlkZW9BZElkID0gYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy52aWRlb0lkLnRvdXRpYW8uYWRVbml0SWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgdmlkZW9BZDogdHQuY3JlYXRlUmV3YXJkZWRWaWRlb0FkKHtcclxuICAgICAgICAgICAgICAgICAgICBhZFVuaXRJZDogdmlkZW9BZElkXHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+W5v+WRiuS9jea/gOWKseinhumikScsY29udGVudDon5Yib5bu65oiQ5YqfJyxkZXNjOnZpZGVvQWRJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfWVsc2UgaWYoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5XRUNIQVRfR0FNRSAmJiBhcHBHYW1lLnBsYXRmb3JtID09ICdXWCcpey8v5b6u5L+hXHJcbiAgICAgICAgICAgIHZpZGVvQWRJZCA9ICdhZHVuaXQtMTY4ZWQwZWQ0ZDlmOGZhZCc7XHJcbiAgICAgICAgICAgIGlmKGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcgJiYgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy52aWRlb0lkICYmIGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcudmlkZW9JZC5XWCl7XHJcbiAgICAgICAgICAgICAgICB2aWRlb0FkSWQgPSBhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmFkQ29uZmlnLnZpZGVvSWQuV1guYWRVbml0SWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgdmlkZW9BZDogd3guY3JlYXRlUmV3YXJkZWRWaWRlb0FkKHtcclxuICAgICAgICAgICAgICAgICAgICBhZFVuaXRJZDogdmlkZW9BZElkLFxyXG4gICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOiflub/lkYrkvY3mv4DlirHop4bpopEnLGNvbnRlbnQ6J+WIm+W7uuaIkOWKnycsZGVzYzp2aWRlb0FkSWR9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1lbHNlIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuV0VDSEFUX0dBTUUgJiYgYXBwR2FtZS5wbGF0Zm9ybSA9PSAnUVEnKXsvL3FxXHJcbiAgICAgICAgICAgIHZpZGVvQWRJZCA9ICdhZHVuaXQtMTY4ZWQwZWQ0ZDlmOGZhZCc7XHJcbiAgICAgICAgICAgIGlmKGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcgJiYgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy52aWRlb0lkICYmIGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcudmlkZW9JZC5RUSl7XHJcbiAgICAgICAgICAgICAgICB2aWRlb0FkSWQgPSBhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmFkQ29uZmlnLnZpZGVvSWQuUVEuYWRVbml0SWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgdmlkZW9BZDogcXEuY3JlYXRlUmV3YXJkZWRWaWRlb0FkKHtcclxuICAgICAgICAgICAgICAgICAgICBhZFVuaXRJZDogdmlkZW9BZElkXHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+W5v+WRiuS9jea/gOWKseinhumikScsY29udGVudDon5Yib5bu65oiQ5YqfJyxkZXNjOnZpZGVvQWRJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfWVsc2UgaWYoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5CQUlEVV9HQU1FKXsvL+eZvuW6plxyXG4gICAgICAgICAgICB2aWRlb0FkSWQgPSAnNzQzMzkzMCc7XHJcbiAgICAgICAgICAgIGlmKGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcgJiYgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy52aWRlb0lkICYmIGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcudmlkZW9JZC5iYWlkdSl7XHJcbiAgICAgICAgICAgICAgICB2aWRlb0FkSWQgPSBhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmFkQ29uZmlnLnZpZGVvSWQuYmFpZHUuYWRVbml0SWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZyAmJiBhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmFkQ29uZmlnLnZpZGVvSWQgJiYgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy52aWRlb0lkLmJhaWR1KXtcclxuICAgICAgICAgICAgICAgIGFwcElkID0gYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy52aWRlb0lkLmJhaWR1LmFwcFNpZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmdsb2JhbERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICB2aWRlb0FkOiBzd2FuLmNyZWF0ZVJld2FyZGVkVmlkZW9BZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRVbml0SWQ6IHZpZGVvQWRJZCxcclxuICAgICAgICAgICAgICAgICAgICBhcHBTaWQ6IGFwcElkXHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+W5v+WRiuS9jea/gOWKseinhumikScsY29udGVudDon5Yib5bu65oiQ5YqfJyxkZXNjOnZpZGVvQWRJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gIT0gY2Muc3lzLldFQ0hBVF9HQU1FKXtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2xvYmFsRGF0YSAmJiB0aGlzLmdsb2JhbERhdGEudmlkZW9BZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhLnZpZGVvQWQub25DbG9zZShmdW5jdGlvbihyZXMpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXMuaXNFbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIueci+WujOinhumikeWFs+mXrVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+W5v+WRiuS9jea/gOWKseinhumikScsY29udGVudDon54K55Ye75YWz6ZetJyxkZXNjOnZpZGVvQWRJZCtcIuaSreaUvuaIkOWKn1wifSxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNvdW50RG93blRpbWVPdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrICYmIHRoaXMuY2FsbGJhY2soMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcEdhbWUuYXVkaW9NZ3IuZ2V0TXVzaWNTdGF0dXMoZnVuY3Rpb24ob25PZmYpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYob25PZmYpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcEdhbWUuYXVkaW9NZ3Iuc2V0TXVzaWNPbk9mZihvbk9mZik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOiflub/lkYrkvY3mv4DlirHop4bpopEnLGNvbnRlbnQ6J+eCueWHu+WFs+mXrScsZGVzYzp2aWRlb0FkSWQrXCLmkq3mlL7lpLHotKVcIn0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5pyq55yL5a6M6KeG6aKR5YWz6ZetXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChjb3VudERvd25UaW1lT3V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFjayAmJiB0aGlzLmNhbGxiYWNrKDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBHYW1lLmF1ZGlvTWdyLmdldE11c2ljU3RhdHVzKGZ1bmN0aW9uKG9uT2ZmKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKG9uT2ZmKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBHYW1lLmF1ZGlvTWdyLnNldE11c2ljT25PZmYob25PZmYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgb25FcnJvckZ1YyA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5pKt5pS+6KeG6aKR5bm/5ZGK5Ye66Zeu6aKYXCIrbGlzdGVuZXIuZXJyQ29kZStsaXN0ZW5lci5lcnJNc2cpXHJcbiAgICAgICAgICAgICAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOiflub/lkYrkvY3mv4DlirHop4bpopEnLGNvbnRlbnQ6dmlkZW9BZElkLGRlc2M6bGlzdGVuZXIuZXJyQ29kZStsaXN0ZW5lci5lcnJNc2d9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNvdW50RG93blRpbWVPdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2sgJiYgdGhpcy5jYWxsYmFjaygzKTtcclxuICAgICAgICAgICAgICAgICAgICBhcHBHYW1lLmF1ZGlvTWdyLmdldE11c2ljU3RhdHVzKGZ1bmN0aW9uKG9uT2ZmKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYob25PZmYpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwR2FtZS5hdWRpb01nci5zZXRNdXNpY09uT2ZmKG9uT2ZmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbERhdGEudmlkZW9BZC5vbkVycm9yKG9uRXJyb3JGdWMpO1xyXG4gICAgICAgICAgICAgICAgLy90aGlzLmdsb2JhbERhdGEudmlkZW9BZC5vZmZFcnJvcihvbkVycm9yRnVjKTtcclxuICAgICAgICAgICAgfSAgXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBwbGF5VmlkZW9BZDpmdW5jdGlvbihzY2VuZUlkLGNiKSB7XHJcbiAgICAgICAgaXNQbGF5U3VjY2VzcyA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi5pKt5pS+6KeG6aKR5bm/5ZGKXCIpXHJcbiAgICAgICAgdGhpcy5jb3VudCsrO1xyXG4gICAgICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon5bm/5ZGK5L2N5r+A5Yqx6KeG6aKRJyxjb250ZW50OnRoaXMuY291bnQsZGVzYzp2aWRlb0FkSWR9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KGNvdW50RG93blRpbWVPdXQpO1xyXG4gICAgICAgIGlmKHRoaXMuZ2xvYmFsRGF0YSAmJiB0aGlzLmdsb2JhbERhdGEudmlkZW9BZCl7XHJcbiAgICAgICAgICAgIGFwcEdhbWUuYXVkaW9NZ3IuZ2V0TXVzaWNTdGF0dXMoZnVuY3Rpb24ob25PZmYpe1xyXG4gICAgICAgICAgICAgICAgaWYob25PZmYpe1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcEdhbWUuYXVkaW9NZ3Iuc2V0TXVzaWNPbk9mZihvbk9mZik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIGNvdW50RG93blRpbWVPdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYoIWlzUGxheVN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5YCS6K6h5pe25Yiw6L+U5Zue5Zue6LCDXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNvdW50RG93blRpbWVPdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcEdhbWUuYXVkaW9NZ3IuZ2V0TXVzaWNTdGF0dXMoZnVuY3Rpb24ob25PZmYpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihvbk9mZil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBHYW1lLmF1ZGlvTWdyLnNldE11c2ljT25PZmYob25PZmYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgICAgICAgICBjYigzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpLCA1MDAwKTtcclxuICAgICAgICAgICAgbGV0IHZpZGVvQWQgPSB0aGlzLmdsb2JhbERhdGEudmlkZW9BZDtcclxuICAgICAgICAgICAgaWYoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5XRUNIQVRfR0FNRSAmJiAoYXBwR2FtZS5wbGF0Zm9ybSA9PSAnV1gnIHx8YXBwR2FtZS5wbGF0Zm9ybSA9PSAnUVEnKSl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuaSreaUvuW+ruS/oeinhumikVwiKVxyXG4gICAgICAgICAgICAgICAgaWYgKHZpZGVvQWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2aWRlb0FkLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCB2aWRlb0FkID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGlmKGFwcEdhbWUucGxhdGZvcm0gPT0gJ1dYJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9BZCA9IHd4LmNyZWF0ZVJld2FyZGVkVmlkZW9BZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkVW5pdElkOiB2aWRlb0FkSWRcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9BZCA9IHFxLmNyZWF0ZVJld2FyZGVkVmlkZW9BZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkVW5pdElkOiB2aWRlb0FkSWRcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+W5v+WRiuS9jea/gOWKseinhumikScsY29udGVudDon5Yib5bu65oiQ5YqfJyxkZXNjOnZpZGVvQWRJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdmlkZW9BZC5vbkVycm9yKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoY291bnREb3duVGltZU91dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFjayAmJiB0aGlzLmNhbGxiYWNrKDMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcEdhbWUuYXVkaW9NZ3IuZ2V0TXVzaWNTdGF0dXMoZnVuY3Rpb24ob25PZmYpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihvbk9mZil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBHYW1lLmF1ZGlvTWdyLnNldE11c2ljT25PZmYob25PZmYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+W5v+WRiuS9jea/gOWKseinhumikScsY29udGVudDp2aWRlb0FkSWQsZGVzYzpyZXMuZXJyQ29kZStyZXMuZXJyTXNnfSxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd2aWRlb0FkIG9uRXJyb3InLCByZXMpXHJcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpXHJcbiAgICAgICAgICAgICAgICB2aWRlb0FkLm9uTG9hZChmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3ZpZGVvQWQgb25Mb2FkJywgcmVzKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIHZpZGVvQWQub25DbG9zZShmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLlhbPpl63lvq7kv6Hop4bpopE9PT09PT09PVwiK3Jlcy5pc0VuZGVkKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXMuaXNFbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+W5v+WRiuS9jea/gOWKseinhumikScsY29udGVudDon54K55Ye75YWz6ZetJyxkZXNjOnZpZGVvQWRJZCtcIuaSreaUvuaIkOWKn1wifSxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNvdW50RG93blRpbWVPdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrICYmIHRoaXMuY2FsbGJhY2soMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcEdhbWUuYXVkaW9NZ3IuZ2V0TXVzaWNTdGF0dXMoZnVuY3Rpb24ob25PZmYpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYob25PZmYpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcEdhbWUuYXVkaW9NZ3Iuc2V0TXVzaWNPbk9mZihvbk9mZik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOiflub/lkYrkvY3mv4DlirHop4bpopEnLGNvbnRlbnQ6J+eCueWHu+WFs+mXrScsZGVzYzp2aWRlb0FkSWQrXCLmkq3mlL7lpLHotKVcIn0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChjb3VudERvd25UaW1lT3V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFjayAmJiB0aGlzLmNhbGxiYWNrKDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBHYW1lLmF1ZGlvTWdyLmdldE11c2ljU3RhdHVzKGZ1bmN0aW9uKG9uT2ZmKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKG9uT2ZmKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBHYW1lLmF1ZGlvTWdyLnNldE11c2ljT25PZmYob25PZmYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2aWRlb0FkLm9mZkNsb3NlKClcclxuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSlcclxuICAgICAgICAgICAgICAgIHZpZGVvQWQubG9hZCgpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5r+A5Yqx6KeG6aKR5Yqg6L295oiQ5YqfJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvQWQuc2hvdygpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNQbGF5U3VjY2VzcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+W5v+WRiuS9jea/gOWKseinhumikScsY29udGVudDon5bGV56S65oiQ5YqfJyxkZXNjOnZpZGVvQWRJZCtzY2VuZUlkfSxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5r+A5Yqx6KeG6aKRIOW5v+WRiuaYvuekuuaIkOWKnycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOiflub/lkYrkvY3mv4DlirHop4bpopEnLGNvbnRlbnQ6J+WxleekuuWksei0pScsZGVzYzp2aWRlb0FkSWQrc2NlbmVJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+a/gOWKseinhumikSDlub/lkYrmmL7npLrlpLHotKUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfmv4DlirHop4bpopHliqDovb3lpLHotKUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNiO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHZpZGVvQWRcclxuICAgICAgICAgICAgICAgIC5zaG93KClcclxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpc1BsYXlTdWNjZXNzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+W5v+WRiuS9jea/gOWKseinhumikScsY29udGVudDon5bGV56S65oiQ5YqfJyxkZXNjOnZpZGVvQWRJZCtzY2VuZUlkfSxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5bm/5ZGK5pi+56S65oiQ5YqfXCIpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOiflub/lkYrkvY3mv4DlirHop4bpopEnLGNvbnRlbnQ6J+WxleekuuWksei0pScsZGVzYzp2aWRlb0FkSWQrc2NlbmVJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuW5v+WRiue7hOS7tuWHuueOsOmXrumimFwiLCBlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOWPr+S7peaJi+WKqOWKoOi9veS4gOasoVxyXG4gICAgICAgICAgICAgICAgICAgIHZpZGVvQWQubG9hZCgpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuaJi+WKqOWKoOi9veaIkOWKn1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5Yqg6L295oiQ5Yqf5ZCO6ZyA6KaB5YaN5pi+56S65bm/5ZGKXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon5bm/5ZGK5L2N5r+A5Yqx6KeG6aKRJyxjb250ZW50OifmiYvliqjliqDovb3miJDlip8nLGRlc2M6dmlkZW9BZElkfSxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNQbGF5U3VjY2VzcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2aWRlb0FkLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2V7Ly/msqHmnInmv4DlirHop4bpopHnmoTnm7TmjqXov5Tlm55cclxuICAgICAgICAgICAgYXBwR2FtZS5hdWRpb01nci5nZXRNdXNpY1N0YXR1cyhmdW5jdGlvbihvbk9mZil7XHJcbiAgICAgICAgICAgICAgICBpZihvbk9mZil7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwR2FtZS5hdWRpb01nci5zZXRNdXNpY09uT2ZmKG9uT2ZmKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgY2IoMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxufSk7XHJcbm1vZHVsZS5leHBvcnRzID0gVmlkZW9CYW5uZXI7XHJcbiJdfQ==