
                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/__qc_index__.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}
require('./assets/Game/Scripts/Info');
require('./assets/Game/Scripts/Main');
require('./assets/Game/Scripts/g - 001');
require('./assets/Game/Scripts/hex-lines-game/Animal');
require('./assets/Game/Scripts/hex-lines-game/Consts');
require('./assets/Game/Scripts/hex-lines-game/Game');
require('./assets/Game/Scripts/hex-lines-game/GridManager');
require('./assets/Game/Scripts/hex-lines-game/HexonTile');
require('./assets/Game/Scripts/hex-lines-game/Res');
require('./assets/Game/Scripts/hex-lines-game/base/com');
require('./assets/Game/Scripts/hex-lines-game/ds/IntMap');
require('./assets/Game/Scripts/ui/DCBackground');
require('./assets/Game/Scripts/ui/DCParticleSystem');
require('./assets/Game/Scripts/ui/DailyGetDialog');
require('./assets/Game/Scripts/ui/GetDialog');
require('./assets/Game/Scripts/ui/HbDialog');
require('./assets/Game/Scripts/ui/LevelDialog');
require('./assets/Game/Scripts/ui/LevelupDialog');
require('./assets/Game/Scripts/ui/LuckyDialog');
require('./assets/Game/Scripts/ui/PauseDialog');
require('./assets/Game/Scripts/ui/ShopDialog');
require('./assets/Game/Scripts/ui/ShopItemTemplate');
require('./assets/Game/Scripts/ui/WinDialog');
require('./assets/framework/network/ConnectManager');
require('./assets/framework/network/Message');
require('./assets/framework/network/MessageBase');
require('./assets/framework/network/MessageDispatch');
require('./assets/framework/network/MessageHandler');
require('./assets/framework/network/MessageType');
require('./assets/framework/network/Socket');
require('./assets/framework/plugin_boosts/gamesys/Device');
require('./assets/framework/plugin_boosts/gamesys/FSM');
require('./assets/framework/plugin_boosts/gamesys/InfiniteBackground');
require('./assets/framework/plugin_boosts/gamesys/LocalLifeSystem');
require('./assets/framework/plugin_boosts/gamesys/LocalTimeSystem');
require('./assets/framework/plugin_boosts/gamesys/PoolManager');
require('./assets/framework/plugin_boosts/gamesys/PsFx');
require('./assets/framework/plugin_boosts/gamesys/PsFxPlayer');
require('./assets/framework/plugin_boosts/gamesys/PsSpawner');
require('./assets/framework/plugin_boosts/libs/easing');
require('./assets/framework/plugin_boosts/misc/BoostsAction');
require('./assets/framework/plugin_boosts/misc/ClickAudio');
require('./assets/framework/plugin_boosts/misc/ClickAudioManager');
require('./assets/framework/plugin_boosts/misc/DataCenter');
require('./assets/framework/plugin_boosts/misc/FrameSwitch');
require('./assets/framework/plugin_boosts/misc/InputSystem');
require('./assets/framework/plugin_boosts/misc/JoyStick');
require('./assets/framework/plugin_boosts/misc/Net');
require('./assets/framework/plugin_boosts/misc/Signal');
require('./assets/framework/plugin_boosts/misc/SpriteFrameCache');
require('./assets/framework/plugin_boosts/ui/DCLabel');
require('./assets/framework/plugin_boosts/ui/DCPandoraPoint');
require('./assets/framework/plugin_boosts/ui/DCSprite');
require('./assets/framework/plugin_boosts/ui/DCToggle');
require('./assets/framework/plugin_boosts/ui/DCUI');
require('./assets/framework/plugin_boosts/ui/LoadingManager');
require('./assets/framework/plugin_boosts/ui/MessageBoxComponent');
require('./assets/framework/plugin_boosts/ui/MessageBoxManager');
require('./assets/framework/plugin_boosts/ui/PandoraPoint');
require('./assets/framework/plugin_boosts/ui/ToastComponent');
require('./assets/framework/plugin_boosts/ui/ToastManager');
require('./assets/framework/plugin_boosts/ui/UIComponent');
require('./assets/framework/plugin_boosts/ui/UIFunctions');
require('./assets/framework/plugin_boosts/ui/View');
require('./assets/framework/plugin_boosts/ui/ViewManager');
require('./assets/framework/plugin_boosts/ui/game/LevelSelector');
require('./assets/framework/plugin_boosts/utils/Common');
require('./assets/framework/plugin_boosts/utils/EventManager');
require('./assets/framework/plugin_boosts/utils/Intersection');
require('./assets/gameComon/lucky/lucky');
require('./assets/gameComon/result/result');
require('./assets/gameComon/result/revive');
require('./assets/gameComon/screenRecord/screenShareAuto');
require('./assets/gameComon/screenRecord/screenrecordAuto');
require('./assets/gameComon/screenRecord/screenrecordHand');
require('./assets/gameComon/scripts/ad/banner');
require('./assets/gameComon/scripts/ad/interstitialAd');
require('./assets/gameComon/scripts/ad/nativeAd');
require('./assets/gameComon/scripts/ad/qqAppBox');
require('./assets/gameComon/scripts/ad/qqBlockAd');
require('./assets/gameComon/scripts/ad/videoBanner');
require('./assets/gameComon/scripts/ad/wxgridAd');
require('./assets/gameComon/scripts/ad/wxnativeAd');
require('./assets/gameComon/scripts/audio/audioMgr');
require('./assets/gameComon/scripts/changeGame');
require('./assets/gameComon/scripts/dialogBox');
require('./assets/gameComon/scripts/gameSceneManager');
require('./assets/gameComon/scripts/horn');
require('./assets/gameComon/scripts/item');
require('./assets/gameComon/scripts/loadTip');
require('./assets/gameComon/scripts/model/androidHelper');
require('./assets/gameComon/scripts/model/appGame');
require('./assets/gameComon/scripts/model/async');
require('./assets/gameComon/scripts/model/consts');
require('./assets/gameComon/scripts/model/emitter');
require('./assets/gameComon/scripts/model/httpUtils');
require('./assets/gameComon/scripts/model/underscore');
require('./assets/gameComon/scripts/model/util');
require('./assets/gameComon/scripts/platformFun');
require('./assets/gameComon/scripts/room');
require('./assets/gameComon/scripts/roomGame');
require('./assets/gameComon/scripts/updateTime');
require('./assets/gameComon/sign/sign');
require('./assets/migration/use_v2.0.x_cc.Toggle_event');

                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/libs/easing.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e6742QWT6FGKZZTNPiWFV4s', 'easing');
// framework/plugin_boosts/libs/easing.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.easeInOutBounce = exports.easeOutBounce = exports.easeInBounce = exports.easeInOutBack = exports.easeOutBack = exports.easeInBack = exports.easeInOutElastic = exports.easeOutElastic = exports.easeInElastic = exports.easeInOutCirc = exports.easeOutCirc = exports.easeInCirc = exports.easeInOutExpo = exports.easeOutExpo = exports.easeInExpo = exports.easeInOutSine = exports.easeOutSine = exports.easeInSine = exports.easeInOutQuint = exports.easeOutQuint = exports.easeInQuint = exports.easeInOutQuart = exports.easeOutQuart = exports.easeInQuart = exports.easeInOutCubic = exports.easeOutCubic = exports.easeInCubic = exports.easeInOutQuad = exports.easeOutQuad = exports.easeInQuad = exports.linear = void 0;
function linear(t, b, c, d) {
    return c * t / d + b;
}
exports.linear = linear;
function easeInQuad(elapsed, initialValue, amountOfChange, duration) {
    return amountOfChange * (elapsed /= duration) * elapsed + initialValue;
}
exports.easeInQuad = easeInQuad;
function easeOutQuad(elapsed, initialValue, amountOfChange, duration) {
    return -amountOfChange * (elapsed /= duration) * (elapsed - 2) + initialValue;
}
exports.easeOutQuad = easeOutQuad;
function easeInOutQuad(elapsed, initialValue, amountOfChange, duration) {
    if ((elapsed /= duration / 2) < 1) {
        return amountOfChange / 2 * elapsed * elapsed + initialValue;
    }
    return -amountOfChange / 2 * (--elapsed * (elapsed - 2) - 1) + initialValue;
}
exports.easeInOutQuad = easeInOutQuad;
function easeInCubic(elapsed, initialValue, amountOfChange, duration) {
    return amountOfChange * (elapsed /= duration) * elapsed * elapsed + initialValue;
}
exports.easeInCubic = easeInCubic;
function easeOutCubic(elapsed, initialValue, amountOfChange, duration) {
    return amountOfChange * ((elapsed = elapsed / duration - 1) * elapsed * elapsed + 1) + initialValue;
}
exports.easeOutCubic = easeOutCubic;
function easeInOutCubic(elapsed, initialValue, amountOfChange, duration) {
    if ((elapsed /= duration / 2) < 1) {
        return amountOfChange / 2 * elapsed * elapsed * elapsed + initialValue;
    }
    return amountOfChange / 2 * ((elapsed -= 2) * elapsed * elapsed + 2) + initialValue;
}
exports.easeInOutCubic = easeInOutCubic;
function easeInQuart(elapsed, initialValue, amountOfChange, duration) {
    return amountOfChange * (elapsed /= duration) * elapsed * elapsed * elapsed + initialValue;
}
exports.easeInQuart = easeInQuart;
function easeOutQuart(elapsed, initialValue, amountOfChange, duration) {
    return -amountOfChange * ((elapsed = elapsed / duration - 1) * elapsed * elapsed * elapsed - 1) + initialValue;
}
exports.easeOutQuart = easeOutQuart;
function easeInOutQuart(elapsed, initialValue, amountOfChange, duration) {
    if ((elapsed /= duration / 2) < 1) {
        return amountOfChange / 2 * elapsed * elapsed * elapsed * elapsed + initialValue;
    }
    return -amountOfChange / 2 * ((elapsed -= 2) * elapsed * elapsed * elapsed - 2) + initialValue;
}
exports.easeInOutQuart = easeInOutQuart;
function easeInQuint(elapsed, initialValue, amountOfChange, duration) {
    return amountOfChange * (elapsed /= duration) * elapsed * elapsed * elapsed * elapsed + initialValue;
}
exports.easeInQuint = easeInQuint;
function easeOutQuint(elapsed, initialValue, amountOfChange, duration) {
    return amountOfChange * ((elapsed = elapsed / duration - 1) * elapsed * elapsed * elapsed * elapsed + 1) + initialValue;
}
exports.easeOutQuint = easeOutQuint;
function easeInOutQuint(elapsed, initialValue, amountOfChange, duration) {
    if ((elapsed /= duration / 2) < 1) {
        return amountOfChange / 2 * elapsed * elapsed * elapsed * elapsed * elapsed + initialValue;
    }
    return amountOfChange / 2 * ((elapsed -= 2) * elapsed * elapsed * elapsed * elapsed + 2) + initialValue;
}
exports.easeInOutQuint = easeInOutQuint;
function easeInSine(elapsed, initialValue, amountOfChange, duration) {
    return -amountOfChange * Math.cos(elapsed / duration * (Math.PI / 2)) + amountOfChange + initialValue;
}
exports.easeInSine = easeInSine;
function easeOutSine(elapsed, initialValue, amountOfChange, duration) {
    return amountOfChange * Math.sin(elapsed / duration * (Math.PI / 2)) + initialValue;
}
exports.easeOutSine = easeOutSine;
function easeInOutSine(elapsed, initialValue, amountOfChange, duration) {
    return -amountOfChange / 2 * (Math.cos(Math.PI * elapsed / duration) - 1) + initialValue;
}
exports.easeInOutSine = easeInOutSine;
function easeInExpo(elapsed, initialValue, amountOfChange, duration) {
    return elapsed === 0 ? initialValue : amountOfChange * Math.pow(2, 10 * (elapsed / duration - 1)) + initialValue;
}
exports.easeInExpo = easeInExpo;
function easeOutExpo(elapsed, initialValue, amountOfChange, duration) {
    return elapsed === duration
        ? initialValue + amountOfChange
        : amountOfChange * (-Math.pow(2, -10 * elapsed / duration) + 1) + initialValue;
}
exports.easeOutExpo = easeOutExpo;
function easeInOutExpo(elapsed, initialValue, amountOfChange, duration) {
    if (elapsed === 0) {
        return initialValue;
    }
    if (elapsed === duration) {
        return initialValue + amountOfChange;
    }
    if ((elapsed /= duration / 2) < 1) {
        return amountOfChange / 2 * Math.pow(2, 10 * (elapsed - 1)) + initialValue;
    }
    return amountOfChange / 2 * (-Math.pow(2, -10 * --elapsed) + 2) + initialValue;
}
exports.easeInOutExpo = easeInOutExpo;
function easeInCirc(elapsed, initialValue, amountOfChange, duration) {
    return -amountOfChange * (Math.sqrt(1 - (elapsed /= duration) * elapsed) - 1) + initialValue;
}
exports.easeInCirc = easeInCirc;
function easeOutCirc(elapsed, initialValue, amountOfChange, duration) {
    return amountOfChange * Math.sqrt(1 - (elapsed = elapsed / duration - 1) * elapsed) + initialValue;
}
exports.easeOutCirc = easeOutCirc;
function easeInOutCirc(elapsed, initialValue, amountOfChange, duration) {
    if ((elapsed /= duration / 2) < 1) {
        return -amountOfChange / 2 * (Math.sqrt(1 - elapsed * elapsed) - 1) + initialValue;
    }
    return amountOfChange / 2 * (Math.sqrt(1 - (elapsed -= 2) * elapsed) + 1) + initialValue;
}
exports.easeInOutCirc = easeInOutCirc;
function easeInElastic(elapsed, initialValue, amountOfChange, duration) {
    var s = 1.70158;
    var p = 0;
    var a = amountOfChange;
    if (elapsed === 0) {
        return initialValue;
    }
    if ((elapsed /= duration) === 1) {
        return initialValue + amountOfChange;
    }
    if (!p) {
        p = duration * 0.3;
    }
    if (a < Math.abs(amountOfChange)) {
        a = amountOfChange;
        s = p / 4;
    }
    else {
        s = p / (2 * Math.PI) * Math.asin(amountOfChange / a);
    }
    return -(a * Math.pow(2, 10 * (elapsed -= 1)) * Math.sin((elapsed * duration - s) * (2 * Math.PI) / p)) + initialValue;
}
exports.easeInElastic = easeInElastic;
function easeOutElastic(elapsed, initialValue, amountOfChange, duration) {
    var s = 1.70158;
    var p = 0;
    var a = amountOfChange;
    if (elapsed === 0) {
        return initialValue;
    }
    if ((elapsed /= duration) === 1) {
        return initialValue + amountOfChange;
    }
    if (!p) {
        p = duration * 0.3;
    }
    if (a < Math.abs(amountOfChange)) {
        a = amountOfChange;
        s = p / 4;
    }
    else {
        s = p / (2 * Math.PI) * Math.asin(amountOfChange / a);
    }
    return a * Math.pow(2, -10 * elapsed) * Math.sin((elapsed * duration - s) * (2 * Math.PI) / p) + amountOfChange + initialValue;
}
exports.easeOutElastic = easeOutElastic;
function easeInOutElastic(elapsed, initialValue, amountOfChange, duration) {
    var s = 1.70158;
    var p = 0;
    var a = amountOfChange;
    if (elapsed === 0) {
        return initialValue;
    }
    if ((elapsed /= duration / 2) === 2) {
        return initialValue + amountOfChange;
    }
    if (!p) {
        p = duration * (0.3 * 1.5);
    }
    if (a < Math.abs(amountOfChange)) {
        a = amountOfChange;
        s = p / 4;
    }
    else {
        s = p / (2 * Math.PI) * Math.asin(amountOfChange / a);
    }
    if (elapsed < 1) {
        return -0.5 * (a * Math.pow(2, 10 * (elapsed -= 1)) * Math.sin((elapsed * duration - s) * (2 * Math.PI) / p)) + initialValue;
    }
    return (a * Math.pow(2, -10 * (elapsed -= 1)) * Math.sin((elapsed * duration - s) * (2 * Math.PI) / p) * 0.5 + amountOfChange + initialValue);
}
exports.easeInOutElastic = easeInOutElastic;
function easeInBack(elapsed, initialValue, amountOfChange, duration, s) {
    if (s === void 0) { s = 1.70158; }
    return amountOfChange * (elapsed /= duration) * elapsed * ((s + 1) * elapsed - s) + initialValue;
}
exports.easeInBack = easeInBack;
function easeOutBack(elapsed, initialValue, amountOfChange, duration, s) {
    if (s === void 0) { s = 1.70158; }
    return amountOfChange * ((elapsed = elapsed / duration - 1) * elapsed * ((s + 1) * elapsed + s) + 1) + initialValue;
}
exports.easeOutBack = easeOutBack;
function easeInOutBack(elapsed, initialValue, amountOfChange, duration, s) {
    if (s === void 0) { s = 1.70158; }
    if ((elapsed /= duration / 2) < 1) {
        return amountOfChange / 2 * (elapsed * elapsed * (((s *= 1.525) + 1) * elapsed - s)) + initialValue;
    }
    return amountOfChange / 2 * ((elapsed -= 2) * elapsed * (((s *= 1.525) + 1) * elapsed + s) + 2) + initialValue;
}
exports.easeInOutBack = easeInOutBack;
function easeInBounce(elapsed, initialValue, amountOfChange, duration) {
    return amountOfChange - easeOutBounce(duration - elapsed, 0, amountOfChange, duration) + initialValue;
}
exports.easeInBounce = easeInBounce;
function easeOutBounce(elapsed, initialValue, amountOfChange, duration) {
    if ((elapsed /= duration) < 1 / 2.75) {
        return amountOfChange * (7.5625 * elapsed * elapsed) + initialValue;
    }
    else if (elapsed < 2 / 2.75) {
        return amountOfChange * (7.5625 * (elapsed -= 1.5 / 2.75) * elapsed + 0.75) + initialValue;
    }
    else if (elapsed < 2.5 / 2.75) {
        return amountOfChange * (7.5625 * (elapsed -= 2.25 / 2.75) * elapsed + 0.9375) + initialValue;
    }
    else {
        return amountOfChange * (7.5625 * (elapsed -= 2.625 / 2.75) * elapsed + 0.984375) + initialValue;
    }
}
exports.easeOutBounce = easeOutBounce;
function easeInOutBounce(elapsed, initialValue, amountOfChange, duration) {
    if (elapsed < duration / 2) {
        return easeInBounce(elapsed * 2, 0, amountOfChange, duration) * 0.5 + initialValue;
    }
    return easeOutBounce(elapsed * 2 - duration, 0, amountOfChange, duration) * 0.5 + amountOfChange * 0.5 + initialValue;
}
exports.easeInOutBounce = easeInOutBounce;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxsaWJzXFxlYXNpbmcudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxTQUFnQixNQUFNLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQyxDQUFDLEVBQUMsQ0FBQztJQUU3QixPQUFPLENBQUMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQTtBQUNyQixDQUFDO0FBSEQsd0JBR0M7QUFFRCxTQUFnQixVQUFVLENBQUMsT0FBZSxFQUFFLFlBQW9CLEVBQUUsY0FBc0IsRUFBRSxRQUFnQjtJQUN6RyxPQUFPLGNBQWMsR0FBRyxDQUFDLE9BQU8sSUFBSSxRQUFRLENBQUMsR0FBRyxPQUFPLEdBQUcsWUFBWSxDQUFDO0FBQ3hFLENBQUM7QUFGRCxnQ0FFQztBQUVELFNBQWdCLFdBQVcsQ0FBQyxPQUFlLEVBQUUsWUFBb0IsRUFBRSxjQUFzQixFQUFFLFFBQWdCO0lBQzFHLE9BQU8sQ0FBQyxjQUFjLEdBQUcsQ0FBQyxPQUFPLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFDLEdBQUcsWUFBWSxDQUFDO0FBQy9FLENBQUM7QUFGRCxrQ0FFQztBQUVELFNBQWdCLGFBQWEsQ0FBQyxPQUFlLEVBQUUsWUFBb0IsRUFBRSxjQUFzQixFQUFFLFFBQWdCO0lBQzVHLElBQUksQ0FBQyxPQUFPLElBQUksUUFBUSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRTtRQUNsQyxPQUFPLGNBQWMsR0FBRyxDQUFDLEdBQUcsT0FBTyxHQUFHLE9BQU8sR0FBRyxZQUFZLENBQUM7S0FDN0Q7SUFDRCxPQUFPLENBQUMsY0FBYyxHQUFHLENBQUMsR0FBRyxDQUFDLEVBQUUsT0FBTyxHQUFHLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLFlBQVksQ0FBQztBQUM3RSxDQUFDO0FBTEQsc0NBS0M7QUFFRCxTQUFnQixXQUFXLENBQUMsT0FBZSxFQUFFLFlBQW9CLEVBQUUsY0FBc0IsRUFBRSxRQUFnQjtJQUMxRyxPQUFPLGNBQWMsR0FBRyxDQUFDLE9BQU8sSUFBSSxRQUFRLENBQUMsR0FBRyxPQUFPLEdBQUcsT0FBTyxHQUFHLFlBQVksQ0FBQztBQUNsRixDQUFDO0FBRkQsa0NBRUM7QUFFRCxTQUFnQixZQUFZLENBQUMsT0FBZSxFQUFFLFlBQW9CLEVBQUUsY0FBc0IsRUFBRSxRQUFnQjtJQUMzRyxPQUFPLGNBQWMsR0FBRyxDQUFDLENBQUMsT0FBTyxHQUFHLE9BQU8sR0FBRyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsT0FBTyxHQUFHLE9BQU8sR0FBRyxDQUFDLENBQUMsR0FBRyxZQUFZLENBQUM7QUFDckcsQ0FBQztBQUZELG9DQUVDO0FBRUQsU0FBZ0IsY0FBYyxDQUFDLE9BQWUsRUFBRSxZQUFvQixFQUFFLGNBQXNCLEVBQUUsUUFBZ0I7SUFDN0csSUFBSSxDQUFDLE9BQU8sSUFBSSxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFO1FBQ2xDLE9BQU8sY0FBYyxHQUFHLENBQUMsR0FBRyxPQUFPLEdBQUcsT0FBTyxHQUFHLE9BQU8sR0FBRyxZQUFZLENBQUM7S0FDdkU7SUFDRCxPQUFPLGNBQWMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sSUFBSSxDQUFDLENBQUMsR0FBRyxPQUFPLEdBQUcsT0FBTyxHQUFHLENBQUMsQ0FBQyxHQUFHLFlBQVksQ0FBQztBQUNyRixDQUFDO0FBTEQsd0NBS0M7QUFFRCxTQUFnQixXQUFXLENBQUMsT0FBZSxFQUFFLFlBQW9CLEVBQUUsY0FBc0IsRUFBRSxRQUFnQjtJQUMxRyxPQUFPLGNBQWMsR0FBRyxDQUFDLE9BQU8sSUFBSSxRQUFRLENBQUMsR0FBRyxPQUFPLEdBQUcsT0FBTyxHQUFHLE9BQU8sR0FBRyxZQUFZLENBQUM7QUFDNUYsQ0FBQztBQUZELGtDQUVDO0FBRUQsU0FBZ0IsWUFBWSxDQUFDLE9BQWUsRUFBRSxZQUFvQixFQUFFLGNBQXNCLEVBQUUsUUFBZ0I7SUFDM0csT0FBTyxDQUFDLGNBQWMsR0FBRyxDQUFDLENBQUMsT0FBTyxHQUFHLE9BQU8sR0FBRyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsT0FBTyxHQUFHLE9BQU8sR0FBRyxPQUFPLEdBQUcsQ0FBQyxDQUFDLEdBQUcsWUFBWSxDQUFDO0FBQ2hILENBQUM7QUFGRCxvQ0FFQztBQUVELFNBQWdCLGNBQWMsQ0FBQyxPQUFlLEVBQUUsWUFBb0IsRUFBRSxjQUFzQixFQUFFLFFBQWdCO0lBQzdHLElBQUksQ0FBQyxPQUFPLElBQUksUUFBUSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRTtRQUNsQyxPQUFPLGNBQWMsR0FBRyxDQUFDLEdBQUcsT0FBTyxHQUFHLE9BQU8sR0FBRyxPQUFPLEdBQUcsT0FBTyxHQUFHLFlBQVksQ0FBQztLQUNqRjtJQUNELE9BQU8sQ0FBQyxjQUFjLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLElBQUksQ0FBQyxDQUFDLEdBQUcsT0FBTyxHQUFHLE9BQU8sR0FBRyxPQUFPLEdBQUcsQ0FBQyxDQUFDLEdBQUcsWUFBWSxDQUFDO0FBQ2hHLENBQUM7QUFMRCx3Q0FLQztBQUVELFNBQWdCLFdBQVcsQ0FBQyxPQUFlLEVBQUUsWUFBb0IsRUFBRSxjQUFzQixFQUFFLFFBQWdCO0lBQzFHLE9BQU8sY0FBYyxHQUFHLENBQUMsT0FBTyxJQUFJLFFBQVEsQ0FBQyxHQUFHLE9BQU8sR0FBRyxPQUFPLEdBQUcsT0FBTyxHQUFHLE9BQU8sR0FBRyxZQUFZLENBQUM7QUFDdEcsQ0FBQztBQUZELGtDQUVDO0FBRUQsU0FBZ0IsWUFBWSxDQUFDLE9BQWUsRUFBRSxZQUFvQixFQUFFLGNBQXNCLEVBQUUsUUFBZ0I7SUFDM0csT0FBTyxjQUFjLEdBQUcsQ0FBQyxDQUFDLE9BQU8sR0FBRyxPQUFPLEdBQUcsUUFBUSxHQUFHLENBQUMsQ0FBQyxHQUFHLE9BQU8sR0FBRyxPQUFPLEdBQUcsT0FBTyxHQUFHLE9BQU8sR0FBRyxDQUFDLENBQUMsR0FBRyxZQUFZLENBQUM7QUFDekgsQ0FBQztBQUZELG9DQUVDO0FBRUQsU0FBZ0IsY0FBYyxDQUFDLE9BQWUsRUFBRSxZQUFvQixFQUFFLGNBQXNCLEVBQUUsUUFBZ0I7SUFDN0csSUFBSSxDQUFDLE9BQU8sSUFBSSxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxFQUFFO1FBQ2xDLE9BQU8sY0FBYyxHQUFHLENBQUMsR0FBRyxPQUFPLEdBQUcsT0FBTyxHQUFHLE9BQU8sR0FBRyxPQUFPLEdBQUcsT0FBTyxHQUFHLFlBQVksQ0FBQztLQUMzRjtJQUNELE9BQU8sY0FBYyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxJQUFJLENBQUMsQ0FBQyxHQUFHLE9BQU8sR0FBRyxPQUFPLEdBQUcsT0FBTyxHQUFHLE9BQU8sR0FBRyxDQUFDLENBQUMsR0FBRyxZQUFZLENBQUM7QUFDekcsQ0FBQztBQUxELHdDQUtDO0FBRUQsU0FBZ0IsVUFBVSxDQUFDLE9BQWUsRUFBRSxZQUFvQixFQUFFLGNBQXNCLEVBQUUsUUFBZ0I7SUFDekcsT0FBTyxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sR0FBRyxRQUFRLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsY0FBYyxHQUFHLFlBQVksQ0FBQztBQUN2RyxDQUFDO0FBRkQsZ0NBRUM7QUFFRCxTQUFnQixXQUFXLENBQUMsT0FBZSxFQUFFLFlBQW9CLEVBQUUsY0FBc0IsRUFBRSxRQUFnQjtJQUMxRyxPQUFPLGNBQWMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLE9BQU8sR0FBRyxRQUFRLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsWUFBWSxDQUFDO0FBQ3JGLENBQUM7QUFGRCxrQ0FFQztBQUVELFNBQWdCLGFBQWEsQ0FBQyxPQUFlLEVBQUUsWUFBb0IsRUFBRSxjQUFzQixFQUFFLFFBQWdCO0lBQzVHLE9BQU8sQ0FBQyxjQUFjLEdBQUcsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLE9BQU8sR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxZQUFZLENBQUM7QUFDMUYsQ0FBQztBQUZELHNDQUVDO0FBRUQsU0FBZ0IsVUFBVSxDQUFDLE9BQWUsRUFBRSxZQUFvQixFQUFFLGNBQXNCLEVBQUUsUUFBZ0I7SUFDekcsT0FBTyxPQUFPLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxPQUFPLEdBQUcsUUFBUSxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsWUFBWSxDQUFDO0FBQ2xILENBQUM7QUFGRCxnQ0FFQztBQUVELFNBQWdCLFdBQVcsQ0FBQyxPQUFlLEVBQUUsWUFBb0IsRUFBRSxjQUFzQixFQUFFLFFBQWdCO0lBQzFHLE9BQU8sT0FBTyxLQUFLLFFBQVE7UUFDMUIsQ0FBQyxDQUFDLFlBQVksR0FBRyxjQUFjO1FBQy9CLENBQUMsQ0FBQyxjQUFjLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLE9BQU8sR0FBRyxRQUFRLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxZQUFZLENBQUM7QUFDakYsQ0FBQztBQUpELGtDQUlDO0FBRUQsU0FBZ0IsYUFBYSxDQUFDLE9BQWUsRUFBRSxZQUFvQixFQUFFLGNBQXNCLEVBQUUsUUFBZ0I7SUFDNUcsSUFBSSxPQUFPLEtBQUssQ0FBQyxFQUFFO1FBQ2xCLE9BQU8sWUFBWSxDQUFDO0tBQ3BCO0lBQ0QsSUFBSSxPQUFPLEtBQUssUUFBUSxFQUFFO1FBQ3pCLE9BQU8sWUFBWSxHQUFHLGNBQWMsQ0FBQztLQUNyQztJQUNELElBQUksQ0FBQyxPQUFPLElBQUksUUFBUSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRTtRQUNsQyxPQUFPLGNBQWMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsWUFBWSxDQUFDO0tBQzNFO0lBQ0QsT0FBTyxjQUFjLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxFQUFFLE9BQU8sQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLFlBQVksQ0FBQztBQUNoRixDQUFDO0FBWEQsc0NBV0M7QUFFRCxTQUFnQixVQUFVLENBQUMsT0FBZSxFQUFFLFlBQW9CLEVBQUUsY0FBc0IsRUFBRSxRQUFnQjtJQUN6RyxPQUFPLENBQUMsY0FBYyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUcsQ0FBQyxPQUFPLElBQUksUUFBUSxDQUFDLEdBQUcsT0FBTyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsWUFBWSxDQUFDO0FBQzlGLENBQUM7QUFGRCxnQ0FFQztBQUVELFNBQWdCLFdBQVcsQ0FBQyxPQUFlLEVBQUUsWUFBb0IsRUFBRSxjQUFzQixFQUFFLFFBQWdCO0lBQzFHLE9BQU8sY0FBYyxHQUFHLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLENBQUMsT0FBTyxHQUFHLE9BQU8sR0FBRyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsT0FBTyxDQUFDLEdBQUcsWUFBWSxDQUFDO0FBQ3BHLENBQUM7QUFGRCxrQ0FFQztBQUVELFNBQWdCLGFBQWEsQ0FBQyxPQUFlLEVBQUUsWUFBb0IsRUFBRSxjQUFzQixFQUFFLFFBQWdCO0lBQzVHLElBQUksQ0FBQyxPQUFPLElBQUksUUFBUSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsRUFBRTtRQUNsQyxPQUFPLENBQUMsY0FBYyxHQUFHLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxHQUFHLE9BQU8sR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxZQUFZLENBQUM7S0FDbkY7SUFDRCxPQUFPLGNBQWMsR0FBRyxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLE9BQU8sSUFBSSxDQUFDLENBQUMsR0FBRyxPQUFPLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxZQUFZLENBQUM7QUFDMUYsQ0FBQztBQUxELHNDQUtDO0FBRUQsU0FBZ0IsYUFBYSxDQUFDLE9BQWUsRUFBRSxZQUFvQixFQUFFLGNBQXNCLEVBQUUsUUFBZ0I7SUFDNUcsSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDO0lBQ2hCLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNWLElBQUksQ0FBQyxHQUFHLGNBQWMsQ0FBQztJQUN2QixJQUFJLE9BQU8sS0FBSyxDQUFDLEVBQUU7UUFDbEIsT0FBTyxZQUFZLENBQUM7S0FDcEI7SUFDRCxJQUFJLENBQUMsT0FBTyxJQUFJLFFBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUNoQyxPQUFPLFlBQVksR0FBRyxjQUFjLENBQUM7S0FDckM7SUFDRCxJQUFJLENBQUMsQ0FBQyxFQUFFO1FBQ1AsQ0FBQyxHQUFHLFFBQVEsR0FBRyxHQUFHLENBQUM7S0FDbkI7SUFDRCxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxFQUFFO1FBQ2pDLENBQUMsR0FBRyxjQUFjLENBQUM7UUFDbkIsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDVjtTQUFNO1FBQ04sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLEdBQUcsQ0FBQyxDQUFDLENBQUM7S0FDdEQ7SUFDRCxPQUFPLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsRUFBRSxHQUFHLENBQUMsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sR0FBRyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsWUFBWSxDQUFDO0FBQ3hILENBQUM7QUFwQkQsc0NBb0JDO0FBRUQsU0FBZ0IsY0FBYyxDQUFDLE9BQWUsRUFBRSxZQUFvQixFQUFFLGNBQXNCLEVBQUUsUUFBZ0I7SUFDN0csSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDO0lBQ2hCLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNWLElBQUksQ0FBQyxHQUFHLGNBQWMsQ0FBQztJQUN2QixJQUFJLE9BQU8sS0FBSyxDQUFDLEVBQUU7UUFDbEIsT0FBTyxZQUFZLENBQUM7S0FDcEI7SUFDRCxJQUFJLENBQUMsT0FBTyxJQUFJLFFBQVEsQ0FBQyxLQUFLLENBQUMsRUFBRTtRQUNoQyxPQUFPLFlBQVksR0FBRyxjQUFjLENBQUM7S0FDckM7SUFDRCxJQUFJLENBQUMsQ0FBQyxFQUFFO1FBQ1AsQ0FBQyxHQUFHLFFBQVEsR0FBRyxHQUFHLENBQUM7S0FDbkI7SUFDRCxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxFQUFFO1FBQ2pDLENBQUMsR0FBRyxjQUFjLENBQUM7UUFDbkIsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDVjtTQUFNO1FBQ04sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLEdBQUcsQ0FBQyxDQUFDLENBQUM7S0FDdEQ7SUFDRCxPQUFPLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxDQUFDLEVBQUUsR0FBRyxPQUFPLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxHQUFHLFFBQVEsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsY0FBYyxHQUFHLFlBQVksQ0FBQztBQUNoSSxDQUFDO0FBcEJELHdDQW9CQztBQUVELFNBQWdCLGdCQUFnQixDQUFDLE9BQWUsRUFBRSxZQUFvQixFQUFFLGNBQXNCLEVBQUUsUUFBZ0I7SUFDL0csSUFBSSxDQUFDLEdBQUcsT0FBTyxDQUFDO0lBQ2hCLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUNWLElBQUksQ0FBQyxHQUFHLGNBQWMsQ0FBQztJQUN2QixJQUFJLE9BQU8sS0FBSyxDQUFDLEVBQUU7UUFDbEIsT0FBTyxZQUFZLENBQUM7S0FDcEI7SUFDRCxJQUFJLENBQUMsT0FBTyxJQUFJLFFBQVEsR0FBRyxDQUFDLENBQUMsS0FBSyxDQUFDLEVBQUU7UUFDcEMsT0FBTyxZQUFZLEdBQUcsY0FBYyxDQUFDO0tBQ3JDO0lBQ0QsSUFBSSxDQUFDLENBQUMsRUFBRTtRQUNQLENBQUMsR0FBRyxRQUFRLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUM7S0FDM0I7SUFDRCxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLGNBQWMsQ0FBQyxFQUFFO1FBQ2pDLENBQUMsR0FBRyxjQUFjLENBQUM7UUFDbkIsQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUM7S0FDVjtTQUFNO1FBQ04sQ0FBQyxHQUFHLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxjQUFjLEdBQUcsQ0FBQyxDQUFDLENBQUM7S0FDdEQ7SUFDRCxJQUFJLE9BQU8sR0FBRyxDQUFDLEVBQUU7UUFDaEIsT0FBTyxDQUFDLEdBQUcsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBRSxFQUFFLEdBQUcsQ0FBQyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsT0FBTyxHQUFHLFFBQVEsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUMsR0FBRyxZQUFZLENBQUM7S0FDN0g7SUFDRCxPQUFPLENBQ04sQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLENBQUMsRUFBRSxHQUFHLENBQUMsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFDLE9BQU8sR0FBRyxRQUFRLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEdBQUcsR0FBRyxjQUFjLEdBQUcsWUFBWSxDQUNwSSxDQUFDO0FBQ0gsQ0FBQztBQXpCRCw0Q0F5QkM7QUFFRCxTQUFnQixVQUFVLENBQUMsT0FBZSxFQUFFLFlBQW9CLEVBQUUsY0FBc0IsRUFBRSxRQUFnQixFQUFFLENBQW1CO0lBQW5CLGtCQUFBLEVBQUEsV0FBbUI7SUFDOUgsT0FBTyxjQUFjLEdBQUcsQ0FBQyxPQUFPLElBQUksUUFBUSxDQUFDLEdBQUcsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsT0FBTyxHQUFHLENBQUMsQ0FBQyxHQUFHLFlBQVksQ0FBQztBQUNsRyxDQUFDO0FBRkQsZ0NBRUM7QUFFRCxTQUFnQixXQUFXLENBQUMsT0FBZSxFQUFFLFlBQW9CLEVBQUUsY0FBc0IsRUFBRSxRQUFnQixFQUFFLENBQW1CO0lBQW5CLGtCQUFBLEVBQUEsV0FBbUI7SUFDL0gsT0FBTyxjQUFjLEdBQUcsQ0FBQyxDQUFDLE9BQU8sR0FBRyxPQUFPLEdBQUcsUUFBUSxHQUFHLENBQUMsQ0FBQyxHQUFHLE9BQU8sR0FBRyxDQUFDLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLE9BQU8sR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxZQUFZLENBQUM7QUFDckgsQ0FBQztBQUZELGtDQUVDO0FBRUQsU0FBZ0IsYUFBYSxDQUM1QixPQUFlLEVBQ2YsWUFBb0IsRUFDcEIsY0FBc0IsRUFDdEIsUUFBZ0IsRUFDaEIsQ0FBbUI7SUFBbkIsa0JBQUEsRUFBQSxXQUFtQjtJQUVuQixJQUFJLENBQUMsT0FBTyxJQUFJLFFBQVEsR0FBRyxDQUFDLENBQUMsR0FBRyxDQUFDLEVBQUU7UUFDbEMsT0FBTyxjQUFjLEdBQUcsQ0FBQyxHQUFHLENBQUMsT0FBTyxHQUFHLE9BQU8sR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLElBQUksS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsWUFBWSxDQUFDO0tBQ3BHO0lBQ0QsT0FBTyxjQUFjLEdBQUcsQ0FBQyxHQUFHLENBQUMsQ0FBQyxPQUFPLElBQUksQ0FBQyxDQUFDLEdBQUcsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUMsR0FBRyxPQUFPLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsWUFBWSxDQUFDO0FBQ2hILENBQUM7QUFYRCxzQ0FXQztBQUVELFNBQWdCLFlBQVksQ0FBQyxPQUFlLEVBQUUsWUFBb0IsRUFBRSxjQUFzQixFQUFFLFFBQWdCO0lBQzNHLE9BQU8sY0FBYyxHQUFHLGFBQWEsQ0FBQyxRQUFRLEdBQUcsT0FBTyxFQUFFLENBQUMsRUFBRSxjQUFjLEVBQUUsUUFBUSxDQUFDLEdBQUcsWUFBWSxDQUFDO0FBQ3ZHLENBQUM7QUFGRCxvQ0FFQztBQUVELFNBQWdCLGFBQWEsQ0FBQyxPQUFlLEVBQUUsWUFBb0IsRUFBRSxjQUFzQixFQUFFLFFBQWdCO0lBQzVHLElBQUksQ0FBQyxPQUFPLElBQUksUUFBUSxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksRUFBRTtRQUNyQyxPQUFPLGNBQWMsR0FBRyxDQUFDLE1BQU0sR0FBRyxPQUFPLEdBQUcsT0FBTyxDQUFDLEdBQUcsWUFBWSxDQUFDO0tBQ3BFO1NBQU0sSUFBSSxPQUFPLEdBQUcsQ0FBQyxHQUFHLElBQUksRUFBRTtRQUM5QixPQUFPLGNBQWMsR0FBRyxDQUFDLE1BQU0sR0FBRyxDQUFDLE9BQU8sSUFBSSxHQUFHLEdBQUcsSUFBSSxDQUFDLEdBQUcsT0FBTyxHQUFHLElBQUksQ0FBQyxHQUFHLFlBQVksQ0FBQztLQUMzRjtTQUFNLElBQUksT0FBTyxHQUFHLEdBQUcsR0FBRyxJQUFJLEVBQUU7UUFDaEMsT0FBTyxjQUFjLEdBQUcsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxPQUFPLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxHQUFHLE9BQU8sR0FBRyxNQUFNLENBQUMsR0FBRyxZQUFZLENBQUM7S0FDOUY7U0FBTTtRQUNOLE9BQU8sY0FBYyxHQUFHLENBQUMsTUFBTSxHQUFHLENBQUMsT0FBTyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsR0FBRyxPQUFPLEdBQUcsUUFBUSxDQUFDLEdBQUcsWUFBWSxDQUFDO0tBQ2pHO0FBQ0YsQ0FBQztBQVZELHNDQVVDO0FBRUQsU0FBZ0IsZUFBZSxDQUFDLE9BQWUsRUFBRSxZQUFvQixFQUFFLGNBQXNCLEVBQUUsUUFBZ0I7SUFDOUcsSUFBSSxPQUFPLEdBQUcsUUFBUSxHQUFHLENBQUMsRUFBRTtRQUMzQixPQUFPLFlBQVksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxFQUFFLENBQUMsRUFBRSxjQUFjLEVBQUUsUUFBUSxDQUFDLEdBQUcsR0FBRyxHQUFHLFlBQVksQ0FBQztLQUNuRjtJQUNELE9BQU8sYUFBYSxDQUFDLE9BQU8sR0FBRyxDQUFDLEdBQUcsUUFBUSxFQUFFLENBQUMsRUFBRSxjQUFjLEVBQUUsUUFBUSxDQUFDLEdBQUcsR0FBRyxHQUFHLGNBQWMsR0FBRyxHQUFHLEdBQUcsWUFBWSxDQUFDO0FBQ3ZILENBQUM7QUFMRCwwQ0FLQyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxuZXhwb3J0IGZ1bmN0aW9uIGxpbmVhcih0LGIsYyxkKTpudW1iZXJcbntcblx0cmV0dXJuIGMgKiB0IC8gZCArIGIgXG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5RdWFkKGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xuXHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgKiAoZWxhcHNlZCAvPSBkdXJhdGlvbikgKiBlbGFwc2VkICsgaW5pdGlhbFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZU91dFF1YWQoZWxhcHNlZDogbnVtYmVyLCBpbml0aWFsVmFsdWU6IG51bWJlciwgYW1vdW50T2ZDaGFuZ2U6IG51bWJlciwgZHVyYXRpb246IG51bWJlcik6IG51bWJlciB7XG5cdHJldHVybiAtYW1vdW50T2ZDaGFuZ2UgKiAoZWxhcHNlZCAvPSBkdXJhdGlvbikgKiAoZWxhcHNlZCAtIDIpICsgaW5pdGlhbFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluT3V0UXVhZChlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcblx0aWYgKChlbGFwc2VkIC89IGR1cmF0aW9uIC8gMikgPCAxKSB7XG5cdFx0cmV0dXJuIGFtb3VudE9mQ2hhbmdlIC8gMiAqIGVsYXBzZWQgKiBlbGFwc2VkICsgaW5pdGlhbFZhbHVlO1xuXHR9XG5cdHJldHVybiAtYW1vdW50T2ZDaGFuZ2UgLyAyICogKC0tZWxhcHNlZCAqIChlbGFwc2VkIC0gMikgLSAxKSArIGluaXRpYWxWYWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVhc2VJbkN1YmljKGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xuXHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgKiAoZWxhcHNlZCAvPSBkdXJhdGlvbikgKiBlbGFwc2VkICogZWxhcHNlZCArIGluaXRpYWxWYWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVhc2VPdXRDdWJpYyhlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcblx0cmV0dXJuIGFtb3VudE9mQ2hhbmdlICogKChlbGFwc2VkID0gZWxhcHNlZCAvIGR1cmF0aW9uIC0gMSkgKiBlbGFwc2VkICogZWxhcHNlZCArIDEpICsgaW5pdGlhbFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluT3V0Q3ViaWMoZWxhcHNlZDogbnVtYmVyLCBpbml0aWFsVmFsdWU6IG51bWJlciwgYW1vdW50T2ZDaGFuZ2U6IG51bWJlciwgZHVyYXRpb246IG51bWJlcik6IG51bWJlciB7XG5cdGlmICgoZWxhcHNlZCAvPSBkdXJhdGlvbiAvIDIpIDwgMSkge1xuXHRcdHJldHVybiBhbW91bnRPZkNoYW5nZSAvIDIgKiBlbGFwc2VkICogZWxhcHNlZCAqIGVsYXBzZWQgKyBpbml0aWFsVmFsdWU7XG5cdH1cblx0cmV0dXJuIGFtb3VudE9mQ2hhbmdlIC8gMiAqICgoZWxhcHNlZCAtPSAyKSAqIGVsYXBzZWQgKiBlbGFwc2VkICsgMikgKyBpbml0aWFsVmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5RdWFydChlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcblx0cmV0dXJuIGFtb3VudE9mQ2hhbmdlICogKGVsYXBzZWQgLz0gZHVyYXRpb24pICogZWxhcHNlZCAqIGVsYXBzZWQgKiBlbGFwc2VkICsgaW5pdGlhbFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZU91dFF1YXJ0KGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xuXHRyZXR1cm4gLWFtb3VudE9mQ2hhbmdlICogKChlbGFwc2VkID0gZWxhcHNlZCAvIGR1cmF0aW9uIC0gMSkgKiBlbGFwc2VkICogZWxhcHNlZCAqIGVsYXBzZWQgLSAxKSArIGluaXRpYWxWYWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVhc2VJbk91dFF1YXJ0KGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xuXHRpZiAoKGVsYXBzZWQgLz0gZHVyYXRpb24gLyAyKSA8IDEpIHtcblx0XHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgLyAyICogZWxhcHNlZCAqIGVsYXBzZWQgKiBlbGFwc2VkICogZWxhcHNlZCArIGluaXRpYWxWYWx1ZTtcblx0fVxuXHRyZXR1cm4gLWFtb3VudE9mQ2hhbmdlIC8gMiAqICgoZWxhcHNlZCAtPSAyKSAqIGVsYXBzZWQgKiBlbGFwc2VkICogZWxhcHNlZCAtIDIpICsgaW5pdGlhbFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluUXVpbnQoZWxhcHNlZDogbnVtYmVyLCBpbml0aWFsVmFsdWU6IG51bWJlciwgYW1vdW50T2ZDaGFuZ2U6IG51bWJlciwgZHVyYXRpb246IG51bWJlcik6IG51bWJlciB7XG5cdHJldHVybiBhbW91bnRPZkNoYW5nZSAqIChlbGFwc2VkIC89IGR1cmF0aW9uKSAqIGVsYXBzZWQgKiBlbGFwc2VkICogZWxhcHNlZCAqIGVsYXBzZWQgKyBpbml0aWFsVmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlYXNlT3V0UXVpbnQoZWxhcHNlZDogbnVtYmVyLCBpbml0aWFsVmFsdWU6IG51bWJlciwgYW1vdW50T2ZDaGFuZ2U6IG51bWJlciwgZHVyYXRpb246IG51bWJlcik6IG51bWJlciB7XG5cdHJldHVybiBhbW91bnRPZkNoYW5nZSAqICgoZWxhcHNlZCA9IGVsYXBzZWQgLyBkdXJhdGlvbiAtIDEpICogZWxhcHNlZCAqIGVsYXBzZWQgKiBlbGFwc2VkICogZWxhcHNlZCArIDEpICsgaW5pdGlhbFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluT3V0UXVpbnQoZWxhcHNlZDogbnVtYmVyLCBpbml0aWFsVmFsdWU6IG51bWJlciwgYW1vdW50T2ZDaGFuZ2U6IG51bWJlciwgZHVyYXRpb246IG51bWJlcik6IG51bWJlciB7XG5cdGlmICgoZWxhcHNlZCAvPSBkdXJhdGlvbiAvIDIpIDwgMSkge1xuXHRcdHJldHVybiBhbW91bnRPZkNoYW5nZSAvIDIgKiBlbGFwc2VkICogZWxhcHNlZCAqIGVsYXBzZWQgKiBlbGFwc2VkICogZWxhcHNlZCArIGluaXRpYWxWYWx1ZTtcblx0fVxuXHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgLyAyICogKChlbGFwc2VkIC09IDIpICogZWxhcHNlZCAqIGVsYXBzZWQgKiBlbGFwc2VkICogZWxhcHNlZCArIDIpICsgaW5pdGlhbFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluU2luZShlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcblx0cmV0dXJuIC1hbW91bnRPZkNoYW5nZSAqIE1hdGguY29zKGVsYXBzZWQgLyBkdXJhdGlvbiAqIChNYXRoLlBJIC8gMikpICsgYW1vdW50T2ZDaGFuZ2UgKyBpbml0aWFsVmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlYXNlT3V0U2luZShlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcblx0cmV0dXJuIGFtb3VudE9mQ2hhbmdlICogTWF0aC5zaW4oZWxhcHNlZCAvIGR1cmF0aW9uICogKE1hdGguUEkgLyAyKSkgKyBpbml0aWFsVmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5PdXRTaW5lKGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xuXHRyZXR1cm4gLWFtb3VudE9mQ2hhbmdlIC8gMiAqIChNYXRoLmNvcyhNYXRoLlBJICogZWxhcHNlZCAvIGR1cmF0aW9uKSAtIDEpICsgaW5pdGlhbFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluRXhwbyhlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcblx0cmV0dXJuIGVsYXBzZWQgPT09IDAgPyBpbml0aWFsVmFsdWUgOiBhbW91bnRPZkNoYW5nZSAqIE1hdGgucG93KDIsIDEwICogKGVsYXBzZWQgLyBkdXJhdGlvbiAtIDEpKSArIGluaXRpYWxWYWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVhc2VPdXRFeHBvKGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xuXHRyZXR1cm4gZWxhcHNlZCA9PT0gZHVyYXRpb25cblx0XHQ/IGluaXRpYWxWYWx1ZSArIGFtb3VudE9mQ2hhbmdlXG5cdFx0OiBhbW91bnRPZkNoYW5nZSAqICgtTWF0aC5wb3coMiwgLTEwICogZWxhcHNlZCAvIGR1cmF0aW9uKSArIDEpICsgaW5pdGlhbFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluT3V0RXhwbyhlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcblx0aWYgKGVsYXBzZWQgPT09IDApIHtcblx0XHRyZXR1cm4gaW5pdGlhbFZhbHVlO1xuXHR9XG5cdGlmIChlbGFwc2VkID09PSBkdXJhdGlvbikge1xuXHRcdHJldHVybiBpbml0aWFsVmFsdWUgKyBhbW91bnRPZkNoYW5nZTtcblx0fVxuXHRpZiAoKGVsYXBzZWQgLz0gZHVyYXRpb24gLyAyKSA8IDEpIHtcblx0XHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgLyAyICogTWF0aC5wb3coMiwgMTAgKiAoZWxhcHNlZCAtIDEpKSArIGluaXRpYWxWYWx1ZTtcblx0fVxuXHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgLyAyICogKC1NYXRoLnBvdygyLCAtMTAgKiAtLWVsYXBzZWQpICsgMikgKyBpbml0aWFsVmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5DaXJjKGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xuXHRyZXR1cm4gLWFtb3VudE9mQ2hhbmdlICogKE1hdGguc3FydCgxIC0gKGVsYXBzZWQgLz0gZHVyYXRpb24pICogZWxhcHNlZCkgLSAxKSArIGluaXRpYWxWYWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVhc2VPdXRDaXJjKGVsYXBzZWQ6IG51bWJlciwgaW5pdGlhbFZhbHVlOiBudW1iZXIsIGFtb3VudE9mQ2hhbmdlOiBudW1iZXIsIGR1cmF0aW9uOiBudW1iZXIpOiBudW1iZXIge1xuXHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgKiBNYXRoLnNxcnQoMSAtIChlbGFwc2VkID0gZWxhcHNlZCAvIGR1cmF0aW9uIC0gMSkgKiBlbGFwc2VkKSArIGluaXRpYWxWYWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVhc2VJbk91dENpcmMoZWxhcHNlZDogbnVtYmVyLCBpbml0aWFsVmFsdWU6IG51bWJlciwgYW1vdW50T2ZDaGFuZ2U6IG51bWJlciwgZHVyYXRpb246IG51bWJlcik6IG51bWJlciB7XG5cdGlmICgoZWxhcHNlZCAvPSBkdXJhdGlvbiAvIDIpIDwgMSkge1xuXHRcdHJldHVybiAtYW1vdW50T2ZDaGFuZ2UgLyAyICogKE1hdGguc3FydCgxIC0gZWxhcHNlZCAqIGVsYXBzZWQpIC0gMSkgKyBpbml0aWFsVmFsdWU7XG5cdH1cblx0cmV0dXJuIGFtb3VudE9mQ2hhbmdlIC8gMiAqIChNYXRoLnNxcnQoMSAtIChlbGFwc2VkIC09IDIpICogZWxhcHNlZCkgKyAxKSArIGluaXRpYWxWYWx1ZTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGVhc2VJbkVsYXN0aWMoZWxhcHNlZDogbnVtYmVyLCBpbml0aWFsVmFsdWU6IG51bWJlciwgYW1vdW50T2ZDaGFuZ2U6IG51bWJlciwgZHVyYXRpb246IG51bWJlcik6IG51bWJlciB7XG5cdGxldCBzID0gMS43MDE1ODtcblx0bGV0IHAgPSAwO1xuXHRsZXQgYSA9IGFtb3VudE9mQ2hhbmdlO1xuXHRpZiAoZWxhcHNlZCA9PT0gMCkge1xuXHRcdHJldHVybiBpbml0aWFsVmFsdWU7XG5cdH1cblx0aWYgKChlbGFwc2VkIC89IGR1cmF0aW9uKSA9PT0gMSkge1xuXHRcdHJldHVybiBpbml0aWFsVmFsdWUgKyBhbW91bnRPZkNoYW5nZTtcblx0fVxuXHRpZiAoIXApIHtcblx0XHRwID0gZHVyYXRpb24gKiAwLjM7XG5cdH1cblx0aWYgKGEgPCBNYXRoLmFicyhhbW91bnRPZkNoYW5nZSkpIHtcblx0XHRhID0gYW1vdW50T2ZDaGFuZ2U7XG5cdFx0cyA9IHAgLyA0O1xuXHR9IGVsc2Uge1xuXHRcdHMgPSBwIC8gKDIgKiBNYXRoLlBJKSAqIE1hdGguYXNpbihhbW91bnRPZkNoYW5nZSAvIGEpO1xuXHR9XG5cdHJldHVybiAtKGEgKiBNYXRoLnBvdygyLCAxMCAqIChlbGFwc2VkIC09IDEpKSAqIE1hdGguc2luKChlbGFwc2VkICogZHVyYXRpb24gLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSkgKyBpbml0aWFsVmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlYXNlT3V0RWxhc3RpYyhlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcblx0bGV0IHMgPSAxLjcwMTU4O1xuXHRsZXQgcCA9IDA7XG5cdGxldCBhID0gYW1vdW50T2ZDaGFuZ2U7XG5cdGlmIChlbGFwc2VkID09PSAwKSB7XG5cdFx0cmV0dXJuIGluaXRpYWxWYWx1ZTtcblx0fVxuXHRpZiAoKGVsYXBzZWQgLz0gZHVyYXRpb24pID09PSAxKSB7XG5cdFx0cmV0dXJuIGluaXRpYWxWYWx1ZSArIGFtb3VudE9mQ2hhbmdlO1xuXHR9XG5cdGlmICghcCkge1xuXHRcdHAgPSBkdXJhdGlvbiAqIDAuMztcblx0fVxuXHRpZiAoYSA8IE1hdGguYWJzKGFtb3VudE9mQ2hhbmdlKSkge1xuXHRcdGEgPSBhbW91bnRPZkNoYW5nZTtcblx0XHRzID0gcCAvIDQ7XG5cdH0gZWxzZSB7XG5cdFx0cyA9IHAgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKGFtb3VudE9mQ2hhbmdlIC8gYSk7XG5cdH1cblx0cmV0dXJuIGEgKiBNYXRoLnBvdygyLCAtMTAgKiBlbGFwc2VkKSAqIE1hdGguc2luKChlbGFwc2VkICogZHVyYXRpb24gLSBzKSAqICgyICogTWF0aC5QSSkgLyBwKSArIGFtb3VudE9mQ2hhbmdlICsgaW5pdGlhbFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluT3V0RWxhc3RpYyhlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcblx0bGV0IHMgPSAxLjcwMTU4O1xuXHRsZXQgcCA9IDA7XG5cdGxldCBhID0gYW1vdW50T2ZDaGFuZ2U7XG5cdGlmIChlbGFwc2VkID09PSAwKSB7XG5cdFx0cmV0dXJuIGluaXRpYWxWYWx1ZTtcblx0fVxuXHRpZiAoKGVsYXBzZWQgLz0gZHVyYXRpb24gLyAyKSA9PT0gMikge1xuXHRcdHJldHVybiBpbml0aWFsVmFsdWUgKyBhbW91bnRPZkNoYW5nZTtcblx0fVxuXHRpZiAoIXApIHtcblx0XHRwID0gZHVyYXRpb24gKiAoMC4zICogMS41KTtcblx0fVxuXHRpZiAoYSA8IE1hdGguYWJzKGFtb3VudE9mQ2hhbmdlKSkge1xuXHRcdGEgPSBhbW91bnRPZkNoYW5nZTtcblx0XHRzID0gcCAvIDQ7XG5cdH0gZWxzZSB7XG5cdFx0cyA9IHAgLyAoMiAqIE1hdGguUEkpICogTWF0aC5hc2luKGFtb3VudE9mQ2hhbmdlIC8gYSk7XG5cdH1cblx0aWYgKGVsYXBzZWQgPCAxKSB7XG5cdFx0cmV0dXJuIC0wLjUgKiAoYSAqIE1hdGgucG93KDIsIDEwICogKGVsYXBzZWQgLT0gMSkpICogTWF0aC5zaW4oKGVsYXBzZWQgKiBkdXJhdGlvbiAtIHMpICogKDIgKiBNYXRoLlBJKSAvIHApKSArIGluaXRpYWxWYWx1ZTtcblx0fVxuXHRyZXR1cm4gKFxuXHRcdGEgKiBNYXRoLnBvdygyLCAtMTAgKiAoZWxhcHNlZCAtPSAxKSkgKiBNYXRoLnNpbigoZWxhcHNlZCAqIGR1cmF0aW9uIC0gcykgKiAoMiAqIE1hdGguUEkpIC8gcCkgKiAwLjUgKyBhbW91bnRPZkNoYW5nZSArIGluaXRpYWxWYWx1ZVxuXHQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZUluQmFjayhlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyLCBzOiBudW1iZXIgPSAxLjcwMTU4KTogbnVtYmVyIHtcblx0cmV0dXJuIGFtb3VudE9mQ2hhbmdlICogKGVsYXBzZWQgLz0gZHVyYXRpb24pICogZWxhcHNlZCAqICgocyArIDEpICogZWxhcHNlZCAtIHMpICsgaW5pdGlhbFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZU91dEJhY2soZWxhcHNlZDogbnVtYmVyLCBpbml0aWFsVmFsdWU6IG51bWJlciwgYW1vdW50T2ZDaGFuZ2U6IG51bWJlciwgZHVyYXRpb246IG51bWJlciwgczogbnVtYmVyID0gMS43MDE1OCk6IG51bWJlciB7XG5cdHJldHVybiBhbW91bnRPZkNoYW5nZSAqICgoZWxhcHNlZCA9IGVsYXBzZWQgLyBkdXJhdGlvbiAtIDEpICogZWxhcHNlZCAqICgocyArIDEpICogZWxhcHNlZCArIHMpICsgMSkgKyBpbml0aWFsVmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5PdXRCYWNrKFxuXHRlbGFwc2VkOiBudW1iZXIsXG5cdGluaXRpYWxWYWx1ZTogbnVtYmVyLFxuXHRhbW91bnRPZkNoYW5nZTogbnVtYmVyLFxuXHRkdXJhdGlvbjogbnVtYmVyLFxuXHRzOiBudW1iZXIgPSAxLjcwMTU4XG4pOiBudW1iZXIge1xuXHRpZiAoKGVsYXBzZWQgLz0gZHVyYXRpb24gLyAyKSA8IDEpIHtcblx0XHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgLyAyICogKGVsYXBzZWQgKiBlbGFwc2VkICogKCgocyAqPSAxLjUyNSkgKyAxKSAqIGVsYXBzZWQgLSBzKSkgKyBpbml0aWFsVmFsdWU7XG5cdH1cblx0cmV0dXJuIGFtb3VudE9mQ2hhbmdlIC8gMiAqICgoZWxhcHNlZCAtPSAyKSAqIGVsYXBzZWQgKiAoKChzICo9IDEuNTI1KSArIDEpICogZWxhcHNlZCArIHMpICsgMikgKyBpbml0aWFsVmFsdWU7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5Cb3VuY2UoZWxhcHNlZDogbnVtYmVyLCBpbml0aWFsVmFsdWU6IG51bWJlciwgYW1vdW50T2ZDaGFuZ2U6IG51bWJlciwgZHVyYXRpb246IG51bWJlcik6IG51bWJlciB7XG5cdHJldHVybiBhbW91bnRPZkNoYW5nZSAtIGVhc2VPdXRCb3VuY2UoZHVyYXRpb24gLSBlbGFwc2VkLCAwLCBhbW91bnRPZkNoYW5nZSwgZHVyYXRpb24pICsgaW5pdGlhbFZhbHVlO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gZWFzZU91dEJvdW5jZShlbGFwc2VkOiBudW1iZXIsIGluaXRpYWxWYWx1ZTogbnVtYmVyLCBhbW91bnRPZkNoYW5nZTogbnVtYmVyLCBkdXJhdGlvbjogbnVtYmVyKTogbnVtYmVyIHtcblx0aWYgKChlbGFwc2VkIC89IGR1cmF0aW9uKSA8IDEgLyAyLjc1KSB7XG5cdFx0cmV0dXJuIGFtb3VudE9mQ2hhbmdlICogKDcuNTYyNSAqIGVsYXBzZWQgKiBlbGFwc2VkKSArIGluaXRpYWxWYWx1ZTtcblx0fSBlbHNlIGlmIChlbGFwc2VkIDwgMiAvIDIuNzUpIHtcblx0XHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgKiAoNy41NjI1ICogKGVsYXBzZWQgLT0gMS41IC8gMi43NSkgKiBlbGFwc2VkICsgMC43NSkgKyBpbml0aWFsVmFsdWU7XG5cdH0gZWxzZSBpZiAoZWxhcHNlZCA8IDIuNSAvIDIuNzUpIHtcblx0XHRyZXR1cm4gYW1vdW50T2ZDaGFuZ2UgKiAoNy41NjI1ICogKGVsYXBzZWQgLT0gMi4yNSAvIDIuNzUpICogZWxhcHNlZCArIDAuOTM3NSkgKyBpbml0aWFsVmFsdWU7XG5cdH0gZWxzZSB7XG5cdFx0cmV0dXJuIGFtb3VudE9mQ2hhbmdlICogKDcuNTYyNSAqIChlbGFwc2VkIC09IDIuNjI1IC8gMi43NSkgKiBlbGFwc2VkICsgMC45ODQzNzUpICsgaW5pdGlhbFZhbHVlO1xuXHR9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBlYXNlSW5PdXRCb3VuY2UoZWxhcHNlZDogbnVtYmVyLCBpbml0aWFsVmFsdWU6IG51bWJlciwgYW1vdW50T2ZDaGFuZ2U6IG51bWJlciwgZHVyYXRpb246IG51bWJlcik6IG51bWJlciB7XG5cdGlmIChlbGFwc2VkIDwgZHVyYXRpb24gLyAyKSB7XG5cdFx0cmV0dXJuIGVhc2VJbkJvdW5jZShlbGFwc2VkICogMiwgMCwgYW1vdW50T2ZDaGFuZ2UsIGR1cmF0aW9uKSAqIDAuNSArIGluaXRpYWxWYWx1ZTtcblx0fVxuXHRyZXR1cm4gZWFzZU91dEJvdW5jZShlbGFwc2VkICogMiAtIGR1cmF0aW9uLCAwLCBhbW91bnRPZkNoYW5nZSwgZHVyYXRpb24pICogMC41ICsgYW1vdW50T2ZDaGFuZ2UgKiAwLjUgKyBpbml0aWFsVmFsdWU7XG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/ViewManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c0f79TopoBICobmtQjrjutG', 'ViewManager');
// framework/plugin_boosts/ui/ViewManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
var View_1 = require("./View");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var TAG = "[ViewManager]";
var ViewManager = /** @class */ (function (_super) {
    __extends(ViewManager, _super);
    function ViewManager() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        // onLoad () {}
        // baseDir:string = "assets/"
        _this._views = {};
        // 
        _this.modal = null;
        _this.modalOpacity = 160;
        return _this;
        // update (dt) {}
    }
    ViewManager_1 = ViewManager;
    ViewManager.prototype.onLoad = function () {
        ViewManager_1.instance = this;
        this.modal.active = false;
        this.modal.zIndex = 999;
        //g.setGlobalInstance(this);
        // cc.game.addPersistRootNode(this.node);
        // this.node.getComponent(cc.Widget).target = cc.find("Canvas")
    };
    ViewManager.prototype.onEnable = function () {
    };
    ViewManager.prototype.onDestroy = function () {
        // cc.game.removePersistRootNode(this.node);
        for (var key in this._views) {
            delete this._views[key];
        }
    };
    ViewManager.prototype.start = function () {
        //load prefab
        // this.modal.active = false;
        // this.sprite = this.getComponent(cc.Sprite)
        // this.modal.zIndex = 999;
    };
    ViewManager.prototype.getVisibleDialog = function () {
        for (var name in this._views) {
            var view = this._views[name];
            if (view.isDialog) {
                if (this.isVisible(name)) {
                    return view;
                }
            }
        }
        return null;
    };
    ViewManager.prototype.hasVisibleDialog = function () {
        for (var name in this._views) {
            var view = this._views[name];
            if (view.isDialog) {
                if (this.isVisible(name)) {
                    return true;
                }
            }
        }
        return false;
    };
    ViewManager.prototype.isVisible = function (viewname) {
        var view = null;
        if (typeof (viewname) == "string")
            view = this._views[viewname];
        else
            view = viewname;
        //todo check type 
        if (view) {
            return view.node.active;
        }
        return false;
    };
    ViewManager.prototype.attachViewComp = function (existingView) {
        var viewComp = null;
        if (viewComp == null || viewComp == undefined) {
            viewComp = existingView.getComponent(View_1.default);
            if (viewComp == null) {
                viewComp = existingView.addComponent(View_1.default);
                viewComp.init(existingView.name);
            }
            this._views[existingView.name] = viewComp;
        }
        return viewComp;
    };
    ViewManager.prototype.showView = function (view) {
        var params = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            params[_i - 1] = arguments[_i];
        }
        this.modal.active = view.isDialog;
        //check has popuped dialog and  all currentview is dialog show modal forcely.
        if (this.hasVisibleDialog() || view.isDialog) {
            this.modal.active = true;
        }
        if (view.isDialog) {
            this.modal.opacity = view.opacity;
        }
        return view.show.apply(view, params);
    };
    ViewManager.prototype.showFromPrefab = function (prefab, prefabPath) {
        var params = [];
        for (var _i = 2; _i < arguments.length; _i++) {
            params[_i - 2] = arguments[_i];
        }
        var view = this._views[prefabPath];
        if (view == null) {
            var node = cc.instantiate(prefab);
            view = node.getComponent(View_1.default);
            if (view == null) {
                view = node.addComponent(View_1.default);
                view.isDialog = true;
                //default is dialog
            }
            var widget = view.getComponent(cc.Widget);
            if (widget)
                widget.target = cc.find("Canvas");
            view.init(prefabPath);
            this._views[prefabPath] = view;
            if (view.isDialog) {
                this.node.addChild(node, 1000);
            }
            else {
                this.node.addChild(node, 1000);
            }
            // g.foreachNode(view.node,this.updateWidgets,this)
        }
        // node = view.node;
        this.node.color.setA(255);
        console.log(TAG, "show view:" + prefabPath);
        return this.showView.apply(this, __spreadArrays([view], params));
    };
    ViewManager.prototype.showFromPrefabPath = function (prefabPath) {
        var _this = this;
        var params = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            params[_i - 1] = arguments[_i];
        }
        var view = this._views[prefabPath];
        if (view == null || view == undefined) {
            console.log("start load prefab:" + prefabPath);
            var beforeTime_1 = new Date().getTime();
            cc.loader.loadRes(prefabPath, cc.Prefab, function (e, prefab) {
                console.log(TAG, "prefab loaded : " + prefabPath + " " + (new Date().getTime() - beforeTime_1) + "ms");
                _this.showFromPrefab.apply(_this, __spreadArrays([prefab, prefabPath], params));
            });
        }
        else {
            // this.sprite.enabled = false;
            this.modal.active = view.isDialog;
            if (this.hasVisibleDialog() || view.isDialog) {
                this.modal.active = true;
                this.modal.opacity = view.opacity;
            }
            console.log(TAG, "show view:" + prefabPath, params);
            // let viewnode = view.node;
            // view.node.x = 0;
            // view.node.y = 0;
            return view.show.apply(view, params);
        }
    };
    ViewManager.prototype.preload = function (prefabPath) {
        var _this = this;
        var view = this._views[prefabPath];
        if (view == null || view == undefined) {
            cc.loader.loadRes(prefabPath, cc.Prefab, function (e, prefab) {
                console.log(TAG, "preload view" + prefabPath);
                var node = cc.instantiate(prefab);
                view = node.getComponent(View_1.default);
                var widget = view.getComponent(cc.Widget);
                if (widget)
                    widget.target = cc.find("Canvas");
                view.init(prefabPath);
                _this._views[prefabPath] = view;
                // this.scheduleOnce(_=>node.active = false,0);
                if (view.isDialog) {
                    _this.node.addChild(node, 1000);
                }
                else {
                    _this.node.addChild(node, 1000);
                }
                view.hide();
            });
        }
        else {
        }
    };
    // will enableTouch next show up
    ViewManager.prototype.disableTouch = function (viewNode) {
        var view = viewNode.getComponent(View_1.default);
        if (view) {
            view.touchEnabled = false;
        }
    };
    ViewManager.prototype.enableTouch = function (viewNode) {
        var view = viewNode.getComponent(View_1.default);
        if (view) {
            view.touchEnabled = true;
        }
    };
    ViewManager.prototype.show = function (view) {
        var params = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            params[_i - 1] = arguments[_i];
        }
        // disable current view 's touch  
        if (typeof (view) == "string") {
            return this.showFromPrefabPath.apply(this, __spreadArrays([view], params));
        }
        else {
            if (view == null || view == undefined)
                return;
            if (view.node)
                view = view.node;
            var v = this.attachViewComp(view);
            return this.showView.apply(this, __spreadArrays([v], params));
        }
    };
    ViewManager.prototype.hide = function (viewname, playHideAnim) {
        if (playHideAnim === void 0) { playHideAnim = true; }
        if (typeof (viewname) != "string") {
            // get view name 
            if (viewname == null || viewname == undefined)
                return;
            this.attachViewComp(viewname);
            viewname = viewname.name;
        }
        var view = this._views[viewname];
        if (view != null && view != undefined) {
            view.node.active = false;
            if (view.isDialog) {
                //todo: should support dialog hide animtion  later 
                this.modal.active = false;
            }
            if (this.hasVisibleDialog()) {
                this.modal.active = true;
            }
            // if(view.isInHideAnimation())
            //     return;
            // view.hide();
            if (playHideAnim)
                view.doHideAnimation();
            view.onHidden();
        }
    };
    ViewManager.prototype.checkViewStacks = function () {
        var dialog = this.getVisibleDialog();
        if (dialog) {
            this.modal.active = true;
            this.modal.opacity = dialog.opacity;
        }
    };
    ViewManager.prototype.hideAll = function () {
        for (var viewname in this._views) {
            // let view = this._views[viewname]
            this.hide(viewname);
        }
    };
    var ViewManager_1;
    __decorate([
        property(cc.Node)
    ], ViewManager.prototype, "modal", void 0);
    __decorate([
        property
    ], ViewManager.prototype, "modalOpacity", void 0);
    ViewManager = ViewManager_1 = __decorate([
        ccclass
    ], ViewManager);
    return ViewManager;
}(cc.Component));
exports.default = ViewManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcVmlld01hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLCtCQUEwQjtBQUdwQixJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUxQyxJQUFJLEdBQUcsR0FBVSxlQUFlLENBQUE7QUFFaEM7SUFBeUMsK0JBQVk7SUFBckQ7UUFBQSxxRUF5U0M7UUFyU0csZUFBZTtRQUVmLDZCQUE2QjtRQUU3QixZQUFNLEdBQXlCLEVBQUUsQ0FBQTtRQUVyQyxHQUFHO1FBRUMsV0FBSyxHQUFXLElBQUksQ0FBQztRQUdyQixrQkFBWSxHQUFVLEdBQUcsQ0FBQzs7UUF5UjFCLGlCQUFpQjtJQUNyQixDQUFDO29CQXpTb0IsV0FBVztJQWtCNUIsNEJBQU0sR0FBTjtRQUVJLGFBQVcsQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO1FBQzVCLElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztRQUMxQixJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxHQUFHLENBQUM7UUFDeEIsNEJBQTRCO1FBQzVCLHlDQUF5QztRQUN6QywrREFBK0Q7SUFDbkUsQ0FBQztJQUVELDhCQUFRLEdBQVI7SUFHQSxDQUFDO0lBRUQsK0JBQVMsR0FBVDtRQUVJLDRDQUE0QztRQUM1QyxLQUFJLElBQUksR0FBRyxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUM7WUFDdkIsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQzNCO0lBQ0wsQ0FBQztJQUVELDJCQUFLLEdBQUw7UUFDSSxhQUFhO1FBRWIsNkJBQTZCO1FBQzdCLDZDQUE2QztRQUM3QywyQkFBMkI7SUFDL0IsQ0FBQztJQUNPLHNDQUFnQixHQUF4QjtRQUVJLEtBQUksSUFBSSxJQUFJLElBQUksSUFBSSxD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QUFDO1NBQ3ZDO0lBQ0wsQ0FBQztJQUVELDZCQUFPLEdBQVA7UUFFSSxLQUFLLElBQUksUUFBUSxJQUFJLElBQUksQ0FBQyxNQUFNLEVBQUM7WUFDN0IsbUNBQW1DO1lBQ25DLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7U0FDdkI7SUFDTCxDQUFDOztJQTFSRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzhDQUNHO0lBR3JCO1FBREMsUUFBUTtxREFDaUI7SUFmVCxXQUFXO1FBRC9CLE9BQU87T0FDYSxXQUFXLENBeVMvQjtJQUFELGtCQUFDO0NBelNELEFBeVNDLENBelN3QyxFQUFFLENBQUMsU0FBUyxHQXlTcEQ7a0JBelNvQixXQUFXIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFZpZXcgZnJvbSBcIi4vVmlld1wiO1xuaW1wb3J0IHsgVG9hc3QgfSBmcm9tIFwiLi9Ub2FzdE1hbmFnZXJcIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbnZhciBUQUc6c3RyaW5nID0gXCJbVmlld01hbmFnZXJdXCJcbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBWaWV3TWFuYWdlciBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcbiAgICBzdGF0aWMgaW5zdGFuY2U6Vmlld01hbmFnZXI7XG4gICAgLy8gb25Mb2FkICgpIHt9XG5cbiAgICAvLyBiYXNlRGlyOnN0cmluZyA9IFwiYXNzZXRzL1wiXG5cbiAgICBfdmlld3M6e1tpbmRleDpzdHJpbmddOlZpZXd9ID0ge31cblxuLy8gXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXG4gICAgbW9kYWw6Y2MuTm9kZSA9IG51bGw7XG5cbiAgICBAcHJvcGVydHlcbiAgICBtb2RhbE9wYWNpdHk6bnVtYmVyID0gMTYwO1xuXG5cbiAgICBvbkxvYWQoKVxuICAgIHtcbiAgICAgICAgVmlld01hbmFnZXIuaW5zdGFuY2UgPSB0aGlzO1xuICAgICAgICB0aGlzLm1vZGFsLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm1vZGFsLnpJbmRleCA9IDk5OTtcbiAgICAgICAgLy9nLnNldEdsb2JhbEluc3RhbmNlKHRoaXMpO1xuICAgICAgICAvLyBjYy5nYW1lLmFkZFBlcnNpc3RSb290Tm9kZSh0aGlzLm5vZGUpO1xuICAgICAgICAvLyB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLldpZGdldCkudGFyZ2V0ID0gY2MuZmluZChcIkNhbnZhc1wiKVxuICAgIH1cblxuICAgIG9uRW5hYmxlKClcbiAgICB7XG4gICAgICAgIFxuICAgIH1cblxuICAgIG9uRGVzdHJveSgpXG4gICAge1xuICAgICAgICAvLyBjYy5nYW1lLnJlbW92ZVBlcnNpc3RSb290Tm9kZSh0aGlzLm5vZGUpO1xuICAgICAgICBmb3IodmFyIGtleSBpbiB0aGlzLl92aWV3cyl7XG4gICAgICAgICAgICBkZWxldGUgdGhpcy5fdmlld3Nba2V5XTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXJ0ICgpIHtcbiAgICAgICAgLy9sb2FkIHByZWZhYlxuICAgICAgICBcbiAgICAgICAgLy8gdGhpcy5tb2RhbC5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgLy8gdGhpcy5zcHJpdGUgPSB0aGlzLmdldENvbXBvbmVudChjYy5TcHJpdGUpXG4gICAgICAgIC8vIHRoaXMubW9kYWwuekluZGV4ID0gOTk5O1xuICAgIH1cbiAgICBwcml2YXRlIGdldFZpc2libGVEaWFsb2coKVxuICAgIHtcbiAgICAgICAgZm9yKHZhciBuYW1lIGluIHRoaXMuX3ZpZXdzKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgdmlldyA9IHRoaXMuX3ZpZXdzW25hbWVdXG4gICAgICAgICAgICBpZih2aWV3LmlzRGlhbG9nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmICh0aGlzLmlzVmlzaWJsZShuYW1lKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB2aWV3O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gICAgXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBoYXNWaXNpYmxlRGlhbG9nKClcbiAgICB7XG4gICAgICAgIGZvcih2YXIgbmFtZSBpbiB0aGlzLl92aWV3cylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHZpZXcgPSB0aGlzLl92aWV3c1tuYW1lXVxuICAgICAgICAgICAgaWYodmlldy5pc0RpYWxvZylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5pc1Zpc2libGUobmFtZSkpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdHJ1ZVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gICAgXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHB1YmxpYyBpc1Zpc2libGUodmlld25hbWUpXG4gICAge1xuICAgICAgICBsZXQgdmlldyA9IG51bGw7XG4gICAgICAgIGlmICh0eXBlb2Yodmlld25hbWUpID09IFwic3RyaW5nXCIpXG4gICAgICAgICAgICB2aWV3ID0gdGhpcy5fdmlld3Nbdmlld25hbWVdXG4gICAgICAgIGVsc2VcbiAgICAgICAgICAgIHZpZXcgPSB2aWV3bmFtZTtcbiAgICAgICAgLy90b2RvIGNoZWNrIHR5cGUgXG4gICAgICAgIGlmICh2aWV3KVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gdmlldy5ub2RlLmFjdGl2ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2VcbiAgICB9XG5cbiAgICBwcml2YXRlIGF0dGFjaFZpZXdDb21wKGV4aXN0aW5nVmlldzpjYy5Ob2RlKTpWaWV3XG4gICAge1xuICAgICAgICBsZXQgdmlld0NvbXAgPSBudWxsO1xuICAgICAgICBpZih2aWV3Q29tcCA9PSBudWxsfHwgdmlld0NvbXAgPT0gdW5kZWZpbmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICB2aWV3Q29tcCA9IGV4aXN0aW5nVmlldy5nZXRDb21wb25lbnQoVmlldyk7XG4gICAgICAgICAgICBpZih2aWV3Q29tcCA9PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHZpZXdDb21wID0gZXhpc3RpbmdWaWV3LmFkZENvbXBvbmVudChWaWV3KTtcbiAgICAgICAgICAgICAgICB2aWV3Q29tcC5pbml0KGV4aXN0aW5nVmlldy5uYW1lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3ZpZXdzW2V4aXN0aW5nVmlldy5uYW1lXSA9IHZpZXdDb21wO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2aWV3Q29tcDtcbiAgICB9XG5cbiAgICBwcml2YXRlIHNob3dWaWV3KHZpZXcsLi4ucGFyYW1zKVxuICAgIHtcbiAgICAgICAgdGhpcy5tb2RhbC5hY3RpdmUgPSB2aWV3LmlzRGlhbG9nO1xuICAgICAgICAvL2NoZWNrIGhhcyBwb3B1cGVkIGRpYWxvZyBhbmQgIGFsbCBjdXJyZW50dmlldyBpcyBkaWFsb2cgc2hvdyBtb2RhbCBmb3JjZWx5LlxuICAgICAgICBpZiAodGhpcy5oYXNWaXNpYmxlRGlhbG9nKCkgfHwgdmlldy5pc0RpYWxvZylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tb2RhbC5hY3RpdmUgPSAgdHJ1ZTsgICAgICAgICAgICBcbiAgICAgICAgfVxuICAgICAgICBpZiAodmlldy5pc0RpYWxvZylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tb2RhbC5vcGFjaXR5ID0gdmlldy5vcGFjaXR5O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB2aWV3LnNob3coLi4ucGFyYW1zKTtcbiAgICB9XG5cbiAgICBzaG93RnJvbVByZWZhYihwcmVmYWI6Y2MuUHJlZmFiLHByZWZhYlBhdGg6c3RyaW5nICwuLi5wYXJhbXMpXG4gICAge1xuICAgICAgICBsZXQgdmlldyA9IHRoaXMuX3ZpZXdzW3ByZWZhYlBhdGhdO1xuICAgICAgICBpZih2aWV3ID09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBub2RlID0gY2MuaW5zdGFudGlhdGUocHJlZmFiKVxuICAgICAgICAgICAgdmlldyA9IG5vZGUuZ2V0Q29tcG9uZW50KFZpZXcpXG4gICAgICAgICAgICBpZih2aWV3ID09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmlldyA9IG5vZGUuYWRkQ29tcG9uZW50KFZpZXcpO1xuICAgICAgICAgICAgICAgIHZpZXcuaXNEaWFsb2cgPSB0cnVlO1xuICAgICAgICAgICAgICAgIC8vZGVmYXVsdCBpcyBkaWFsb2dcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGxldCB3aWRnZXQgPSB2aWV3LmdldENvbXBvbmVudChjYy5XaWRnZXQpO1xuICAgICAgICAgICAgaWYod2lkZ2V0KVxuICAgICAgICAgICAgICAgIHdpZGdldC50YXJnZXQgPSBjYy5maW5kKFwiQ2FudmFzXCIpXG4gICAgICAgICAgICB2aWV3LmluaXQocHJlZmFiUGF0aCk7XG4gICAgICAgICAgICB0aGlzLl92aWV3c1twcmVmYWJQYXRoXSA9IHZpZXc7XG4gICAgICAgICAgICBpZih2aWV3LmlzRGlhbG9nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZS5hZGRDaGlsZChub2RlLDEwMDApO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlLmFkZENoaWxkKG5vZGUsMTAwMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICAvLyBnLmZvcmVhY2hOb2RlKHZpZXcubm9kZSx0aGlzLnVwZGF0ZVdpZGdldHMsdGhpcylcbiAgICAgICAgfVxuICAgICAgICAvLyBub2RlID0gdmlldy5ub2RlO1xuICAgICAgICB0aGlzLm5vZGUuY29sb3Iuc2V0QSgyNTUpO1xuICAgICAgICBjb25zb2xlLmxvZyhUQUcsXCJzaG93IHZpZXc6XCIgKyBwcmVmYWJQYXRoIClcbiAgICAgICAgcmV0dXJuIHRoaXMuc2hvd1ZpZXcodmlldywuLi5wYXJhbXMpO1xuICAgIH1cblxuICAgIHNob3dGcm9tUHJlZmFiUGF0aChwcmVmYWJQYXRoOnN0cmluZywuLi5wYXJhbXMpXG4gICAge1xuICAgICAgICBsZXQgdmlldyA9IHRoaXMuX3ZpZXdzW3ByZWZhYlBhdGhdXG4gICAgICAgIGlmKHZpZXcgPT0gbnVsbCB8fHZpZXcgPT0gdW5kZWZpbmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcInN0YXJ0IGxvYWQgcHJlZmFiOlwiICtwcmVmYWJQYXRoKVxuICAgICAgICAgICAgbGV0IGJlZm9yZVRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKHByZWZhYlBhdGgsY2MuUHJlZmFiLChlLHByZWZhYjpjYy5QcmVmYWIpID0+e1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFRBRyxcInByZWZhYiBsb2FkZWQgOiBcIisgcHJlZmFiUGF0aCArXCIgXCIrICAobmV3IERhdGUoKS5nZXRUaW1lKCkgLSBiZWZvcmVUaW1lKSArXCJtc1wiKVxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0Zyb21QcmVmYWIocHJlZmFiLHByZWZhYlBhdGgsLi4ucGFyYW1zKTtcbiAgICAgICAgICAgIH0pIFxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIC8vIHRoaXMuc3ByaXRlLmVuYWJsZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIHRoaXMubW9kYWwuYWN0aXZlID0gdmlldy5pc0RpYWxvZztcbiAgICAgICAgICAgIGlmICh0aGlzLmhhc1Zpc2libGVEaWFsb2coKSB8fCB2aWV3LmlzRGlhbG9nKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMubW9kYWwuYWN0aXZlID0gIHRydWU7ICAgICBcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGFsLm9wYWNpdHkgPSB2aWV3Lm9wYWNpdHk7ICAgICAgIFxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5sb2coVEFHLFwic2hvdyB2aWV3OlwiICsgcHJlZmFiUGF0aCAscGFyYW1zKVxuICAgICAgICAgICAgLy8gbGV0IHZpZXdub2RlID0gdmlldy5ub2RlO1xuICAgICAgICAgICAgLy8gdmlldy5ub2RlLnggPSAwO1xuICAgICAgICAgICAgLy8gdmlldy5ub2RlLnkgPSAwO1xuICAgICAgICAgICAgcmV0dXJuICB2aWV3LnNob3coLi4ucGFyYW1zKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHByZWxvYWQocHJlZmFiUGF0aDpzdHJpbmcpXG4gICAge1xuICAgICAgICBsZXQgdmlldyA9IHRoaXMuX3ZpZXdzW3ByZWZhYlBhdGhdXG4gICAgICAgIGlmKHZpZXcgPT0gbnVsbCB8fHZpZXcgPT0gdW5kZWZpbmVkKVxuICAgICAgICB7XG4gICAgICAgICAgICBjYy5sb2FkZXIubG9hZFJlcyhwcmVmYWJQYXRoLGNjLlByZWZhYiwoZSxwcmVmYWI6Y2MuUHJlZmFiKSA9PntcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhUQUcsXCJwcmVsb2FkIHZpZXdcIisgcHJlZmFiUGF0aClcbiAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IGNjLmluc3RhbnRpYXRlKHByZWZhYilcbiAgICAgICAgICAgICAgICB2aWV3ID0gbm9kZS5nZXRDb21wb25lbnQoVmlldyk7XG4gICAgICAgICAgICAgICAgbGV0IHdpZGdldCA9IHZpZXcuZ2V0Q29tcG9uZW50KGNjLldpZGdldCk7XG4gICAgICAgICAgICAgICAgaWYod2lkZ2V0KVxuICAgICAgICAgICAgICAgICAgICB3aWRnZXQudGFyZ2V0ID0gY2MuZmluZChcIkNhbnZhc1wiKVxuICAgICAgICAgICAgICAgIHZpZXcuaW5pdChwcmVmYWJQYXRoKTtcbiAgICAgICAgICAgICAgICB0aGlzLl92aWV3c1twcmVmYWJQYXRoXSA9IHZpZXc7XG4gICAgICAgICAgICAgICAgLy8gdGhpcy5zY2hlZHVsZU9uY2UoXz0+bm9kZS5hY3RpdmUgPSBmYWxzZSwwKTtcbiAgICAgICAgICAgICAgICBpZiAodmlldy5pc0RpYWxvZylcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZS5hZGRDaGlsZChub2RlLDEwMDApO1xuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICB0aGlzLm5vZGUuYWRkQ2hpbGQobm9kZSwxMDAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgdmlldy5oaWRlKCk7XG4gICAgICAgICAgICB9KSBcbiAgICAgICAgfWVsc2V7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB3aWxsIGVuYWJsZVRvdWNoIG5leHQgc2hvdyB1cFxuICAgIGRpc2FibGVUb3VjaCh2aWV3Tm9kZSlcbiAgICB7XG4gICAgICAgIGxldCB2aWV3ID0gdmlld05vZGUuZ2V0Q29tcG9uZW50KFZpZXcpXG4gICAgICAgIGlmKHZpZXcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZpZXcudG91Y2hFbmFibGVkID0gZmFsc2U7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBlbmFibGVUb3VjaCh2aWV3Tm9kZSlcbiAgICB7XG4gICAgICAgIGxldCB2aWV3ID0gdmlld05vZGUuZ2V0Q29tcG9uZW50KFZpZXcpXG4gICAgICAgIGlmKHZpZXcpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHZpZXcudG91Y2hFbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgIH1cblxuXG4gICAgc2hvdyh2aWV3LCAuLi5wYXJhbXMpXG4gICAge1xuICAgICAgICAvLyBkaXNhYmxlIGN1cnJlbnQgdmlldyAncyB0b3VjaCAgXG4gICAgICAgIGlmICh0eXBlb2YodmlldykgPT0gXCJzdHJpbmdcIilcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2hvd0Zyb21QcmVmYWJQYXRoKHZpZXcsLi4ucGFyYW1zKTtcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgaWYgKHZpZXcgPT0gbnVsbHx8IHZpZXcgPT0gdW5kZWZpbmVkKSAgcmV0dXJuO1xuICAgICAgICAgICAgaWYodmlldy5ub2RlKSB2aWV3ID0gdmlldy5ub2RlO1xuICAgICAgICAgICAgbGV0IHYgPSB0aGlzLmF0dGFjaFZpZXdDb21wKHZpZXcpXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5zaG93Vmlldyh2LC4uLnBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGhpZGUodmlld25hbWUscGxheUhpZGVBbmltID0gdHJ1ZSlcbiAgICB7XG4gICAgICAgIGlmKHR5cGVvZih2aWV3bmFtZSkgIT0gXCJzdHJpbmdcIilcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gZ2V0IHZpZXcgbmFtZSBcbiAgICAgICAgICAgIGlmICh2aWV3bmFtZSA9PSBudWxsfHwgdmlld25hbWUgPT0gdW5kZWZpbmVkKSByZXR1cm47XG4gICAgICAgICAgICB0aGlzLmF0dGFjaFZpZXdDb21wKHZpZXduYW1lKVxuICAgICAgICAgICAgdmlld25hbWUgPSB2aWV3bmFtZS5uYW1lO1xuICAgICAgICB9XG4gICAgICAgIGxldCB2aWV3ID0gdGhpcy5fdmlld3Nbdmlld25hbWVdXG4gICAgICAgIGlmKHZpZXcgIT0gbnVsbCAmJiB2aWV3ICE9IHVuZGVmaW5lZClcbiAgICAgICAge1xuICAgICAgICAgICAgdmlldy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgaWYgKHZpZXcuaXNEaWFsb2cgKXtcbiAgICAgICAgICAgICAgICAvL3RvZG86IHNob3VsZCBzdXBwb3J0IGRpYWxvZyBoaWRlIGFuaW10aW9uICBsYXRlciBcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGFsLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYodGhpcy5oYXNWaXNpYmxlRGlhbG9nKCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5tb2RhbC5hY3RpdmUgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gaWYodmlldy5pc0luSGlkZUFuaW1hdGlvbigpKVxuICAgICAgICAgICAgLy8gICAgIHJldHVybjtcbiAgICAgICAgICAgIC8vIHZpZXcuaGlkZSgpO1xuICAgICAgICAgICAgaWYocGxheUhpZGVBbmltIClcbiAgICAgICAgICAgICAgICB2aWV3LmRvSGlkZUFuaW1hdGlvbigpO1xuICAgICAgICAgICAgdmlldy5vbkhpZGRlbigpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgY2hlY2tWaWV3U3RhY2tzKClcbiAgICB7XG4gICAgICAgIGxldCBkaWFsb2cgPSB0aGlzLmdldFZpc2libGVEaWFsb2coKVxuICAgICAgICBpZihkaWFsb2cpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubW9kYWwuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMubW9kYWwub3BhY2l0eSA9IGRpYWxvZy5vcGFjaXR5O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgaGlkZUFsbCgpXG4gICAge1xuICAgICAgICBmb3IgKHZhciB2aWV3bmFtZSBpbiB0aGlzLl92aWV3cyl7XG4gICAgICAgICAgICAvLyBsZXQgdmlldyA9IHRoaXMuX3ZpZXdzW3ZpZXduYW1lXVxuICAgICAgICAgICAgdGhpcy5oaWRlKHZpZXduYW1lKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/utils/Intersection.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2f4dfDdP95AjIAwGFL34sfm', 'Intersection');
// framework/plugin_boosts/utils/Intersection.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Intersection = /** @class */ (function () {
    function Intersection() {
    }
    // contains and intesect
    Intersection.circleIntersectRect = function (circle_pt, radius, rect) {
        var cx = 0;
        var cy = 0;
        //Find the point on the collision box closest to the center of the circle
        if (circle_pt.x < rect.x)
            cx = rect.x;
        else if (circle_pt.x > rect.x + rect.width)
            cx = rect.x + rect.width;
        else
            cx = circle_pt.x;
        if (circle_pt.y < rect.y)
            cy = rect.y;
        else if (circle_pt.y > rect.y + rect.height)
            cy = rect.y + rect.height;
        else
            cy = circle_pt.y;
        var v2 = cc.v2(cx, cy);
        v2.subSelf(circle_pt);
        if (v2.magSqr() < radius * radius)
            return true;
        return false;
    };
    return Intersection;
}());
exports.default = Intersection;
/***
// 矩形和圆形碰撞检测
bool IsCirlceCollisionRect(float circleXPos, float circleYPos, float radius, float rectX, float rectY, float rectW, float rectH)
{
    float arcR  = radius;
    float arcOx = circleXPos;
    float arcOy = circleYPos;

    //分别判断矩形4个顶点与圆心的距离是否<=圆半径；如果<=，说明碰撞成功
    if(((rectX-arcOx) * (rectX-arcOx) + (rectY-arcOy) * (rectY-arcOy)) <= arcR * arcR)
        return true;
    if(((rectX+rectW-arcOx) * (rectX+rectW-arcOx) + (rectY-arcOy) * (rectY-arcOy)) <= arcR * arcR)
        return true;
    if(((rectX-arcOx) * (rectX-arcOx) + (rectY+rectH-arcOy) * (rectY+rectH-arcOy)) <= arcR * arcR)
        return true;
    if(((rectX+rectW-arcOx) * (rectX+rectW-arcOx) + (rectY+rectH-arcOy) * (rectY+rectH-arcOy)) <= arcR * arcR)
        return true;

    //判断当圆心的Y坐标进入矩形内时X的位置，如果X在(rectX-arcR)到(rectX+rectW+arcR)这个范围内，则碰撞成功
    float minDisX = 0;
    if(arcOy >= rectY && arcOy <= rectY + rectH)
    {
        if(arcOx < rectX)
            minDisX = rectX - arcOx;
        else if(arcOx > rectX + rectW)
            minDisX = arcOx - rectX - rectW;
        else
            return true;
        if(minDisX <= arcR)
            return true;
    }

    //判断当圆心的X坐标进入矩形内时Y的位置，如果X在(rectY-arcR)到(rectY+rectH+arcR)这个范围内，则碰撞成功
    float minDisY = 0;
    if(arcOx >= rectX && arcOx <= rectX + rectW)
    {
        if(arcOy < rectY)
            minDisY = rectY - arcOy;
        else if(arcOy > rectY + rectH)
            minDisY = arcOy - rectY - rectH;
        else
            return true;
        if(minDisY <= arcR)
            return true;
    }

    return false;
}

// 线段和线段碰撞检测
bool IsLineCollisionLine(cocos2d::CCPoint p1, cocos2d::CCPoint p2, cocos2d::CCPoint p3, cocos2d::CCPoint p4)
{
    float x1 = p1.x, x2 = p2.x, x3 = p3.x, x4 = p4.x;
    float y1 = p1.y, y2 = p2.y, y3 = p3.y, y4 = p4.y;

    float d = (x1 - x2) * (y3 - y4) - (y1 - y2) * (x3 - x4);
    // If d is zero, there is no intersection
    if (d == 0)
        return false;

    // Get the x and y
    float pre = (x1*y2 - y1*x2), post = (x3*y4 - y3*x4);
    float x = ( pre * (x3 - x4) - (x1 - x2) * post ) / d;
    float y = ( pre * (y3 - y4) - (y1 - y2) * post ) / d;

    // Check if the x and y coordinates are within both lines
    if ( x < MIN(x1, x2) || x > MAX(x1, x2) ||
        x < MIN(x3, x4) || x > MAX(x3, x4) )
        return false;

    if ( y < MIN(y1, y2) || y > MAX(y1, y2) ||
        y < MIN(y3, y4) || y > MAX(y3, y4) )
        return false;

    return true;
}

static float mult(cocos2d::CCPoint a, cocos2d::CCPoint b, cocos2d::CCPoint c)
{
    return (a.x-c.x)*(b.y-c.y)-(b.x-c.x)*(a.y-c.y);
}

bool IsLineCollisionLine2(cocos2d::CCPoint aa, cocos2d::CCPoint bb, cocos2d::CCPoint cc, cocos2d::CCPoint dd)
{
    if ( MAX(aa.x, bb.x)<MIN(cc.x, dd.x) )
        return false;

    if ( MAX(aa.y, bb.y)<MIN(cc.y, dd.y) )
        return false;

    if ( MAX(cc.x, dd.x)<MIN(aa.x, bb.x) )
        return false;

    if ( MAX(cc.y, dd.y)<MIN(aa.y, bb.y) )
        return false;

    if (mult(cc, bb, aa)*mult(bb, dd, aa)<0.0001f)
        return false;

    if (mult(aa, dd, cc)*mult(dd, bb, cc)<0.0001f)
        return false;

    return true;
}

// 线段和矩形碰撞检测
bool IsLineCollisionRect(cocos2d::CCPoint lineStartPoint, cocos2d::CCPoint lineEndPoint, cocos2d::CCPoint rectleftBottomPoint, float width, float height)
{
    // 因为这个方法专门进行射线光束的碰撞检测，所以暂不进行线段在矩形内的碰撞检测
    cocos2d::CCPoint leftLineStartPoint = rectleftBottomPoint;
    cocos2d::CCPoint leftLineEndPoint   = cocos2d::CCPoint(leftLineStartPoint.x, leftLineStartPoint.y+height);

    cocos2d::CCPoint rightLineStartPoint= cocos2d::CCPoint(leftLineStartPoint.x+width, leftLineStartPoint.y);
    cocos2d::CCPoint rightLineEndPoint  = cocos2d::CCPoint(leftLineStartPoint.x+width, leftLineStartPoint.y+height);

    cocos2d::CCPoint topLineStartPoint  = cocos2d::CCPoint(leftLineStartPoint.x, leftLineStartPoint.y+height);
    cocos2d::CCPoint topLineEndPoint    = cocos2d::CCPoint(leftLineStartPoint.x+width, leftLineStartPoint.y+height);

    cocos2d::CCPoint bottomLineStartPoint= cocos2d::CCPoint(leftLineStartPoint.x, leftLineStartPoint.y);
    cocos2d::CCPoint bottomLineEndPoint  = cocos2d::CCPoint(leftLineStartPoint.x+width, leftLineStartPoint.y);
    
    cocos2d::CCPoint leftBottomLineStartPoint= rectleftBottomPoint;
    cocos2d::CCPoint rightTopLineEndPoint    = rightLineEndPoint;

    cocos2d::CCPoint leftTopLineStartPoint   = leftLineEndPoint;
    cocos2d::CCPoint rightBottomLineEndPoint = rightLineStartPoint;


    do
    {
        if (IsLineCollisionLine2(lineStartPoint, lineEndPoint, leftLineStartPoint, leftLineEndPoint))
            break;

        if (IsLineCollisionLine2(lineStartPoint, lineEndPoint, rightLineStartPoint, rightLineEndPoint))
            break;

        if (IsLineCollisionLine2(lineStartPoint, lineEndPoint, topLineStartPoint, topLineEndPoint))
            break;

        if (IsLineCollisionLine2(lineStartPoint, lineEndPoint, bottomLineStartPoint, bottomLineEndPoint))
            break;

        if (IsLineCollisionLine2(lineStartPoint, lineEndPoint, leftBottomLineStartPoint, rightTopLineEndPoint))
            break;

        if (IsLineCollisionLine2(lineStartPoint, lineEndPoint, leftTopLineStartPoint, rightBottomLineEndPoint))
            break;

        return false;
    }
    while (false);

    return true;
}

static  bool  IsRectCollisionRect2(cocos2d::CCPoint rect1CenterPoint, float rect1W, float rect1H, cocos2d::CCPoint rect2CenterPoint, float rect2W, float rect2H)
{
    cocos2d::CCPoint leftTopPoint     = cocos2d::CCPoint(rect2CenterPoint.x-rect2W/2.0f, rect2CenterPoint.y+rect2H/2.0f);
    cocos2d::CCPoint leftBottomPoint  = cocos2d::CCPoint(rect2CenterPoint.x-rect2W/2.0f, rect2CenterPoint.y-rect2H/2.0f);
    cocos2d::CCPoint rightTopPoint    = cocos2d::CCPoint(rect2CenterPoint.x+rect2W/2.0f, rect2CenterPoint.y+rect2H/2.0f);
    cocos2d::CCPoint rightBottomPoint = cocos2d::CCPoint(rect2CenterPoint.x+rect2W/2.0f, rect2CenterPoint.y-rect2H/2.0f);

    if ( (leftTopPoint.x>(rect1CenterPoint.x-rect1W/2.0f)) && (leftTopPoint.x<(rect1CenterPoint.x+rect1W/2.0f))
        && (leftTopPoint.y>(rect1CenterPoint.y-rect1H/2.0f)) && (leftTopPoint.y<(rect1CenterPoint.y+rect1H/2.0f)))
        return true;

    if ( (leftBottomPoint.x>(rect1CenterPoint.x-rect1W/2.0f)) && (leftBottomPoint.x<(rect1CenterPoint.x+rect1W/2.0f))
        && (leftBottomPoint.y>(rect1CenterPoint.y-rect1H/2.0f)) && (leftBottomPoint.y<(rect1CenterPoint.y+rect1H/2.0f)))
        return true;

    if ( (rightTopPoint.x>(rect1CenterPoint.x-rect1W/2.0f)) && (rightTopPoint.x<(rect1CenterPoint.x+rect1W/2.0f))
        && (rightTopPoint.y>(rect1CenterPoint.y-rect1H/2.0f)) && (rightTopPoint.y<(rect1CenterPoint.y+rect1H/2.0f)))
        return true;

    if ( (rightBottomPoint.x>(rect1CenterPoint.x-rect1W/2.0f)) && (rightBottomPoint.x<(rect1CenterPoint.x+rect1W/2.0f))
        && (rightBottomPoint.y>(rect1CenterPoint.y-rect1H/2.0f)) && (rightBottomPoint.y<(rect1CenterPoint.y+rect1H/2.0f)))
        return true;

    return false;
}

// 矩形和矩形碰撞检测
bool  IsRectCollisionRect(cocos2d::CCPoint rect1CenterPoint, float rect1W, float rect1H, cocos2d::CCPoint rect2CenterPoint, float rect2W, float rect2H)
{
    if (IsRectCollisionRect2(rect1CenterPoint, rect1W, rect1H, rect2CenterPoint, rect2W, rect2H))
        return true;
    
    if (IsRectCollisionRect2(rect2CenterPoint, rect2W, rect2H, rect1CenterPoint, rect1W, rect1H))
        return true;

    return false;
}

**/ 

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1dGlsc1xcSW50ZXJzZWN0aW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtJQUFBO0lBeUJBLENBQUM7SUF2Qkcsd0JBQXdCO0lBQ2pCLGdDQUFtQixHQUExQixVQUEyQixTQUFpQixFQUFFLE1BQU0sRUFBRSxJQUFJO1FBQ3RELElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQTtRQUNWLElBQUksRUFBRSxHQUFHLENBQUMsQ0FBQTtRQUNWLHlFQUF5RTtRQUN6RSxJQUFJLFNBQVMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7WUFDcEIsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUE7YUFDVixJQUFJLFNBQVMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSztZQUN0QyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsS0FBSyxDQUFBOztZQUV4QixFQUFFLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQTtRQUNwQixJQUFJLFNBQVMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUM7WUFDcEIsRUFBRSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUE7YUFDVixJQUFJLFNBQVMsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTTtZQUN2QyxFQUFFLEdBQUcsSUFBSSxDQUFDLENBQUMsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFBOztZQUV6QixFQUFFLEdBQUcsU0FBUyxDQUFDLENBQUMsQ0FBQTtRQUNwQixJQUFJLEVBQUUsR0FBRSxFQUFFLENBQUMsRUFBRSxDQUFDLEVBQUUsRUFBQyxFQUFFLENBQUMsQ0FBQTtRQUNwQixFQUFFLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFBO1FBQ3JCLElBQUksRUFBRSxDQUFDLE1BQU0sRUFBRSxHQUFHLE1BQU0sR0FBRyxNQUFNO1lBQzdCLE9BQU8sSUFBSSxDQUFBO1FBQ2YsT0FBTyxLQUFLLENBQUE7SUFDaEIsQ0FBQztJQUNMLG1CQUFDO0FBQUQsQ0F6QkEsQUF5QkMsSUFBQTs7QUFDRDs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztHQWlNRyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIEludGVyc2VjdGlvblxue1xuICAgIC8vIGNvbnRhaW5zIGFuZCBpbnRlc2VjdFxuICAgIHN0YXRpYyBjaXJjbGVJbnRlcnNlY3RSZWN0KGNpcmNsZV9wdDpjYy5WZWMyLMKgcmFkaXVzLMKgcmVjdCl7XG4gICAgwqDCoMKgwqBsZXTCoGN4wqA9IDBcbiAgICDCoMKgwqDCoGxldMKgY3nCoD0gMFxuICAgIMKgwqDCoMKgLy9GaW5kwqB0aGXCoHBvaW50wqBvbsKgdGhlwqBjb2xsaXNpb27CoGJveMKgY2xvc2VzdMKgdG/CoHRoZcKgY2VudGVywqBvZsKgdGhlwqBjaXJjbGVcbiAgICDCoMKgwqDCoGlmwqAoY2lyY2xlX3B0LnjCoDzCoHJlY3QueClcbiAgICDCoMKgwqDCoMKgwqDCoMKgY3jCoD3CoHJlY3QueFxuICAgIMKgwqDCoMKgZWxzZSBpZsKgKGNpcmNsZV9wdC54wqA+wqByZWN0LnjCoCvCoHJlY3Qud2lkdGgpXG4gICAgwqDCoMKgwqDCoMKgwqDCoGN4wqA9wqByZWN0LnjCoCvCoHJlY3Qud2lkdGhcbiAgICDCoMKgwqDCoGVsc2VcbiAgICDCoMKgwqDCoMKgwqDCoMKgY3jCoD3CoGNpcmNsZV9wdC54XG4gICAgwqDCoMKgwqBpZsKgKGNpcmNsZV9wdC55wqA8wqByZWN0LnnCoClcbiAgICDCoMKgwqDCoMKgwqDCoMKgY3nCoD3CoHJlY3QueVxuICAgIMKgwqDCoMKgZWxzZSBpZijCoGNpcmNsZV9wdC55wqA+wqByZWN0LnnCoCvCoHJlY3QuaGVpZ2h0KVxuICAgIMKgwqDCoMKgwqDCoMKgwqBjecKgPcKgcmVjdC55wqArwqByZWN0LmhlaWdodFxuICAgIMKgwqDCoMKgZWxzZVxuICAgIMKgwqDCoMKgwqDCoMKgwqBjecKgPcKgY2lyY2xlX3B0LnlcbiAgICAgICAgbGV0IHYyID1jYy52MihjeCxjeSkgXG4gICAgICAgIHYyLnN1YlNlbGYoY2lyY2xlX3B0KSAgICBcbiAgICDCoMKgwqDCoGlmwqAodjIubWFnU3FyKCnCoDzCoHJhZGl1cyAqIHJhZGl1cylcbiAgICDCoMKgwqDCoMKgwqDCoMKgcmV0dXJuwqB0cnVlXG4gICAgwqDCoMKgwqByZXR1cm7CoGZhbHNlXG4gICAgfVxufVxuLyoqKlxuLy8g55+p5b2i5ZKM5ZyG5b2i56Kw5pKe5qOA5rWLXG5ib29sIElzQ2lybGNlQ29sbGlzaW9uUmVjdChmbG9hdCBjaXJjbGVYUG9zLCBmbG9hdCBjaXJjbGVZUG9zLCBmbG9hdCByYWRpdXMsIGZsb2F0IHJlY3RYLCBmbG9hdCByZWN0WSwgZmxvYXQgcmVjdFcsIGZsb2F0IHJlY3RIKVxue1xuICAgIGZsb2F0IGFyY1IgID0gcmFkaXVzO1xuICAgIGZsb2F0IGFyY094ID0gY2lyY2xlWFBvcztcbiAgICBmbG9hdCBhcmNPeSA9IGNpcmNsZVlQb3M7XG5cbiAgICAvL+WIhuWIq+WIpOaWreefqeW9ojTkuKrpobbngrnkuI7lnIblv4PnmoTot53nprvmmK/lkKY8PeWchuWNiuW+hO+8m+WmguaenDw977yM6K+05piO56Kw5pKe5oiQ5YqfICAgXG4gICAgaWYoKChyZWN0WC1hcmNPeCkgKiAocmVjdFgtYXJjT3gpICsgKHJlY3RZLWFyY095KSAqIChyZWN0WS1hcmNPeSkpIDw9IGFyY1IgKiBhcmNSKSAgIFxuICAgICAgICByZXR1cm4gdHJ1ZTsgICBcbiAgICBpZigoKHJlY3RYK3JlY3RXLWFyY094KSAqIChyZWN0WCtyZWN0Vy1hcmNPeCkgKyAocmVjdFktYXJjT3kpICogKHJlY3RZLWFyY095KSkgPD0gYXJjUiAqIGFyY1IpICAgXG4gICAgICAgIHJldHVybiB0cnVlOyAgIFxuICAgIGlmKCgocmVjdFgtYXJjT3gpICogKHJlY3RYLWFyY094KSArIChyZWN0WStyZWN0SC1hcmNPeSkgKiAocmVjdFkrcmVjdEgtYXJjT3kpKSA8PSBhcmNSICogYXJjUikgICBcbiAgICAgICAgcmV0dXJuIHRydWU7ICAgXG4gICAgaWYoKChyZWN0WCtyZWN0Vy1hcmNPeCkgKiAocmVjdFgrcmVjdFctYXJjT3gpICsgKHJlY3RZK3JlY3RILWFyY095KSAqIChyZWN0WStyZWN0SC1hcmNPeSkpIDw9IGFyY1IgKiBhcmNSKSAgIFxuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIC8v5Yik5pat5b2T5ZyG5b+D55qEWeWdkOagh+i/m+WFpeefqeW9ouWGheaXtljnmoTkvY3nva7vvIzlpoLmnpxY5ZyoKHJlY3RYLWFyY1Ip5YiwKHJlY3RYK3JlY3RXK2FyY1Ip6L+Z5Liq6IyD5Zu05YaF77yM5YiZ56Kw5pKe5oiQ5YqfICAgXG4gICAgZmxvYXQgbWluRGlzWCA9IDA7ICAgXG4gICAgaWYoYXJjT3kgPj0gcmVjdFkgJiYgYXJjT3kgPD0gcmVjdFkgKyByZWN0SClcbiAgICB7ICAgXG4gICAgICAgIGlmKGFyY094IDwgcmVjdFgpICAgXG4gICAgICAgICAgICBtaW5EaXNYID0gcmVjdFggLSBhcmNPeDsgICBcbiAgICAgICAgZWxzZSBpZihhcmNPeCA+IHJlY3RYICsgcmVjdFcpICAgXG4gICAgICAgICAgICBtaW5EaXNYID0gYXJjT3ggLSByZWN0WCAtIHJlY3RXOyAgIFxuICAgICAgICBlbHNlICAgIFxuICAgICAgICAgICAgcmV0dXJuIHRydWU7ICAgXG4gICAgICAgIGlmKG1pbkRpc1ggPD0gYXJjUikgICBcbiAgICAgICAgICAgIHJldHVybiB0cnVlOyAgIFxuICAgIH1cblxuICAgIC8v5Yik5pat5b2T5ZyG5b+D55qEWOWdkOagh+i/m+WFpeefqeW9ouWGheaXtlnnmoTkvY3nva7vvIzlpoLmnpxY5ZyoKHJlY3RZLWFyY1Ip5YiwKHJlY3RZK3JlY3RIK2FyY1Ip6L+Z5Liq6IyD5Zu05YaF77yM5YiZ56Kw5pKe5oiQ5YqfXG4gICAgZmxvYXQgbWluRGlzWSA9IDA7ICAgXG4gICAgaWYoYXJjT3ggPj0gcmVjdFggJiYgYXJjT3ggPD0gcmVjdFggKyByZWN0VylcbiAgICB7ICAgXG4gICAgICAgIGlmKGFyY095IDwgcmVjdFkpICAgXG4gICAgICAgICAgICBtaW5EaXNZID0gcmVjdFkgLSBhcmNPeTsgICBcbiAgICAgICAgZWxzZSBpZihhcmNPeSA+IHJlY3RZICsgcmVjdEgpICAgXG4gICAgICAgICAgICBtaW5EaXNZID0gYXJjT3kgLSByZWN0WSAtIHJlY3RIOyAgIFxuICAgICAgICBlbHNlICBcbiAgICAgICAgICAgIHJldHVybiB0cnVlOyAgIFxuICAgICAgICBpZihtaW5EaXNZIDw9IGFyY1IpICAgXG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTsgICBcbiAgICB9XG5cbiAgICByZXR1cm4gZmFsc2U7IFxufVxuXG4vLyDnur/mrrXlkoznur/mrrXnorDmkp7mo4DmtYtcbmJvb2wgSXNMaW5lQ29sbGlzaW9uTGluZShjb2NvczJkOjpDQ1BvaW50IHAxLCBjb2NvczJkOjpDQ1BvaW50IHAyLCBjb2NvczJkOjpDQ1BvaW50IHAzLCBjb2NvczJkOjpDQ1BvaW50IHA0KVxue1xuICAgIGZsb2F0IHgxID0gcDEueCwgeDIgPSBwMi54LCB4MyA9IHAzLngsIHg0ID0gcDQueDtcbiAgICBmbG9hdCB5MSA9IHAxLnksIHkyID0gcDIueSwgeTMgPSBwMy55LCB5NCA9IHA0Lnk7XG5cbiAgICBmbG9hdCBkID0gKHgxIC0geDIpICogKHkzIC0geTQpIC0gKHkxIC0geTIpICogKHgzIC0geDQpO1xuICAgIC8vIElmIGQgaXMgemVybywgdGhlcmUgaXMgbm8gaW50ZXJzZWN0aW9uXG4gICAgaWYgKGQgPT0gMCkgXG4gICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIC8vIEdldCB0aGUgeCBhbmQgeVxuICAgIGZsb2F0IHByZSA9ICh4MSp5MiAtIHkxKngyKSwgcG9zdCA9ICh4Myp5NCAtIHkzKng0KTtcbiAgICBmbG9hdCB4ID0gKCBwcmUgKiAoeDMgLSB4NCkgLSAoeDEgLSB4MikgKiBwb3N0ICkgLyBkO1xuICAgIGZsb2F0IHkgPSAoIHByZSAqICh5MyAtIHk0KSAtICh5MSAtIHkyKSAqIHBvc3QgKSAvIGQ7XG5cbiAgICAvLyBDaGVjayBpZiB0aGUgeCBhbmQgeSBjb29yZGluYXRlcyBhcmUgd2l0aGluIGJvdGggbGluZXNcbiAgICBpZiAoIHggPCBNSU4oeDEsIHgyKSB8fCB4ID4gTUFYKHgxLCB4MikgfHxcbiAgICAgICAgeCA8IE1JTih4MywgeDQpIHx8IHggPiBNQVgoeDMsIHg0KSApXG4gICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIGlmICggeSA8IE1JTih5MSwgeTIpIHx8IHkgPiBNQVgoeTEsIHkyKSB8fFxuICAgICAgICB5IDwgTUlOKHkzLCB5NCkgfHwgeSA+IE1BWCh5MywgeTQpICkgXG4gICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIHJldHVybiB0cnVlO1xufVxuXG5zdGF0aWMgZmxvYXQgbXVsdChjb2NvczJkOjpDQ1BvaW50IGEsIGNvY29zMmQ6OkNDUG9pbnQgYiwgY29jb3MyZDo6Q0NQb2ludCBjKVxue1xuICAgIHJldHVybiAoYS54LWMueCkqKGIueS1jLnkpLShiLngtYy54KSooYS55LWMueSk7XG59XG5cbmJvb2wgSXNMaW5lQ29sbGlzaW9uTGluZTIoY29jb3MyZDo6Q0NQb2ludCBhYSwgY29jb3MyZDo6Q0NQb2ludCBiYiwgY29jb3MyZDo6Q0NQb2ludCBjYywgY29jb3MyZDo6Q0NQb2ludCBkZClcbntcbiAgICBpZiAoIE1BWChhYS54LCBiYi54KTxNSU4oY2MueCwgZGQueCkgKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICBpZiAoIE1BWChhYS55LCBiYi55KTxNSU4oY2MueSwgZGQueSkgKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICBpZiAoIE1BWChjYy54LCBkZC54KTxNSU4oYWEueCwgYmIueCkgKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICBpZiAoIE1BWChjYy55LCBkZC55KTxNSU4oYWEueSwgYmIueSkgKVxuICAgICAgICByZXR1cm4gZmFsc2U7XG5cbiAgICBpZiAobXVsdChjYywgYmIsIGFhKSptdWx0KGJiLCBkZCwgYWEpPDAuMDAwMWYpXG4gICAgICAgIHJldHVybiBmYWxzZTtcblxuICAgIGlmIChtdWx0KGFhLCBkZCwgY2MpKm11bHQoZGQsIGJiLCBjYyk8MC4wMDAxZilcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuXG4gICAgcmV0dXJuIHRydWU7XG59XG5cbi8vIOe6v+auteWSjOefqeW9oueisOaSnuajgOa1i1xuYm9vbCBJc0xpbmVDb2xsaXNpb25SZWN0KGNvY29zMmQ6OkNDUG9pbnQgbGluZVN0YXJ0UG9pbnQsIGNvY29zMmQ6OkNDUG9pbnQgbGluZUVuZFBvaW50LCBjb2NvczJkOjpDQ1BvaW50IHJlY3RsZWZ0Qm90dG9tUG9pbnQsIGZsb2F0IHdpZHRoLCBmbG9hdCBoZWlnaHQpXG57XG4gICAgLy8g5Zug5Li66L+Z5Liq5pa55rOV5LiT6Zeo6L+b6KGM5bCE57q/5YWJ5p2f55qE56Kw5pKe5qOA5rWL77yM5omA5Lul5pqC5LiN6L+b6KGM57q/5q615Zyo55+p5b2i5YaF55qE56Kw5pKe5qOA5rWLXG4gICAgY29jb3MyZDo6Q0NQb2ludCBsZWZ0TGluZVN0YXJ0UG9pbnQgPSByZWN0bGVmdEJvdHRvbVBvaW50O1xuICAgIGNvY29zMmQ6OkNDUG9pbnQgbGVmdExpbmVFbmRQb2ludCAgID0gY29jb3MyZDo6Q0NQb2ludChsZWZ0TGluZVN0YXJ0UG9pbnQueCwgbGVmdExpbmVTdGFydFBvaW50LnkraGVpZ2h0KTtcblxuICAgIGNvY29zMmQ6OkNDUG9pbnQgcmlnaHRMaW5lU3RhcnRQb2ludD0gY29jb3MyZDo6Q0NQb2ludChsZWZ0TGluZVN0YXJ0UG9pbnQueCt3aWR0aCwgbGVmdExpbmVTdGFydFBvaW50LnkpO1xuICAgIGNvY29zMmQ6OkNDUG9pbnQgcmlnaHRMaW5lRW5kUG9pbnQgID0gY29jb3MyZDo6Q0NQb2ludChsZWZ0TGluZVN0YXJ0UG9pbnQueCt3aWR0aCwgbGVmdExpbmVTdGFydFBvaW50LnkraGVpZ2h0KTtcblxuICAgIGNvY29zMmQ6OkNDUG9pbnQgdG9wTGluZVN0YXJ0UG9pbnQgID0gY29jb3MyZDo6Q0NQb2ludChsZWZ0TGluZVN0YXJ0UG9pbnQueCwgbGVmdExpbmVTdGFydFBvaW50LnkraGVpZ2h0KTtcbiAgICBjb2NvczJkOjpDQ1BvaW50IHRvcExpbmVFbmRQb2ludCAgICA9IGNvY29zMmQ6OkNDUG9pbnQobGVmdExpbmVTdGFydFBvaW50Lngrd2lkdGgsIGxlZnRMaW5lU3RhcnRQb2ludC55K2hlaWdodCk7XG5cbiAgICBjb2NvczJkOjpDQ1BvaW50IGJvdHRvbUxpbmVTdGFydFBvaW50PSBjb2NvczJkOjpDQ1BvaW50KGxlZnRMaW5lU3RhcnRQb2ludC54LCBsZWZ0TGluZVN0YXJ0UG9pbnQueSk7XG4gICAgY29jb3MyZDo6Q0NQb2ludCBib3R0b21MaW5lRW5kUG9pbnQgID0gY29jb3MyZDo6Q0NQb2ludChsZWZ0TGluZVN0YXJ0UG9pbnQueCt3aWR0aCwgbGVmdExpbmVTdGFydFBvaW50LnkpO1xuICAgIFxuICAgIGNvY29zMmQ6OkNDUG9pbnQgbGVmdEJvdHRvbUxpbmVTdGFydFBvaW50PSByZWN0bGVmdEJvdHRvbVBvaW50O1xuICAgIGNvY29zMmQ6OkNDUG9pbnQgcmlnaHRUb3BMaW5lRW5kUG9pbnQgICAgPSByaWdodExpbmVFbmRQb2ludDtcblxuICAgIGNvY29zMmQ6OkNDUG9pbnQgbGVmdFRvcExpbmVTdGFydFBvaW50ICAgPSBsZWZ0TGluZUVuZFBvaW50O1xuICAgIGNvY29zMmQ6OkNDUG9pbnQgcmlnaHRCb3R0b21MaW5lRW5kUG9pbnQgPSByaWdodExpbmVTdGFydFBvaW50O1xuXG5cbiAgICBkbyBcbiAgICB7XG4gICAgICAgIGlmIChJc0xpbmVDb2xsaXNpb25MaW5lMihsaW5lU3RhcnRQb2ludCwgbGluZUVuZFBvaW50LCBsZWZ0TGluZVN0YXJ0UG9pbnQsIGxlZnRMaW5lRW5kUG9pbnQpKVxuICAgICAgICAgICAgYnJlYWs7XG5cbiAgICAgICAgaWYgKElzTGluZUNvbGxpc2lvbkxpbmUyKGxpbmVTdGFydFBvaW50LCBsaW5lRW5kUG9pbnQsIHJpZ2h0TGluZVN0YXJ0UG9pbnQsIHJpZ2h0TGluZUVuZFBvaW50KSlcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGlmIChJc0xpbmVDb2xsaXNpb25MaW5lMihsaW5lU3RhcnRQb2ludCwgbGluZUVuZFBvaW50LCB0b3BMaW5lU3RhcnRQb2ludCwgdG9wTGluZUVuZFBvaW50KSlcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGlmIChJc0xpbmVDb2xsaXNpb25MaW5lMihsaW5lU3RhcnRQb2ludCwgbGluZUVuZFBvaW50LCBib3R0b21MaW5lU3RhcnRQb2ludCwgYm90dG9tTGluZUVuZFBvaW50KSlcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGlmIChJc0xpbmVDb2xsaXNpb25MaW5lMihsaW5lU3RhcnRQb2ludCwgbGluZUVuZFBvaW50LCBsZWZ0Qm90dG9tTGluZVN0YXJ0UG9pbnQsIHJpZ2h0VG9wTGluZUVuZFBvaW50KSlcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIGlmIChJc0xpbmVDb2xsaXNpb25MaW5lMihsaW5lU3RhcnRQb2ludCwgbGluZUVuZFBvaW50LCBsZWZ0VG9wTGluZVN0YXJ0UG9pbnQsIHJpZ2h0Qm90dG9tTGluZUVuZFBvaW50KSlcbiAgICAgICAgICAgIGJyZWFrO1xuXG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IFxuICAgIHdoaWxlIChmYWxzZSk7XG5cbiAgICByZXR1cm4gdHJ1ZTtcbn1cblxuc3RhdGljICBib29sICBJc1JlY3RDb2xsaXNpb25SZWN0Mihjb2NvczJkOjpDQ1BvaW50IHJlY3QxQ2VudGVyUG9pbnQsIGZsb2F0IHJlY3QxVywgZmxvYXQgcmVjdDFILCBjb2NvczJkOjpDQ1BvaW50IHJlY3QyQ2VudGVyUG9pbnQsIGZsb2F0IHJlY3QyVywgZmxvYXQgcmVjdDJIKVxue1xuICAgIGNvY29zMmQ6OkNDUG9pbnQgbGVmdFRvcFBvaW50ICAgICA9IGNvY29zMmQ6OkNDUG9pbnQocmVjdDJDZW50ZXJQb2ludC54LXJlY3QyVy8yLjBmLCByZWN0MkNlbnRlclBvaW50LnkrcmVjdDJILzIuMGYpO1xuICAgIGNvY29zMmQ6OkNDUG9pbnQgbGVmdEJvdHRvbVBvaW50ICA9IGNvY29zMmQ6OkNDUG9pbnQocmVjdDJDZW50ZXJQb2ludC54LXJlY3QyVy8yLjBmLCByZWN0MkNlbnRlclBvaW50LnktcmVjdDJILzIuMGYpO1xuICAgIGNvY29zMmQ6OkNDUG9pbnQgcmlnaHRUb3BQb2ludCAgICA9IGNvY29zMmQ6OkNDUG9pbnQocmVjdDJDZW50ZXJQb2ludC54K3JlY3QyVy8yLjBmLCByZWN0MkNlbnRlclBvaW50LnkrcmVjdDJILzIuMGYpO1xuICAgIGNvY29zMmQ6OkNDUG9pbnQgcmlnaHRCb3R0b21Qb2ludCA9IGNvY29zMmQ6OkNDUG9pbnQocmVjdDJDZW50ZXJQb2ludC54K3JlY3QyVy8yLjBmLCByZWN0MkNlbnRlclBvaW50LnktcmVjdDJILzIuMGYpO1xuXG4gICAgaWYgKCAobGVmdFRvcFBvaW50Lng+KHJlY3QxQ2VudGVyUG9pbnQueC1yZWN0MVcvMi4wZikpICYmIChsZWZ0VG9wUG9pbnQueDwocmVjdDFDZW50ZXJQb2ludC54K3JlY3QxVy8yLjBmKSkgXG4gICAgICAgICYmIChsZWZ0VG9wUG9pbnQueT4ocmVjdDFDZW50ZXJQb2ludC55LXJlY3QxSC8yLjBmKSkgJiYgKGxlZnRUb3BQb2ludC55PChyZWN0MUNlbnRlclBvaW50LnkrcmVjdDFILzIuMGYpKSlcbiAgICAgICAgcmV0dXJuIHRydWU7XG5cbiAgICBpZiAoIChsZWZ0Qm90dG9tUG9pbnQueD4ocmVjdDFDZW50ZXJQb2ludC54LXJlY3QxVy8yLjBmKSkgJiYgKGxlZnRCb3R0b21Qb2ludC54PChyZWN0MUNlbnRlclBvaW50LngrcmVjdDFXLzIuMGYpKSBcbiAgICAgICAgJiYgKGxlZnRCb3R0b21Qb2ludC55PihyZWN0MUNlbnRlclBvaW50LnktcmVjdDFILzIuMGYpKSAmJiAobGVmdEJvdHRvbVBvaW50Lnk8KHJlY3QxQ2VudGVyUG9pbnQueStyZWN0MUgvMi4wZikpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGlmICggKHJpZ2h0VG9wUG9pbnQueD4ocmVjdDFDZW50ZXJQb2ludC54LXJlY3QxVy8yLjBmKSkgJiYgKHJpZ2h0VG9wUG9pbnQueDwocmVjdDFDZW50ZXJQb2ludC54K3JlY3QxVy8yLjBmKSkgXG4gICAgICAgICYmIChyaWdodFRvcFBvaW50Lnk+KHJlY3QxQ2VudGVyUG9pbnQueS1yZWN0MUgvMi4wZikpICYmIChyaWdodFRvcFBvaW50Lnk8KHJlY3QxQ2VudGVyUG9pbnQueStyZWN0MUgvMi4wZikpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIGlmICggKHJpZ2h0Qm90dG9tUG9pbnQueD4ocmVjdDFDZW50ZXJQb2ludC54LXJlY3QxVy8yLjBmKSkgJiYgKHJpZ2h0Qm90dG9tUG9pbnQueDwocmVjdDFDZW50ZXJQb2ludC54K3JlY3QxVy8yLjBmKSkgXG4gICAgICAgICYmIChyaWdodEJvdHRvbVBvaW50Lnk+KHJlY3QxQ2VudGVyUG9pbnQueS1yZWN0MUgvMi4wZikpICYmIChyaWdodEJvdHRvbVBvaW50Lnk8KHJlY3QxQ2VudGVyUG9pbnQueStyZWN0MUgvMi4wZikpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuLy8g55+p5b2i5ZKM55+p5b2i56Kw5pKe5qOA5rWLXG5ib29sICBJc1JlY3RDb2xsaXNpb25SZWN0KGNvY29zMmQ6OkNDUG9pbnQgcmVjdDFDZW50ZXJQb2ludCwgZmxvYXQgcmVjdDFXLCBmbG9hdCByZWN0MUgsIGNvY29zMmQ6OkNDUG9pbnQgcmVjdDJDZW50ZXJQb2ludCwgZmxvYXQgcmVjdDJXLCBmbG9hdCByZWN0MkgpXG57XG4gICAgaWYgKElzUmVjdENvbGxpc2lvblJlY3QyKHJlY3QxQ2VudGVyUG9pbnQsIHJlY3QxVywgcmVjdDFILCByZWN0MkNlbnRlclBvaW50LCByZWN0MlcsIHJlY3QySCkpXG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgIFxuICAgIGlmIChJc1JlY3RDb2xsaXNpb25SZWN0MihyZWN0MkNlbnRlclBvaW50LCByZWN0MlcsIHJlY3QySCwgcmVjdDFDZW50ZXJQb2ludCwgcmVjdDFXLCByZWN0MUgpKVxuICAgICAgICByZXR1cm4gdHJ1ZTtcblxuICAgIHJldHVybiBmYWxzZTtcbn1cblxuKiovIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/gameSceneManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '6be4flAQQJHL6gxxNXHg9Az', 'gameSceneManager');
// gameComon/scripts/gameSceneManager.js

"use strict";

var AppGame = null;
var GameSceneManager = cc.Class({
  "extends": cc.Component,
  properties: {},
  onLoad: function onLoad() {
    if (AppGame == null) {
      AppGame = require('appGame');
      AppGame.init();
      this.initAppData(function () {
        var RoomGame = require('roomGame');

        appGame.gameServerRoom = RoomGame.create({});
      }.bind(this));
    }

    appGame.emitter.on(consts.HTTP_EVENT_MIDDLE_DESK_CONFIG, this.refreshGameConfig);
    appGame.emitter.on(consts.LOCAL_EVENT_POPUP_LOADTIP, this.showLoadTipFun);
    appGame.emitter.on(consts.LOCAL_EVENT_POPUP_DIALOG, this.showDialogFun);
    appGame.emitter.on(consts.LOCAL_EVENT_POPUP_GAME_COMMON, this.showCommonUIFun);
  },
  onDestroy: function onDestroy() {
    appGame.emitter.off(consts.HTTP_EVENT_MIDDLE_DESK_CONFIG, this.refreshGameConfig);
    appGame.emitter.off(consts.LOCAL_EVENT_POPUP_DIALOG, this.showDialogFun);
    appGame.emitter.off(consts.LOCAL_EVENT_POPUP_LOADTIP, this.showLoadTipFun);
    appGame.emitter.off(consts.LOCAL_EVENT_POPUP_GAME_COMMON, this.showCommonUIFun);
  },
  refreshGameConfig: function refreshGameConfig(data) {
    var VideoBanner = require('videoBanner');

    appGame.videoBanner = VideoBanner.create({});

    var InterstitialAd = require('interstitialAd');

    appGame.interstitialAd = InterstitialAd.create({});

    var Banner = require('banner');

    appGame.banner = Banner.create({});

    var WXNativeAd = require('wxnativeAd');

    appGame.nativeAd = WXNativeAd.create({});

    var WwxgridAd = require('wxgridAd');

    appGame.gridAd = WwxgridAd.create({});

    var AppBoxAd = require('qqAppBox');

    appGame.appBoxAd = AppBoxAd.create({});

    var BlockAd = require('qqBlockAd');

    appGame.blockAd = BlockAd.create({});

    var ScreenrecordAuto = require('screenrecordAuto');

    appGame.screenAuto = ScreenrecordAuto.create({});
  },
  initAppData: function initAppData(cb) {
    appGame.userId = cc.sys.localStorage.getItem("snmi_guid");

    if (appGame.userId == null || appGame.userId == '') {
      appGame.userId = util.guid();
      cc.sys.localStorage.setItem("snmi_guid", appGame.userId);
    }

    if (cc.sys.platform === cc.sys.VIVO_GAME) {
      if (qg) {
        qg.getSystemInfo({
          success: function success(data) {
            appGame.deviceInfo = data;
          }
        });
      }
    } else if (cc.sys.platform == cc.sys.BAIDU_GAME) {
      swan.getSystemInfo({
        success: function success(res) {
          console.log(res);
          appGame.deviceInfo = res;
        },
        fail: function fail(res) {
          console.log("getSystemInfo \u8C03\u7528\u5931\u8D25");
        }
      });
    } else if (cc.sys.platform == cc.sys.BYTEDANCE_GAME) {
      tt.getSystemInfo({
        success: function success(res) {
          console.log(res);
          appGame.deviceInfo = res;
        },
        fail: function fail(res) {
          console.log("getSystemInfo \u8C03\u7528\u5931\u8D25");
        }
      });
    } else if (cc.sys.platform == cc.sys.MOBILE_BROWSER || cc.sys.platform == cc.sys.DESKTOP_BROWSER) {
      appGame.deviceInfo = '';
    } else if (cc.sys.platform == cc.sys.OPPO_GAME) {
      qg.getSystemInfo({
        success: function success(res) {
          appGame.deviceInfo = res;
        },
        fail: function fail(err) {},
        complete: function complete(res) {}
      });
    } else if (cc.sys.platform == cc.sys.XIAOMI_GAME) {
      qg.getSystemInfo({
        success: function success(res) {
          appGame.deviceInfo = res;
        },
        fail: function fail(err) {},
        complete: function complete(res) {}
      });
    } else if (cc.sys.platform == cc.sys.ANDROID) {
      appGame.deviceInfo = '';
    } else {
      appGame.deviceInfo = '';
    }

    httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
      title: '登录',
      content: '进入主界面'
    }, function () {});
    appGame.appStartTime = new Date().getTime();
    var countEnter = cc.sys.localStorage.getItem("snmi_entercount");

    if (countEnter == null || countEnter == '') {
      countEnter = 1;
      cc.sys.localStorage.setItem("snmi_entercount", 1);
    } else {
      countEnter = parseInt(countEnter);
      countEnter++;
      cc.sys.localStorage.setItem("snmi_entercount", countEnter);
    }

    httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
      title: '打开APP',
      content: '进入游戏次数统计',
      desc: countEnter
    }, function () {});
    cb();
  },
  disConnectFun: function disConnectFun() {
    appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_DIALOG, {
      title: '提示',
      content: "网络已断开\n是否退出重连？",
      okLabel: "确定",
      okCB: function () {//App.SceneManager.changeScene("Login");
        //App.isReconnect = false;
      }.bind(this)
    });
  },
  showCommonUIFun: function showCommonUIFun(opts) {
    var popupPanelEventCallback = function popupPanelEventCallback(opts, zIndex, cb) {
      if (opts && opts.prefabName) {
        cc.log("prefabName==" + opts.prefabName);
        cc.assetManager.loadBundle(opts.bundle, function (err, bundle) {
          bundle.load(opts.prefabName, cc.Prefab, function (error, prefab) {
            if (error) {
              cc.error(error);
              return;
            }

            var isShowing = false;
            var canvasParent = cc.find('Canvas');

            if (canvasParent.childrenCount > 0) {
              for (var i = 0; i < canvasParent.children.length; i++) {
                if (canvasParent.children[i].name == opts.prefabName) {
                  isShowing = true;
                  break;
                }
              }
            }

            if (isShowing) {
              return;
            } // let canvasParent = cc.find('Canvas');
            // if(canvasParent.childrenCount>0){
            //     for(let i=0;i<canvasParent.children.length;i++){
            //         if(canvasParent.children[i].name == opts.prefabName){
            //             cc.log("prefabName==删除")
            //             canvasParent.children[i].removeFromParent();
            //         }
            //     }
            // }


            var instance = cc.instantiate(prefab);
            canvasParent.addChild(instance);
            var controlComponent = instance.getComponent(opts.prefabName);
            controlComponent && controlComponent.show && controlComponent.show(opts); //所有弹出层控制组件都应实现这个函数，确保触发事件时传递的参数能传递到界面

            instance.zIndex = zIndex;
            instance.active = true;
            cb && cb(null, instance);
          }.bind(this));
        }.bind(this));
      }
    };

    opts = opts || {};
    popupPanelEventCallback(opts, opts.zIndex || 1300);
  },
  showDialogFun: function showDialogFun(opts) {
    var popupPanelEventCallback = function popupPanelEventCallback(prefabName, opts, zIndex, cb) {
      cc.assetManager.loadBundle('comPrefab', function (err, bundle) {
        bundle.load(prefabName, cc.Prefab, function (error, prefab) {
          if (error) {
            cc.error(error);
            return;
          }

          var canvasParent = cc.find('Canvas');

          if (canvasParent.childrenCount > 0) {
            for (var i = 0; i < canvasParent.children.length; i++) {
              if (canvasParent.children[i].name == 'dialogBox') {
                canvasParent.children[i].removeFromParent();
              }
            }
          }

          var instance = cc.instantiate(prefab);
          canvasParent.addChild(instance);
          var controlComponent = instance.getComponent(prefabName);
          controlComponent && controlComponent.show && controlComponent.show(opts); //所有弹出层控制组件都应实现这个函数，确保触发事件时传递的参数能传递到界面

          instance.zIndex = zIndex;
          instance.active = true;
          cb && cb(null, instance);
        }.bind(this));
      }.bind(this));
    };

    opts = opts || {};
    popupPanelEventCallback('dialogBox', opts, opts.zIndex || 1400);
  },
  showLoadTipFun: function showLoadTipFun(opts) {
    var popupPanelEventCallback = function popupPanelEventCallback(prefabName, opts, zIndex, cb) {
      cc.assetManager.loadBundle('comPrefab', function (err, bundle) {
        bundle.load(prefabName, cc.Prefab, function (error, prefab) {
          if (error) {
            cc.error(error);
            return;
          }

          var canvasParent = cc.find('Canvas');

          if (canvasParent.childrenCount > 0) {
            for (var i = 0; i < canvasParent.children.length; i++) {
              if (canvasParent.children[i].name == 'loadTip') {
                canvasParent.children[i].removeFromParent();
              }
            }
          }

          var instance = cc.instantiate(prefab);
          canvasParent.addChild(instance);
          var controlComponent = instance.getComponent(prefabName);
          controlComponent && controlComponent.show && controlComponent.show(opts); //所有弹出层控制组件都应实现这个函数，确保触发事件时传递的参数能传递到界面

          instance.zIndex = zIndex;
          instance.active = true;
          cb && cb(null, instance);
        }.bind(this));
      }.bind(this));
    };

    opts = opts || {};
    popupPanelEventCallback('loadTip', opts, opts.zIndex || 1500);
  },
  showGameHelpFun: function showGameHelpFun(opts) {
    var popupPanelEventCallback = function popupPanelEventCallback(prefabName, opts, zIndex, cb) {
      var prefabPath = 'gameComon/prefab/' + prefabName;
      cc.loader.loadRes(prefabPath, cc.Prefab, function (error, prefab) {
        if (error) {
          cc.error(error);
          return;
        }

        var instance = cc.instantiate(prefab);
        cc.find('Canvas').addChild(instance); //cc.find("Canvas/alert").addChild(instance);

        var controlComponent = instance.getComponent(prefabName);
        controlComponent && controlComponent.show && controlComponent.show(opts); //所有弹出层控制组件都应实现这个函数，确保触发事件时传递的参数能传递到界面

        instance.zIndex = zIndex;
        instance.active = true;
        cb && cb(null, instance);
      });
    };

    opts = opts || {};
    popupPanelEventCallback('helpPanel', opts, opts.zIndex || 1000);
  }
});
module.exports = GameSceneManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFxnYW1lU2NlbmVNYW5hZ2VyLmpzIl0sIm5hbWVzIjpbIkFwcEdhbWUiLCJHYW1lU2NlbmVNYW5hZ2VyIiwiY2MiLCJDbGFzcyIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJvbkxvYWQiLCJyZXF1aXJlIiwiaW5pdCIsImluaXRBcHBEYXRhIiwiUm9vbUdhbWUiLCJhcHBHYW1lIiwiZ2FtZVNlcnZlclJvb20iLCJjcmVhdGUiLCJiaW5kIiwiZW1pdHRlciIsIm9uIiwiY29uc3RzIiwiSFRUUF9FVkVOVF9NSURETEVfREVTS19DT05GSUciLCJyZWZyZXNoR2FtZUNvbmZpZyIsIkxPQ0FMX0VWRU5UX1BPUFVQX0xPQURUSVAiLCJzaG93TG9hZFRpcEZ1biIsIkxPQ0FMX0VWRU5UX1BPUFVQX0RJQUxPRyIsInNob3dEaWFsb2dGdW4iLCJMT0NBTF9FVkVOVF9QT1BVUF9HQU1FX0NPTU1PTiIsInNob3dDb21tb25VSUZ1biIsIm9uRGVzdHJveSIsIm9mZiIsImRhdGEiLCJWaWRlb0Jhbm5lciIsInZpZGVvQmFubmVyIiwiSW50ZXJzdGl0aWFsQWQiLCJpbnRlcnN0aXRpYWxBZCIsIkJhbm5lciIsImJhbm5lciIsIldYTmF0aXZlQWQiLCJuYXRpdmVBZCIsIld3eGdyaWRBZCIsImdyaWRBZCIsIkFwcEJveEFkIiwiYXBwQm94QWQiLCJCbG9ja0FkIiwiYmxvY2tBZCIsIlNjcmVlbnJlY29yZEF1dG8iLCJzY3JlZW5BdXRvIiwiY2IiLCJ1c2VySWQiLCJzeXMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwidXRpbCIsImd1aWQiLCJzZXRJdGVtIiwicGxhdGZvcm0iLCJWSVZPX0dBTUUiLCJxZyIsImdldFN5c3RlbUluZm8iLCJzdWNjZXNzIiwiZGV2aWNlSW5mbyIsIkJBSURVX0dBTUUiLCJzd2FuIiwicmVzIiwiY29uc29sZSIsImxvZyIsImZhaWwiLCJCWVRFREFOQ0VfR0FNRSIsInR0IiwiTU9CSUxFX0JST1dTRVIiLCJERVNLVE9QX0JST1dTRVIiLCJPUFBPX0dBTUUiLCJlcnIiLCJjb21wbGV0ZSIsIlhJQU9NSV9HQU1FIiwiQU5EUk9JRCIsImh0dHBVdGlscyIsImh0dHBQb3N0IiwiSFRUUF9SRUNPUkRfU0VSVkVSIiwidGl0bGUiLCJjb250ZW50IiwiYXBwU3RhcnRUaW1lIiwiRGF0ZSIsImdldFRpbWUiLCJjb3VudEVudGVyIiwicGFyc2VJbnQiLCJkZXNjIiwiZGlzQ29ubmVjdEZ1biIsImVtaXQiLCJva0xhYmVsIiwib2tDQiIsIm9wdHMiLCJwb3B1cFBhbmVsRXZlbnRDYWxsYmFjayIsInpJbmRleCIsInByZWZhYk5hbWUiLCJhc3NldE1hbmFnZXIiLCJsb2FkQnVuZGxlIiwiYnVuZGxlIiwibG9hZCIsIlByZWZhYiIsImVycm9yIiwicHJlZmFiIiwiaXNTaG93aW5nIiwiY2FudmFzUGFyZW50IiwiZmluZCIsImNoaWxkcmVuQ291bnQiLCJpIiwiY2hpbGRyZW4iLCJsZW5ndGgiLCJuYW1lIiwiaW5zdGFuY2UiLCJpbnN0YW50aWF0ZSIsImFkZENoaWxkIiwiY29udHJvbENvbXBvbmVudCIsImdldENvbXBvbmVudCIsInNob3ciLCJhY3RpdmUiLCJyZW1vdmVGcm9tUGFyZW50Iiwic2hvd0dhbWVIZWxwRnVuIiwicHJlZmFiUGF0aCIsImxvYWRlciIsImxvYWRSZXMiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLE9BQU8sR0FBRyxJQUFkO0FBQ0EsSUFBSUMsZ0JBQWdCLEdBQUdDLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTO0FBQzVCLGFBQVNELEVBQUUsQ0FBQ0UsU0FEZ0I7QUFHNUJDLEVBQUFBLFVBQVUsRUFBRSxFQUhnQjtBQUs1QkMsRUFBQUEsTUFBTSxFQUFFLGtCQUFZO0FBQ2hCLFFBQUdOLE9BQU8sSUFBSSxJQUFkLEVBQW1CO0FBQ2ZBLE1BQUFBLE9BQU8sR0FBR08sT0FBTyxDQUFDLFNBQUQsQ0FBakI7QUFDQVAsTUFBQUEs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Q0FBdkI7QUFtUkE2QixNQUFNLENBQUNDLE9BQVAsR0FBaUJ4SCxnQkFBakIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbInZhciBBcHBHYW1lID0gbnVsbDtcclxudmFyIEdhbWVTY2VuZU1hbmFnZXIgPSBjYy5DbGFzcyh7XHJcbiAgICBleHRlbmRzOiBjYy5Db21wb25lbnQsXHJcblxyXG4gICAgcHJvcGVydGllczoge30sXHJcblxyXG4gICAgb25Mb2FkOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYoQXBwR2FtZSA9PSBudWxsKXtcclxuICAgICAgICAgICAgQXBwR2FtZSA9IHJlcXVpcmUoJ2FwcEdhbWUnKTtcclxuICAgICAgICAgICAgQXBwR2FtZS5pbml0KCk7XHJcbiAgICAgICAgICAgIHRoaXMuaW5pdEFwcERhdGEoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIHZhciBSb29tR2FtZSA9IHJlcXVpcmUoJ3Jvb21HYW1lJyk7XHJcbiAgICAgICAgICAgICAgICBhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tID0gUm9vbUdhbWUuY3JlYXRlKHt9KTtcclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXBwR2FtZS5lbWl0dGVyLm9uKGNvbnN0cy5IVFRQX0VWRU5UX01JRERMRV9ERVNLX0NPTkZJRyx0aGlzLnJlZnJlc2hHYW1lQ29uZmlnKTtcclxuICAgICAgICBhcHBHYW1lLmVtaXR0ZXIub24oY29uc3RzLkxPQ0FMX0VWRU5UX1BPUFVQX0xPQURUSVAsdGhpcy5zaG93TG9hZFRpcEZ1bik7XHJcbiAgICAgICAgYXBwR2FtZS5lbWl0dGVyLm9uKGNvbnN0cy5MT0NBTF9FVkVOVF9QT1BVUF9ESUFMT0csdGhpcy5zaG93RGlhbG9nRnVuKTtcclxuICAgICAgICBhcHBHYW1lLmVtaXR0ZXIub24oY29uc3RzLkxPQ0FMX0VWRU5UX1BPUFVQX0dBTUVfQ09NTU9OLHRoaXMuc2hvd0NvbW1vblVJRnVuKTtcclxuICAgIH0sXHJcblxyXG4gICAgb25EZXN0cm95KCl7XHJcbiAgICAgICAgYXBwR2FtZS5lbWl0dGVyLm9mZihjb25zdHMuSFRUUF9FVkVOVF9NSURETEVfREVTS19DT05GSUcsdGhpcy5yZWZyZXNoR2FtZUNvbmZpZyk7XHJcbiAgICAgICAgYXBwR2FtZS5lbWl0dGVyLm9mZihjb25zdHMuTE9DQUxfRVZFTlRfUE9QVVBfRElBTE9HLHRoaXMuc2hvd0RpYWxvZ0Z1bik7XHJcbiAgICAgICAgYXBwR2FtZS5lbWl0dGVyLm9mZihjb25zdHMuTE9DQUxfRVZFTlRfUE9QVVBfTE9BRFRJUCx0aGlzLnNob3dMb2FkVGlwRnVuKTtcclxuICAgICAgICBhcHBHYW1lLmVtaXR0ZXIub2ZmKGNvbnN0cy5MT0NBTF9FVkVOVF9QT1BVUF9HQU1FX0NPTU1PTix0aGlzLnNob3dDb21tb25VSUZ1bik7XHJcbiAgICB9LFxyXG5cclxuICAgIHJlZnJlc2hHYW1lQ29uZmlnKGRhdGEpe1xyXG4gICAgICAgIHZhciBWaWRlb0Jhbm5lciA9IHJlcXVpcmUoJ3ZpZGVvQmFubmVyJyk7XHJcbiAgICAgICAgYXBwR2FtZS52aWRlb0Jhbm5lciA9IFZpZGVvQmFubmVyLmNyZWF0ZSh7fSk7XHJcbiAgICAgICAgdmFyIEludGVyc3RpdGlhbEFkID0gcmVxdWlyZSgnaW50ZXJzdGl0aWFsQWQnKTtcclxuICAgICAgICBhcHBHYW1lLmludGVyc3RpdGlhbEFkID0gSW50ZXJzdGl0aWFsQWQuY3JlYXRlKHt9KTtcclxuICAgICAgICB2YXIgQmFubmVyID0gcmVxdWlyZSgnYmFubmVyJyk7XHJcbiAgICAgICAgYXBwR2FtZS5iYW5uZXIgPSBCYW5uZXIuY3JlYXRlKHt9KTtcclxuICAgICAgICB2YXIgV1hOYXRpdmVBZCA9IHJlcXVpcmUoJ3d4bmF0aXZlQWQnKTtcclxuICAgICAgICBhcHBHYW1lLm5hdGl2ZUFkID0gV1hOYXRpdmVBZC5jcmVhdGUoe30pO1xyXG4gICAgICAgIHZhciBXd3hncmlkQWQgPSByZXF1aXJlKCd3eGdyaWRBZCcpO1xyXG4gICAgICAgIGFwcEdhbWUuZ3JpZEFkID0gV3d4Z3JpZEFkLmNyZWF0ZSh7fSk7XHJcbiAgICAgICAgdmFyIEFwcEJveEFkID0gcmVxdWlyZSgncXFBcHBCb3gnKTtcclxuICAgICAgICBhcHBHYW1lLmFwcEJveEFkID0gQXBwQm94QWQuY3JlYXRlKHt9KTtcclxuICAgICAgICB2YXIgQmxvY2tBZCA9IHJlcXVpcmUoJ3FxQmxvY2tBZCcpO1xyXG4gICAgICAgIGFwcEdhbWUuYmxvY2tBZCA9IEJsb2NrQWQuY3JlYXRlKHt9KTtcclxuICAgICAgICB2YXIgU2NyZWVucmVjb3JkQXV0byA9IHJlcXVpcmUoJ3NjcmVlbnJlY29yZEF1dG8nKTtcclxuICAgICAgICBhcHBHYW1lLnNjcmVlbkF1dG8gPSBTY3JlZW5yZWNvcmRBdXRvLmNyZWF0ZSh7fSk7XHJcbiAgICB9LFxyXG5cclxuICAgIGluaXRBcHBEYXRhKGNiKXtcclxuICAgICAgICBhcHBHYW1lLnVzZXJJZCA9IGNjLnN5cy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInNubWlfZ3VpZFwiKTtcclxuICAgICAgICBpZihhcHBHYW1lLnVzZXJJZD09bnVsbCB8fCBhcHBHYW1lLnVzZXJJZD09Jycpe1xyXG4gICAgICAgICAgICBhcHBHYW1lLnVzZXJJZCA9IHV0aWwuZ3VpZCgpO1xyXG4gICAgICAgICAgICBjYy5zeXMubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJzbm1pX2d1aWRcIixhcHBHYW1lLnVzZXJJZCk7XHJcbiAgICAgICAgfVxyXG5cclxuICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT09IGNjLnN5cy5WSVZPX0dBTUUpe1xyXG4gICAgICAgICAgICBpZihxZyl7XHJcbiAgICAgICAgICAgICAgICBxZy5nZXRTeXN0ZW1JbmZvKHtcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBHYW1lLmRldmljZUluZm8gPSBkYXRhO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZSBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLkJBSURVX0dBTUUpe1xyXG4gICAgICAgICAgICBzd2FuLmdldFN5c3RlbUluZm8oe1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzcyhyZXMpIHtcclxuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2cocmVzKTtcclxuICAgICAgICAgICAgICAgICAgYXBwR2FtZS5kZXZpY2VJbmZvID0gcmVzO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZhaWwocmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKGBnZXRTeXN0ZW1JbmZvIOiwg+eUqOWksei0pWApO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICB9KTtcclxuICAgICAgICB9ZWxzZSBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLkJZVEVEQU5DRV9HQU1FKXtcclxuICAgICAgICAgICAgdHQuZ2V0U3lzdGVtSW5mbyh7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzKHJlcykge1xyXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhyZXMpO1xyXG4gICAgICAgICAgICAgICAgICBhcHBHYW1lLmRldmljZUluZm8gPSByZXM7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZmFpbChyZXMpIHtcclxuICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coYGdldFN5c3RlbUluZm8g6LCD55So5aSx6LSlYCk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1lbHNlIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuTU9CSUxFX0JST1dTRVIgfHxjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLkRFU0tUT1BfQlJPV1NFUil7XHJcbiAgICAgICAgICAgIGFwcEdhbWUuZGV2aWNlSW5mbyA9ICcnO1xyXG4gICAgICAgIH1lbHNlIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuT1BQT19HQU1FKXtcclxuICAgICAgICAgICAgcWcuZ2V0U3lzdGVtSW5mbyh7XHJcbiAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbihyZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBhcHBHYW1lLmRldmljZUluZm8gPSByZXM7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZmFpbDogZnVuY3Rpb24oZXJyKSB7fSxcclxuICAgICAgICAgICAgICAgIGNvbXBsZXRlOiBmdW5jdGlvbihyZXMpIHt9XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgfWVsc2UgaWYoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5YSUFPTUlfR0FNRSl7XHJcbiAgICAgICAgICAgIHFnLmdldFN5c3RlbUluZm8oe1xyXG4gICAgICAgICAgICAgICAgc3VjY2VzczogZnVuY3Rpb24ocmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwR2FtZS5kZXZpY2VJbmZvID0gcmVzO1xyXG4gICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIGZhaWw6IGZ1bmN0aW9uKGVycikge30sXHJcbiAgICAgICAgICAgICAgICBjb21wbGV0ZTogZnVuY3Rpb24ocmVzKSB7fVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1lbHNlIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuQU5EUk9JRCl7XHJcbiAgICAgICAgICAgIGFwcEdhbWUuZGV2aWNlSW5mbyA9ICcnO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBhcHBHYW1lLmRldmljZUluZm8gPSAnJztcclxuICAgICAgICB9XHJcbiAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOifnmbvlvZUnLGNvbnRlbnQ6J+i/m+WFpeS4u+eVjOmdoid9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYXBwR2FtZS5hcHBTdGFydFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKTtcclxuICAgICAgICBcclxuICAgICAgICBsZXQgY291bnRFbnRlciA9IGNjLnN5cy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInNubWlfZW50ZXJjb3VudFwiKTtcclxuICAgICAgICBpZihjb3VudEVudGVyPT1udWxsIHx8IGNvdW50RW50ZXI9PScnKXtcclxuICAgICAgICAgICAgY291bnRFbnRlciA9IDE7XHJcbiAgICAgICAgICAgIGNjLnN5cy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInNubWlfZW50ZXJjb3VudFwiLDEpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBjb3VudEVudGVyID0gcGFyc2VJbnQoY291bnRFbnRlcik7XHJcbiAgICAgICAgICAgIGNvdW50RW50ZXIrKztcclxuICAgICAgICAgICAgY2Muc3lzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwic25taV9lbnRlcmNvdW50XCIsY291bnRFbnRlcik7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon5omT5byAQVBQJyxjb250ZW50Oifov5vlhaXmuLjmiI/mrKHmlbDnu5/orqEnLGRlc2M6Y291bnRFbnRlcn0sZnVuY3Rpb24oKXtcclxuICAgICAgICB9KTtcclxuICAgICAgICBjYigpO1xyXG4gICAgfSxcclxuXHJcbiAgICBkaXNDb25uZWN0RnVuKCkge1xyXG4gICAgICAgIGFwcEdhbWUuZW1pdHRlci5lbWl0KGNvbnN0cy5MT0NBTF9FVkVOVF9QT1BVUF9ESUFMT0csIHtcclxuICAgICAgICAgICAgdGl0bGU6ICfmj5DnpLonLFxyXG4gICAgICAgICAgICBjb250ZW50OiBcIue9kee7nOW3suaWreW8gFxcbuaYr+WQpumAgOWHuumHjei/nu+8n1wiLFxyXG4gICAgICAgICAgICBva0xhYmVsOlwi56Gu5a6aXCIsXHJcbiAgICAgICAgICAgIG9rQ0I6IGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgIC8vQXBwLlNjZW5lTWFuYWdlci5jaGFuZ2VTY2VuZShcIkxvZ2luXCIpO1xyXG4gICAgICAgICAgICAgICAgLy9BcHAuaXNSZWNvbm5lY3QgPSBmYWxzZTtcclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpLFxyXG4gICAgICAgIH0pO1xyXG4gICAgfSxcclxuXHJcbiAgICBzaG93Q29tbW9uVUlGdW4ob3B0cyl7XHJcbiAgICAgICAgbGV0IHBvcHVwUGFuZWxFdmVudENhbGxiYWNrID0gZnVuY3Rpb24gKG9wdHMsIHpJbmRleCwgY2IpIHtcclxuICAgICAgICAgICAgaWYob3B0cyAmJiBvcHRzLnByZWZhYk5hbWUpe1xyXG4gICAgICAgICAgICAgICAgY2MubG9nKFwicHJlZmFiTmFtZT09XCIrb3B0cy5wcmVmYWJOYW1lKVxyXG4gICAgICAgICAgICAgICAgY2MuYXNzZXRNYW5hZ2VyLmxvYWRCdW5kbGUob3B0cy5idW5kbGUsIGZ1bmN0aW9uKGVyciwgYnVuZGxlKXtcclxuICAgICAgICAgICAgICAgICAgICBidW5kbGUubG9hZChvcHRzLnByZWZhYk5hbWUsIGNjLlByZWZhYiwgZnVuY3Rpb24gKGVycm9yLCBwcmVmYWIpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYy5lcnJvcihlcnJvcik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IGlzU2hvd2luZyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgY2FudmFzUGFyZW50ID0gY2MuZmluZCgnQ2FudmFzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGNhbnZhc1BhcmVudC5jaGlsZHJlbkNvdW50PjApe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7aTxjYW52YXNQYXJlbnQuY2hpbGRyZW4ubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2FudmFzUGFyZW50LmNoaWxkcmVuW2ldLm5hbWUgPT0gb3B0cy5wcmVmYWJOYW1lKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTaG93aW5nID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGlzU2hvd2luZyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gbGV0IGNhbnZhc1BhcmVudCA9IGNjLmZpbmQoJ0NhbnZhcycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBpZihjYW52YXNQYXJlbnQuY2hpbGRyZW5Db3VudD4wKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIGZvcihsZXQgaT0wO2k8Y2FudmFzUGFyZW50LmNoaWxkcmVuLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIGlmKGNhbnZhc1BhcmVudC5jaGlsZHJlbltpXS5uYW1lID09IG9wdHMucHJlZmFiTmFtZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vICAgICAgICAgICAgIGNjLmxvZyhcInByZWZhYk5hbWU9PeWIoOmZpFwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgICAgICBjYW52YXNQYXJlbnQuY2hpbGRyZW5baV0ucmVtb3ZlRnJvbVBhcmVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBjYy5pbnN0YW50aWF0ZShwcmVmYWIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNQYXJlbnQuYWRkQ2hpbGQoaW5zdGFuY2UpO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgY29udHJvbENvbXBvbmVudCA9IGluc3RhbmNlLmdldENvbXBvbmVudChvcHRzLnByZWZhYk5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250cm9sQ29tcG9uZW50ICYmIGNvbnRyb2xDb21wb25lbnQuc2hvdyAmJiBjb250cm9sQ29tcG9uZW50LnNob3cob3B0cyk7IC8v5omA5pyJ5by55Ye65bGC5o6n5Yi257uE5Lu26YO95bqU5a6e546w6L+Z5Liq5Ye95pWw77yM56Gu5L+d6Kem5Y+R5LqL5Lu25pe25Lyg6YCS55qE5Y+C5pWw6IO95Lyg6YCS5Yiw55WM6Z2iXHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLnpJbmRleCA9IHpJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2IgJiYgY2IobnVsbCwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfTtcclxuICAgICAgICBvcHRzID0gb3B0cyB8fCB7fTtcclxuICAgICAgICBwb3B1cFBhbmVsRXZlbnRDYWxsYmFjayhvcHRzLCBvcHRzLnpJbmRleCB8fDEzMDApO1xyXG4gICAgfSxcclxuXHJcbiAgICBzaG93RGlhbG9nRnVuKG9wdHMpe1xyXG4gICAgICAgIGxldCBwb3B1cFBhbmVsRXZlbnRDYWxsYmFjayA9IGZ1bmN0aW9uIChwcmVmYWJOYW1lLCBvcHRzLCB6SW5kZXgsIGNiKSB7XHJcbiAgICAgICAgICAgIGNjLmFzc2V0TWFuYWdlci5sb2FkQnVuZGxlKCdjb21QcmVmYWInLCBmdW5jdGlvbihlcnIsIGJ1bmRsZSl7XHJcbiAgICAgICAgICAgICAgICBidW5kbGUubG9hZChwcmVmYWJOYW1lLCBjYy5QcmVmYWIsIGZ1bmN0aW9uIChlcnJvciwgcHJlZmFiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNjLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2FudmFzUGFyZW50ID0gY2MuZmluZCgnQ2FudmFzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY2FudmFzUGFyZW50LmNoaWxkcmVuQ291bnQ+MCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8Y2FudmFzUGFyZW50LmNoaWxkcmVuLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2FudmFzUGFyZW50LmNoaWxkcmVuW2ldLm5hbWUgPT0gJ2RpYWxvZ0JveCcpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbnZhc1BhcmVudC5jaGlsZHJlbltpXS5yZW1vdmVGcm9tUGFyZW50KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGluc3RhbmNlID0gY2MuaW5zdGFudGlhdGUocHJlZmFiKTtcclxuICAgICAgICAgICAgICAgICAgICBjYW52YXNQYXJlbnQuYWRkQ2hpbGQoaW5zdGFuY2UpO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIGNvbnRyb2xDb21wb25lbnQgPSBpbnN0YW5jZS5nZXRDb21wb25lbnQocHJlZmFiTmFtZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udHJvbENvbXBvbmVudCAmJiBjb250cm9sQ29tcG9uZW50LnNob3cgJiYgY29udHJvbENvbXBvbmVudC5zaG93KG9wdHMpOyAvL+aJgOacieW8ueWHuuWxguaOp+WItue7hOS7tumDveW6lOWunueOsOi/meS4quWHveaVsO+8jOehruS/neinpuWPkeS6i+S7tuaXtuS8oOmAkueahOWPguaVsOiDveS8oOmAkuWIsOeVjOmdolxyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgaW5zdGFuY2UuekluZGV4ID0gekluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICBcclxuICAgICAgICAgICAgICAgICAgICBjYiAmJiBjYihudWxsLCBpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgICAgIH07XHJcbiAgICAgICAgb3B0cyA9IG9wdHMgfHwge307XHJcbiAgICAgICAgcG9wdXBQYW5lbEV2ZW50Q2FsbGJhY2soJ2RpYWxvZ0JveCcsIG9wdHMsIG9wdHMuekluZGV4IHx8MTQwMCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHNob3dMb2FkVGlwRnVuKG9wdHMpe1xyXG4gICAgICAgIGxldCBwb3B1cFBhbmVsRXZlbnRDYWxsYmFjayA9IGZ1bmN0aW9uIChwcmVmYWJOYW1lLCBvcHRzLCB6SW5kZXgsIGNiKSB7XHJcbiAgICAgICAgICAgIGNjLmFzc2V0TWFuYWdlci5sb2FkQnVuZGxlKCdjb21QcmVmYWInLCBmdW5jdGlvbihlcnIsIGJ1bmRsZSl7XHJcbiAgICAgICAgICAgICAgICBidW5kbGUubG9hZChwcmVmYWJOYW1lLCBjYy5QcmVmYWIsIGZ1bmN0aW9uIChlcnJvciwgcHJlZmFiKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNjLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBsZXQgY2FudmFzUGFyZW50ID0gY2MuZmluZCgnQ2FudmFzJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoY2FudmFzUGFyZW50LmNoaWxkcmVuQ291bnQ+MCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8Y2FudmFzUGFyZW50LmNoaWxkcmVuLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYoY2FudmFzUGFyZW50LmNoaWxkcmVuW2ldLm5hbWUgPT0gJ2xvYWRUaXAnKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYW52YXNQYXJlbnQuY2hpbGRyZW5baV0ucmVtb3ZlRnJvbVBhcmVudCgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBpbnN0YW5jZSA9IGNjLmluc3RhbnRpYXRlKHByZWZhYik7XHJcbiAgICAgICAgICAgICAgICAgICAgY2FudmFzUGFyZW50LmFkZENoaWxkKGluc3RhbmNlKTtcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIHZhciBjb250cm9sQ29tcG9uZW50ID0gaW5zdGFuY2UuZ2V0Q29tcG9uZW50KHByZWZhYk5hbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnRyb2xDb21wb25lbnQgJiYgY29udHJvbENvbXBvbmVudC5zaG93ICYmIGNvbnRyb2xDb21wb25lbnQuc2hvdyhvcHRzKTsgLy/miYDmnInlvLnlh7rlsYLmjqfliLbnu4Tku7bpg73lupTlrp7njrDov5nkuKrlh73mlbDvvIznoa7kv53op6blj5Hkuovku7bml7bkvKDpgJLnmoTlj4LmlbDog73kvKDpgJLliLDnlYzpnaJcclxuICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGluc3RhbmNlLnpJbmRleCA9IHpJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICBpbnN0YW5jZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgXHJcbiAgICAgICAgICAgICAgICAgICAgY2IgJiYgY2IobnVsbCwgaW5zdGFuY2UpO1xyXG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB9O1xyXG4gICAgICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xyXG4gICAgICAgIHBvcHVwUGFuZWxFdmVudENhbGxiYWNrKCdsb2FkVGlwJywgb3B0cywgb3B0cy56SW5kZXggfHwxNTAwKTtcclxuICAgIH0sXHJcblxyXG4gICAgc2hvd0dhbWVIZWxwRnVuKG9wdHMpe1xyXG4gICAgICAgIGxldCBwb3B1cFBhbmVsRXZlbnRDYWxsYmFjayA9IGZ1bmN0aW9uIChwcmVmYWJOYW1lLCBvcHRzLCB6SW5kZXgsIGNiKSB7XHJcbiAgICAgICAgICAgIHZhciBwcmVmYWJQYXRoID0gJ2dhbWVDb21vbi9wcmVmYWIvJyArIHByZWZhYk5hbWU7XHJcbiAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKHByZWZhYlBhdGgsIGNjLlByZWZhYiwgZnVuY3Rpb24gKGVycm9yLCBwcmVmYWIpIHtcclxuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNjLmVycm9yKGVycm9yKTtcclxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB2YXIgaW5zdGFuY2UgPSBjYy5pbnN0YW50aWF0ZShwcmVmYWIpO1xyXG4gICAgICAgICAgICAgICAgY2MuZmluZCgnQ2FudmFzJykuYWRkQ2hpbGQoaW5zdGFuY2UpO1xyXG5cclxuICAgICAgICAgICAgICAgIC8vY2MuZmluZChcIkNhbnZhcy9hbGVydFwiKS5hZGRDaGlsZChpbnN0YW5jZSk7XHJcbiAgICAgICAgICAgICAgICB2YXIgY29udHJvbENvbXBvbmVudCA9IGluc3RhbmNlLmdldENvbXBvbmVudChwcmVmYWJOYW1lKTtcclxuICAgICAgICAgICAgICAgIGNvbnRyb2xDb21wb25lbnQgJiYgY29udHJvbENvbXBvbmVudC5zaG93ICYmIGNvbnRyb2xDb21wb25lbnQuc2hvdyhvcHRzKTsgLy/miYDmnInlvLnlh7rlsYLmjqfliLbnu4Tku7bpg73lupTlrp7njrDov5nkuKrlh73mlbDvvIznoa7kv53op6blj5Hkuovku7bml7bkvKDpgJLnmoTlj4LmlbDog73kvKDpgJLliLDnlYzpnaJcclxuXHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS56SW5kZXggPSB6SW5kZXg7XHJcbiAgICAgICAgICAgICAgICBpbnN0YW5jZS5hY3RpdmUgPSB0cnVlO1xyXG5cclxuICAgICAgICAgICAgICAgIGNiICYmIGNiKG51bGwsIGluc3RhbmNlKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfTtcclxuICAgICAgICBvcHRzID0gb3B0cyB8fCB7fTtcclxuICAgICAgICBwb3B1cFBhbmVsRXZlbnRDYWxsYmFjaygnaGVscFBhbmVsJywgb3B0cywgb3B0cy56SW5kZXggfHwxMDAwKTtcclxuICAgIH0sXHJcbn0pO1xyXG5tb2R1bGUuZXhwb3J0cyA9IEdhbWVTY2VuZU1hbmFnZXI7XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/ad/videoBanner.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '984cbg+bTFE9qHzstOIM3zd', 'videoBanner');
// gameComon/scripts/ad/videoBanner.js

"use strict";

var videoAdId = '';
var appId = '';
var isPlaySuccess = false;
var countDownTimeOut;
var VideoBanner = cc.Class({
  properties: {},
  ctor: function ctor() {
    this.instance = null;
  },
  statics: {
    create: function create(data) {
      if (!this.instance) {
        this.instance = new VideoBanner();
        this.instance.initWithData(data);
        return this.instance;
      }
    }
  },
  initWithData: function initWithData(data) {
    isPlaySuccess = false;
    this.callback = null;
    this.count = 1;

    if (cc.sys.platform == cc.sys.BYTEDANCE_GAME) {
      //头条平台
      videoAdId = '1gr8f7hvpon3mb2llf';

      if (appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.videoId && appGame.gameServerRoom.adConfig.videoId.toutiao) {
        videoAdId = appGame.gameServerRoom.adConfig.videoId.toutiao.adUnitId;
      }

      this.globalData = {
        videoAd: tt.createRewardedVideoAd({
          adUnitId: videoAdId
        })
      };
      httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
        title: '广告位激励视频',
        content: '创建成功',
        desc: videoAdId
      }, function () {});
    } else if (cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'WX') {
      //微信
      videoAdId = 'adunit-168ed0ed4d9f8fad';

      if (appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.videoId && appGame.gameServerRoom.adConfig.videoId.WX) {
        videoAdId = appGame.gameServerRoom.adConfig.videoId.WX.adUnitId;
      }

      this.globalData = {
        videoAd: wx.createRewardedVideoAd({
          adUnitId: videoAdId
        })
      };
      httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
        title: '广告位激励视频',
        content: '创建成功',
        desc: videoAdId
      }, function () {});
    } else if (cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'QQ') {
      //qq
      videoAdId = 'adunit-168ed0ed4d9f8fad';

      if (appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.videoId && appGame.gameServerRoom.adConfig.videoId.QQ) {
        videoAdId = appGame.gameServerRoom.adConfig.videoId.QQ.adUnitId;
      }

      this.globalData = {
        videoAd: qq.createRewardedVideoAd({
          adUnitId: videoAdId
        })
      };
      httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
        title: '广告位激励视频',
        content: '创建成功',
        desc: videoAdId
      }, function () {});
    } else if (cc.sys.platform == cc.sys.BAIDU_GAME) {
      //百度
      videoAdId = '7433930';

      if (appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.videoId && appGame.gameServerRoom.adConfig.videoId.baidu) {
        videoAdId = appGame.gameServerRoom.adConfig.videoId.baidu.adUnitId;
      }

      if (appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.videoId && appGame.gameServerRoom.adConfig.videoId.baidu) {
        appId = appGame.gameServerRoom.adConfig.videoId.baidu.appSid;
      }

      this.globalData = {
        videoAd: swan.createRewardedVideoAd({
          adUnitId: videoAdId,
          appSid: appId
        })
      };
    }

    httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
      title: '广告位激励视频',
      content: '创建成功',
      desc: videoAdId
    }, function () {});

    if (cc.sys.platform != cc.sys.WECHAT_GAME) {
      if (this.globalData && this.globalData.videoAd) {
        this.globalData.videoAd.onClose(function (res) {
          if (res.isEnded) {
            console.log("看完视频关闭");
            httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
              title: '广告位激励视频',
              content: '点击关闭',
              desc: videoAdId + "播放成功"
            }, function () {});
            clearTimeout(countDownTimeOut);
            this.callback && this.callback(1);
            appGame.audioMgr.getMusicStatus(function (onOff) {
              if (onOff) {
                appGame.audioMgr.setMusicOnOff(onOff);
              }
            }.bind(this));
          } else {
            httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
              title: '广告位激励视频',
              content: '点击关闭',
              desc: videoAdId + "播放失败"
            }, function () {});
            console.log("未看完视频关闭");
            clearTimeout(countDownTimeOut);
            this.callback && this.callback(2);
            appGame.audioMgr.getMusicStatus(function (onOff) {
              if (onOff) {
                appGame.audioMgr.setMusicOnOff(onOff);
              }
            }.bind(this));
          }
        }.bind(this));

        var onErrorFuc = function (listener) {
          console.log("播放视频广告出问题" + listener.errCode + listener.errMsg);
          httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
            title: '广告位激励视频',
            content: videoAdId,
            desc: listener.errCode + listener.errMsg
          }, function () {});
          clearTimeout(countDownTimeOut);
          this.callback && this.callback(3);
          appGame.audioMgr.getMusicStatus(function (onOff) {
            if (onOff) {
              appGame.audioMgr.setMusicOnOff(onOff);
            }
          }.bind(this));
        }.bind(this);

        this.globalData.videoAd.onError(onErrorFuc); //this.globalData.videoAd.offError(onErrorFuc);
      }
    }
  },
  playVideoAd: function playVideoAd(sceneId, cb) {
    isPlaySuccess = false;
    console.log("播放视频广告");
    this.count++;
    httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
      title: '广告位激励视频',
      content: this.count,
      desc: videoAdId
    }, function () {});
    clearTimeout(countDownTimeOut);

    if (this.globalData && this.globalData.videoAd) {
      appGame.audioMgr.getMusicStatus(function (onOff) {
        if (onOff) {
          appGame.audioMgr.setMusicOnOff(onOff);
        }
      }.bind(this));
      countDownTimeOut = setTimeout(function () {
        if (!isPlaySuccess) {
          console.log("倒计时到返回回调");
          clearTimeout(countDownTimeOut);
          appGame.audioMgr.getMusicStatus(function (onOff) {
            if (onOff) {
              appGame.audioMgr.setMusicOnOff(onOff);
            }
          }.bind(this));
          cb(3);
        }
      }.bind(this), 5000);
      var videoAd = this.globalData.videoAd;

      if (cc.sys.platform == cc.sys.WECHAT_GAME && (appGame.platform == 'WX' || appGame.platform == 'QQ')) {
        console.log("播放微信视频");

        if (_videoAd) {
          _videoAd.destroy();
        }

        var _videoAd = null;

        if (appGame.platform == 'WX') {
          _videoAd = wx.createRewardedVideoAd({
            adUnitId: videoAdId
          });
        } else {
          _videoAd = qq.createRewardedVideoAd({
            adUnitId: videoAdId
          });
        }

        httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
          title: '广告位激励视频',
          content: '创建成功',
          desc: videoAdId
        }, function () {});

        _videoAd.onError(function (res) {
          clearTimeout(countDownTimeOut);
          this.callback && this.callback(3);
          appGame.audioMgr.getMusicStatus(function (onOff) {
            if (onOff) {
              appGame.audioMgr.setMusicOnOff(onOff);
            }
          }.bind(this));
          httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
            title: '广告位激励视频',
            content: videoAdId,
            desc: res.errCode + res.errMsg
          }, function () {});
          console.log('videoAd onError', res);
        }.bind(this));

        _videoAd.onLoad(function (res) {
          console.log('videoAd onLoad', res);
        });

        _videoAd.onClose(function (res) {
          console.log("关闭微信视频========" + res.isEnded);

          if (res.isEnded) {
            httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
              title: '广告位激励视频',
              content: '点击关闭',
              desc: videoAdId + "播放成功"
            }, function () {});
            clearTimeout(countDownTimeOut);
            this.callback && this.callback(1);
            appGame.audioMgr.getMusicStatus(function (onOff) {
              if (onOff) {
                appGame.audioMgr.setMusicOnOff(onOff);
              }
            }.bind(this));
          } else {
            httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
              title: '广告位激励视频',
              content: '点击关闭',
              desc: videoAdId + "播放失败"
            }, function () {});
            clearTimeout(countDownTimeOut);
            this.callback && this.callback(2);
            appGame.audioMgr.getMusicStatus(function (onOff) {
              if (onOff) {
                appGame.audioMgr.setMusicOnOff(onOff);
              }
            }.bind(this));
          }

          _videoAd.offClose();
        }.bind(this));

        _videoAd.load().then(function () {
          console.log('激励视频加载成功');

          _videoAd.show().then(function () {
            isPlaySuccess = true;
            httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
              title: '广告位激励视频',
              content: '展示成功',
              desc: videoAdId + sceneId
            }, function () {});
            console.log('激励视频 广告显示成功');
          })["catch"](function (err) {
            httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
              title: '广告位激励视频',
              content: '展示失败',
              desc: videoAdId + sceneId
            }, function () {});
            console.log('激励视频 广告显示失败');
          });
        })["catch"](function (err) {
          console.log('激励视频加载失败');
        });

        this.callback = cb;
      } else {
        videoAd.show().then(function () {
          isPlaySuccess = true;
          httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
            title: '广告位激励视频',
            content: '展示成功',
            desc: videoAdId + sceneId
          }, function () {});
          console.log("广告显示成功");
        })["catch"](function (err) {
          httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
            title: '广告位激励视频',
            content: '展示失败',
            desc: videoAdId + sceneId
          }, function () {});
          console.log("广告组件出现问题", err); // 可以手动加载一次

          videoAd.load().then(function () {
            console.log("手动加载成功"); // 加载成功后需要再显示广告

            httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
              title: '广告位激励视频',
              content: '手动加载成功',
              desc: videoAdId
            }, function () {});
            isPlaySuccess = true;
            return videoAd.show();
          });
        });
        this.callback = cb;
      }
    } else {
      //没有激励视频的直接返回
      appGame.audioMgr.getMusicStatus(function (onOff) {
        if (onOff) {
          appGame.audioMgr.setMusicOnOff(onOff);
        }
      }.bind(this));
      cb(1);
    }
  }
});
module.exports = VideoBanner;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFxhZFxcdmlkZW9CYW5uZXIuanMiXSwibmFtZXMiOlsidmlkZW9BZElkIiwiYXBwSWQiLCJpc1BsYXlTdWNjZXNzIiwiY291bnREb3duVGltZU91dCIsIlZpZGVvQmFubmVyIiwiY2MiLCJDbGFzcyIsInByb3BlcnRpZXMiLCJjdG9yIiwiaW5zdGFuY2UiLCJzdGF0aWNzIiwiY3JlYXRlIiwiZGF0YSIsImluaXRXaXRoRGF0YSIsImNhbGxiYWNrIiwiY291bnQiLCJzeXMiLCJwbGF0Zm9ybSIsIkJZVEVEQU5DRV9HQU1FIiwiYXBwR2FtZSIsImdhbWVTZXJ2ZXJSb29tIiwiYWRDb25maWciLCJ2aWRlb0lkIiwidG91dGlhbyIsImFkVW5pdElkIiwiZ2xvYmFsRGF0YSIsInZpZGVvQWQiLCJ0dCIsImNyZWF0ZVJld2FyZGVkVmlkZW9BZCIsImh0dHBVdGlscyIsImh0dHBQb3N0IiwiY29uc3RzIiwiSFRUUF9SRUNPUkRfU0VSVkVSIiwidGl0bGUiLCJjb250ZW50IiwiZGVzYyIsIldFQ0hBVF9HQU1FIiwiV1giLCJ3eCIsIlFRIiwicXEiLCJCQUlEVV9HQU1FIiwiYmFpZHUiLCJhcHBTaWQiLCJzd2FuIiwib25DbG9zZSIsInJlcyIsImlzRW5kZWQiLCJjb25zb2xlIiwibG9nIiwiY2xlYXJUaW1lb3V0IiwiYXVkaW9NZ3IiLCJnZXRNdXNpY1N0YXR1cyIsIm9uT2ZmIiwic2V0TXVzaWNPbk9mZiIsImJpbmQiLCJvbkVycm9yRnVjIiwibGlzdGVuZXIiLCJlcnJDb2RlIiwiZXJyTXNnIiwib25FcnJvciIsInBsYXlWaWRlb0FkIiwic2NlbmVJZCIsImNiIiwic2V0VGltZW91dCIsImRlc3Ryb3kiLCJvbkxvYWQiLCJvZmZDbG9zZSIsImxvYWQiLCJ0aGVuIiwic2hvdyIsImVyciIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsU0FBUyxHQUFHLEVBQWhCO0FBQ0EsSUFBSUMsS0FBSyxHQUFHLEVBQVo7QUFDQSxJQUFJQyxhQUFhLEdBQUcsS0FBcEI7QUFDQSxJQUFJQyxnQkFBSjtBQUNBLElBQUlDLFdBQVcsR0FBR0MsRUFBRSxDQUFDQyxLQUFILENBQVM7QUFDdkJDLEVBQUFBLFVBQVUsRUFBRSxFQURXO0FBR3ZCQyxFQUFBQSxJQUh1QixrQkFHakI7QUFDRixTQUFLQyxRQUFMLEdBQWdCLElBQWhCO0FBQ0gsR0FMc0I7QUFNdkJDLEVBQUFBLE9BQU8sRUFBRTtBQUNMQyxJQUFBQSxNQUFNLEVBQUUsZ0JBQVVDLElBQVYsRUFBZ0I7QUFDcEIsVUFBRyxDQUFDLEtBQUtILFFBQVQsRUFBa0I7QUFDZCxhQUFLQSxRQUFMLEdBQWdCLElBQUlMLFdBQUosRUFBaEI7QUFDQSxhQUFLSyxRQUFMLENBQWNJLFlBQWQsQ0FBMkJELElBQTNCO0FBQ0EsZUFBTyxLQUFLSCxRQUFaO0FBQ0g7QUFDSjtBQVBJLEdBTmM7QUFldkJJLEVBQUFBLFlBQVksRUFBRSxzQkFBVUQsSUFBVixFQUFnQjtBQUMxQlYsSUFBQUEsYUFBYSxHQUFHLEtBQWhCO0FBQ0EsU0FBS1ksUUFBTCxHQUFnQixJQUFoQjtBQUNBLFNBQUtDLEtBQUwsR0FBYSxDQUFiOztBQUNBLFFBQUdWLEVBQUUsQ0FBQ1csR0FBSCxDQUFPQyxRQUFQLElBQW1CWixFQUFFLENBQUNXLEdBQUgsQ0FBT0UsY0FBN0IsRUFBNEM7QUFBRTtBQUMxQ2xCLE1BQUFBLFNBQVMsR0FBRyxvQkFBWjs7QUFDQSxVQUFHbUIsT0FBTyxDQUFDQyxjQUFSLENBQXVCQyxRQUF2QixJQUFtQ0YsT0FBTyxDQUFDQyxjQUFSLENBQXVCQyxRQUF2QixDQUFnQ0MsT0FBbkUsSUFBOEVILE9BQU8sQ0FBQ0MsY0FBUixDQUF1QkMsUUFBdkIsQ0FBZ0NDLE9BQWhDLENBQXdDQyxPQUF6SCxFQUFpSTtBQUM3SHZCLFFBQUFBLFNBQVMsR0FBR21CLE9BQU8sQ0FBQ0MsY0FBUixDQUF1QkMsUUFBdkIsQ0FBZ0NDLE9BQWhDLENBQXdDQyxPQUF4QyxDQUFnREMsUUFBNUQ7QUFDSDs7QUFDRCxXQUFLQyxVQUFMLEdBQWtCO0FBQ2RDLFFBQUFBLE9BQU8sRUFBRUMsRUFBRSxDQUFDQyxxQkFBSCxDQUF5QjtBQUM5QkosVUFBQUEsUUFBUSxFQUFFeEI7QUFEb0IsU0FBekI7QUFESyxPQUFsQjtBQUtBNkIsTUFBQUEsU0FBUyxDQUFDQyxRQUFWLENBQW1CQyxNQUFNLENBQUNDLGtCQUExQixFQUE2QztBQUFDQyxRQUFBQSxLQUFLLEVBQUMsU0FBUDtBQUFpQkMsUUFBQUEsT0FBTyxFQUFDLE1BQXpCO0FBQWdDQyxRQUFBQSxJQUFJLEVBQUNuQztBQUFyQyxPQUE3QyxFQUE2RixZQUFVLENBQ3RHLENBREQ7QUFFSCxLQVpELE1BWU0sSUFBR0ssRUFBRSxDQUFDVyxHQUFILENBQU9DLFFBQVAsSUFBbUJaLEVBQUUsQ0FBQ1csR0FBSCxDQUFPb0IsV0FBMUIsSUFBeUNqQixPQUFPLENBQUNGLFFBQVIsSUFBb0IsSUFBaEUsRUFBcUU7QUFBQztBQUN4RWpCLE1BQUFBLFNBQVMsR0FBRyx5QkFBWjs7QUFDQSxVQUFHbUIsT0FBTyxDQUFDQyxjQUFSLENBQXVCQyxRQUF2QixJQUFtQ0YsT0FBTyxDQUFDQyxjQUFSLENBQXVCQyxRQUF2QixDQUFnQ0MsT0FBbkUsSUFBOEVILE9BQU8sQ0FBQ0MsY0FBUixDQUF1QkMsUUFBdkIsQ0FBZ0NDLE9BQWhDLENBQXdDZSxFQUF6SCxFQUE0SDtBQUN4SHJDLFFBQUFBLFNBQVMsR0FBR21CLE9BQU8sQ0FBQ0MsY0FBUixDQUF1QkMsUUFBdkIsQ0FBZ0NDLE9BQWhDLENBQXdDZSxFQUF4QyxDQUEyQ2IsUUFBdkQ7QUFDSDs7QUFDRCxXQUFLQyxVQUFMLEdBQWtCO0FBQ2RDLFFBQUFBLE9BQU8sRUFBRVksRUFBRSxDQUFDVixxQkFBSCxDQUF5QjtBQUM5QkosVUFBQUEsUUFBUSxFQUFFeEI7QUFEb0IsU0FBekI7QUFESyxPQUFsQjtBQUtBNkIsTUFBQUEsU0FBUyxDQUFDQyxRQUFWLENBQW1CQyxNQUFNLENBQUNDLGtCQUExQixFQUE2QztBQUFDQyxRQUFBQSxLQUFLLEVBQUMsU0FBUDtBQUFpQkMsUUFBQUEsT0FBTyxFQUFDLE1BQXpCO0FBQWdDQyxRQUFBQSxJQUFJLEVBQUNuQztBQUFyQyxPQUE3QyxFQUE2RixZQUFVLENBQ3RHLENBREQ7QUFFSCxLQVpLLE1BWUEsSUFBR0ssRUFBRSxDQUFDVyxHQUFILENBQU9DLFFBQVAsSUFBbUJaLEVBQUUsQ0FBQ1csR0FBSCxDQUFPb0IsV0FBMUIsSUFBeUNqQixPQUFPLENBQUNGLFFBQVIsSUFBb0IsSUFBaEUsRUFBcUU7QUFBQztBQUN4RWpCLE1BQUFBLFNBQVMsR0FBRyx5QkFBWjs7QUFDQSxVQUFHbUIsT0FBTyxDQUFDQyxjQUFSLENBQXVCQyxRQUF2QixJQUFtQ0YsT0FBTyxDQUFDQyxjQUFSLENBQXVCQyxRQUF2QixDQUFnQ0MsT0FBbkUsSUFBOEVILE9BQU8sQ0FBQ0MsY0FBUixDQUF1QkMsUUFBdkIsQ0FBZ0NDLE9BQWhDLENBQXdDaUIsRUFBekgsRUFBNEg7QUFDeEh2QyxRQUFBQSxTQUFTLEdBQUdtQixPQUFPLENBQUNDLGNBQVIsQ0FBdUJDLFFBQXZCLENBQWdDQyxPQUFoQyxDQUF3Q2lCLEVBQXhDLENBQTJDZixRQUF2RDtBQUNIOztBQUNELFdBQUtDLFVBQUwsR0FBa0I7QUFDZEMsUUFBQUEsT0FBTyxFQUFFYyxFQUFFLENBQUNaLHFCQUFILENBQXlCO0FBQzlCSixVQUFBQSxRQUFRLEVBQUV4QjtBQURvQixTQUF6QjtBQURLLE9BQWxCO0FBS0E2QixNQUFBQSxTQUFTLENBQUNDLFFBQVYsQ0FBbUJDLE1BQU0sQ0FBQ0Msa0JBQTFCLEVBQTZDO0FBQUNDLFFBQUFBLEtBQUssRUFBQyxTQUFQO0FBQWlCQyxRQUFBQSxPQUFPLEVBQUMsTUFBekI7QUFBZ0NDLFFBQUFBLElBQUksRUFBQ25DO0FBQXJDLE9BQTdDLEVBQTZGLFlBQVUsQ0FDdEcsQ0FERDtBQUVILEtBWkssTUFZQSxJQUFHSyxFQUFFLENBQUNXLEdBQUgsQ0FBT0MsUUFBUCxJQUFtQlosRUFBRSxDQUFDVyxHQUFILENBQU95QixVQUE3QixFQUF3QztBQUFDO0FBQzNDekMsTUFBQUEsU0FBUyxHQUFHLFNBQVo7O0FBQ0EsVUFBR21CLE9BQU8sQ0FBQ0MsY0FBUixDQUF1QkMsUUFBdkIsSUFBbUNGLE9BQU8sQ0FBQ0MsY0FBUixDQUF1QkMsUUFBdkIsQ0FBZ0NDLE9BQW5FLElBQThFSCxPQUFPLENBQUNDLGNBQVIsQ0FBdUJDLFFBQXZCLENBQWdDQyxPQUFoQyxDQUF3Q29CLEtBQXpILEVBQStIO0FBQzNIMUMsUUFBQUEsU0FBUyxHQUFHbUIsT0FBTyxDQUFDQyxjQUFSLENBQXVCQyxRQUF2QixDQUFnQ0MsT0FBaEMsQ0FBd0NvQixLQUF4QyxDQUE4Q2xCLFFBQTFEO0FBQ0g7O0FBQ0QsVUFBR0wsT0FBTyxDQUFDQyxjQUFSLENBQXVCQyxRQUF2QixJQUFtQ0YsT0FBTyxDQUFDQyxjQUFSLENBQXVCQyxRQUF2QixDQUFnQ0MsT0FBbkUsSUFBOEVILE9BQU8sQ0FBQ0MsY0FBUixDQUF1QkMsUUFBdkIsQ0FBZ0NDLE9BQWhDLENBQXdDb0IsS0FBekgsRUFBK0g7QUFDM0h6QyxRQUFBQSxLQUFLLEdBQUdrQixPQUFPLENBQUNDLGNBQVIsQ0FBdUJDLFFBQXZCLENBQWdDQyxPQUFoQyxDQUF3Q29CLEtBQXhDLENBQThDQyxNQUF0RDtBQUNIOztBQUNELFdBQUtsQixVQUFMLEdBQWtCO0FBQ2RDLFFBQUFBLE9BQU8sRUFBRWtCLElBQUksQ0FBQ2hCLHFCQUFMLENBQTJCO0FBQ2hDSixVQUFBQSxRQUFRLEVBQUV4QixTQURzQjtBQUVoQzJDLFVBQUFBLE1BQU0sRUFBRTFDO0FBRndCLFNBQTNCO0FBREssT0FBbEI7QUFNSDs7QUFDRDRCLElBQUFBLFNBQVMsQ0FBQ0MsUUFBVixDQUFtQkMsTUFBTSxDQUFDQyxrQkFBMUIsRUFBNkM7QUFBQ0MsTUFBQUEsS0FBSyxFQUFDLFNBQVA7QUFBaUJDLE1BQUFBLE9BQU8sRUFBQyxNQUF6QjtBQUFnQ0MsTUFBQUEsSUFBSSxFQUFDbkM7QUFBckMsS0FBN0MsRUFBNkYsWUFBVSxDQUN0RyxDQUREOztBQUVBLFFBQUdLLEVBQUUsQ0FBQ1csR0FBSCxDQUFPQyxRQUFQLElBQW1CWixFQUFFLENBQUNXLEdBQUgsQ0FBT29CLFdBQTdCLEVBQXlDO0FBQ3JDLFVBQUksS0FBS1gsVUFBTCxJQUFtQixLQUFLQSxVQUFMLENBQWdCQyxPQUF2QyxFQUFnRDtBQUM1QyxhQUFLRCxVQUFMLENBQWdCQyxPQUFoQixDQUF3Qm1CLE9BQXhCLENBQWdDLFVBQVNDLEdBQVQsRUFBYTtBQUN6QyxjQUFJQSxHQUFHLENBQUNDLE9BQVIsRUFBaUI7QUFDYkMsWUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksUUFBWjtBQUNBcEIsWUFBQUEsU0FBUyxDQUFDQyxRQUFWLENBQW1CQyxNQUFNLENBQUNDLGtCQUExQixFQUE2QztBQUFDQyxjQUFBQSxLQUFLLEVBQUMsU0FBUDtBQUFpQkMsY0FBQUEsT0FBTyxFQUFDLE1BQXpCO0FBQWdDQyxjQUFBQSxJQUFJLEVBQUNuQyxTQUFTLEdBQUM7QUFBL0MsYUFBN0MsRUFBb0csWUFBVSxDQUM3RyxDQUREO0FBRUFrRCxZQUFBQSxZQUFZLENBQUMvQyxnQkFBRCxDQUFaO0FBQ0EsaUJBQUtXLFFBQUwsSUFBaUIsS0FBS0EsUUFBTCxDQUFjLENBQWQsQ0FBakI7QUFDQUssWUFBQUEsT0FBTyxDQUFDZ0MsUUFBUixDQUFpQkMsY0FBakIsQ0FBZ0MsVUFBU0MsS0FBVCxFQUFlO0FBQzNDLGtCQUFHQSxLQUFILEVBQVM7QUFDTGxDLGdCQUFBQSxPQUFPLENBQUNnQyxRQUFSLENBQWlCRyxhQUFqQixDQUErQkQsS0FBL0I7QUFDSDtBQUNKLGFBSitCLENBSTlCRSxJQUo4QixDQUl6QixJQUp5QixDQUFoQztBQUtILFdBWEQsTUFXTztBQUNIMUIsWUFBQUEsU0FBUyxDQUFDQyxRQUFWLENBQW1CQyxNQUFNLENBQUNDLGtCQUExQixFQUE2QztBQUFDQyxjQUFBQSxLQUFLLEVBQUMsU0FBUDtBQUFpQkMsY0FBQUEsT0FBTyxFQUFDLE1BQXpCO0FBQWdDQyxjQUFBQSxJQUFJLEVBQUNuQyxTQUFTLEdBQUM7QUFBL0MsYUFBN0MsRUFBb0csWUFBVSxDQUM3RyxDQUREO0FBRUFnRCxZQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxTQUFaO0FBQ0FDLFlBQUFBLFlBQVksQ0FBQy9DLGdCQUFELENBQVo7QUFDQSxpQkFBS1csUUFBTCxJQUFpQixLQUFLQSxRQUFMLENBQWMsQ0FBZCxDQUFqQjtBQUNBSyxZQUFBQSxPQUFPLENBQUNnQyxRQUFSLENBQWlCQyxjQUFqQixDQUFnQyxVQUFTQyxLQUFULEVBQWU7QUFDM0Msa0JBQUdBLEtBQUgsRUFBUztBQUNMbEMsZ0JBQUFBLE9BQU8sQ0FBQ2dDLFFBQVIsQ0FBaUJHLGFBQWpCLENBQStCRCxLQUEvQjtBQUNIO0FBQ0osYUFKK0IsQ0FJOUJFLElBSjhCLENBSXpCLElBSnlCLENBQWhDO0FBS0g7QUFDSixTQXhCK0IsQ0F3QjlCQSxJQXhCOEIsQ0F3QnpCLElBeEJ5QixDQUFoQzs7QUF5QkEsWUFBSUMsVUFBVSxHQUFHLFVBQVVDLFFBQVYsRUFBb0I7QUFDakNULFVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGNBQVlRLFFBQVEsQ0FBQ0MsT0FBckIsR0FBNkJELFFBQVEsQ0FBQ0UsTUFBbEQ7QUFDQTlCLFVBQUFBLFNBQVMsQ0FBQ0MsUUFBVixDQUFtQkMsTUFBTSxDQUFDQyxrQkFBMUIsRUFBNkM7QUFBQ0MsWUFBQUEsS0FBSyxFQUFDLFNBQVA7QUFBaUJDLFlBQUFBLE9BQU8sRUFBQ2xDLFNBQXpCO0FBQW1DbUMsWUFBQUEsSUFBSSxFQUFDc0IsUUFBUSxDQUFDQyxPQUFULEdBQWlCRCxRQUFRLENBQUNFO0FBQWxFLFdBQTdDLEVBQXVILFlBQVUsQ0FDaEksQ0FERDtBQUVBVCxVQUFBQSxZQUFZLENBQUMvQyxnQkFBRCxDQUFaO0FBQ0EsZUFBS1csUUFBTCxJQUFpQixLQUFLQSxRQUFMLENBQWMsQ0FBZCxDQUFqQjtBQUNBSyxVQUFBQSxPQUFPLENBQUNnQyxRQUFSLENBQWlCQyxjQUFqQixDQUFnQyxVQUFTQyxLQUFULEVBQWU7QUFDM0MsZ0JBQUdBLEtBQUgsRUFBUztBQUNMbEMsY0FBQUEsT0FBTyxDQUFDZ0MsUUFBUixDQUFpQkcsYUFBakIsQ0FBK0JELEtBQS9CO0FBQ0g7QUFDSixXQUorQixDQUk5QkUsSUFKOEIsQ0FJekIsSUFKeUIsQ0FBaEM7QUFLSCxTQVhnQixDQVdmQSxJQVhlLENBV1YsSUFYVSxDQUFqQjs7QUFZQSxhQUFLOUIsVUFBTCxDQUFnQkMsT0FBaEIsQ0FBd0JrQyxPQUF4QixDQUFnQ0osVUFBaEMsRUF0QzRDLENBdUM1QztBQUNIO0FBQ0o7QUFDSixHQW5Ic0I7QUFxSHZCSyxFQUFBQSxXQUFXLEVBQUMscUJBQVNDLE9BQVQsRUFBaUJDLEVBQWpCLEVBQXFCO0FBQzdCN0QsSUFBQUEsYUFBYSxHQUFHLEtBQWhCO0FBQ0E4QyxJQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxRQUFaO0FBQ0EsU0FBS2xDLEtBQUw7QUFDQWMsSUFBQUEsU0FBUyxDQUFDQyxRQUFWLENBQW1CQyxNQUFNLENBQUNDLGtCQUExQixFQUE2QztBQUFDQyxNQUFBQSxLQUFLLEVBQUMsU0FBUDtBQUFpQkMsTUFBQUEsT0FBTyxFQUFDLEtBQUtuQixLQUE5QjtBQUFvQ29CLE1BQUFBLElBQUksRUFBQ25DO0FBQXpDLEtBQTdDLEVBQWlHLFlBQVUsQ0FDMUcsQ0FERDtBQUVBa0QsSUFBQUEsWUFBWSxDQUFDL0MsZ0JBQUQsQ0FBWjs7QUFDQSxRQUFHLEtBQUtzQixVQUFMLElBQW1CLEtBQUtBLFVBQUwsQ0FBZ0JDLE9BQXRDLEVBQThDO0FBQzFDUCxNQUFBQSxPQUFPLENBQUNnQyxRQUFSLENBQWlCQyxjQUFqQixDQUFnQyxVQUFTQyxLQUFULEVBQWU7QUFDM0MsWUFBR0EsS0FBSCxFQUFTO0FBQ0xsQyxVQUFBQSxPQUFPLENBQUNnQyxRQUFSLENBQWlCRyxhQUFqQixDQUErQkQsS0FBL0I7QUFDSDtBQUNKLE9BSitCLENBSTlCRSxJQUo4QixDQUl6QixJQUp5QixDQUFoQztBQUtBcEQsTUFBQUEsZ0JBQWdCLEdBQUc2RCxVQUFVLENBQUMsWUFBVztBQUNyQyxZQUFHLENBQUM5RCxhQUFKLEVBQWtCO0FBQ2Q4QyxVQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxVQUFaO0FBQ0FDLFVBQUFBLFlBQVksQ0FBQy9DLGdCQUFELENBQVo7QUFDQWdCLFVBQUFBLE9BQU8sQ0FBQ2dDLFFBQVIsQ0FBaUJDLGNBQWpCLENBQWdDLFVBQVNDLEtBQVQsRUFBZTtBQUMzQyxnQkFBR0EsS0FBSCxFQUFTO0FBQ0xsQyxjQUFBQSxPQUFPLENBQUNnQyxRQUFSLENBQWlCRyxhQUFqQixDQUErQkQsS0FBL0I7QUFDSDtBQUNKLFdBSitCLENBSTlCRSxJQUo4QixDQUl6QixJQUp5QixDQUFoQztBQUtBUSxVQUFBQSxFQUFFLENBQUMsQ0FBRCxDQUFGO0FBQ0g7QUFDSixPQVg2QixDQVc1QlIsSUFYNEIsQ0FXdkIsSUFYdUIsQ0FBRCxFQVdmLElBWGUsQ0FBN0I7QUFZQSxVQUFJN0IsT0FBTyxHQUFHLEtBQUtELFVBQUwsQ0FBZ0JDLE9BQTlCOztBQUNBLFVBQUdyQixFQUFFLENBQUNXLEdBQUgsQ0FBT0MsUUFBUCxJQUFtQlosRUFBRSxDQUFDVyxHQUFILENBQU9vQixXQUExQixLQUEwQ2pCLE9BQU8sQ0FBQ0YsUUFBUixJQUFvQixJQUFwQixJQUEyQkUsT0FBTyxDQUFDRixRQUFSLElBQW9CLElBQXpGLENBQUgsRUFBa0c7QUFDOUYrQixRQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxRQUFaOztBQUNBLFlBQUl2QixRQUFKLEVBQWE7QUFDVEEsVUFBQUEsUUFBTyxDQUFDdUMsT0FBUjtBQUNIOztBQUNELFlBQUl2QyxRQUFPLEdBQUcsSUFBZDs7QUFDQSxZQUFHUCxPQUFPLENBQUNGLFFBQVIsSUFBb0IsSUFBdkIsRUFBNEI7QUFDeEJTLFVBQUFBLFFBQU8sR0FBR1ksRUFBRSxDQUFDVixxQkFBSCxDQUF5QjtBQUMvQkosWUFBQUEsUUFBUSxFQUFFeEI7QUFEcUIsV0FBekIsQ0FBVjtBQUdILFNBSkQsTUFJSztBQUNEMEIsVUFBQUEsUUFBTyxHQUFHYyxFQUFFLENBQUNaLHFCQUFILENBQXlCO0FBQy9CSixZQUFBQSxRQUFRLEVBQUV4QjtBQURxQixXQUF6QixDQUFWO0FBR0g7O0FBRUQ2QixRQUFBQSxTQUFTLENBQUNDLFFBQVYsQ0FBbUJDLE1BQU0sQ0FBQ0Msa0JBQTFCLEVBQTZDO0FBQUNDLFVBQUFBLEtBQUssRUFBQyxTQUFQO0FBQWlCQyxVQUFBQSxPQUFPLEVBQUMsTUFBekI7QUFBZ0NDLFVBQUFBLElBQUksRUFBQ25DO0FBQXJDLFNBQTdDLEVBQTZGLFlBQVUsQ0FDdEcsQ0FERDs7QUFFQTBCLFFBQUFBLFFBQU8sQ0FBQ2tDLE9BQVIsQ0FBZ0IsVUFBVWQsR0FBVixFQUFlO0FBQzNCSSxVQUFBQSxZQUFZLENBQUMvQyxnQkFBRCxDQUFaO0FBQ0EsZUFBS1csUUFBTCxJQUFpQixLQUFLQSxRQUFMLENBQWMsQ0FBZCxDQUFqQjtBQUNBSyxVQUFBQSxPQUFPLENBQUNnQyxRQUFSLENBQWlCQyxjQUFqQixDQUFnQyxVQUFTQyxLQUFULEVBQWU7QUFDM0MsZ0JBQUdBLEtBQUgsRUFBUztBQUNMbEMsY0FBQUEsT0FBTyxDQUFDZ0MsUUFBUixDQUFpQkcsYUFBakIsQ0FBK0JELEtBQS9CO0FBQ0g7QUFDSixXQUorQixDQUk5QkUsSUFKOEIsQ0FJekIsSUFKeUIsQ0FBaEM7QUFLQTFCLFVBQUFBLFNBQVMsQ0FBQ0MsUUFBVixDQUFtQkMsTUFBTSxDQUFDQyxrQkFBMUIsRUFBNkM7QUFBQ0MsWUFBQUEsS0FBSyxFQUFDLFNBQVA7QUFBaUJDLFlBQUFBLE9BQU8sRUFBQ2xDLFNBQXpCO0FBQW1DbUMsWUFBQUEsSUFBSSxFQUFDVyxHQUFHLENBQUNZLE9BQUosR0FBWVosR0FBRyxDQUFDYTtBQUF4RCxXQUE3QyxFQUE2RyxZQUFVLENBQ3RILENBREQ7QUFFQVgsVUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksaUJBQVosRUFBK0JILEdBQS9CO0FBQ0gsU0FYZSxDQVdkUyxJQVhjLENBV1QsSUFYUyxDQUFoQjs7QUFZQTdCLFFBQUFBLFFBQU8sQ0FBQ3dDLE1BQVIsQ0FBZSxVQUFVcEIsR0FBVixFQUFlO0FBQzFCRSxVQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxnQkFBWixFQUE4QkgsR0FBOUI7QUFDSCxTQUZEOztBQUdBcEIsUUFBQUEsUUFBTyxDQUFDbUIsT0FBUixDQUFnQixVQUFVQyxHQUFWLEVBQWU7QUFDM0JFLFVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLG1CQUFpQkgsR0FBRyxDQUFDQyxPQUFqQzs7QUFDQSxjQUFJRCxHQUFHLENBQUNDLE9BQVIsRUFBaUI7QUFDYmxCLFlBQUFBLFNBQVMsQ0FBQ0MsUUFBVixDQUFtQkMsTUFBTSxDQUFDQyxrQkFBMUIsRUFBNkM7QUFBQ0MsY0FBQUEsS0FBSyxFQUFDLFNBQVA7QUFBaUJDLGNBQUFBLE9BQU8sRUFBQyxNQUF6QjtBQUFnQ0MsY0FBQUEsSUFBSSxFQUFDbkMsU0FBUyxHQUFDO0FBQS9DLGFBQTdDLEVBQW9HLFlBQVUsQ0FDN0csQ0FERDtBQUVBa0QsWUFBQUEsWUFBWSxDQUFDL0MsZ0JBQUQsQ0FBWjtBQUNBLGlCQUFLVyxRQUFMLElBQWlCLEtBQUtBLFFBQUwsQ0FBYyxDQUFkLENBQWpCO0FBQ0FLLFlBQUFBLE9BQU8sQ0FBQ2dDLFFBQVIsQ0FBaUJDLGNBQWpCLENBQWdDLFVBQVNDLEtBQVQsRUFBZTtBQUMzQyxrQkFBR0EsS0FBSCxFQUFTO0FBQ0xsQyxnQkFBQUEsT0FBTyxDQUFDZ0MsUUFBUixDQUFpQkcsYUFBakIsQ0FBK0JELEtBQS9CO0FBQ0g7QUFDSixhQUorQixDQUk5QkUsSUFKOEIsQ0FJekIsSUFKeUIsQ0FBaEM7QUFLSCxXQVZELE1BVU87QUFDSDFCLFlBQUFBLFNBQVMsQ0FBQ0MsUUFBVixDQUFtQkMsTUFBTSxDQUFDQyxrQkFBMUIsRUFBNkM7QUFBQ0MsY0FBQUEsS0FBSyxFQUFDLFNBQVA7QUFBaUJDLGNBQUFBLE9BQU8sRUFBQyxNQUF6QjtBQUFnQ0MsY0FBQUEsSUFBSSxFQUFDbkMsU0FBUyxHQUFDO0FBQS9DLGFBQTdDLEVBQW9HLFlBQVUsQ0FDN0csQ0FERDtBQUVBa0QsWUFBQUEsWUFBWSxDQUFDL0MsZ0JBQUQsQ0FBWjtBQUNBLGlCQUFLVyxRQUFMLElBQWlCLEtBQUtBLFFBQUwsQ0FBYyxDQUFkLENBQWpCO0FBQ0FLLFlBQUFBLE9BQU8sQ0FBQ2dDLFFBQVIsQ0FBaUJDLGNBQWpCLENBQWdDLFVBQVNDLEtBQVQsRUFBZTtBQUMzQyxrQkFBR0EsS0FBSCxFQUFTO0FBQ0xsQyxnQkFBQUEsT0FBTyxDQUFDZ0MsUUFBUixDQUFpQkcsYUFBakIsQ0FBK0JELEtBQS9CO0FBQ0g7QUFDSixhQUorQixDQUk5QkUsSUFKOEIsQ0FJekIsSUFKeUIsQ0FBaEM7QUFLSDs7QUFDRDdCLFVBQUFBLFFBQU8sQ0FBQ3lDLFFBQVI7QUFDSCxTQXhCZSxDQXdCZFosSUF4QmMsQ0F3QlQsSUF4QlMsQ0FBaEI7O0FBeUJBN0IsUUFBQUEsUUFBTyxDQUFDMEMsSUFBUixHQUNLQyxJQURMLENBQ1UsWUFBTTtBQUNSckIsVUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksVUFBWjs7QUFDQXZCLFVBQUFBLFFBQU8sQ0FBQzRDLElBQVIsR0FBZUQsSUFBZixDQUFvQixZQUFNO0FBQ3RCbkUsWUFBQUEsYUFBYSxHQUFHLElBQWhCO0FBQ0EyQixZQUFBQSxTQUFTLENBQUNDLFFBQVYsQ0FBbUJDLE1BQU0sQ0FBQ0Msa0JBQTFCLEVBQTZDO0FBQUNDLGNBQUFBLEtBQUssRUFBQyxTQUFQO0FBQWlCQyxjQUFBQSxPQUFPLEVBQUMsTUFBekI7QUFBZ0NDLGNBQUFBLElBQUksRUFBQ25DLFNBQVMsR0FBQzhEO0FBQS9DLGFBQTdDLEVBQXFHLFlBQVUsQ0FDOUcsQ0FERDtBQUVBZCxZQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxhQUFaO0FBQ0gsV0FMRCxXQU1PLFVBQUFzQixHQUFHLEVBQUk7QUFDVjFDLFlBQUFBLFNBQVMsQ0FBQ0MsUUFBVixDQUFtQkMsTUFBTSxDQUFDQyxrQkFBMUIsRUFBNkM7QUFBQ0MsY0FBQUEsS0FBSyxFQUFDLFNBQVA7QUFBaUJDLGNBQUFBLE9BQU8sRUFBQyxNQUF6QjtBQUFnQ0MsY0FBQUEsSUFBSSxFQUFDbkMsU0FBUyxHQUFDOEQ7QUFBL0MsYUFBN0MsRUFBcUcsWUFBVSxDQUM5RyxDQUREO0FBRUFkLFlBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGFBQVo7QUFDSCxXQVZEO0FBV0gsU0FkTCxXQWVXLFVBQUFzQixHQUFHLEVBQUk7QUFDVnZCLFVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFVBQVo7QUFDSCxTQWpCTDs7QUFrQkEsYUFBS25DLFFBQUwsR0FBZ0JpRCxFQUFoQjtBQUNILE9BN0VELE1BNkVLO0FBQ0RyQyxRQUFBQSxPQUFPLENBQ040QyxJQURELEdBRUNELElBRkQsQ0FFTSxZQUFNO0FBQ1JuRSxVQUFBQSxhQUFhLEdBQUcsSUFBaEI7QUFDQTJCLFVBQUFBLFNBQVMsQ0FBQ0MsUUFBVixDQUFtQkMsTUFBTSxDQUFDQyxrQkFBMUIsRUFBNkM7QUFBQ0MsWUFBQUEsS0FBSyxFQUFDLFNBQVA7QUFBaUJDLFlBQUFBLE9BQU8sRUFBQyxNQUF6QjtBQUFnQ0MsWUFBQUEsSUFBSSxFQUFDbkMsU0FBUyxHQUFDOEQ7QUFBL0MsV0FBN0MsRUFBcUcsWUFBVSxDQUM5RyxDQUREO0FBRUFkLFVBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFFBQVo7QUFDSCxTQVBELFdBUU8sVUFBQ3NCLEdBQUQsRUFBUztBQUNaMUMsVUFBQUEsU0FBUyxDQUFDQyxRQUFWLENBQW1CQyxNQUFNLENBQUNDLGtCQUExQixFQUE2QztBQUFDQyxZQUFBQSxLQUFLLEVBQUMsU0FBUDtBQUFpQkMsWUFBQUEsT0FBTyxFQUFDLE1BQXpCO0FBQWdDQyxZQUFBQSxJQUFJLEVBQUNuQyxTQUFTLEdBQUM4RDtBQUEvQyxXQUE3QyxFQUFxRyxZQUFVLENBQzlHLENBREQ7QUFFQWQsVUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksVUFBWixFQUF3QnNCLEdBQXhCLEVBSFksQ0FJWjs7QUFDQTdDLFVBQUFBLE9BQU8sQ0FBQzBDLElBQVIsR0FBZUMsSUFBZixDQUFvQixZQUFNO0FBQ3RCckIsWUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksUUFBWixFQURzQixDQUV0Qjs7QUFDQXBCLFlBQUFBLFNBQVMsQ0FBQ0MsUUFBVixDQUFtQkMsTUFBTSxDQUFDQyxrQkFBMUIsRUFBNkM7QUFBQ0MsY0FBQUEsS0FBSyxFQUFDLFNBQVA7QUFBaUJDLGNBQUFBLE9BQU8sRUFBQyxRQUF6QjtBQUFrQ0MsY0FBQUEsSUFBSSxFQUFDbkM7QUFBdkMsYUFBN0MsRUFBK0YsWUFBVSxDQUN4RyxDQUREO0FBRUFFLFlBQUFBLGFBQWEsR0FBRyxJQUFoQjtBQUNBLG1CQUFPd0IsT0FBTyxDQUFDNEMsSUFBUixFQUFQO0FBQ0gsV0FQRDtBQVFILFNBckJEO0FBc0JBLGFBQUt4RCxRQUFMLEdBQWdCaUQsRUFBaEI7QUFDSDtBQUNKLEtBekhELE1BeUhLO0FBQUM7QUFDRjVDLE1BQUFBLE9BQU8sQ0FBQ2dDLFFBQVIsQ0FBaUJDLGNBQWpCLENBQWdDLFVBQVNDLEtBQVQsRUFBZTtBQUMzQyxZQUFHQSxLQUFILEVBQVM7QUFDTGxDLFVBQUFBLE9BQU8sQ0FBQ2dDLFFBQVIsQ0FBaUJHLGFBQWpCLENBQStCRCxLQUEvQjtBQUNIO0FBQ0osT0FKK0IsQ0FJOUJFLElBSjhCLENBSXpCLElBSnlCLENBQWhDO0FBS0FRLE1BQUFBLEVBQUUsQ0FBQyxDQUFELENBQUY7QUFDSDtBQUNKO0FBN1BzQixDQUFULENBQWxCO0FBK1BBUyxNQUFNLENBQUNDLE9BQVAsR0FBaUJyRSxXQUFqQiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIHZpZGVvQWRJZCA9ICcnO1xyXG52YXIgYXBwSWQgPSAnJztcclxudmFyIGlzUGxheVN1Y2Nlc3MgPSBmYWxzZTtcclxudmFyIGNvdW50RG93blRpbWVPdXQ7XHJcbnZhciBWaWRlb0Jhbm5lciA9IGNjLkNsYXNzKHtcclxuICAgIHByb3BlcnRpZXM6IHtcclxuICAgIH0sXHJcbiAgICBjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG51bGw7XHJcbiAgICB9LFxyXG4gICAgc3RhdGljczoge1xyXG4gICAgICAgIGNyZWF0ZTogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgaWYoIXRoaXMuaW5zdGFuY2Upe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBWaWRlb0Jhbm5lcigpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5pbml0V2l0aERhdGEoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBpbml0V2l0aERhdGE6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgaXNQbGF5U3VjY2VzcyA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBudWxsO1xyXG4gICAgICAgIHRoaXMuY291bnQgPSAxO1xyXG4gICAgICAgIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuQllURURBTkNFX0dBTUUpeyAvL+WktOadoeW5s+WPsFxyXG4gICAgICAgICAgICB2aWRlb0FkSWQgPSAnMWdyOGY3aHZwb24zbWIybGxmJztcclxuICAgICAgICAgICAgaWYoYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZyAmJiBhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmFkQ29uZmlnLnZpZGVvSWQgJiYgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy52aWRlb0lkLnRvdXRpYW8pe1xyXG4gICAgICAgICAgICAgICAgdmlkZW9BZElkID0gYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy52aWRlb0lkLnRvdXRpYW8uYWRVbml0SWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgdmlkZW9BZDogdHQuY3JlYXRlUmV3YXJkZWRWaWRlb0FkKHtcclxuICAgICAgICAgICAgICAgICAgICBhZFVuaXRJZDogdmlkZW9BZElkXHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+W5v+WRiuS9jea/gOWKseinhumikScsY29udGVudDon5Yib5bu65oiQ5YqfJyxkZXNjOnZpZGVvQWRJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfWVsc2UgaWYoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5XRUNIQVRfR0FNRSAmJiBhcHBHYW1lLnBsYXRmb3JtID09ICdXWCcpey8v5b6u5L+hXHJcbiAgICAgICAgICAgIHZpZGVvQWRJZCA9ICdhZHVuaXQtMTY4ZWQwZWQ0ZDlmOGZhZCc7XHJcbiAgICAgICAgICAgIGlmKGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcgJiYgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy52aWRlb0lkICYmIGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcudmlkZW9JZC5XWCl7XHJcbiAgICAgICAgICAgICAgICB2aWRlb0FkSWQgPSBhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmFkQ29uZmlnLnZpZGVvSWQuV1guYWRVbml0SWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgdmlkZW9BZDogd3guY3JlYXRlUmV3YXJkZWRWaWRlb0FkKHtcclxuICAgICAgICAgICAgICAgICAgICBhZFVuaXRJZDogdmlkZW9BZElkLFxyXG4gICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOiflub/lkYrkvY3mv4DlirHop4bpopEnLGNvbnRlbnQ6J+WIm+W7uuaIkOWKnycsZGVzYzp2aWRlb0FkSWR9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1lbHNlIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuV0VDSEFUX0dBTUUgJiYgYXBwR2FtZS5wbGF0Zm9ybSA9PSAnUVEnKXsvL3FxXHJcbiAgICAgICAgICAgIHZpZGVvQWRJZCA9ICdhZHVuaXQtMTY4ZWQwZWQ0ZDlmOGZhZCc7XHJcbiAgICAgICAgICAgIGlmKGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcgJiYgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy52aWRlb0lkICYmIGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcudmlkZW9JZC5RUSl7XHJcbiAgICAgICAgICAgICAgICB2aWRlb0FkSWQgPSBhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmFkQ29uZmlnLnZpZGVvSWQuUVEuYWRVbml0SWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgdmlkZW9BZDogcXEuY3JlYXRlUmV3YXJkZWRWaWRlb0FkKHtcclxuICAgICAgICAgICAgICAgICAgICBhZFVuaXRJZDogdmlkZW9BZElkXHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+W5v+WRiuS9jea/gOWKseinhumikScsY29udGVudDon5Yib5bu65oiQ5YqfJyxkZXNjOnZpZGVvQWRJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfWVsc2UgaWYoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5CQUlEVV9HQU1FKXsvL+eZvuW6plxyXG4gICAgICAgICAgICB2aWRlb0FkSWQgPSAnNzQzMzkzMCc7XHJcbiAgICAgICAgICAgIGlmKGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcgJiYgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy52aWRlb0lkICYmIGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcudmlkZW9JZC5iYWlkdSl7XHJcbiAgICAgICAgICAgICAgICB2aWRlb0FkSWQgPSBhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmFkQ29uZmlnLnZpZGVvSWQuYmFpZHUuYWRVbml0SWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZyAmJiBhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmFkQ29uZmlnLnZpZGVvSWQgJiYgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy52aWRlb0lkLmJhaWR1KXtcclxuICAgICAgICAgICAgICAgIGFwcElkID0gYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy52aWRlb0lkLmJhaWR1LmFwcFNpZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmdsb2JhbERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICB2aWRlb0FkOiBzd2FuLmNyZWF0ZVJld2FyZGVkVmlkZW9BZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRVbml0SWQ6IHZpZGVvQWRJZCxcclxuICAgICAgICAgICAgICAgICAgICBhcHBTaWQ6IGFwcElkXHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+W5v+WRiuS9jea/gOWKseinhumikScsY29udGVudDon5Yib5bu65oiQ5YqfJyxkZXNjOnZpZGVvQWRJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gIT0gY2Muc3lzLldFQ0hBVF9HQU1FKXtcclxuICAgICAgICAgICAgaWYgKHRoaXMuZ2xvYmFsRGF0YSAmJiB0aGlzLmdsb2JhbERhdGEudmlkZW9BZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhLnZpZGVvQWQub25DbG9zZShmdW5jdGlvbihyZXMpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXMuaXNFbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIueci+WujOinhumikeWFs+mXrVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+W5v+WRiuS9jea/gOWKseinhumikScsY29udGVudDon54K55Ye75YWz6ZetJyxkZXNjOnZpZGVvQWRJZCtcIuaSreaUvuaIkOWKn1wifSxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNvdW50RG93blRpbWVPdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrICYmIHRoaXMuY2FsbGJhY2soMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcEdhbWUuYXVkaW9NZ3IuZ2V0TXVzaWNTdGF0dXMoZnVuY3Rpb24ob25PZmYpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYob25PZmYpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcEdhbWUuYXVkaW9NZ3Iuc2V0TXVzaWNPbk9mZihvbk9mZik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOiflub/lkYrkvY3mv4DlirHop4bpopEnLGNvbnRlbnQ6J+eCueWHu+WFs+mXrScsZGVzYzp2aWRlb0FkSWQrXCLmkq3mlL7lpLHotKVcIn0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5pyq55yL5a6M6KeG6aKR5YWz6ZetXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChjb3VudERvd25UaW1lT3V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFjayAmJiB0aGlzLmNhbGxiYWNrKDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBHYW1lLmF1ZGlvTWdyLmdldE11c2ljU3RhdHVzKGZ1bmN0aW9uKG9uT2ZmKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKG9uT2ZmKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBHYW1lLmF1ZGlvTWdyLnNldE11c2ljT25PZmYob25PZmYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICBsZXQgb25FcnJvckZ1YyA9IGZ1bmN0aW9uIChsaXN0ZW5lcikge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5pKt5pS+6KeG6aKR5bm/5ZGK5Ye66Zeu6aKYXCIrbGlzdGVuZXIuZXJyQ29kZStsaXN0ZW5lci5lcnJNc2cpXHJcbiAgICAgICAgICAgICAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOiflub/lkYrkvY3mv4DlirHop4bpopEnLGNvbnRlbnQ6dmlkZW9BZElkLGRlc2M6bGlzdGVuZXIuZXJyQ29kZStsaXN0ZW5lci5lcnJNc2d9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNvdW50RG93blRpbWVPdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2FsbGJhY2sgJiYgdGhpcy5jYWxsYmFjaygzKTtcclxuICAgICAgICAgICAgICAgICAgICBhcHBHYW1lLmF1ZGlvTWdyLmdldE11c2ljU3RhdHVzKGZ1bmN0aW9uKG9uT2ZmKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYob25PZmYpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYXBwR2FtZS5hdWRpb01nci5zZXRNdXNpY09uT2ZmKG9uT2ZmKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcyk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbERhdGEudmlkZW9BZC5vbkVycm9yKG9uRXJyb3JGdWMpO1xyXG4gICAgICAgICAgICAgICAgLy90aGlzLmdsb2JhbERhdGEudmlkZW9BZC5vZmZFcnJvcihvbkVycm9yRnVjKTtcclxuICAgICAgICAgICAgfSAgXHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBwbGF5VmlkZW9BZDpmdW5jdGlvbihzY2VuZUlkLGNiKSB7XHJcbiAgICAgICAgaXNQbGF5U3VjY2VzcyA9IGZhbHNlO1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi5pKt5pS+6KeG6aKR5bm/5ZGKXCIpXHJcbiAgICAgICAgdGhpcy5jb3VudCsrO1xyXG4gICAgICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon5bm/5ZGK5L2N5r+A5Yqx6KeG6aKRJyxjb250ZW50OnRoaXMuY291bnQsZGVzYzp2aWRlb0FkSWR9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KGNvdW50RG93blRpbWVPdXQpO1xyXG4gICAgICAgIGlmKHRoaXMuZ2xvYmFsRGF0YSAmJiB0aGlzLmdsb2JhbERhdGEudmlkZW9BZCl7XHJcbiAgICAgICAgICAgIGFwcEdhbWUuYXVkaW9NZ3IuZ2V0TXVzaWNTdGF0dXMoZnVuY3Rpb24ob25PZmYpe1xyXG4gICAgICAgICAgICAgICAgaWYob25PZmYpe1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcEdhbWUuYXVkaW9NZ3Iuc2V0TXVzaWNPbk9mZihvbk9mZik7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgIGNvdW50RG93blRpbWVPdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYoIWlzUGxheVN1Y2Nlc3Mpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5YCS6K6h5pe25Yiw6L+U5Zue5Zue6LCDXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNvdW50RG93blRpbWVPdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcEdhbWUuYXVkaW9NZ3IuZ2V0TXVzaWNTdGF0dXMoZnVuY3Rpb24ob25PZmYpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihvbk9mZil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBHYW1lLmF1ZGlvTWdyLnNldE11c2ljT25PZmYob25PZmYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgICAgICAgICBjYigzKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpLCA1MDAwKTtcclxuICAgICAgICAgICAgbGV0IHZpZGVvQWQgPSB0aGlzLmdsb2JhbERhdGEudmlkZW9BZDtcclxuICAgICAgICAgICAgaWYoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5XRUNIQVRfR0FNRSAmJiAoYXBwR2FtZS5wbGF0Zm9ybSA9PSAnV1gnIHx8YXBwR2FtZS5wbGF0Zm9ybSA9PSAnUVEnKSl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuaSreaUvuW+ruS/oeinhumikVwiKVxyXG4gICAgICAgICAgICAgICAgaWYgKHZpZGVvQWQpIHtcclxuICAgICAgICAgICAgICAgICAgICB2aWRlb0FkLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGxldCB2aWRlb0FkID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGlmKGFwcEdhbWUucGxhdGZvcm0gPT0gJ1dYJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9BZCA9IHd4LmNyZWF0ZVJld2FyZGVkVmlkZW9BZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkVW5pdElkOiB2aWRlb0FkSWRcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdmlkZW9BZCA9IHFxLmNyZWF0ZVJld2FyZGVkVmlkZW9BZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkVW5pdElkOiB2aWRlb0FkSWRcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+W5v+WRiuS9jea/gOWKseinhumikScsY29udGVudDon5Yib5bu65oiQ5YqfJyxkZXNjOnZpZGVvQWRJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdmlkZW9BZC5vbkVycm9yKGZ1bmN0aW9uIChyZXMpIHtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoY291bnREb3duVGltZU91dCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFjayAmJiB0aGlzLmNhbGxiYWNrKDMpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcEdhbWUuYXVkaW9NZ3IuZ2V0TXVzaWNTdGF0dXMoZnVuY3Rpb24ob25PZmYpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihvbk9mZil7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBHYW1lLmF1ZGlvTWdyLnNldE11c2ljT25PZmYob25PZmYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+W5v+WRiuS9jea/gOWKseinhumikScsY29udGVudDp2aWRlb0FkSWQsZGVzYzpyZXMuZXJyQ29kZStyZXMuZXJyTXNnfSxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCd2aWRlb0FkIG9uRXJyb3InLCByZXMpXHJcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpXHJcbiAgICAgICAgICAgICAgICB2aWRlb0FkLm9uTG9hZChmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ3ZpZGVvQWQgb25Mb2FkJywgcmVzKVxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIHZpZGVvQWQub25DbG9zZShmdW5jdGlvbiAocmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLlhbPpl63lvq7kv6Hop4bpopE9PT09PT09PVwiK3Jlcy5pc0VuZGVkKVxyXG4gICAgICAgICAgICAgICAgICAgIGlmIChyZXMuaXNFbmRlZCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+W5v+WRiuS9jea/gOWKseinhumikScsY29udGVudDon54K55Ye75YWz6ZetJyxkZXNjOnZpZGVvQWRJZCtcIuaSreaUvuaIkOWKn1wifSxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNvdW50RG93blRpbWVPdXQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNhbGxiYWNrICYmIHRoaXMuY2FsbGJhY2soMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcEdhbWUuYXVkaW9NZ3IuZ2V0TXVzaWNTdGF0dXMoZnVuY3Rpb24ob25PZmYpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYob25PZmYpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcEdhbWUuYXVkaW9NZ3Iuc2V0TXVzaWNPbk9mZihvbk9mZik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOiflub/lkYrkvY3mv4DlirHop4bpopEnLGNvbnRlbnQ6J+eCueWHu+WFs+mXrScsZGVzYzp2aWRlb0FkSWQrXCLmkq3mlL7lpLHotKVcIn0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNsZWFyVGltZW91dChjb3VudERvd25UaW1lT3V0KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFjayAmJiB0aGlzLmNhbGxiYWNrKDIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBHYW1lLmF1ZGlvTWdyLmdldE11c2ljU3RhdHVzKGZ1bmN0aW9uKG9uT2ZmKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmKG9uT2ZmKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBhcHBHYW1lLmF1ZGlvTWdyLnNldE11c2ljT25PZmYob25PZmYpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB2aWRlb0FkLm9mZkNsb3NlKClcclxuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSlcclxuICAgICAgICAgICAgICAgIHZpZGVvQWQubG9hZCgpXHJcbiAgICAgICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5r+A5Yqx6KeG6aKR5Yqg6L295oiQ5YqfJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvQWQuc2hvdygpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNQbGF5U3VjY2VzcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+W5v+WRiuS9jea/gOWKseinhumikScsY29udGVudDon5bGV56S65oiQ5YqfJyxkZXNjOnZpZGVvQWRJZCtzY2VuZUlkfSxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5r+A5Yqx6KeG6aKRIOW5v+WRiuaYvuekuuaIkOWKnycpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC5jYXRjaChlcnIgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOiflub/lkYrkvY3mv4DlirHop4bpopEnLGNvbnRlbnQ6J+WxleekuuWksei0pScsZGVzYzp2aWRlb0FkSWQrc2NlbmVJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+a/gOWKseinhumikSDlub/lkYrmmL7npLrlpLHotKUnKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICAgICAgLmNhdGNoKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfmv4DlirHop4bpopHliqDovb3lpLHotKUnKTtcclxuICAgICAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNiO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHZpZGVvQWRcclxuICAgICAgICAgICAgICAgIC5zaG93KClcclxuICAgICAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBpc1BsYXlTdWNjZXNzID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+W5v+WRiuS9jea/gOWKseinhumikScsY29udGVudDon5bGV56S65oiQ5YqfJyxkZXNjOnZpZGVvQWRJZCtzY2VuZUlkfSxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5bm/5ZGK5pi+56S65oiQ5YqfXCIpO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOiflub/lkYrkvY3mv4DlirHop4bpopEnLGNvbnRlbnQ6J+WxleekuuWksei0pScsZGVzYzp2aWRlb0FkSWQrc2NlbmVJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuW5v+WRiue7hOS7tuWHuueOsOmXrumimFwiLCBlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vIOWPr+S7peaJi+WKqOWKoOi9veS4gOasoVxyXG4gICAgICAgICAgICAgICAgICAgIHZpZGVvQWQubG9hZCgpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuaJi+WKqOWKoOi9veaIkOWKn1wiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy8g5Yqg6L295oiQ5Yqf5ZCO6ZyA6KaB5YaN5pi+56S65bm/5ZGKXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon5bm/5ZGK5L2N5r+A5Yqx6KeG6aKRJyxjb250ZW50OifmiYvliqjliqDovb3miJDlip8nLGRlc2M6dmlkZW9BZElkfSxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNQbGF5U3VjY2VzcyA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiB2aWRlb0FkLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jYWxsYmFjayA9IGNiO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfWVsc2V7Ly/msqHmnInmv4DlirHop4bpopHnmoTnm7TmjqXov5Tlm55cclxuICAgICAgICAgICAgYXBwR2FtZS5hdWRpb01nci5nZXRNdXNpY1N0YXR1cyhmdW5jdGlvbihvbk9mZil7XHJcbiAgICAgICAgICAgICAgICBpZihvbk9mZil7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwR2FtZS5hdWRpb01nci5zZXRNdXNpY09uT2ZmKG9uT2ZmKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgY2IoMSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxufSk7XHJcbm1vZHVsZS5leHBvcnRzID0gVmlkZW9CYW5uZXI7XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/model/util.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '8a9f96OA6hCcY7Fl9XOa3ug', 'util');
// gameComon/scripts/model/util.js

"use strict";

module.exports = {
  format: function format(f) {
    if (typeof f !== 'string') {
      var objects = [];

      for (var i = 0; i < arguments.length; i++) {
        objects.push(inspect(arguments[i]));
      }

      return objects.join(' ');
    }

    var i = 1;
    var args = arguments;
    var len = args.length;
    var formatRegExp = new RegExp("%%|%s|%d|%j", "g");
    var str = String(f).replace(formatRegExp, function (x) {
      if (x === '%%') return '%';
      if (i >= len) return x;

      switch (x) {
        case '%s':
          return String(args[i++]);

        case '%d':
          return Number(args[i++]);

        case '%j':
          return JSON.stringify(args[i++]);

        default:
          return x;
      }
    });

    for (var x = args[i]; i < len; x = args[++i]) {
      if (x === null || typeof x !== 'object') {
        str += ' ' + x;
      } else {
        str += ' ' + inspect(x);
      }
    }

    return str;
  },
  loadGameAutoAtlas: function loadGameAutoAtlas(url, spriteName, node, cb) {
    if (CC_BUILD) {
      cc.resources.load(url, cc.SpriteAtlas, function (err, atlas) {
        var frame = atlas.getSpriteFrame(spriteName);
        node.spriteFrame = frame;
        cb(true);
      }.bind(this));
    } else {
      cc.resources.load(url + spriteName, cc.SpriteFrame, function (err, spriteFrame) {
        if (err) {
          cc.log(err.message || err);
          cb(false);
          return;
        }

        node.spriteFrame = spriteFrame;
        cb(true);
      }.bind(this));
    }
  },
  loadJSONData: function loadJSONData(bundleName, name, callback) {
    cc.assetManager.loadBundle(bundleName, function (err, bundle) {
      bundle.load(name, cc.JsonAsset, function (error, res) {
        if (error) {
          return;
        }

        var jsondata = res.json;
        callback(jsondata); //cc.log("jsondata=="+JSON.stringify(jsondata.data))
      }.bind(this));
    }.bind(this));
  },
  loadBundleSprite: function loadBundleSprite(bundlename, loadname, node, cb) {
    cc.assetManager.loadBundle(bundlename, function (err, bundle) {
      bundle.load(loadname, cc.SpriteFrame, function (err, spriteframe) {
        if (err) {
          return;
        }

        node.spriteFrame = spriteframe;
        cb(true);
      }.bind(this));
    }.bind(this));
  },
  guid: function guid() {
    function S4() {
      return ((1 + Math.random()) * 0x10000 | 0).toString(16).substring(1);
    }

    return S4() + S4() + "-" + S4() + "-" + S4() + "-" + S4() + "-" + S4() + S4() + S4();
  },
  timeConvertInt: function timeConvertInt(time) {
    //let converttime = 0;
    var sceond = parseInt(time / 1000); // if(sceond<=10){
    //     converttime = sceond;
    // }else{
    //     let timestr = sceond+'';
    //     let s1 = timestr.substring(0,timestr.length-1);
    //     s1 = s1+'0';
    //     converttime = parseInt(s1)
    // }

    return sceond;
  },
  random: function random(lower, upper) {
    return Math.floor(Math.random() * (upper - lower)) + lower;
  },
  distance: function distance(p1, p2) {
    var dx = Math.abs(p2.x - p1.x);
    var dy = Math.abs(p2.y - p1.y);
    return Math.sqrt(Math.pow(dx, 2) + Math.pow(dy, 2));
  },
  //货币进位
  goldCrarryBit: function goldCrarryBit(gold) {
    var array = [[100000000, 'N'], [10000000, 'T'], [1000000, 'G'], [100000, 'M'], [10000, 'K'], [1000, 'B']];

    for (var i = 0; i < array.length; i++) {
      var value = gold / array[i][0];

      if (value > 1) {
        return '' + value.toFixed(1) + array[i][1];
      }
    }

    return gold;
  },
  setVirusColor: function setVirusColor(node, color) {
    for (var i = 0; i < node.children.length; i++) {
      var js = node.children[i].getComponent('color');

      if (js != null) {
        node.children[i].color = color;
      }

      this.setVirusColor(node.children[i], color);
    }
  },
  getVirusColorByHp: function getVirusColorByHp(hp) {
    for (var i = 0; i < gVirusColor.length; i++) {
      if (hp <= gVirusColor[i].pro) {
        return gVirusColor[i].color;
      }
    }
  },
  getVirusScaleByHp: function getVirusScaleByHp(hp) {
    for (var i = 0; i < gVirusColor.length; i++) {
      if (hp <= gVirusColor[i].pro) {
        return gVirusScale[i].scale;
      }
    }
  },
  getRandomSpeed: function getRandomSpeed() {
    var index = random(0, gSpeed.length - 1);
    return gSpeed[index];
  },
  randAlloc: function randAlloc(total, min, max, length) {
    // 首先要判断是否符合 min 和 max 条件
    if (min * length > total || max * length < total) {
      throw Error("\u6CA1\u6CD5\u6EE1\u8DB3\u6700\u6700\u5C11 " + min + " \u6700\u5927 " + max + " \u7684\u6761\u4EF6");
    }

    var result = [];
    var restValue = total;
    var restLength = length;

    for (var i = 0; i < length - 1; i++) {
      restLength--; // 这一次要发的数量必须保证剩下的要足最小量
      // 同进要保证剩下的不能大于需要的最大量

      var restMin = restLength * min;
      var restMax = restLength * max; // 可发的量

      var usable = restValue - restMin; // 最少要发的量

      var minValue = Math.max(min, restValue - restMax); // 以 minValue 为最左，max 为中线来进行随机，即随机范围是 (max - minValue) * 2
      // 如果这个范围大于 usable - minValue，取 usable - minValue

      var limit = Math.min(usable - minValue, (max - minValue) * 2); // 随机部分加上最少要发的部分就是应该发的，但是如果大于 max，最大取到 max

      result[i] = Math.min(max, minValue + Math.floor(limit * Math.random()));
      restValue -= result[i];
    }

    result[length - 1] = restValue;
    return result;
  },
  copyText: function copyText(word, rid) {
    if (cc.sys.platform == cc.sys.BYTEDANCE_GAME || cc.sys.platform == cc.sys.WECHAT_GAME || cc.sys.platform == cc.sys.BAIDU_GAME) {
      //头条平台
      var comObject;

      if (cc.sys.platform == cc.sys.BAIDU_GAME) {
        comObject = swan;
      } else if (cc.sys.platform == cc.sys.WECHAT_GAME) {
        comObject = wx;
      } else {
        comObject = tt;
      }

      comObject.setClipboardData({
        data: word,
        success: function success(res) {
          if (cc.sys.platform == cc.sys.BAIDU_GAME) {
            comObject.showToast({
              title: '加载完成',
              icon: 'none'
            });
          }

          comObject.getClipboardData({
            success: function success(res) {
              var spreadUrl = consts.HTTP_SPREAD_REPORT + 'rid=' + rid + '&status=' + 1;
              httpUtils.httpSendRequest(spreadUrl, function (spreadRes) {});
            },
            fail: function fail(res) {
              var spreadUrl = consts.HTTP_SPREAD_REPORT + 'rid=' + rid + '&status=' + 0;
              httpUtils.httpSendRequest(spreadUrl, function (spreadRes) {});
            }
          });
        },
        fail: function fail(res) {
          var spreadUrl = consts.HTTP_SPREAD_REPORT + 'rid=' + rid + '&status=' + 0;
          httpUtils.httpSendRequest(spreadUrl, function (spreadRes) {});
        }
      });
    }
  },
  spreadWordFun: function spreadWordFun() {
    if (cc.sys.platform == cc.sys.BYTEDANCE_GAME || cc.sys.platform == cc.sys.WECHAT_GAME || cc.sys.platform == cc.sys.BAIDU_GAME) {
      //头条平台
      var comApp, combrand, commodel;

      if (cc.sys.platform == cc.sys.BAIDU_GAME) {
        var _swan$getSystemInfoSy = swan.getSystemInfoSync(),
            host = _swan$getSystemInfoSy.host,
            brand = _swan$getSystemInfoSy.brand,
            model = _swan$getSystemInfoSy.model;

        comApp = host;
        combrand = brand;
        commodel = model;
      } else if (cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'WX') {
        var _wx$getSystemInfoSync = wx.getSystemInfoSync(),
            appName = _wx$getSystemInfoSync.appName,
            _brand = _wx$getSystemInfoSync.brand,
            _model = _wx$getSystemInfoSync.model;

        comApp = appName;
        combrand = _brand;
        commodel = _model;
      } else if (cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'QQ') {
        var _qq$getSystemInfoSync = qq.getSystemInfoSync(),
            _appName = _qq$getSystemInfoSync.appName,
            _brand2 = _qq$getSystemInfoSync.brand,
            _model2 = _qq$getSystemInfoSync.model;

        comApp = _appName;
        combrand = _brand2;
        commodel = _model2;
      } else {
        var _tt$getSystemInfoSync = tt.getSystemInfoSync(),
            _appName2 = _tt$getSystemInfoSync.appName,
            _brand3 = _tt$getSystemInfoSync.brand,
            _model3 = _tt$getSystemInfoSync.model;

        comApp = _appName2;
        combrand = _brand3;
        commodel = _model3;
      }

      var param = {
        "did": appGame.userId,
        "package": consts.HTTP_RECORD_PACKAGE,
        "app": comApp,
        "brand": combrand,
        "model": commodel
      }; //console.log("param=="+JSON.stringify(param))

      httpUtils.httpPostParam(consts.HTTP_SPREAD_WORD, param, function (resWord) {
        //console.log("resWord =="+JSON.stringify(resWord))
        if (resWord) {
          if (resWord.code == 200 && resWord.data) {
            appGame.gameServerRoom.wordRid = resWord.rid;
            util.copyText(resWord.data, resWord.rid);
          } else {
            appGame.gameServerRoom.wordRid = '';
          }
        }
      }.bind(this));
    } // let param = {"did":appGame.userId,"package":consts.HTTP_RECORD_PACKAGE,"app":"Toutiao"};
    // cc.log("param=="+JSON.stringify(param))
    // httpUtils.httpPostParam(consts.HTTP_SPREAD_WORD,param,function(resWord){
    //     cc.log("resWord =="+JSON.stringify(resWord))
    //     if(resWord){
    //         if(resWord.data && resWord.code == 200){
    //              appGame.gameServerRoom.wordRid = resWord.rid
    //             let spreadUrl =consts.HTTP_SPREAD_REPORT+'rid='+resWord.rid+'&status='+0;
    //             httpUtils.httpSendRequest(spreadUrl,function(spreadRes){}.bind(this));
    //             util.copyText(resWord.data,resWord.rid);
    //         }else{
    //             appGame.gameServerRoom.wordRid = '';
    //         }
    //     }else{
    //         appGame.gameServerRoom.wordRid = '';
    //     }
    // }.bind(this));

  },
  spreadClose: function spreadClose(rid) {
    var ridUrl = consts.HTTP_SPREAD_CLOSE + rid;
    httpUtils.httpSendRequest(ridUrl, function (spreadRes) {});
  },

  /*
  * url 获取配置url
  * bundle  本地配置bundle
  * json  本地配置文件名
  * config  存在该字段 
  * cb 回调
  */
  getUrlSerConfig: function getUrlSerConfig(url, bundle, json, cb) {
    httpUtils.httpSendRequest(url, function (res) {
      //console.log("room =="+JSON.stringify(res))
      if (res && res.Code == 200) {
        var detailparse = JSON.parse(res.Detail);
        cb(detailparse);
      } else {
        util.loadJSONData(bundle, json, function (data) {
          cb(data);
        }.bind(this));
      }
    }.bind(this));
  },

  /*
  *比较版本号
  */
  compareVersion: function compareVersion(v1, v2) {
    v1 = v1.split('.');
    v2 = v2.split('.');
    var len = Math.max(v1.length, v2.length);

    while (v1.length < len) {
      v1.push('0');
    }

    while (v2.length < len) {
      v2.push('0');
    }

    for (var i = 0; i < len; i++) {
      var num1 = parseInt(v1[i]);
      var num2 = parseInt(v2[i]);

      if (num1 > num2) {
        return 1;
      } else if (num1 < num2) {
        return -1;
      }
    }

    return 0;
  }
};

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFxtb2RlbFxcdXRpbC5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiZm9ybWF0IiwiZiIsIm9iamVjdHMiLCJpIiwiYXJndW1lbnRzIiwibGVuZ3RoIiwicHVzaCIsImluc3BlY3QiLCJqb2luIiwiYXJncyIsImxlbiIsImZvcm1hdFJlZ0V4cCIsIlJlZ0V4cCIsInN0ciIsIlN0cmluZyIsInJlcGxhY2UiLCJ4IiwiTnVtYmVyIiwiSlNPTiIsInN0cmluZ2lmeSIsImxvYWRHYW1lQXV0b0F0bGFzIiwidXJsIiwic3ByaXRlTmFtZSIsIm5vZGUiLCJjYiIsIkNDX0JVSUxEIiwiY2MiLCJyZXNvdXJjZXMiLCJsb2FkIiwiU3ByaXRlQXRsYXMiLCJlcnIiLCJhdGxhcyIsImZyYW1lIiwiZ2V0U3ByaXRlRnJhbWUiLCJzcHJpdGVGcmFtZSIsImJpbmQiLCJTcHJpdGVGcmFtZSIsImxvZyIsIm1lc3NhZ2UiLCJsb2FkSlNPTkRhdGEiLCJidW5kbGVOYW1lIiwibmFtZSIsImNhbGxiYWNrIiwiYXNzZXRNYW5hZ2VyIiwibG9hZEJ1bmRsZSIsImJ1bmRsZSIsIkpzb25Bc3NldCIsImVycm9yIiwicmVzIiwianNvbmRhdGEiLCJqc29uIiwibG9hZEJ1bmRsZVNwcml0ZSIsImJ1bmRsZW5hbWUiLCJsb2FkbmFtZSIsInNwcml0ZWZyYW1lIiwiZ3VpZCIsIlM0IiwiTWF0aCIsInJhbmRvbSIsInRvU3RyaW5nIiwic3Vic3RyaW5nIiwidGltZUNvbnZlcnRJbnQiLCJ0aW1lIiwic2Nlb25kIiwicGFyc2VJbnQiLCJsb3dlciIsInVwcGVyIiwiZmxvb3IiLCJkaXN0YW5jZSIsInAxIiwicDIiLCJkeCIsImFicyIsImR5IiwieSIsInNxcnQiLCJwb3ciLCJnb2xkQ3JhcnJ5Qml0IiwiZ29sZCIsImFycmF5IiwidmFsdWUiLCJ0b0ZpeGVkIiwic2V0VmlydXNDb2xvciIsImNvbG9yIiwiY2hpbGRyZW4iLCJqcyIsImdldENvbXBvbmVudCIsImdldFZpcnVzQ29sb3JCeUhwIiwiaHAiLCJnVmlydXNDb2xvciIsInBybyIsImdldFZpcnVzU2NhbGVCeUhwIiwiZ1ZpcnVzU2NhbGUiLCJzY2FsZSIsImdldFJhbmRvbVNwZWVkIiwiaW5kZXgiLCJnU3BlZWQiLCJyYW5kQWxsb2MiLCJ0b3RhbCIsIm1pbiIsIm1heCIsIkVycm9yIiwicmVzdWx0IiwicmVzdFZhbHVlIiwicmVzdExlbmd0aCIsInJlc3RNaW4iLCJyZXN0TWF4IiwidXNhYmxlIiwibWluVmFsdWUiLCJsaW1pdCIsImNvcHlUZXh0Iiwid29yZCIsInJpZCIsInN5cyIsInBsYXRmb3JtIiwiQllURURBTkNFX0dBTUUiLCJXRUNIQVRfR0FNRSIsIkJBSURVX0dBTUUiLCJjb21PYmplY3QiLCJzd2FuIiwid3giLCJ0dCIsInNldENsaXBib2FyZERhdGEiLCJkYXRhIiwic3VjY2VzcyIsInNob3dUb2FzdCIsInRpdGxlIiwiaWNvbiIsImdldENsaXBib2FyZERhdGEiLCJzcHJlYWRVcmwiLCJjb25zdHMiLCJIVFRQX1NQUkVBRF9SRVBPUlQiLCJodHRwVXRpbHMiLCJodHRwU2VuZFJlcXVlc3QiLCJzcHJlYWRSZXMiLCJmYWlsIiwic3ByZWFkV29yZEZ1biIsImNvbUFwcCIsImNvbWJyYW5kIiwiY29tbW9kZWwiLCJnZXRTeXN0ZW1JbmZvU3luYyIsImhvc3QiLCJicmFuZCIsIm1vZGVsIiwiYXBwR2FtZSIsImFwcE5hbWUiLCJxcSIsInBhcmFtIiwidXNlcklkIiwiSFRUUF9SRUNPUkRfUEFDS0FHRSIsImh0dHBQb3N0UGFyYW0iLCJIVFRQX1NQUkVBRF9XT1JEIiwicmVzV29yZCIsImNvZGUiLCJnYW1lU2VydmVyUm9vbSIsIndvcmRSaWQiLCJ1dGlsIiwic3ByZWFkQ2xvc2UiLCJyaWRVcmwiLCJIVFRQX1NQUkVBRF9DTE9TRSIsImdldFVybFNlckNvbmZpZyIsIkNvZGUiLCJkZXRhaWxwYXJzZSIsInBhcnNlIiwiRGV0YWlsIiwiY29tcGFyZVZlcnNpb24i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LEtBQUgsQ0FBUyxHQUFULENBQUw7QUFDQUQsSUFBQUEsRUFBRSxHQUFHQSxFQUFFLENBQUNDLEtBQUgsQ0FBUyxHQUFULENBQUw7QUFDQSxRQUFJOUosR0FBRyxHQUFHK0MsSUFBSSxDQUFDMkMsR0FBTCxDQUFTa0UsRUFBRSxDQUFDakssTUFBWixFQUFvQmtLLEVBQUUsQ0FBQ2xLLE1BQXZCLENBQVY7O0FBRUEsV0FBT2lLLEVBQUUsQ0FBQ2pLLE1BQUgsR0FBWUssR0FBbkIsRUFBd0I7QUFDdEI0SixNQUFBQSxFQUFFLENBQUNoSyxJQUFILENBQVEsR0FBUjtBQUNEOztBQUNELFdBQU9pSyxFQUFFLENBQUNsSyxNQUFILEdBQVlLLEdBQW5CLEVBQXdCO0FBQ3RCNkosTUFBQUEsRUFBRSxDQUFDakssSUFBSCxDQUFRLEdBQVI7QUFDRDs7QUFDRCxTQUFLLElBQUlILENBQUMsR0FBRyxDQUFiLEVBQWdCQSxDQUFDLEdBQUdPLEdBQXBCLEVBQXlCUCxDQUFDLEVBQTFCLEVBQThCO0FBQzVCLFVBQUlzSyxJQUFJLEdBQUd6RyxRQUFRLENBQUNzRyxFQUFFLENBQUNuSyxDQUFELENBQUgsQ0FBbkI7QUFDQSxVQUFJdUssSUFBSSxHQUFHMUcsUUFBUSxDQUFDdUcsRUFBRSxDQUFDcEssQ0FBRCxDQUFILENBQW5COztBQUVBLFVBQUlzSyxJQUFJLEdBQUdDLElBQVgsRUFBaUI7QUFDZixlQUFPLENBQVA7QUFDRCxPQUZELE1BRU8sSUFBSUQsSUFBSSxHQUFHQyxJQUFYLEVBQWlCO0FBQ3RCLGVBQU8sQ0FBQyxDQUFSO0FBQ0Q7QUFDRjs7QUFDRCxXQUFPLENBQVA7QUFDSDtBQWxWWSxDQUFqQiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsibW9kdWxlLmV4cG9ydHMgPSB7XG4gICAgZm9ybWF0OiBmdW5jdGlvbiAoZikge1xuICAgICAgICBpZiAodHlwZW9mIGYgIT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgICB2YXIgb2JqZWN0cyA9IFtdO1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgICAgICBvYmplY3RzLnB1c2goaW5zcGVjdChhcmd1bWVudHNbaV0pKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBvYmplY3RzLmpvaW4oJyAnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgaSA9IDE7XG4gICAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgICB2YXIgbGVuID0gYXJncy5sZW5ndGg7XG4gICAgICAgIHZhciBmb3JtYXRSZWdFeHAgPSBuZXcgUmVnRXhwKFwiJSV8JXN8JWR8JWpcIiwgXCJnXCIpO1xuICAgICAgICB2YXIgc3RyID0gU3RyaW5nKGYpLnJlcGxhY2UoZm9ybWF0UmVnRXhwLCBmdW5jdGlvbiAoeCkge1xuICAgICAgICAgICAgaWYgKHggPT09ICclJScpIHJldHVybiAnJSc7XG4gICAgICAgICAgICBpZiAoaSA+PSBsZW4pIHJldHVybiB4O1xuICAgICAgICAgICAgc3dpdGNoICh4KSB7XG4gICAgICAgICAgICAgICAgY2FzZSAnJXMnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gU3RyaW5nKGFyZ3NbaSsrXSk7XG4gICAgICAgICAgICAgICAgY2FzZSAnJWQnOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gTnVtYmVyKGFyZ3NbaSsrXSk7XG4gICAgICAgICAgICAgICAgY2FzZSAnJWonOlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4gSlNPTi5zdHJpbmdpZnkoYXJnc1tpKytdKTtcbiAgICAgICAgICAgICAgICBkZWZhdWx0OlxuICAgICAgICAgICAgICAgICAgICByZXR1cm4geDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGZvciAodmFyIHggPSBhcmdzW2ldOyBpIDwgbGVuOyB4ID0gYXJnc1srK2ldKSB7XG4gICAgICAgICAgICBpZiAoeCA9PT0gbnVsbCB8fCB0eXBlb2YgeCAhPT0gJ29iamVjdCcpIHtcbiAgICAgICAgICAgICAgICBzdHIgKz0gJyAnICsgeDtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgc3RyICs9ICcgJyArIGluc3BlY3QoeCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHN0cjtcbiAgICB9LFxuXG4gICAgbG9hZEdhbWVBdXRvQXRsYXModXJsLHNwcml0ZU5hbWUsbm9kZSxjYil7XG4gICAgICAgIGlmKENDX0JVSUxEKXtcbiAgICAgICAgICAgIGNjLnJlc291cmNlcy5sb2FkKHVybCwgY2MuU3ByaXRlQXRsYXMsIGZ1bmN0aW9uIChlcnIsIGF0bGFzKSB7XG4gICAgICAgICAgICAgICAgdmFyIGZyYW1lID0gYXRsYXMuZ2V0U3ByaXRlRnJhbWUoc3ByaXRlTmFtZSk7XG4gICAgICAgICAgICAgICAgbm9kZS5zcHJpdGVGcmFtZSA9IGZyYW1lO1xuICAgICAgICAgICAgICAgIGNiKHRydWUpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBjYy5yZXNvdXJjZXMubG9hZCh1cmwrc3ByaXRlTmFtZSxjYy5TcHJpdGVGcmFtZSxmdW5jdGlvbihlcnIsc3ByaXRlRnJhbWUpe1xuICAgICAgICAgICAgICAgIGlmKGVycil7XG4gICAgICAgICAgICAgICAgICAgIGNjLmxvZyhlcnIubWVzc2FnZXx8ZXJyKTtcbiAgICAgICAgICAgICAgICAgICAgY2IoZmFsc2UpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIG5vZGUuc3ByaXRlRnJhbWUgPSBzcHJpdGVGcmFtZTtcbiAgICAgICAgICAgICAgICBjYih0cnVlKTtcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBsb2FkSlNPTkRhdGEoYnVuZGxlTmFtZSxuYW1lLGNhbGxiYWNrKXtcbiAgICAgICAgY2MuYXNzZXRNYW5hZ2VyLmxvYWRCdW5kbGUoYnVuZGxlTmFtZSwgZnVuY3Rpb24oZXJyLCBidW5kbGUpe1xuICAgICAgICAgICAgYnVuZGxlLmxvYWQobmFtZSwgY2MuSnNvbkFzc2V0LCBmdW5jdGlvbiAoZXJyb3IsIHJlcykge1xuICAgICAgICAgICAgICAgIGlmIChlcnJvcikge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGxldCBqc29uZGF0YSA9IHJlcy5qc29uO1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKGpzb25kYXRhKTtcbiAgICAgICAgICAgICAgICAvL2NjLmxvZyhcImpzb25kYXRhPT1cIitKU09OLnN0cmluZ2lmeShqc29uZGF0YS5kYXRhKSlcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfSxcblxuICAgIGxvYWRCdW5kbGVTcHJpdGUoYnVuZGxlbmFtZSxsb2FkbmFtZSxub2RlLGNiKXtcbiAgICAgICAgY2MuYXNzZXRNYW5hZ2VyLmxvYWRCdW5kbGUoYnVuZGxlbmFtZSwgZnVuY3Rpb24gKGVyciwgYnVuZGxlKSB7XG4gICAgICAgICAgICBidW5kbGUubG9hZChsb2FkbmFtZSxjYy5TcHJpdGVGcmFtZSwgZnVuY3Rpb24oZXJyLCBzcHJpdGVmcmFtZSkge1xuICAgICAgICAgICAgICAgIGlmKGVycil7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbm9kZS5zcHJpdGVGcmFtZSA9IHNwcml0ZWZyYW1lO1xuICAgICAgICAgICAgICAgIGNiKHRydWUpO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9LFxuXG4gICAgZ3VpZCgpIHtcbiAgICAgICAgZnVuY3Rpb24gUzQoKSB7XG4gICAgICAgICAgICByZXR1cm4gKCgoMStNYXRoLnJhbmRvbSgpKSoweDEwMDAwKXwwKS50b1N0cmluZygxNikuc3Vic3RyaW5nKDEpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiAoUzQoKStTNCgpK1wiLVwiK1M0KCkrXCItXCIrUzQoKStcIi1cIitTNCgpK1wiLVwiK1M0KCkrUzQoKStTNCgpKTtcbiAgICB9LFxuXG4gICAgdGltZUNvbnZlcnRJbnQodGltZSl7XG4gICAgICAgIC8vbGV0IGNvbnZlcnR0aW1lID0gMDtcbiAgICAgICAgbGV0IHNjZW9uZCA9IHBhcnNlSW50KHRpbWUvMTAwMCk7XG4gICAgICAgIC8vIGlmKHNjZW9uZDw9MTApe1xuICAgICAgICAvLyAgICAgY29udmVydHRpbWUgPSBzY2VvbmQ7XG4gICAgICAgIC8vIH1lbHNle1xuICAgICAgICAvLyAgICAgbGV0IHRpbWVzdHIgPSBzY2VvbmQrJyc7XG4gICAgICAgIC8vICAgICBsZXQgczEgPSB0aW1lc3RyLnN1YnN0cmluZygwLHRpbWVzdHIubGVuZ3RoLTEpO1xuICAgICAgICAvLyAgICAgczEgPSBzMSsnMCc7XG4gICAgICAgIC8vICAgICBjb252ZXJ0dGltZSA9IHBhcnNlSW50KHMxKVxuICAgICAgICAvLyB9XG4gICAgICAgIHJldHVybiBzY2VvbmQ7XG4gICAgfSxcblxuICAgIHJhbmRvbShsb3dlciwgdXBwZXIpIHtcbiAgICAgICAgcmV0dXJuIE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSAqICh1cHBlciAtIGxvd2VyKSkgKyBsb3dlcjtcbiAgICB9LFxuICAgIGRpc3RhbmNlKHAxLHAyKXtcbiAgICAgICAgdmFyIGR4ID0gTWF0aC5hYnMocDIueCAtIHAxLngpO1xuICAgICAgICB2YXIgZHkgPSBNYXRoLmFicyhwMi55IC0gcDEueSk7XG4gICAgICAgIHJldHVybiBNYXRoLnNxcnQoTWF0aC5wb3coZHgsMikrTWF0aC5wb3coZHksMikpO1xuICAgIH0sXG4gICAgLy/otKfluIHov5vkvY1cbiAgICBnb2xkQ3JhcnJ5Qml0KGdvbGQpe1xuICAgIFxuICAgICAgICB2YXIgYXJyYXk9W1xuICAgICAgICAgICAgWzEwMDAwMDAwMCwnTiddLFxuICAgICAgICAgICAgWzEwMDAwMDAwLCdUJ10sXG4gICAgICAgICAgICBbMTAwMDAwMCwnRyddLFxuICAgICAgICAgICAgWzEwMDAwMCwnTSddLFxuICAgICAgICAgICAgWzEwMDAwLCdLJ10sXG4gICAgICAgICAgICBbMTAwMCwnQiddLFxuICAgICAgICBdO1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFycmF5Lmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB2YXIgdmFsdWUgPSBnb2xkL2FycmF5W2ldWzBdO1xuICAgICAgICAgICAgaWYodmFsdWUgPiAxICl7XG4gICAgICAgICAgICAgICAgcmV0dXJuICcnK3ZhbHVlLnRvRml4ZWQoMSkrYXJyYXlbaV1bMV07XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGdvbGQ7XG4gICAgfSxcbiAgICBzZXRWaXJ1c0NvbG9yKG5vZGUsY29sb3Ipe1xuICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG5vZGUuY2hpbGRyZW4ubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIHZhciBqcyA9IG5vZGUuY2hpbGRyZW5baV0uZ2V0Q29tcG9uZW50KCdjb2xvcicpO1xuICAgICAgICAgICAgaWYoanMgIT0gbnVsbCl7XG4gICAgICAgICAgICAgICAgbm9kZS5jaGlsZHJlbltpXS5jb2xvciA9IGNvbG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5zZXRWaXJ1c0NvbG9yKG5vZGUuY2hpbGRyZW5baV0sY29sb3IpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIGdldFZpcnVzQ29sb3JCeUhwKGhwKSB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ1ZpcnVzQ29sb3IubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmKGhwIDw9IGdWaXJ1c0NvbG9yW2ldLnBybyl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdWaXJ1c0NvbG9yW2ldLmNvbG9yO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBnZXRWaXJ1c1NjYWxlQnlIcChocCl7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZ1ZpcnVzQ29sb3IubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGlmKGhwIDw9IGdWaXJ1c0NvbG9yW2ldLnBybyl7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGdWaXJ1c1NjYWxlW2ldLnNjYWxlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfSxcbiAgICBcbiAgICBnZXRSYW5kb21TcGVlZCgpIHtcbiAgICAgICAgdmFyIGluZGV4ID0gcmFuZG9tKDAsZ1NwZWVkLmxlbmd0aC0xKTtcbiAgICAgICAgcmV0dXJuIGdTcGVlZFtpbmRleF07XG4gICAgfSxcbiAgICBcbiAgICByYW5kQWxsb2ModG90YWwsIG1pbiwgbWF4LCBsZW5ndGgpIHtcbiAgICAgICAgLy8g6aaW5YWI6KaB5Yik5pat5piv5ZCm56ym5ZCIIG1pbiDlkowgbWF4IOadoeS7tlxuICAgICAgICBpZiAobWluICogbGVuZ3RoID4gdG90YWwgfHwgbWF4ICogbGVuZ3RoIDwgdG90YWwpIHtcbiAgICAgICAgICAgIHRocm93IEVycm9yKGDmsqHms5Xmu6HotrPmnIDmnIDlsJEgJHttaW59IOacgOWkpyAke21heH0g55qE5p2h5Lu2YCk7XG4gICAgICAgIH1cbiAgICBcbiAgICAgICAgY29uc3QgcmVzdWx0ID0gW107XG4gICAgICAgIGxldCByZXN0VmFsdWUgPSB0b3RhbDtcbiAgICAgICAgbGV0IHJlc3RMZW5ndGggPSBsZW5ndGg7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGVuZ3RoIC0gMTsgaSsrKSB7XG4gICAgICAgICAgICAgcmVzdExlbmd0aC0tO1xuICAgICAgICAgICAgLy8g6L+Z5LiA5qyh6KaB5Y+R55qE5pWw6YeP5b+F6aG75L+d6K+B5Ymp5LiL55qE6KaB6Laz5pyA5bCP6YePXG4gICAgICAgICAgICAvLyDlkIzov5vopoHkv53or4HliankuIvnmoTkuI3og73lpKfkuo7pnIDopoHnmoTmnIDlpKfph49cbiAgICAgICAgICAgIGNvbnN0IHJlc3RNaW4gPSByZXN0TGVuZ3RoICogbWluO1xuICAgICAgICAgICAgY29uc3QgcmVzdE1heCA9IHJlc3RMZW5ndGggKiBtYXg7XG4gICAgICAgICAgICAvLyDlj6/lj5HnmoTph49cbiAgICAgICAgICAgIGNvbnN0IHVzYWJsZSA9IHJlc3RWYWx1ZSAtIHJlc3RNaW47XG4gICAgICAgICAgICAvLyDmnIDlsJHopoHlj5HnmoTph49cbiAgICAgICAgICAgIGNvbnN0IG1pblZhbHVlID0gTWF0aC5tYXgobWluLCByZXN0VmFsdWUgLSByZXN0TWF4KTtcbiAgICAgICAgICAgIC8vIOS7pSBtaW5WYWx1ZSDkuLrmnIDlt6bvvIxtYXgg5Li65Lit57q/5p2l6L+b6KGM6ZqP5py677yM5Y2z6ZqP5py66IyD5Zu05pivIChtYXggLSBtaW5WYWx1ZSkgKiAyXG4gICAgICAgICAgICAvLyDlpoLmnpzov5nkuKrojIPlm7TlpKfkuo4gdXNhYmxlIC0gbWluVmFsdWXvvIzlj5YgdXNhYmxlIC0gbWluVmFsdWVcbiAgICAgICAgICAgIGNvbnN0IGxpbWl0ID0gTWF0aC5taW4odXNhYmxlIC0gbWluVmFsdWUsIChtYXggLSBtaW5WYWx1ZSkgKiAyKTtcbiAgICAgICAgICAgIC8vIOmaj+acuumDqOWIhuWKoOS4iuacgOWwkeimgeWPkeeahOmDqOWIhuWwseaYr+W6lOivpeWPkeeahO+8jOS9huaYr+WmguaenOWkp+S6jiBtYXjvvIzmnIDlpKflj5bliLAgbWF4XG4gICAgICAgICAgICByZXN1bHRbaV0gPSBNYXRoLm1pbihtYXgsIG1pblZhbHVlICsgTWF0aC5mbG9vcihsaW1pdCAqIE1hdGgucmFuZG9tKCkpKTtcbiAgICAgICAgICAgIHJlc3RWYWx1ZSAtPSByZXN1bHRbaV07XG4gICAgICAgIH1cbiAgICAgICAgcmVzdWx0W2xlbmd0aCAtIDFdID0gcmVzdFZhbHVlO1xuICAgIFxuICAgICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH0sXG4gICAgY29weVRleHQod29yZCxyaWQpIHtcbiAgICAgICAgaWYoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5CWVRFREFOQ0VfR0FNRSB8fCBjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLldFQ0hBVF9HQU1FIHx8Y2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5CQUlEVV9HQU1FKXsgLy/lpLTmnaHlubPlj7BcbiAgICAgICAgICAgIGxldCBjb21PYmplY3Q7XG4gICAgICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLkJBSURVX0dBTUUpe1xuICAgICAgICAgICAgICAgIGNvbU9iamVjdCA9IHN3YW47XG4gICAgICAgICAgICB9ZWxzZSBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLldFQ0hBVF9HQU1FKXtcbiAgICAgICAgICAgICAgICBjb21PYmplY3QgPSB3eDtcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGNvbU9iamVjdCA9IHR0OyBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGNvbU9iamVjdC5zZXRDbGlwYm9hcmREYXRhKHtcbiAgICAgICAgICAgIGRhdGE6d29yZCxcbiAgICAgICAgICAgIHN1Y2Nlc3M6IGZ1bmN0aW9uIChyZXMpIHtcbiAgICAgICAgICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLkJBSURVX0dBTUUpe1xuICAgICAgICAgICAgICAgICAgICBjb21PYmplY3Quc2hvd1RvYXN0KHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAn5Yqg6L295a6M5oiQJyxcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb246ICdub25lJ1xuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29tT2JqZWN0LmdldENsaXBib2FyZERhdGEoe1xuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzOiBmdW5jdGlvbiAocmVzKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc3ByZWFkVXJsID1jb25zdHMuSFRUUF9TUFJFQURfUkVQT1JUKydyaWQ9JytyaWQrJyZzdGF0dXM9JysxO1xuICAgICAgICAgICAgICAgICAgICAgICAgaHR0cFV0aWxzLmh0dHBTZW5kUmVxdWVzdChzcHJlYWRVcmwsZnVuY3Rpb24oc3ByZWFkUmVzKXt9KTtcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgZmFpbDpmdW5jdGlvbihyZXMpe1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNwcmVhZFVybCA9Y29uc3RzLkhUVFBfU1BSRUFEX1JFUE9SVCsncmlkPScrcmlkKycmc3RhdHVzPScrMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0dHBVdGlscy5odHRwU2VuZFJlcXVlc3Qoc3ByZWFkVXJsLGZ1bmN0aW9uKHNwcmVhZFJlcyl7fSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgfSxcbiAgICAgICAgICAgIGZhaWw6ZnVuY3Rpb24ocmVzKXtcbiAgICAgICAgICAgICAgICBsZXQgc3ByZWFkVXJsID1jb25zdHMuSFRUUF9TUFJFQURfUkVQT1JUKydyaWQ9JytyaWQrJyZzdGF0dXM9JyswO1xuICAgICAgICAgICAgICAgIGh0dHBVdGlscy5odHRwU2VuZFJlcXVlc3Qoc3ByZWFkVXJsLGZ1bmN0aW9uKHNwcmVhZFJlcyl7fSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICApXG4gICAgICAgIH1cbiAgICB9LFxuICAgIHNwcmVhZFdvcmRGdW4oKXtcbiAgICAgICAgaWYoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5CWVRFREFOQ0VfR0FNRSB8fCBjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLldFQ0hBVF9HQU1FIHx8Y2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5CQUlEVV9HQU1FKXsgLy/lpLTmnaHlubPlj7BcbiAgICAgICAgICAgIGxldCBjb21BcHAsY29tYnJhbmQsY29tbW9kZWw7XG4gICAgICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLkJBSURVX0dBTUUpe1xuICAgICAgICAgICAgICAgIGNvbnN0IHtob3N0LGJyYW5kLG1vZGVsfSA9IHN3YW4uZ2V0U3lzdGVtSW5mb1N5bmMoKTtcbiAgICAgICAgICAgICAgICBjb21BcHAgPSBob3N0O1xuICAgICAgICAgICAgICAgIGNvbWJyYW5kID0gYnJhbmQ7XG4gICAgICAgICAgICAgICAgY29tbW9kZWwgPSBtb2RlbDtcbiAgICAgICAgICAgIH1lbHNlIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuV0VDSEFUX0dBTUUgJiYgYXBwR2FtZS5wbGF0Zm9ybSA9PSAnV1gnKXtcbiAgICAgICAgICAgICAgICBjb25zdCB7YXBwTmFtZSxicmFuZCxtb2RlbH0gPSB3eC5nZXRTeXN0ZW1JbmZvU3luYygpO1xuICAgICAgICAgICAgICAgIGNvbUFwcCA9IGFwcE5hbWU7XG4gICAgICAgICAgICAgICAgY29tYnJhbmQgPSBicmFuZDtcbiAgICAgICAgICAgICAgICBjb21tb2RlbCA9IG1vZGVsO1xuICAgICAgICAgICAgfWVsc2UgaWYoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5XRUNIQVRfR0FNRSAmJiBhcHBHYW1lLnBsYXRmb3JtID09ICdRUScpe1xuICAgICAgICAgICAgICAgIGNvbnN0IHthcHBOYW1lLGJyYW5kLG1vZGVsfSA9IHFxLmdldFN5c3RlbUluZm9TeW5jKCk7XG4gICAgICAgICAgICAgICAgY29tQXBwID0gYXBwTmFtZTtcbiAgICAgICAgICAgICAgICBjb21icmFuZCA9IGJyYW5kO1xuICAgICAgICAgICAgICAgIGNvbW1vZGVsID0gbW9kZWw7XG4gICAgICAgICAgICB9IGVsc2V7XG4gICAgICAgICAgICAgICAgY29uc3Qge2FwcE5hbWUsYnJhbmQsbW9kZWx9ID0gdHQuZ2V0U3lzdGVtSW5mb1N5bmMoKTtcbiAgICAgICAgICAgICAgICBjb21BcHAgPSBhcHBOYW1lO1xuICAgICAgICAgICAgICAgIGNvbWJyYW5kID0gYnJhbmQ7XG4gICAgICAgICAgICAgICAgY29tbW9kZWwgPSBtb2RlbDtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IHBhcmFtID0ge1wiZGlkXCI6YXBwR2FtZS51c2VySWQsXCJwYWNrYWdlXCI6Y29uc3RzLkhUVFBfUkVDT1JEX1BBQ0tBR0UsXCJhcHBcIjpjb21BcHAsXG4gICAgICAgIFwiYnJhbmRcIjpjb21icmFuZCxcIm1vZGVsXCI6Y29tbW9kZWx9O1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcInBhcmFtPT1cIitKU09OLnN0cmluZ2lmeShwYXJhbSkpXG4gICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3RQYXJhbShjb25zdHMuSFRUUF9TUFJFQURfV09SRCxwYXJhbSxmdW5jdGlvbihyZXNXb3JkKXtcbiAgICAgICAgICAgICAgICAvL2NvbnNvbGUubG9nKFwicmVzV29yZCA9PVwiK0pTT04uc3RyaW5naWZ5KHJlc1dvcmQpKVxuICAgICAgICAgICAgICAgIGlmKHJlc1dvcmQpe1xuICAgICAgICAgICAgICAgICAgICBpZihyZXNXb3JkLmNvZGUgPT0gMjAwICYmIHJlc1dvcmQuZGF0YSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLndvcmRSaWQgPSByZXNXb3JkLnJpZDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHV0aWwuY29weVRleHQocmVzV29yZC5kYXRhLHJlc1dvcmQucmlkKTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLndvcmRSaWQgPSAnJztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgICAgIH1cbiAgICAgICAgLy8gbGV0IHBhcmFtID0ge1wiZGlkXCI6YXBwR2FtZS51c2VySWQsXCJwYWNrYWdlXCI6Y29uc3RzLkhUVFBfUkVDT1JEX1BBQ0tBR0UsXCJhcHBcIjpcIlRvdXRpYW9cIn07XG4gICAgICAgIC8vIGNjLmxvZyhcInBhcmFtPT1cIitKU09OLnN0cmluZ2lmeShwYXJhbSkpXG4gICAgICAgIC8vIGh0dHBVdGlscy5odHRwUG9zdFBhcmFtKGNvbnN0cy5IVFRQX1NQUkVBRF9XT1JELHBhcmFtLGZ1bmN0aW9uKHJlc1dvcmQpe1xuICAgICAgICAvLyAgICAgY2MubG9nKFwicmVzV29yZCA9PVwiK0pTT04uc3RyaW5naWZ5KHJlc1dvcmQpKVxuICAgICAgICAvLyAgICAgaWYocmVzV29yZCl7XG4gICAgICAgIC8vICAgICAgICAgaWYocmVzV29yZC5kYXRhICYmIHJlc1dvcmQuY29kZSA9PSAyMDApe1xuICAgICAgICAvLyAgICAgICAgICAgICAgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS53b3JkUmlkID0gcmVzV29yZC5yaWRcbiAgICAgICAgLy8gICAgICAgICAgICAgbGV0IHNwcmVhZFVybCA9Y29uc3RzLkhUVFBfU1BSRUFEX1JFUE9SVCsncmlkPScrcmVzV29yZC5yaWQrJyZzdGF0dXM9JyswO1xuICAgICAgICAvLyAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFNlbmRSZXF1ZXN0KHNwcmVhZFVybCxmdW5jdGlvbihzcHJlYWRSZXMpe30uYmluZCh0aGlzKSk7XG4gICAgICAgIC8vICAgICAgICAgICAgIHV0aWwuY29weVRleHQocmVzV29yZC5kYXRhLHJlc1dvcmQucmlkKTtcbiAgICAgICAgLy8gICAgICAgICB9ZWxzZXtcbiAgICAgICAgLy8gICAgICAgICAgICAgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS53b3JkUmlkID0gJyc7XG4gICAgICAgIC8vICAgICAgICAgfVxuICAgICAgICAvLyAgICAgfWVsc2V7XG4gICAgICAgIC8vICAgICAgICAgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS53b3JkUmlkID0gJyc7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH0uYmluZCh0aGlzKSk7XG4gICAgfSxcblxuICAgIHNwcmVhZENsb3NlKHJpZCl7XG4gICAgICAgIGxldCByaWRVcmwgPSBjb25zdHMuSFRUUF9TUFJFQURfQ0xPU0UrcmlkO1xuICAgICAgICBodHRwVXRpbHMuaHR0cFNlbmRSZXF1ZXN0KHJpZFVybCxmdW5jdGlvbihzcHJlYWRSZXMpe30pO1xuICAgIH0sXG5cbiAgICAvKlxuICAgICogdXJsIOiOt+WPlumFjee9rnVybFxuICAgICogYnVuZGxlICDmnKzlnLDphY3nva5idW5kbGVcbiAgICAqIGpzb24gIOacrOWcsOmFjee9ruaWh+S7tuWQjVxuICAgICogY29uZmlnICDlrZjlnKjor6XlrZfmrrUgXG4gICAgKiBjYiDlm57osINcbiAgICAqL1xuICAgIGdldFVybFNlckNvbmZpZyh1cmwsYnVuZGxlLGpzb24sY2Ipe1xuICAgICAgICBodHRwVXRpbHMuaHR0cFNlbmRSZXF1ZXN0KHVybCxmdW5jdGlvbihyZXMpe1xuICAgICAgICAgICAgLy9jb25zb2xlLmxvZyhcInJvb20gPT1cIitKU09OLnN0cmluZ2lmeShyZXMpKVxuICAgICAgICAgICAgaWYocmVzICYmIHJlcy5Db2RlID09IDIwMCl7XG4gICAgICAgICAgICAgICAgbGV0IGRldGFpbHBhcnNlID0gSlNPTi5wYXJzZShyZXMuRGV0YWlsKTtcbiAgICAgICAgICAgICAgICBjYihkZXRhaWxwYXJzZSk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICB1dGlsLmxvYWRKU09ORGF0YShidW5kbGUsanNvbixmdW5jdGlvbihkYXRhKXtcbiAgICAgICAgICAgICAgICAgICAgY2IoZGF0YSk7XG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9LFxuICAgIC8qXG4gICAgKuavlOi+g+eJiOacrOWPt1xuICAgICovXG4gICAgY29tcGFyZVZlcnNpb246ZnVuY3Rpb24odjEsIHYyKSB7XG4gICAgICAgIHYxID0gdjEuc3BsaXQoJy4nKVxuICAgICAgICB2MiA9IHYyLnNwbGl0KCcuJylcbiAgICAgICAgdmFyIGxlbiA9IE1hdGgubWF4KHYxLmxlbmd0aCwgdjIubGVuZ3RoKVxuICAgICAgIFxuICAgICAgICB3aGlsZSAodjEubGVuZ3RoIDwgbGVuKSB7XG4gICAgICAgICAgdjEucHVzaCgnMCcpXG4gICAgICAgIH1cbiAgICAgICAgd2hpbGUgKHYyLmxlbmd0aCA8IGxlbikge1xuICAgICAgICAgIHYyLnB1c2goJzAnKVxuICAgICAgICB9XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuOyBpKyspIHtcbiAgICAgICAgICB2YXIgbnVtMSA9IHBhcnNlSW50KHYxW2ldKVxuICAgICAgICAgIHZhciBudW0yID0gcGFyc2VJbnQodjJbaV0pXG4gICAgICAgXG4gICAgICAgICAgaWYgKG51bTEgPiBudW0yKSB7XG4gICAgICAgICAgICByZXR1cm4gMVxuICAgICAgICAgIH0gZWxzZSBpZiAobnVtMSA8IG51bTIpIHtcbiAgICAgICAgICAgIHJldHVybiAtMVxuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gMFxuICAgIH0sXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/lucky/lucky.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '70c5be0DtlNPI44MyAR/Qdw', 'lucky');
// gameComon/lucky/lucky.js

"use strict";

var unsealtimeOut;
var bannerTimeOut;
cc.Class({
  "extends": cc.Component,
  properties: {
    touchHide: cc.Node,
    touch: cc.Node,
    leftBtn: cc.Node,
    rightBtn: cc.Node,
    unsealBtn: cc.Button,
    //前往关卡
    closeBtn: cc.Button,
    getBtn: cc.Button,
    redDragon: dragonBones.ArmatureDisplay,
    infoLabel: cc.Label,
    itemReward: cc.Node,
    redLabel: cc.Label,
    openTouch: cc.Node,
    unsealBtnCallback: null,
    closeBtnCallback: null,
    redBagBtnCallback: null,
    blankCallback: null,
    getRewardCallBack: null
  },
  // LIFE-CYCLE CALLBACKS:
  onLoad: function onLoad() {
    this.touchHide.on(cc.Node.EventType.TOUCH_END, this.clickTouchHideCallBack, this);
    this.touch.on(cc.Node.EventType.TOUCH_START, this.onTouchStart, this);
    this.touch.on(cc.Node.EventType.TOUCH_END, this.onTouchEnd, this);
    this.openTouch.active = false;
    this.leftBtn.on(cc.Node.EventType.TOUCH_END, this.onLeftTouchEnd, this);
    this.rightBtn.on(cc.Node.EventType.TOUCH_END, this.onRightTouchEnd, this);
    this.unsealBtn.node.active = false;
    this.getBtn.node.active = false;
    this.closeBtn.node.active = false;
    this.closeBtn.node.on(cc.Node.EventType.TOUCH_END, this.clickTouchCloseCallBack, this);
    this.unsealBtn.node.on(cc.Node.EventType.TOUCH_END, this.onUnsealTouchEnd, this);
    this.getBtn.node.on(cc.Node.EventType.TOUCH_END, this.onGetTouchEnd, this);
    this.redDragon.addEventListener(dragonBones.EventObject.COMPLETE, this.animationEventHandler, this);
    this.infoLabel.string = '';
    this.currentIndex = 1;
    this.itemReward.active = false;
  },

  /** 
   * @param opts
   * backCB 放弃按钮回调
   * reviveCB 复活按钮回调
   */
  show: function show(opts) {
    opts = opts || {};

    if (opts.config) {
      this.luckyConfig = opts.config;
    }

    if (opts.info) {
      this.info = opts.info;
    }

    if (opts.unsealCB) {
      this.unsealBtnCallback = opts.unsealCB;
    }

    if (opts.closeCB) {
      this.closeBtnCallback = opts.closeCB;
    }

    if (opts.redbagCB) {
      this.redBagBtnCallback = opts.redbagCB;
    }

    if (opts.blankCB) {
      this.blankCallback = opts.blankCB;
    }

    if (opts.rewardCB) {
      this.getRewardCallBack = opts.rewardCB;
    }

    this.currentIndex = 1;
    this.showRefreshUI(this.info.isResult);
  },
  onDestroy: function onDestroy() {},
  showRefreshUI: function showRefreshUI(showType) {
    httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
      title: '幸运大奖',
      content: '打开幸运大奖界面'
    }, function () {});
    this.currentIndex = 1;
    this.level = this.info.level || 1; //this.tollgateConfig = this.luckyConfig.tollgate;

    this.tollgateConfig = appGame.gameServerRoom.commonConfig.luckytollgate;

    if (showType == 3) {
      //是否达到等级  是否已领取
      for (var i = 0; i < this.tollgateConfig.length; i++) {
        if (this.tollgateConfig[i].level > this.level) {
          break;
        } else if (this.tollgateConfig[i].level <= this.level) {
          var index = i + 1;
          var ready = cc.sys.localStorage.getItem("luckReadyReceive" + index);

          if (ready == null || ready == '') {
            cc.sys.localStorage.setItem("luckUnseal" + index, index);
          }

          this.currentIndex = index;
        }
      }
    } else if (showType == 2) {
      //结算 是否达到等级
      for (var _i = 0; _i < this.tollgateConfig.length; _i++) {
        if (this.tollgateConfig[_i].level == this.level) {
          var _index = _i + 1;

          var ready = cc.sys.localStorage.getItem("luckReadyReceive" + _index);

          if (ready == null || ready == '') {
            cc.sys.localStorage.setItem("luckUnseal" + _index, _index);
            this.currentIndex = _index;
            break;
          }
        }
      }
    } else {
      //点击按钮显示
      for (var _i2 = 0; _i2 < this.tollgateConfig.length; _i2++) {
        var _index2 = _i2 + 1;

        var ready = cc.sys.localStorage.getItem("luckReadyReceive" + _index2);

        if (ready == null || ready == '') {
          this.currentIndex = _index2;
          break;
        }
      }
    }

    this.refreshItem(this.currentIndex);
    this.node.active = true;
    bannerTimeOut = setTimeout(function () {
      if (appGame.interstitialAd) {
        appGame.interstitialAd.playAd();
      }

      appGame.banner.playBanner(2);
    }.bind(this), 3000);
    appGame.appBoxAd.playBox(true);
    appGame.blockAd.playBlockad(true, 4);
  },
  refreshItem: function refreshItem(index) {
    underscore.each(this.tollgateConfig, function (key, value) {
      if (value == index - 1) {
        var ready = cc.sys.localStorage.getItem("luckReadyReceive" + index); //是否已经领取

        var unseal = cc.sys.localStorage.getItem("luckUnseal" + index); //是否解封

        if (ready != '' && ready != null) {
          //已经领取了
          this.redDragon.playAnimation('dajiang2', 1);
          this.refreshGetReward(index, 2);
        } else {
          //未领取
          if (unseal != '' && unseal != null) {
            //已经解封
            this.redDragon.playAnimation('dajiang2', 1);
            this.refreshGetReward(index, 3);
          } else {
            //未解封
            this.redDragon.playAnimation('dajiang', 2);
            this.refreshGetReward(index, 4);
          }
        }
      }
    }.bind(this));
  },
  clickTouchHideCallBack: function clickTouchHideCallBack(event) {
    httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
      title: '幸运大奖',
      content: '关闭空白页面',
      desc: '点击'
    }, function () {});
    var onoff = this.luckyConfig.luckyOnOff;

    if (onoff && onoff.length > 0 && onoff[1].video == 1) {
      appGame.videoBanner.playVideoAd(1, onoff[1].force, function (isSuc) {
        console.log("看视频成功");
        this.onClientResultPlayAD({
          sceneId: 7,
          eventId: 2,
          isSuccess: true
        });
        this.blankCallback && this.blankCallback();
      }.bind(this));
    } else {
      this.onClientResultPlayAD({
        sceneId: 7,
        eventId: 2,
        isSuccess: true
      });
      this.blankCallback && this.blankCallback();
    }
  },
  clickTouchCloseCallBack: function clickTouchCloseCallBack(event) {
    httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
      title: '幸运大奖',
      content: '关闭按钮',
      desc: '点击'
    }, function () {});
    this.onClientResultPlayAD({
      sceneId: 7,
      eventId: 2,
      isSuccess: true
    });
    this.closeBtnCallback && this.closeBtnCallback();
  },
  onTouchStart: function onTouchStart(event) {
    this.startX = event.getLocation().x;
  },
  onTouchEnd: function onTouchEnd(event) {
    var moveX = event.getLocation().x;
    var spaceX = moveX - this.startX;

    if (spaceX <= -10) {
      //向左
      this.onLeftTouchEnd({});
    } else if (spaceX >= 10) {
      //向右
      this.onRightTouchEnd({});
    } else if (this.openTouch.active) {
      //点击redDragon
      this.onRedBagTouchEnd({});
    }
  },
  onLeftTouchEnd: function onLeftTouchEnd(event) {
    if (this.currentIndex <= 1) {
      appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_LOADTIP, {
        content: "您当前已经在第一个了！"
      });
    } else {
      this.currentIndex--;
      this.refreshItem(this.currentIndex);
    }
  },
  onRightTouchEnd: function onRightTouchEnd(event) {
    if (this.currentIndex >= this.tollgateConfig.length) {
      appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_LOADTIP, {
        content: "您当前已经在最后一个了！"
      });
    } else {
      this.currentIndex++;
      this.refreshItem(this.currentIndex);
    }
  },
  //立即挑战
  onUnsealTouchEnd: function onUnsealTouchEnd(event) {
    httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
      title: '幸运大奖',
      content: '前往关卡',
      desc: '点击'
    }, function () {});
    this.unsealBtnCallback && this.unsealBtnCallback();
    this.hide();
  },
  //点击红包 看视频领取
  onRedBagTouchEnd: function onRedBagTouchEnd(event) {
    httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
      title: '幸运大奖',
      content: '红包看激励视频',
      desc: '点击'
    }, function () {});

    if (this.itemReward.active) {
      return;
    }

    var onoff = this.luckyConfig.luckyOnOff;

    if (onoff && onoff.length > 0 && onoff[0].video == 1) {
      appGame.videoBanner.playVideoAd(1, onoff[0].force, function (isSuc) {
        console.log("看视频成功");
        this.onClientResultPlayAD({
          sceneId: 7,
          eventId: 1,
          isSuccess: true
        });
        this.redBagBtnCallback && this.redBagBtnCallback();
      }.bind(this));
    } else {
      this.onClientResultPlayAD({
        sceneId: 7,
        eventId: 1,
        isSuccess: true
      });
      this.redBagBtnCallback && this.redBagBtnCallback();
    }
  },
  //领取奖励
  onGetTouchEnd: function onGetTouchEnd(event) {
    httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
      title: '幸运大奖',
      content: '领取奖励',
      desc: '点击'
    }, function () {});
    cc.log("领取=====" + this.currentIndex);
    this.refreshGetReward(this.currentIndex, 1);
  },
  //领取奖励的刷新  enter 1相当于点击领取  3展示领取界面
  refreshGetReward: function refreshGetReward(index, enter) {
    underscore.each(this.tollgateConfig, function (key, value) {
      if (value == index - 1) {
        if (enter == 1) {
          this.getRewardCallBack && this.getRewardCallBack(key.reward.itemId, key.reward.count);
        }

        this.itemReward.getChildByName('item').getComponent('item').init(key.reward.itemId);
        this.itemReward.getChildByName('count').getComponent(cc.Label).string = '×' + key.reward.count;

        if (enter == 1) {
          cc.log("index===" + index);
          this.redLabel.node.active = true;
          this.itemReward.active = false;
          this.redDragon.playAnimation('dajiang2', 1);
          cc.sys.localStorage.setItem("luckReadyReceive" + index, index);
          this.infoLabel.string = key.reward.info;

          for (var i = 0; i < this.tollgateConfig.length; i++) {
            var tempIndex = i + 1;
            var seal = cc.sys.localStorage.getItem("luckUnseal" + tempIndex);

            if (seal == '' || seal == null) {
              this.currentIndex = tempIndex;
              this.redDragon.playAnimation('dajiang', 2);
              this.refreshGetReward(tempIndex, 4);
              this.hide();
              return;
            }
          }

          var isHad = 0;

          for (var _i3 = 0; _i3 < this.tollgateConfig.length; _i3++) {
            var _tempIndex = _i3 + 1;

            var receive = cc.sys.localStorage.getItem("luckReadyReceive" + _tempIndex);

            if (receive == '' || receive == null) {
              this.currentIndex = _tempIndex;
              this.redDragon.playAnimation('dajiang2', 1);
              this.refreshGetReward(_tempIndex, 3);
              this.hide();
              return;
            } else {
              isHad++;
            }
          }

          if (isHad == this.tollgateConfig.length) {
            for (var _i4 = 0; _i4 < this.tollgateConfig.length; _i4++) {
              var _tempIndex2 = _i4 + 1;

              cc.sys.localStorage.removeItem("luckReadyReceive" + _tempIndex2);
              cc.sys.localStorage.removeItem("luckUnseal" + _tempIndex2);
            }

            this.showRefreshUI(1);
            this.hide();
          } else {
            this.hide();
          }
        } else if (enter == 2) {
          this.openTouch.active = false;
          this.redLabel.node.active = false;
          this.itemReward.active = true;
          this.getBtn.node.active = true;
          this.closeBtn.node.active = false;
          this.unsealBtn.node.active = false;
          this.getBtn.interactable = false;
          this.getBtn.node.off(cc.Node.EventType.TOUCH_END, this.onGetTouchEnd, this);
          this.getBtn.node.getChildByName('label').getComponent(cc.Label).string = "已领取";
          this.infoLabel.string = '奖励已领取';
        } else if (enter == 3) {
          this.openTouch.active = false;
          this.redLabel.node.active = false;
          this.itemReward.active = true;
          this.getBtn.node.active = true;
          this.closeBtn.node.active = false;
          this.unsealBtn.node.active = false;
          this.getBtn.interactable = true;
          this.getBtn.node.on(cc.Node.EventType.TOUCH_END, this.onGetTouchEnd, this);
          this.getBtn.node.getChildByName('label').getComponent(cc.Label).string = "领取";
          this.infoLabel.string = "恭喜获得";
          httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
            title: '幸运大奖',
            content: '恭喜获得弹窗'
          }, function () {});
        } else if (enter == 4) {
          this.redLabel.node.active = true;
          this.itemReward.active = false;
          this.getBtn.node.active = false;
          this.openTouch.active = true;
          this.openTouch.scale = 1.4;
          this.openTouch.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(0.5, 1.2), cc.scaleTo(0.5, 1.5))));
          var sealShow = this.luckyConfig.luckUnseal;

          if (sealShow && sealShow.show == 1) {
            var time = sealShow.delay * 1000;
            unsealtimeOut = setTimeout(function () {
              this.closeBtn.node.active = true;
              this.unsealBtn.node.active = true;
            }.bind(this), time);
          } else {
            this.closeBtn.node.active = false;
            this.unsealBtn.node.active = false;
          }

          this.infoLabel.string = key.reward.info;
        }
      }
    }.bind(this));
  },
  animationEventHandler: function animationEventHandler(event) {
    if (event.type === dragonBones.EventObject.COMPLETE) {
      if (event.animationState.name === "dajiang") {
        this.redDragon.playAnimation('dajiang1', 0);
      }
    }
  },
  onClientResultPlayAD: function onClientResultPlayAD(data) {
    if (data.sceneId == 7) {
      if (data.isSuccess) {
        if (data.eventId == 1) {
          httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
            title: '幸运大奖',
            content: '红包看激励视频',
            desc: '播放完成'
          }, function () {});
          cc.sys.localStorage.setItem("luckUnseal" + this.currentIndex, this.currentIndex);
          this.redDragon.playAnimation('dajiang2', 1);
          this.refreshGetReward(this.currentIndex, 3);
        } else if (data.eventId == 2 || data.eventId == 3) {
          if (data.eventId == 3) {
            httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
              title: '幸运大奖',
              content: '关闭界面',
              desc: '播放完成'
            }, function () {});
          }

          this.hide();
        }
      }
    }
  },
  hide: function hide() {
    clearTimeout(unsealtimeOut);
    clearTimeout(bannerTimeOut);
    appGame.banner.playBanner(3);
    appGame.appBoxAd.playBox(false);
    appGame.blockAd.playBlockad(false);
    this.node.removeFromParent();
  },
  start: function start() {} // update (dt) {},

});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxsdWNreVxcbHVja3kuanMiXSwibmFtZXMiOlsidW5zZWFsdGltZU91dCIsImJhbm5lclRpbWVPdXQiLCJjYyIsIkNsYXNzIiwiQ29tcG9uZW50IiwicHJvcGVydGllcyIsInRvdWNoSGlkZSIsIk5vZGUiLCJ0b3VjaCIsImxlZnRCdG4iLCJyaWdodEJ0biIsInVuc2VhbEJ0biIsIkJ1dHRvbiIsImNsb3NlQnRuIiwiZ2V0QnRuIiwicmVkRHJhZ29uIiwiZHJhZ29uQm9uZXMiLCJBcm1hdHVyZURpc3BsYXkiLCJpbmZvTGFiZWwiLCJMYWJlbCIsIml0ZW1SZXdhcmQiLCJyZWRMYWJlbCIsIm9wZW5Ub3VjaCIsInVuc2VhbEJ0bkNhbGxiYWNrIiwiY2xvc2VCdG5DYWxsYmFjayIsInJlZEJhZ0J0bkNhbGxiYWNrIiwiYmxhbmtDYWxsYmFjayIsImdldFJld2FyZENhbGxCYWNrIiwib25Mb2FkIiwib24iLCJFdmVudFR5cGUiLCJUT1VDSF9FTkQiLCJjbGlja1RvdWNoSGlkZUNhbGxCYWNrIiwiVE9VQ0hfU1RBUlQiLCJvblRvdWNoU3RhcnQiLCJvblRvdWNoRW5kIiwiYWN0aXZlIiwib25MZWZ0VG91Y2hFbmQiLCJvblJpZ2h0VG91Y2hFbmQiLCJub2RlIiwiY2xpY2tUb3VjaENsb3NlQ2FsbEJhY2siLCJvblVuc2VhbFRvdWNoRW5kIiwib25HZXRUb3VjaEVuZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJFdmVudE9iamVjdCIsIkNPTVBMRVRFIiwiYW5pbWF0aW9uRXZlbnRIYW5kbGVyIiwic3RyaW5nIiwiY3VycmVudEluZGV4Iiwic2hvdyIsIm9wdHMiLCJjb25maWciLCJsdWNreUNvbmZpZyIsImluZm8iLCJ1bnNlYWxDQiIsImNsb3NlQ0IiLCJyZWRiYWdDQiIsImJsYW5rQ0IiLCJyZXdhcmRDQiIsInNob3dSZWZyZXNoVUkiLCJpc1Jlc3VsdCIsIm9uRGVzdHJveSIsInNob3dUeXBlIiwiaHR0cFV0aWxzIiwiaHR0cFBvc3QiLCJjb25zdHMiLCJIVFRQX1JFQ09SRF9TRVJWRVIiLCJ0aXRsZSIsImNvbnRlbnQiLCJsZXZlbCIsInRvbGxnYXRlQ29uZmlnIiwiYXBwR2FtZSIsImdhbWVTZXJ2ZXJSb29tIiwiY29tbW9uQ29uZmlnIiwibHVja3l0b2xsZ2F0ZSIsImkiLCJsZW5ndGgiLCJpbmRleCIsInJlYWR5Iiwic3lzIiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsInNldEl0ZW0iLCJyZWZyZXNoSXRlbSIsInNldFRpbWVvdXQiLCJpbnRlcnN0aXRpYWxBZCIsInBsYXlBZCIsImJhbm5lciIsInBsYXlCYW5uZXIiLCJiaW5kIiwiYXBwQm94QWQiLCJwbGF5Qm94IiwiYmxvY2tBZCIsInBsYXlCbG9ja2FkIiwidW5kZXJzY29yZSIsImVhY2giLCJrZXkiLCJ2YWx1ZSIsInVuc2VhbCIsInBsYXlBbmltYXRpb24iLCJyZWZyZXNoR2V0UmV3YXJkIiwiZXZlbnQiLCJkZXNjIiwib25vZmYiLCJsdWNreU9uT2ZmIiwidmlkZW8iLCJ2aWRlb0Jhbm5lciIsInBsYXlWaWRlb0FkIiwiZm9yY2UiLCJpc1N1YyIsImNvbnNvbGUiLCJsb2ciLCJvbkNsaWVudFJlc3VsdFBsYXlBRCIsInNjZW5lSWQiLCJldmVudElkIiwiaXNTdWNjZXNzIiwic3RhcnRYIiwiZ2V0TG9jYXRpb24iLCJ4IiwibW92ZVgiLCJzcGFjZVgiLCJvblJlZEJhZ1RvdWNoRW5kIiwiZW1pdHRlciIsImVtaXQiLCJMT0NBTF9FVkVOVF9QT1BVUF9MT0FEVElQIiwiaGlkZSIsImVudGVyIiwicmV3YXJkIiwiaXRlbUlkIiwiY291bnQiLCJnZXRDaGlsZEJ5TmFtZSIsImdldENvbXBvbmVudCIsImluaXQiLCJ0ZW1wSW5kZXgiLCJzZWFsIiwiaXNIYWQiLCJyZWNlaXZlIiwicmVtb3ZlSXRlbSIsImludGVyYWN0YWJsZSIsIm9mZiIsInNjYWxlIiwicnVuQWN0aW9uIiwicmVwZWF0Rm9yZXZlciIsInNlcXVlbmNlIiwic2NhbGVUbyIsInNlYWxTaG93IiwibHVja1Vuc2VhbCIsInRpbWUiLCJkZWxheSIsInR5cGUiLCJhbmltYXRpb25TdGF0ZSIsIm5hbWUiLCJkYXRhIiwiY2xlYXJUaW1lb3V0IiwicmVtb3ZlRnJvbVBhcmVudCIsInN0YXJ0Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLGFBQUo7QUFDQSxJQUFJQyxhQUFKO0FBQ0FDLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTO0FBQ0wsYUFBU0QsRUFBRSxDQUFDRSxTQURQO0FBR0xDLEVBQUFBLFVBQVUsRUFBRTtBQUNSQyxJQUFBQSxTQUFTLEVBQUNKLEVBQUUsQ0FBQ0ssSUFETDtBQUVSQyxJQUFBQSxLQUFLLEVBQUNOLEVBQUUsQ0FBQ0ssSUFGRDtBQUdSRSxJQUFBQSxPQUFPLEVBQUNQLEVBQUUsQ0FBQ0ssSUFISDtBQUlSRyxJQUFBQSxRQUFRLEVBQUNSLEVBQUUsQ0FBQ0ssSUFKSjtBQUtSSSxJQUFBQSxTQUFTLEVBQUNULEVBQUUsQ0FBQ1UsTUFMTDtBQUthO0FBQ3JCQyxJQUFBQSxRQUFRLEVBQUNYLEVBQUUsQ0FBQ1UsTUFOSjtBQU9SRSxJQUFBQSxNQUFNLEVBQUNaLEVBQUUsQ0FBQ1UsTUFQRjtBQVFSRyxJQUFBQSxTQUFTLEVBQUNDLFdBQVcsQ0FBQ0MsZUFSZDtBQVNSQyxJQUFBQSxTQUFTLEVBQUNoQixFQUFFLENBQUNpQixLQVRMO0FBVVJDLElBQUFBLFVBQVUsRUFBQ2xCLEVBQUUsQ0FBQ0ssSUFWTjtBQVdSYyxJQUFBQSxRQUFRLEVBQUNuQixFQUFFLENBQUNpQixLQVhKO0FBWVJHLElBQUFBLFNBQVMsRUFBQ3BCLEVBQUUsQ0FBQ0ssSUFaTDtBQWFSZ0IsSUFBQUEsaUJBQWlCLEVBQUUsSUFiWDtBQWNSQyxJQUFBQSxnQkFBZ0IsRUFBRSxJQWRWO0FBZVJDLElBQUFBLGlCQUFpQixFQUFFLElBZlg7QUFnQlJDLElBQUFBLGFBQWEsRUFBQyxJQWhCTjtBQWlCUkMsSUFBQUEsaUJBQWlCLEVBQUM7QUFqQlYsR0FIUDtBQXVCTDtBQUVBQyxFQUFBQSxNQXpCSyxv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N0MsRUFBdUYsWUFBVSxDQUNoRyxDQUREO0FBRUg7O0FBQ0QsZUFBS3VCLElBQUw7QUFDSDtBQUNKO0FBQ0o7QUFDSixHQXRYSTtBQXVYTEEsRUFBQUEsSUF2WEssa0JBdVhDO0FBQ0Y0QixJQUFBQSxZQUFZLENBQUN6SixhQUFELENBQVo7QUFDQXlKLElBQUFBLFlBQVksQ0FBQ3hKLGFBQUQsQ0FBWjtBQUNBc0UsSUFBQUEsT0FBTyxDQUFDZ0IsTUFBUixDQUFlQyxVQUFmLENBQTBCLENBQTFCO0FBQ0FqQixJQUFBQSxPQUFPLENBQUNtQixRQUFSLENBQWlCQyxPQUFqQixDQUF5QixLQUF6QjtBQUNBcEIsSUFBQUEsT0FBTyxDQUFDcUIsT0FBUixDQUFnQkMsV0FBaEIsQ0FBNEIsS0FBNUI7QUFDQSxTQUFLdEQsSUFBTCxDQUFVbUgsZ0JBQVY7QUFDSCxHQTlYSTtBQWdZTEMsRUFBQUEsS0FoWUssbUJBZ1lJLENBRVIsQ0FsWUksQ0FvWUw7O0FBcFlLLENBQVQiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbInZhciB1bnNlYWx0aW1lT3V0O1xyXG52YXIgYmFubmVyVGltZU91dDtcclxuY2MuQ2xhc3Moe1xyXG4gICAgZXh0ZW5kczogY2MuQ29tcG9uZW50LFxyXG5cclxuICAgIHByb3BlcnRpZXM6IHtcclxuICAgICAgICB0b3VjaEhpZGU6Y2MuTm9kZSxcclxuICAgICAgICB0b3VjaDpjYy5Ob2RlLFxyXG4gICAgICAgIGxlZnRCdG46Y2MuTm9kZSxcclxuICAgICAgICByaWdodEJ0bjpjYy5Ob2RlLFxyXG4gICAgICAgIHVuc2VhbEJ0bjpjYy5CdXR0b24sIC8v5YmN5b6A5YWz5Y2hXHJcbiAgICAgICAgY2xvc2VCdG46Y2MuQnV0dG9uLFxyXG4gICAgICAgIGdldEJ0bjpjYy5CdXR0b24sXHJcbiAgICAgICAgcmVkRHJhZ29uOmRyYWdvbkJvbmVzLkFybWF0dXJlRGlzcGxheSxcclxuICAgICAgICBpbmZvTGFiZWw6Y2MuTGFiZWwsXHJcbiAgICAgICAgaXRlbVJld2FyZDpjYy5Ob2RlLFxyXG4gICAgICAgIHJlZExhYmVsOmNjLkxhYmVsLFxyXG4gICAgICAgIG9wZW5Ub3VjaDpjYy5Ob2RlLFxyXG4gICAgICAgIHVuc2VhbEJ0bkNhbGxiYWNrOiBudWxsLFxyXG4gICAgICAgIGNsb3NlQnRuQ2FsbGJhY2s6IG51bGwsXHJcbiAgICAgICAgcmVkQmFnQnRuQ2FsbGJhY2s6IG51bGwsXHJcbiAgICAgICAgYmxhbmtDYWxsYmFjazpudWxsLFxyXG4gICAgICAgIGdldFJld2FyZENhbGxCYWNrOm51bGxcclxuICAgIH0sXHJcblxyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcblxyXG4gICAgb25Mb2FkICgpIHtcclxuICAgICAgICB0aGlzLnRvdWNoSGlkZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsIHRoaXMuY2xpY2tUb3VjaEhpZGVDYWxsQmFjaywgdGhpcyk7XHJcbiAgICAgICAgdGhpcy50b3VjaC5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9TVEFSVCwgdGhpcy5vblRvdWNoU3RhcnQsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMudG91Y2gub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCB0aGlzLm9uVG91Y2hFbmQsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMub3BlblRvdWNoLmFjdGl2ZSA9IGZhbHNlO1xyXG5cclxuICAgICAgICB0aGlzLmxlZnRCdG4ub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCB0aGlzLm9uTGVmdFRvdWNoRW5kLCB0aGlzKTtcclxuICAgICAgICB0aGlzLnJpZ2h0QnRuLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgdGhpcy5vblJpZ2h0VG91Y2hFbmQsIHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLnVuc2VhbEJ0bi5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuZ2V0QnRuLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgdGhpcy5jbG9zZUJ0bi5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIHRoaXMuY2xvc2VCdG4ubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsIHRoaXMuY2xpY2tUb3VjaENsb3NlQ2FsbEJhY2ssIHRoaXMpO1xyXG4gICAgICAgIHRoaXMudW5zZWFsQnRuLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCB0aGlzLm9uVW5zZWFsVG91Y2hFbmQsIHRoaXMpO1xyXG4gICAgICAgIHRoaXMuZ2V0QnRuLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELCB0aGlzLm9uR2V0VG91Y2hFbmQsIHRoaXMpO1xyXG5cclxuICAgICAgICB0aGlzLnJlZERyYWdvbi5hZGRFdmVudExpc3RlbmVyKGRyYWdvbkJvbmVzLkV2ZW50T2JqZWN0LkNPTVBMRVRFLCB0aGlzLmFuaW1hdGlvbkV2ZW50SGFuZGxlciwgdGhpcyk7XHJcbiAgICAgICAgdGhpcy5pbmZvTGFiZWwuc3RyaW5nID0gJyc7XHJcbiAgICAgICAgdGhpcy5jdXJyZW50SW5kZXggPSAxO1xyXG4gICAgICAgIHRoaXMuaXRlbVJld2FyZC5hY3RpdmUgPSBmYWxzZTtcclxuICAgIH0sXHJcbiAgICAvKiogXHJcbiAgICAgKiBAcGFyYW0gb3B0c1xyXG4gICAgICogYmFja0NCIOaUvuW8g+aMiemSruWbnuiwg1xyXG4gICAgICogcmV2aXZlQ0Ig5aSN5rS75oyJ6ZKu5Zue6LCDXHJcbiAgICAgKi9cclxuICAgIHNob3cob3B0cyl7XHJcbiAgICAgICAgb3B0cyA9IG9wdHMgfHwge307XHJcbiAgICAgICAgaWYob3B0cy5jb25maWcpe1xyXG4gICAgICAgICAgICB0aGlzLmx1Y2t5Q29uZmlnID0gb3B0cy5jb25maWc7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKG9wdHMuaW5mbyl7XHJcbiAgICAgICAgICAgIHRoaXMuaW5mbyA9IG9wdHMuaW5mbztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYob3B0cy51bnNlYWxDQil7XHJcbiAgICAgICAgICAgIHRoaXMudW5zZWFsQnRuQ2FsbGJhY2sgPSBvcHRzLnVuc2VhbENCO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihvcHRzLmNsb3NlQ0Ipe1xyXG4gICAgICAgICAgICB0aGlzLmNsb3NlQnRuQ2FsbGJhY2sgPSBvcHRzLmNsb3NlQ0I7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKG9wdHMucmVkYmFnQ0Ipe1xyXG4gICAgICAgICAgICB0aGlzLnJlZEJhZ0J0bkNhbGxiYWNrID0gb3B0cy5yZWRiYWdDQjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYob3B0cy5ibGFua0NCKXtcclxuICAgICAgICAgICAgdGhpcy5ibGFua0NhbGxiYWNrID0gb3B0cy5ibGFua0NCO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihvcHRzLnJld2FyZENCKXtcclxuICAgICAgICAgICAgdGhpcy5nZXRSZXdhcmRDYWxsQmFjayA9IG9wdHMucmV3YXJkQ0I7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gMTtcclxuICAgICAgICB0aGlzLnNob3dSZWZyZXNoVUkodGhpcy5pbmZvLmlzUmVzdWx0KTtcclxuICAgIH0sXHJcblxyXG4gICAgb25EZXN0cm95KCl7XHJcbiAgICB9LFxyXG5cclxuICAgIHNob3dSZWZyZXNoVUkoc2hvd1R5cGUpe1xyXG4gICAgICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon5bm46L+Q5aSn5aWWJyxjb250ZW50OifmiZPlvIDlubjov5DlpKflpZbnlYzpnaInfSxmdW5jdGlvbigpe1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gMTtcclxuICAgICAgICB0aGlzLmxldmVsID0gdGhpcy5pbmZvLmxldmVsfHwxO1xyXG4gICAgICAgIC8vdGhpcy50b2xsZ2F0ZUNvbmZpZyA9IHRoaXMubHVja3lDb25maWcudG9sbGdhdGU7XHJcbiAgICAgICAgdGhpcy50b2xsZ2F0ZUNvbmZpZyA9IGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uY29tbW9uQ29uZmlnLmx1Y2t5dG9sbGdhdGU7XHJcbiAgICAgICAgaWYoc2hvd1R5cGU9PTMpey8v5piv5ZCm6L6+5Yiw562J57qnICDmmK/lkKblt7Lpooblj5ZcclxuICAgICAgICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLnRvbGxnYXRlQ29uZmlnLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy50b2xsZ2F0ZUNvbmZpZ1tpXS5sZXZlbCA+IHRoaXMubGV2ZWwpe1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfWVsc2UgaWYodGhpcy50b2xsZ2F0ZUNvbmZpZ1tpXS5sZXZlbCA8PSB0aGlzLmxldmVsKXtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSBpKzE7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHJlYWR5ID0gY2Muc3lzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwibHVja1JlYWR5UmVjZWl2ZVwiK2luZGV4KVxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHJlYWR5ID09bnVsbCB8fCByZWFkeT09Jycpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYy5zeXMubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJsdWNrVW5zZWFsXCIraW5kZXgsaW5kZXgpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gaW5kZXg7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZSBpZihzaG93VHlwZT09Mil7Ly/nu5Pnrpcg5piv5ZCm6L6+5Yiw562J57qnXHJcbiAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8dGhpcy50b2xsZ2F0ZUNvbmZpZy5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMudG9sbGdhdGVDb25maWdbaV0ubGV2ZWwgPT0gdGhpcy5sZXZlbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgbGV0IGluZGV4ID0gaSsxO1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciByZWFkeSA9IGNjLnN5cy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImx1Y2tSZWFkeVJlY2VpdmVcIitpbmRleClcclxuICAgICAgICAgICAgICAgICAgICBpZihyZWFkeSA9PW51bGwgfHwgcmVhZHk9PScnKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2Muc3lzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibHVja1Vuc2VhbFwiK2luZGV4LGluZGV4KVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZXsvL+eCueWHu+aMiemSruaYvuekulxyXG4gICAgICAgICAgICBmb3IobGV0IGk9MDtpPHRoaXMudG9sbGdhdGVDb25maWcubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW5kZXggPSBpKzE7XHJcbiAgICAgICAgICAgICAgICB2YXIgcmVhZHkgPSBjYy5zeXMubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJsdWNrUmVhZHlSZWNlaXZlXCIraW5kZXgpXHJcbiAgICAgICAgICAgICAgICBpZihyZWFkeSA9PW51bGwgfHwgcmVhZHk9PScnKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IGluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIHRoaXMucmVmcmVzaEl0ZW0odGhpcy5jdXJyZW50SW5kZXgpO1xyXG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIGJhbm5lclRpbWVPdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIGlmKGFwcEdhbWUuaW50ZXJzdGl0aWFsQWQpe1xyXG4gICAgICAgICAgICAgICAgYXBwR2FtZS5pbnRlcnN0aXRpYWxBZC5wbGF5QWQoKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBhcHBHYW1lLmJhbm5lci5wbGF5QmFubmVyKDIpO1xyXG4gICAgICAgIH0uYmluZCh0aGlzKSwgMzAwMCk7XHJcbiAgICAgICAgYXBwR2FtZS5hcHBCb3hBZC5wbGF5Qm94KHRydWUpO1xyXG4gICAgICAgIGFwcEdhbWUuYmxvY2tBZC5wbGF5QmxvY2thZCh0cnVlLDQpO1xyXG4gICAgfSxcclxuXHJcbiAgICByZWZyZXNoSXRlbShpbmRleCl7XHJcbiAgICAgICAgdW5kZXJzY29yZS5lYWNoKHRoaXMudG9sbGdhdGVDb25maWcsZnVuY3Rpb24oa2V5LHZhbHVlKXtcclxuICAgICAgICAgICAgaWYodmFsdWUgPT0gaW5kZXgtMSl7XHJcbiAgICAgICAgICAgICAgICBsZXQgcmVhZHkgPSBjYy5zeXMubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJsdWNrUmVhZHlSZWNlaXZlXCIraW5kZXgpOyAgLy/mmK/lkKblt7Lnu4/pooblj5ZcclxuICAgICAgICAgICAgICAgIGxldCB1bnNlYWwgPSBjYy5zeXMubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJsdWNrVW5zZWFsXCIraW5kZXgpOyAgIC8v5piv5ZCm6Kej5bCBXHJcbiAgICAgICAgICAgICAgICBpZihyZWFkeSE9JycgJiYgcmVhZHkhPW51bGwpey8v5bey57uP6aKG5Y+W5LqGXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWREcmFnb24ucGxheUFuaW1hdGlvbignZGFqaWFuZzInLDEpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoR2V0UmV3YXJkKGluZGV4LDIpO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7ICAvL+acqumihuWPllxyXG4gICAgICAgICAgICAgICAgICAgIGlmKHVuc2VhbCE9JycgJiYgdW5zZWFsIT1udWxsKXsgIC8v5bey57uP6Kej5bCBXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVkRHJhZ29uLnBsYXlBbmltYXRpb24oJ2RhamlhbmcyJywxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hHZXRSZXdhcmQoaW5kZXgsMyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7IC8v5pyq6Kej5bCBXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVkRHJhZ29uLnBsYXlBbmltYXRpb24oJ2RhamlhbmcnLDIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaEdldFJld2FyZChpbmRleCw0KTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LmJpbmQodGhpcykpXHJcbiAgICB9LFxyXG5cclxuICAgIGNsaWNrVG91Y2hIaWRlQ2FsbEJhY2soZXZlbnQpe1xyXG4gICAgICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon5bm46L+Q5aSn5aWWJyxjb250ZW50OiflhbPpl63nqbrnmb3pobXpnaInLGRlc2M6J+eCueWHuyd9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGV0IG9ub2ZmID0gdGhpcy5sdWNreUNvbmZpZy5sdWNreU9uT2ZmO1xyXG4gICAgICAgIGlmKG9ub2ZmICYmIG9ub2ZmLmxlbmd0aD4wICYmIG9ub2ZmWzFdLnZpZGVvID09IDEpe1xyXG4gICAgICAgICAgICBhcHBHYW1lLnZpZGVvQmFubmVyLnBsYXlWaWRlb0FkKDEsb25vZmZbMV0uZm9yY2UsZnVuY3Rpb24oaXNTdWMpe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLnnIvop4bpopHmiJDlip9cIilcclxuICAgICAgICAgICAgICAgIHRoaXMub25DbGllbnRSZXN1bHRQbGF5QUQoe3NjZW5lSWQ6NyxldmVudElkOjIsaXNTdWNjZXNzOnRydWV9KVxyXG4gICAgICAgICAgICAgICAgdGhpcy5ibGFua0NhbGxiYWNrJiZ0aGlzLmJsYW5rQ2FsbGJhY2soKTtcclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5vbkNsaWVudFJlc3VsdFBsYXlBRCh7c2NlbmVJZDo3LGV2ZW50SWQ6Mixpc1N1Y2Nlc3M6dHJ1ZX0pO1xyXG4gICAgICAgICAgICB0aGlzLmJsYW5rQ2FsbGJhY2smJnRoaXMuYmxhbmtDYWxsYmFjaygpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBjbGlja1RvdWNoQ2xvc2VDYWxsQmFjayhldmVudCl7XHJcbiAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOiflubjov5DlpKflpZYnLGNvbnRlbnQ6J+WFs+mXreaMiemSricsZGVzYzon54K55Ye7J30sZnVuY3Rpb24oKXtcclxuICAgICAgICB9KTtcclxuICAgICAgICB0aGlzLm9uQ2xpZW50UmVzdWx0UGxheUFEKHtzY2VuZUlkOjcsZXZlbnRJZDoyLGlzU3VjY2Vzczp0cnVlfSk7XHJcbiAgICAgICAgdGhpcy5jbG9zZUJ0bkNhbGxiYWNrJiZ0aGlzLmNsb3NlQnRuQ2FsbGJhY2soKTtcclxuICAgIH0sXHJcblxyXG4gICAgb25Ub3VjaFN0YXJ0KGV2ZW50KXtcclxuICAgICAgICB0aGlzLnN0YXJ0WCA9IGV2ZW50LmdldExvY2F0aW9uKCkueDtcclxuICAgIH0sXHJcblxyXG4gICAgb25Ub3VjaEVuZChldmVudCl7XHJcbiAgICAgICAgbGV0IG1vdmVYID0gZXZlbnQuZ2V0TG9jYXRpb24oKS54O1xyXG4gICAgICAgIGxldCBzcGFjZVggPSBtb3ZlWCAtIHRoaXMuc3RhcnRYO1xyXG4gICAgICAgIGlmKHNwYWNlWDw9LTEwKXsvL+WQkeW3plxyXG4gICAgICAgICAgICB0aGlzLm9uTGVmdFRvdWNoRW5kKHt9KVxyXG4gICAgICAgIH1lbHNlIGlmKHNwYWNlWD49MTApey8v5ZCR5Y+zXHJcbiAgICAgICAgICAgIHRoaXMub25SaWdodFRvdWNoRW5kKHt9KVxyXG4gICAgICAgIH1lbHNlIGlmKHRoaXMub3BlblRvdWNoLmFjdGl2ZSl7IC8v54K55Ye7cmVkRHJhZ29uXHJcbiAgICAgICAgICAgIHRoaXMub25SZWRCYWdUb3VjaEVuZCh7fSk7XHJcbiAgICAgICAgfSAgIFxyXG4gICAgfSxcclxuXHJcbiAgICBvbkxlZnRUb3VjaEVuZChldmVudCl7XHJcbiAgICAgICAgaWYodGhpcy5jdXJyZW50SW5kZXg8PTEpe1xyXG4gICAgICAgICAgICBhcHBHYW1lLmVtaXR0ZXIuZW1pdChjb25zdHMuTE9DQUxfRVZFTlRfUE9QVVBfTE9BRFRJUCwge1xyXG4gICAgICAgICAgICAgICAgY29udGVudDogXCLmgqjlvZPliY3lt7Lnu4/lnKjnrKzkuIDkuKrkuobvvIFcIlxyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5jdXJyZW50SW5kZXgtLTtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoSXRlbSh0aGlzLmN1cnJlbnRJbmRleCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBvblJpZ2h0VG91Y2hFbmQoZXZlbnQpe1xyXG4gICAgICAgIGlmKHRoaXMuY3VycmVudEluZGV4Pj10aGlzLnRvbGxnYXRlQ29uZmlnLmxlbmd0aCl7XHJcbiAgICAgICAgICAgIGFwcEdhbWUuZW1pdHRlci5lbWl0KGNvbnN0cy5MT0NBTF9FVkVOVF9QT1BVUF9MT0FEVElQLCB7XHJcbiAgICAgICAgICAgICAgICBjb250ZW50OiBcIuaCqOW9k+WJjeW3sue7j+WcqOacgOWQjuS4gOS4quS6hu+8gVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCsrO1xyXG4gICAgICAgICAgICB0aGlzLnJlZnJlc2hJdGVtKHRoaXMuY3VycmVudEluZGV4KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgLy/nq4vljbPmjJHmiJhcclxuICAgIG9uVW5zZWFsVG91Y2hFbmQoZXZlbnQpe1xyXG4gICAgICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon5bm46L+Q5aSn5aWWJyxjb250ZW50OifliY3lvoDlhbPljaEnLGRlc2M6J+eCueWHuyd9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgdGhpcy51bnNlYWxCdG5DYWxsYmFjayYmdGhpcy51bnNlYWxCdG5DYWxsYmFjaygpO1xyXG4gICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgfSxcclxuICAgIC8v54K55Ye757qi5YyFIOeci+inhumikemihuWPllxyXG4gICAgb25SZWRCYWdUb3VjaEVuZChldmVudCl7XHJcbiAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOiflubjov5DlpKflpZYnLGNvbnRlbnQ6J+e6ouWMheeci+a/gOWKseinhumikScsZGVzYzon54K55Ye7J30sZnVuY3Rpb24oKXtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZih0aGlzLml0ZW1SZXdhcmQuYWN0aXZlKXtcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBsZXQgb25vZmYgPSB0aGlzLmx1Y2t5Q29uZmlnLmx1Y2t5T25PZmY7XHJcbiAgICAgICAgaWYob25vZmYgJiYgb25vZmYubGVuZ3RoPjAgJiYgb25vZmZbMF0udmlkZW8gPT0gMSl7XHJcbiAgICAgICAgICAgIGFwcEdhbWUudmlkZW9CYW5uZXIucGxheVZpZGVvQWQoMSxvbm9mZlswXS5mb3JjZSxmdW5jdGlvbihpc1N1Yyl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIueci+inhumikeaIkOWKn1wiKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5vbkNsaWVudFJlc3VsdFBsYXlBRCh7c2NlbmVJZDo3LGV2ZW50SWQ6MSxpc1N1Y2Nlc3M6dHJ1ZX0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWRCYWdCdG5DYWxsYmFjayAmJiB0aGlzLnJlZEJhZ0J0bkNhbGxiYWNrKCk7XHJcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMub25DbGllbnRSZXN1bHRQbGF5QUQoe3NjZW5lSWQ6NyxldmVudElkOjEsaXNTdWNjZXNzOnRydWV9KTtcclxuICAgICAgICAgICAgdGhpcy5yZWRCYWdCdG5DYWxsYmFjayAmJiB0aGlzLnJlZEJhZ0J0bkNhbGxiYWNrKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIC8v6aKG5Y+W5aWW5YqxXHJcbiAgICBvbkdldFRvdWNoRW5kKGV2ZW50KXtcclxuICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+W5uOi/kOWkp+WllicsY29udGVudDon6aKG5Y+W5aWW5YqxJyxkZXNjOifngrnlh7snfSxmdW5jdGlvbigpe1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGNjLmxvZyhcIumihuWPlj09PT09XCIrdGhpcy5jdXJyZW50SW5kZXgpXHJcbiAgICAgICAgdGhpcy5yZWZyZXNoR2V0UmV3YXJkKHRoaXMuY3VycmVudEluZGV4LDEpO1xyXG4gICAgfSxcclxuICAgIC8v6aKG5Y+W5aWW5Yqx55qE5Yi35pawICBlbnRlciAx55u45b2T5LqO54K55Ye76aKG5Y+WICAz5bGV56S66aKG5Y+W55WM6Z2iXHJcbiAgICByZWZyZXNoR2V0UmV3YXJkKGluZGV4LGVudGVyKXtcclxuICAgICAgICB1bmRlcnNjb3JlLmVhY2godGhpcy50b2xsZ2F0ZUNvbmZpZyxmdW5jdGlvbihrZXksdmFsdWUpe1xyXG4gICAgICAgICAgICBpZih2YWx1ZSA9PSBpbmRleC0xKXtcclxuICAgICAgICAgICAgICAgIGlmKGVudGVyPT0xKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFJld2FyZENhbGxCYWNrICYmIHRoaXMuZ2V0UmV3YXJkQ2FsbEJhY2soa2V5LnJld2FyZC5pdGVtSWQsa2V5LnJld2FyZC5jb3VudCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLml0ZW1SZXdhcmQuZ2V0Q2hpbGRCeU5hbWUoJ2l0ZW0nKS5nZXRDb21wb25lbnQoJ2l0ZW0nKS5pbml0KGtleS5yZXdhcmQuaXRlbUlkKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5pdGVtUmV3YXJkLmdldENoaWxkQnlOYW1lKCdjb3VudCcpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gJ8OXJytrZXkucmV3YXJkLmNvdW50IFxyXG4gICAgICAgICAgICAgICAgaWYoZW50ZXI9PTEpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNjLmxvZyhcImluZGV4PT09XCIraW5kZXgpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWRMYWJlbC5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtUmV3YXJkLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVkRHJhZ29uLnBsYXlBbmltYXRpb24oJ2RhamlhbmcyJywxKVxyXG4gICAgICAgICAgICAgICAgICAgIGNjLnN5cy5sb2NhbFN0b3JhZ2Uuc2V0SXRlbShcImx1Y2tSZWFkeVJlY2VpdmVcIitpbmRleCxpbmRleClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluZm9MYWJlbC5zdHJpbmcgPSBrZXkucmV3YXJkLmluZm87XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLnRvbGxnYXRlQ29uZmlnLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcEluZGV4ID0gaSsxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgc2VhbCA9IGNjLnN5cy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbShcImx1Y2tVbnNlYWxcIit0ZW1wSW5kZXgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBpZihzZWFsPT0nJyB8fCBzZWFsPT1udWxsKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudEluZGV4ID0gdGVtcEluZGV4O1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWREcmFnb24ucGxheUFuaW1hdGlvbignZGFqaWFuZycsMilcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaEdldFJld2FyZCh0ZW1wSW5kZXgsNCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICBsZXQgaXNIYWQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8dGhpcy50b2xsZ2F0ZUNvbmZpZy5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHRlbXBJbmRleCA9IGkrMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHJlY2VpdmUgPSBjYy5zeXMubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJsdWNrUmVhZHlSZWNlaXZlXCIrdGVtcEluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYocmVjZWl2ZT09JycgfHwgcmVjZWl2ZT09bnVsbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmN1cnJlbnRJbmRleCA9IHRlbXBJbmRleDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucmVkRHJhZ29uLnBsYXlBbmltYXRpb24oJ2RhamlhbmcyJywxKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoR2V0UmV3YXJkKHRlbXBJbmRleCwzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzSGFkKys7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaXNIYWQgPT0gdGhpcy50b2xsZ2F0ZUNvbmZpZy5sZW5ndGgpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGk9MDtpPHRoaXMudG9sbGdhdGVDb25maWcubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZXQgdGVtcEluZGV4ID0gaSsxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2Muc3lzLmxvY2FsU3RvcmFnZS5yZW1vdmVJdGVtKFwibHVja1JlYWR5UmVjZWl2ZVwiK3RlbXBJbmRleCk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYy5zeXMubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJsdWNrVW5zZWFsXCIrdGVtcEluZGV4KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNob3dSZWZyZXNoVUkoMSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZihlbnRlciA9PSAyKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5Ub3VjaC5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZExhYmVsLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5pdGVtUmV3YXJkLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRCdG4ubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VCdG4ubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnVuc2VhbEJ0bi5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0QnRuLmludGVyYWN0YWJsZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0QnRuLm5vZGUub2ZmKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgdGhpcy5vbkdldFRvdWNoRW5kLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEJ0bi5ub2RlLmdldENoaWxkQnlOYW1lKCdsYWJlbCcpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCLlt7Lpooblj5ZcIjtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluZm9MYWJlbC5zdHJpbmcgPSAn5aWW5Yqx5bey6aKG5Y+WJztcclxuICAgICAgICAgICAgICAgIH1lbHNlIGlmKGVudGVyID09IDMpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3BlblRvdWNoLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVkTGFiZWwubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW1SZXdhcmQuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEJ0bi5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9zZUJ0bi5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMudW5zZWFsQnRuLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRCdG4uaW50ZXJhY3RhYmxlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEJ0bi5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgdGhpcy5vbkdldFRvdWNoRW5kLCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldEJ0bi5ub2RlLmdldENoaWxkQnlOYW1lKCdsYWJlbCcpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gXCLpooblj5ZcIlxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5mb0xhYmVsLnN0cmluZyA9IFwi5oGt5Zac6I635b6XXCI7XHJcbiAgICAgICAgICAgICAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOiflubjov5DlpKflpZYnLGNvbnRlbnQ6J+aBreWWnOiOt+W+l+W8ueeqlyd9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZihlbnRlciA9PSA0KXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZExhYmVsLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLml0ZW1SZXdhcmQuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nZXRCdG4ubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW5Ub3VjaC5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3BlblRvdWNoLnNjYWxlID0gMS40O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMub3BlblRvdWNoLnJ1bkFjdGlvbihjYy5yZXBlYXRGb3JldmVyKGNjLnNlcXVlbmNlKGNjLnNjYWxlVG8oMC41LDEuMiksY2Muc2NhbGVUbygwLjUsMS41KSkpKVxyXG4gICAgICAgICAgICAgICAgICAgIGxldCBzZWFsU2hvdyA9IHRoaXMubHVja3lDb25maWcubHVja1Vuc2VhbDtcclxuICAgICAgICAgICAgICAgICAgICBpZihzZWFsU2hvdyYmIHNlYWxTaG93LnNob3cgPT0gMSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxldCB0aW1lID0gc2VhbFNob3cuZGVsYXkqMTAwMDtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdW5zZWFsdGltZU91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvc2VCdG4ubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy51bnNlYWxCdG4ubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LmJpbmQodGhpcyksIHRpbWUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNsb3NlQnRuLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMudW5zZWFsQnRuLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5mb0xhYmVsLnN0cmluZyA9IGtleS5yZXdhcmQuaW5mbztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0uYmluZCh0aGlzKSlcclxuICAgIH0sXHJcblxyXG4gICAgYW5pbWF0aW9uRXZlbnRIYW5kbGVyKGV2ZW50KXtcclxuICAgICAgICBpZiAoZXZlbnQudHlwZSA9PT0gZHJhZ29uQm9uZXMuRXZlbnRPYmplY3QuQ09NUExFVEUpIHtcclxuICAgICAgICAgICAgaWYgKGV2ZW50LmFuaW1hdGlvblN0YXRlLm5hbWUgPT09IFwiZGFqaWFuZ1wiKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlZERyYWdvbi5wbGF5QW5pbWF0aW9uKCdkYWppYW5nMScsMClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBvbkNsaWVudFJlc3VsdFBsYXlBRChkYXRhKXtcclxuICAgICAgICBpZihkYXRhLnNjZW5lSWQ9PTcpe1xyXG4gICAgICAgICAgICBpZihkYXRhLmlzU3VjY2Vzcyl7XHJcbiAgICAgICAgICAgICAgICBpZihkYXRhLmV2ZW50SWQ9PTEpe1xyXG4gICAgICAgICAgICAgICAgICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon5bm46L+Q5aSn5aWWJyxjb250ZW50OifnuqLljIXnnIvmv4DlirHop4bpopEnLGRlc2M6J+aSreaUvuWujOaIkCd9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY2Muc3lzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwibHVja1Vuc2VhbFwiK3RoaXMuY3VycmVudEluZGV4LHRoaXMuY3VycmVudEluZGV4KVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVkRHJhZ29uLnBsYXlBbmltYXRpb24oJ2RhamlhbmcyJywxKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaEdldFJld2FyZCh0aGlzLmN1cnJlbnRJbmRleCwzKTtcclxuICAgICAgICAgICAgICAgIH1lbHNlIGlmKGRhdGEuZXZlbnRJZD09MiB8fGRhdGEuZXZlbnRJZCA9PSAzKXtcclxuICAgICAgICAgICAgICAgICAgICBpZihkYXRhLmV2ZW50SWQgPT0gMyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon5bm46L+Q5aSn5aWWJyxjb250ZW50OiflhbPpl63nlYzpnaInLGRlc2M6J+aSreaUvuWujOaIkCd9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBoaWRlKCl7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KHVuc2VhbHRpbWVPdXQpO1xyXG4gICAgICAgIGNsZWFyVGltZW91dChiYW5uZXJUaW1lT3V0KTtcclxuICAgICAgICBhcHBHYW1lLmJhbm5lci5wbGF5QmFubmVyKDMpO1xyXG4gICAgICAgIGFwcEdhbWUuYXBwQm94QWQucGxheUJveChmYWxzZSk7XHJcbiAgICAgICAgYXBwR2FtZS5ibG9ja0FkLnBsYXlCbG9ja2FkKGZhbHNlKTtcclxuICAgICAgICB0aGlzLm5vZGUucmVtb3ZlRnJvbVBhcmVudCgpO1xyXG4gICAgfSxcclxuXHJcbiAgICBzdGFydCAoKSB7XHJcblxyXG4gICAgfSxcclxuXHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fSxcclxufSk7XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/sign/sign.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '739a6M/ioBOG5JpbKXWT2IE', 'sign');
// gameComon/sign/sign.js

"use strict";

cc.Class({
  "extends": cc.Component,
  properties: {
    signNode: [cc.Node],
    closeBtn: cc.Node,
    signBtn: cc.Node,
    replenishSignBtn: cc.Node,
    closeCallback: null,
    signCallback: null
  },
  // LIFE-CYCLE CALLBACKS:
  onLoad: function onLoad() {
    this.reg = false; //是否已经签到

    this.regArr = [];
    this.closeBtn.on(cc.Node.EventType.TOUCH_END, this.onCloseBtnClicked, this);
    this.signBtn.on(cc.Node.EventType.TOUCH_END, this.onClickSignInBtn, this);
    this.replenishSignBtn.on(cc.Node.EventType.TOUCH_END, this.onClickReplenishSignBtnInBtn, this);
  },
  start: function start() {},

  /**
   * @param opts
   * showType 1 连续性签到  2 累积型签到  3 按照星期签到
   * signItem 签到数据
   */
  show: function show(opts) {
    opts = opts || {};

    if (opts.config && opts.config.type) {
      this.showType = opts.config.type;
    }

    if (opts.config && opts.config.item) {
      this.signItem = opts.config.item;
    }

    if (opts.config) {
      this.signConfig = opts.config;
    }

    if (opts.backCB) {
      this.closeCallback = opts.backCB;
    }

    if (opts.signCB) {
      this.signCallback = opts.signCB;
    }

    this.initData(function () {
      this.showUI();
    }.bind(this));
  },
  initData: function initData(cb) {
    this.days = []; //签到

    if (this.signItem) {
      for (var i = 0; i < this.signItem.length; i++) {
        var isSign = {
          'sign': 0,
          'day': '',
          "signType": this.showType
        };
        this.days.push(isSign);
      }
    }

    this.singnday = []; //上次签到时间

    this.save_data = {}; //cc.sys.localStorage.removeItem('days_sign');

    var day = cc.sys.localStorage.getItem('days_sign');

    if (day) {
      this.days = JSON.parse(day);

      if (this.days) {
        //如果后台配置有改变  数据要重新记录
        var isConfigChange = false;
        var isLastDay = true; //是否是最后一天

        var isPass = true; //是否连续

        var ishadToday = false; //是否有当天的

        var isNextWeek = false; //是否下一周

        if (this.days[0] && this.showType != this.days[0].signType) {
          isConfigChange = true;
        } else {
          var today = this.getTodayDay();

          if (this.showType == 1) {
            //连续签到
            for (var _i = 0; _i < this.days.length; _i++) {
              if (this.days[_i].day == today) {
                ishadToday = true;
                break;
              }
            }

            for (var _i2 = 0; _i2 < this.days.length; _i2++) {
              if (this.days[_i2].sign == 0 && this.days[_i2].day != today) {
                isPass = false;
              }

              if (this.days[_i2].day == today) {
                break;
              }
            }
          } else if (this.showType == 2) {
            //累积签到
            for (var _i3 = 0; _i3 < this.days.length; _i3++) {
              if (this.days[_i3].day == today) {
                isLastDay = false;
                break;
              }
            }
          } else if (this.showType == 3) {
            //按星期签到
            var monthDay = this.weekIndexInMonth();

            for (var _i4 = 0; _i4 < this.days.length; _i4++) {
              if (this.days[_i4].sign == 1 && this.days[_i4].day != monthDay) {
                isNextWeek = true;
                break;
              }
            }
          }
        }

        if (this.showType == 2 && isLastDay || this.showType == 1 && (!isPass || !ishadToday) || this.showType == 3 && isNextWeek || isConfigChange) {
          cc.sys.localStorage.removeItem('days_sign');
          this.days.length = 0;

          for (var _i5 = 0; _i5 < this.signItem.length; _i5++) {
            var _isSign = {
              'sign': 0,
              'day': '',
              "signType": this.showType
            };
            this.days.push(_isSign);
          }
        }
      }
    }

    cb();
  },
  showUI: function showUI() {
    for (var i = 0; i < this.signNode.length; i++) {
      this.signNode[i].active = false;
      this.signNode[i].getChildByName('item').active = false;
      this.signNode[i].getChildByName('New Sprite').active = false;
      this.signNode[i].getChildByName('ok').active = false;
    }

    for (var _i6 = 0; _i6 < this.signItem.length; _i6++) {
      if (this.signItem.length == 3) {
        this.signNode[_i6].y = 60;
      } else {
        if (_i6 < 3) {
          this.signNode[_i6].y = 171.521;
        }
      }

      this.signNode[_i6].active = true;
    }

    for (var _i7 = 0; _i7 < this.signItem.length; _i7++) {
      var itemSingle = this.signItem[_i7];

      if (JSON.stringify(itemSingle) != '{}') {
        this.signNode[_i7].getChildByName('item').getComponent('item').init(itemSingle.itemId);

        this.signNode[_i7].getChildByName('item').active = true;
      } else {
        this.signNode[_i7].getChildByName('New Sprite').active = true;
      }
    }

    if (this.signConfig && this.signConfig.btn1) {
      this.replenishSignBtn.active = this.signConfig.btn1.show;
      this.replenishSignBtn.getChildByName('video').active = this.signConfig.btn1.icon;
    }

    underscore.each(this.days, function (value, key) {
      //console.log(value+"   "+key);
      if (value.sign == 1) {
        this.signNode[key].getChildByName('ok').active = true;
      }
    }.bind(this));

    if (appGame.interstitialAd) {
      appGame.interstitialAd.playAd();
    }

    appGame.banner.playBanner(2);
    appGame.appBoxAd.playBox(true);
    appGame.blockAd.playBlockad(true, 4);
    httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
      title: '签到',
      content: '打开签到界面'
    }, function () {});
  },

  /*
  *补签点击事件
  */
  onClickReplenishSignBtnInBtn: function onClickReplenishSignBtnInBtn(event) {
    httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
      title: '签到',
      content: '补签',
      desc: '点击'
    }, function () {});
    var currentReplenishSign = -1;

    if (this.showType == 1 || this.showType == 2) {
      var isFirstSign = false;

      for (var i = 0; i < this.days.length; i++) {
        if (this.days[i].sign == 1) {
          isFirstSign = true;
          break;
        }
      }

      if (!isFirstSign) {
        appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_LOADTIP, {
          content: '当前还未签到，请先签到'
        });
        return;
      }

      var today = this.getTodayDay();
      var replenishSign = [];

      for (var _i8 = 0; _i8 < this.days.length; _i8++) {
        if (today == this.days[_i8].day) {
          break;
        }

        if (this.days[_i8].sign != 1) {
          replenishSign.push(_i8);
        }
      }

      if (replenishSign.length > 0) {
        currentReplenishSign = replenishSign[0];
      }
    } else if (this.showType == 3) {
      var _replenishSign = [];

      for (var _i9 = 0; _i9 < this.days.length; _i9++) {
        var weekDay = this.getWeekDay();

        if (_i9 + 1 == weekDay) {
          break;
        }

        if (this.days[_i9].sign == 0) {
          _replenishSign.push(_i9);
        }
      }

      if (_replenishSign.length > 0) {
        currentReplenishSign = _replenishSign[0];
      }
    }

    var isPlayVideo = false;
    var isForce = true;

    if (this.signConfig) {
      isPlayVideo = this.signConfig.btn1.video;
      isForce = this.signConfig.btn1.force;
    }

    if (isPlayVideo) {
      appGame.videoBanner.playVideoAd(4, isForce, function (isSuc) {
        console.log("看视频成功");

        if (currentReplenishSign != -1) {
          if (this.showType == 1 || this.showType == 2) {
            this.days[currentReplenishSign].sign = 1;
            this.signNode[currentReplenishSign].getChildByName('ok').active = true;
            cc.sys.localStorage.setItem("days_sign", JSON.stringify(this.days));
            this.signSuccessTip(this.signItem[currentReplenishSign], 0);
          } else if (this.showType == 3) {
            this.days[currentReplenishSign].day = this.weekIndexInMonth(); //本月的第几周

            this.days[currentReplenishSign].sign = 1;
            this.signNode[currentReplenishSign].getChildByName('ok').active = true;
            cc.sys.localStorage.setItem("days_sign", JSON.stringify(this.days));
            this.signSuccessTip(this.signItem[currentReplenishSign], 0);
          }
        }
      }.bind(this));
    } else {
      if (currentReplenishSign != -1) {
        if (this.showType == 1 || this.showType == 2) {
          this.days[currentReplenishSign].sign = 1;
          this.signNode[currentReplenishSign].getChildByName('ok').active = true;
          cc.sys.localStorage.setItem("days_sign", JSON.stringify(this.days));
          this.signSuccessTip(this.signItem[currentReplenishSign], 0);
        } else if (this.showType == 3) {
          this.days[currentReplenishSign].day = this.weekIndexInMonth(); //本月的第几周

          this.days[currentReplenishSign].sign = 1;
          this.signNode[currentReplenishSign].getChildByName('ok').active = true;
          cc.sys.localStorage.setItem("days_sign", JSON.stringify(this.days));
          this.signSuccessTip(this.signItem[currentReplenishSign], 0);
        }
      }
    }
  },

  /*
  *签到点击事件
  */
  onClickSignInBtn: function onClickSignInBtn() {
    httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
      title: '签到',
      content: '普通签到',
      desc: '点击'
    }, function () {});

    if (this.showType == 1 || this.showType == 2) {
      var isFirstSign = false;

      for (var i = 0; i < this.days.length; i++) {
        if (this.days[i].sign == 1) {
          isFirstSign = true;
          break;
        }
      }

      if (isFirstSign) {
        //有已签到过的
        var today = this.getTodayDay();
        var isSignToday = false;
        var dayIndex = -1;

        for (var _i10 = 0; _i10 < this.days.length; _i10++) {
          if (today == this.days[_i10].day) {
            dayIndex = _i10;

            if (this.days[_i10].sign == 1) {
              isSignToday = true;
              break;
            }
          }

          if (today == this.days[_i10].day && this.days[_i10].sign == 1) {
            isSignToday = true;
            break;
          }
        }

        if (isSignToday) {
          appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_LOADTIP, {
            content: '已签到'
          });
        } else {
          this.days[dayIndex].sign = 1;
          this.signNode[dayIndex].getChildByName('ok').active = true;
          cc.sys.localStorage.setItem("days_sign", JSON.stringify(this.days));
          this.signSuccessTip(this.signItem[dayIndex], 1);
        }
      } else {
        var tempday = '';

        for (var _i11 = 0; _i11 < this.days.length; _i11++) {
          if (_i11 == 0) {
            tempday = this.getTodayDay();
          } else {
            tempday = this.getNextDay(tempday);
          } //cc.log("tempday==="+tempday)


          this.days[_i11].day = tempday;
        }

        this.days[0].sign = 1;
        this.signNode[0].getChildByName('ok').active = true;
        cc.sys.localStorage.setItem("days_sign", JSON.stringify(this.days));
        this.signSuccessTip(this.signItem[0], 1);
      }
    } else if (this.showType == 3) {
      var isSign = true;
      var weekIndex = -1;

      for (var _i12 = 0; _i12 < this.days.length; _i12++) {
        var weekDay = this.getWeekDay();

        if (this.days[_i12].sign == 0 && _i12 + 1 == weekDay) {
          weekIndex = _i12;
          isSign = false;
          break;
        }
      }

      if (!isSign) {
        this.days[weekIndex].day = this.weekIndexInMonth(); //本月的第几周

        this.days[weekIndex].sign = 1;
        this.signNode[weekIndex].getChildByName('ok').active = true;
        cc.sys.localStorage.setItem("days_sign", JSON.stringify(this.days));
        this.signSuccessTip(this.signItem[weekIndex], 1);
      } else {
        //预留接口
        appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_LOADTIP, {
          content: '已签到'
        });
      }
    }
  },
  signSuccessTip: function signSuccessTip(info, iscall) {
    if (JSON.stringify(info) != "{}") {
      //预留接口
      if (iscall) {
        this.signCallback && this.signCallback(info.itemId, info.count);
      }

      if (appGame.gameServerRoom.commonConfig && appGame.gameServerRoom.commonConfig.item) {
        var item = underscore.find(appGame.gameServerRoom.commonConfig.item, function (value) {
          return value.id == info.itemId;
        }.bind(this));

        if (item) {
          appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_LOADTIP, {
            content: '已获得' + item.name + '奖励'
          });
          httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
            title: '签到',
            content: '获取奖励',
            desc: item.name
          }, function () {});
        }
      }
    }
  },
  onCloseBtnClicked: function onCloseBtnClicked() {
    httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
      title: '签到',
      content: '关闭签到界面'
    }, function () {});
    appGame.appBoxAd.playBox(false);
    appGame.blockAd.playBlockad(false);
    appGame.banner.playBanner(3);
    this.closeCallback && this.closeCallback();
    this.node.removeFromParent();
  },
  weekIndexInMonth: function weekIndexInMonth() {
    //设置时间为本月的1号
    var date = new Date(new Date(this).setDate(1) || new Date().setDate(1)); //获取今天的日期

    var today = new Date();
    var d = today.getDate();
    var firstWeekDate;

    if (date.getDay() === 0) {
      // 判断1号是周日
      firstWeekDate = 6;
    } else {
      // 判断1号是周一至周六之间
      firstWeekDate = date.getDay() - 1;
    }

    return Math.ceil((d + firstWeekDate) / 7);
  },
  getWeekDay: function getWeekDay() {
    var index = -1;
    var week = new Date().getDay();

    if (week == 0) {
      index = 7;
    } else {
      index = week;
    }

    return index;
  },
  getTodayDay: function getTodayDay() {
    var d = new Date();
    var yy = d.getFullYear();
    var mm = d.getMonth() + 1;
    var dd = d.getDate();
    var todayday = yy + "-";

    if (mm < 10) {
      todayday += "0";
    }

    todayday += mm + "-";

    if (dd < 10) {
      todayday += "0";
    }

    todayday += dd; //cc.log("todayday=="+todayday)

    return todayday;
  },
  getNextDay: function getNextDay(d) {
    d = new Date(d);
    d = +d + 1000 * 60 * 60 * 24;
    d = new Date(d);
    var yy = d.getFullYear();
    var mm = d.getMonth() + 1;
    var dd = d.getDate();
    var nextday = yy + "-";

    if (mm < 10) {
      nextday += "0";
    }

    nextday += mm + "-";

    if (dd < 10) {
      nextday += "0";
    }

    nextday += dd;
    return nextday;
  } // update (dt) {},

});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzaWduXFxzaWduLmpzIl0sIm5hbWVzIjpbImNjIiwiQ2xhc3MiLCJDb21wb25lbnQiLCJwcm9wZXJ0aWVzIiwic2lnbk5vZGUiLCJOb2RlIiwiY2xvc2VCdG4iLCJzaWduQnRuIiwicmVwbGVuaXNoU2lnbkJ0biIsImNsb3NlQ2FsbGJhY2siLCJzaWduQ2FsbGJhY2siLCJvbkxvYWQiLCJyZWciLCJyZWdBcnIiLCJvbiIsIkV2ZW50VHlwZSIsIlRPVUNIX0VORCIsIm9uQ2xvc2VCdG5DbGlja2VkIiwib25DbGlja1NpZ25JbkJ0biIsIm9uQ2xpY2tSZXBsZW5pc2hTaWduQnRuSW5CdG4iLCJzdGFydCIsInNob3ciLCJvcHRzIiwiY29uZmlnIiwidHlwZSIsInNob3dUeXBlIiwiaXRlbSIsInNpZ25JdGVtIiwic2lnbkNvbmZpZyIsImJhY2tDQiIsInNpZ25DQiIsImluaXREYXRhIiwic2hvd1VJIiwiYmluZCIsImNiIiwiZGF5cyIsImkiLCJsZW5ndGgiLCJpc1NpZ24iLCJwdXNoIiwic2luZ25kYXkiLCJzYXZlX2RhdGEiLCJkYXkiLCJzeXMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiSlNPTiIsInBhcnNlIiwiaXNDb25maWdDaGFuZ2UiLCJpc0xhc3REYXkiLCJpc1Bhc3MiLCJpc2hhZFRvZGF5IiwiaXNOZXh0V2VlayIsInNpZ25UeXBlIiwidG9kYXkiLCJnZXRUb2RheURheSIsInNpZ24iLCJtb250aERheSIsIndlZWtJbmRleEluTW9udGgiLCJyZW1vdmVJdGVtIiwiYWN0aXZlIiwiZ2V0Q2hpbGRCeU5hbWUiLCJ5IiwiaXRlbVNpbmdsZSIsInN0cmluZ2lmeSIsImdldENvbXBvbmVudCIsImluaXQiLCJpdGVtSWQiLCJidG4xIiwiaWNvbiIsInVuZGVyc2NvcmUiLCJlYWNoIiwidmFsdWUiLCJrZXkiLCJhcHBHYW1lIiwiaW50ZXJzdGl0aWFsQWQiLCJwbGF5QWQiLCJiYW5uZXIiLCJwbGF5QmFubmVyIiwiYXBwQm94QWQiLCJwbGF5Qm94IiwiYmxvY2tBZCIsInBsYXlCbG9ja2FkIiwiaHR0cFV0aWxzIiwiaHR0cFBvc3QiLCJjb25zdHMiLCJIVFRQX1JFQ09SRF9TRVJWRVIiLCJ0aXRsZSIsImNvbnRlbnQiLCJldmVudCIsImRlc2MiLCJjdXJyZW50UmVwbGVuaXNoU2lnbiIsImlzRmlyc3RTaWduIiwiZW1pdHRlciIsImVtaXQiLCJMT0NBTF9FVkVOVF9QT1BVUF9MT0FEVElQIiwicmVwbGVuaXNoU2lnbiIsIndlZWtEYXkiLCJnZXRXZWVrRGF5IiwiaXNQbGF5VmlkZW8iLCJpc0ZvcmNlIiwidmlkZW8iLCJmb3JjZSIsInZpZGVvQmFubmVyIiwicGxheVZpZGVvQWQiLCJpc1N1YyIsImNvbnNvbGUiLCJsb2ciLCJzZXRJdGVtIiwic2lnblN1Y2Nlc3NUaXAiLCJpc1NpZ25Ub2RheSIsImRheUluZGV4IiwidGVtcGRheSIsImdldE5leHREYXkiLCJ3ZWVrSW5kZXgiLCJpbmZvIiwiaXNjYWxsIiwiY291bnQiLCJnYW1lU2VydmVyUm9vbSIsImNvbW1vbkNvbmZpZyIsImZpbmQiLCJpZCIsIm5hbWUiLCJub2RlIiwicmVtb3ZlRnJvbVBhcmVudCIsImRhdGUiLCJEYXRlIiwic2V0RGF0ZSIsImQiLCJnZXREYXRlIiwiZmlyc3RXZWVrRGF0ZSIsImdldERheSIsIk1hdGgiLCJjZWlsIiwiaW5kZXgiLCJ3ZWVrIiwieXkiLCJnZXRGdWxsWWVhciIsIm1tIiwiZ2V0TW9udGgiLCJkZCIsInRvZGF5ZGF5IiwibmV4dGRheSJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQUEsRUFBRSxDQUFDQyxLQUFILENBQVM7QUFDTCxhQUFTRCxFQUFFLENBQUNFLFNBRFA7QUFHTEMsRUFBQUEsVUFBVSxFQUFFO0FBQ1JDLElBQUFBLFFBQVEsRUFBQyxDQUFDSixFQUFFLENBQUNLLElBQUosQ0FERDtBQUVSQyxJQUFBQSxRQUFRLEVBQUNOLEVBQUUsQ0FBQ0ssSUFGSjtBQUdSRSxJQUFBQSxPQUFPLEVBQUNQ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QUFFLEdBQUNaLENBQUMsQ0FBQ0MsT0FBRixFQUFQO0FBQ0EsUUFBSWEsT0FBTyxHQUFDTixFQUFFLEdBQUMsR0FBZjs7QUFDQSxRQUFJRSxFQUFFLEdBQUMsRUFBUCxFQUFVO0FBQUNJLE1BQUFBLE9BQU8sSUFBRSxHQUFUO0FBQWE7O0FBQ3hCQSxJQUFBQSxPQUFPLElBQUVKLEVBQUUsR0FBQyxHQUFaOztBQUNBLFFBQUdFLEVBQUUsR0FBQyxFQUFOLEVBQVM7QUFBQ0UsTUFBQUEsT0FBTyxJQUFFLEdBQVQ7QUFBYTs7QUFDdkJBLElBQUFBLE9BQU8sSUFBRUYsRUFBVDtBQUNBLFdBQU9FLE9BQVA7QUFDSCxHQTFhSSxDQTRhTDs7QUE1YUssQ0FBVCIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiY2MuQ2xhc3Moe1xyXG4gICAgZXh0ZW5kczogY2MuQ29tcG9uZW50LFxyXG5cclxuICAgIHByb3BlcnRpZXM6IHtcclxuICAgICAgICBzaWduTm9kZTpbY2MuTm9kZV0sXHJcbiAgICAgICAgY2xvc2VCdG46Y2MuTm9kZSxcclxuICAgICAgICBzaWduQnRuOmNjLk5vZGUsXHJcbiAgICAgICAgcmVwbGVuaXNoU2lnbkJ0bjpjYy5Ob2RlLFxyXG4gICAgICAgIGNsb3NlQ2FsbGJhY2s6bnVsbCxcclxuICAgICAgICBzaWduQ2FsbGJhY2s6bnVsbCxcclxuICAgIH0sXHJcblxyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcblxyXG4gICAgb25Mb2FkICgpIHtcclxuICAgICAgICB0aGlzLnJlZyA9IGZhbHNlO1x0XHQvL+aYr+WQpuW3sue7j+etvuWIsFxyXG5cdFx0dGhpcy5yZWdBcnIgPSBbXTtcclxuICAgICAgICB0aGlzLmNsb3NlQnRuLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCx0aGlzLm9uQ2xvc2VCdG5DbGlja2VkLHRoaXMpO1xyXG4gICAgICAgIHRoaXMuc2lnbkJ0bi5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsdGhpcy5vbkNsaWNrU2lnbkluQnRuLHRoaXMpO1xyXG4gICAgICAgIHRoaXMucmVwbGVuaXNoU2lnbkJ0bi5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsdGhpcy5vbkNsaWNrUmVwbGVuaXNoU2lnbkJ0bkluQnRuLHRoaXMpO1xyXG4gICAgfSxcclxuXHJcbiAgICBzdGFydCAoKSB7XHJcblxyXG4gICAgfSxcclxuXHJcbiAgICAvKipcclxuICAgICAqIEBwYXJhbSBvcHRzXHJcbiAgICAgKiBzaG93VHlwZSAxIOi/nue7reaAp+etvuWIsCAgMiDntK/np6/lnovnrb7liLAgIDMg5oyJ54Wn5pif5pyf562+5YiwXHJcbiAgICAgKiBzaWduSXRlbSDnrb7liLDmlbDmja5cclxuICAgICAqL1xyXG4gICAgc2hvdzogZnVuY3Rpb24gKG9wdHMpIHtcclxuICAgICAgICBvcHRzID0gb3B0cyB8fCB7fTtcclxuICAgICAgICBpZihvcHRzLmNvbmZpZyAmJiBvcHRzLmNvbmZpZy50eXBlKXtcclxuICAgICAgICAgICAgdGhpcy5zaG93VHlwZSA9IG9wdHMuY29uZmlnLnR5cGU7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKG9wdHMuY29uZmlnICYmIG9wdHMuY29uZmlnLml0ZW0pe1xyXG4gICAgICAgICAgICB0aGlzLnNpZ25JdGVtID0gb3B0cy5jb25maWcuaXRlbTsgIFxyXG4gICAgICAgIH1cclxuICAgICAgICBpZihvcHRzLmNvbmZpZyl7XHJcbiAgICAgICAgICAgIHRoaXMuc2lnbkNvbmZpZyA9IG9wdHMuY29uZmlnO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihvcHRzLmJhY2tDQil7XHJcbiAgICAgICAgICAgIHRoaXMuY2xvc2VDYWxsYmFjayA9IG9wdHMuYmFja0NCO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihvcHRzLnNpZ25DQil7XHJcbiAgICAgICAgICAgIHRoaXMuc2lnbkNhbGxiYWNrID0gb3B0cy5zaWduQ0I7XHJcbiAgICAgICAgfSBcclxuICAgICAgICB0aGlzLmluaXREYXRhKGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIHRoaXMuc2hvd1VJKCk7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKVxyXG4gICAgfSxcclxuXHJcbiAgICBpbml0RGF0YShjYil7XHJcbiAgICAgICAgdGhpcy5kYXlzID0gW107Ly/nrb7liLBcclxuICAgICAgICBpZih0aGlzLnNpZ25JdGVtKXtcclxuICAgICAgICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLnNpZ25JdGVtLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICAgbGV0IGlzU2lnbiA9IHsnc2lnbic6MCwnZGF5JzonJyxcInNpZ25UeXBlXCI6dGhpcy5zaG93VHlwZX1cclxuICAgICAgICAgICAgICAgIHRoaXMuZGF5cy5wdXNoKGlzU2lnbik7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5zaW5nbmRheSA9IFtdOy8v5LiK5qyh562+5Yiw5pe26Ze0XHJcbiAgICAgICAgdGhpcy5zYXZlX2RhdGEgPSB7fTtcclxuICAgICAgICAvL2NjLnN5cy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZGF5c19zaWduJyk7XHJcbiAgICAgICAgbGV0IGRheSA9IGNjLnN5cy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnZGF5c19zaWduJyk7XHJcbiAgICAgICAgaWYgKGRheSl7XHJcbiAgICAgICAgICAgIHRoaXMuZGF5cyA9IEpTT04ucGFyc2UoZGF5KTtcclxuICAgICAgICAgICAgaWYodGhpcy5kYXlzKXtcclxuICAgICAgICAgICAgICAgIC8v5aaC5p6c5ZCO5Y+w6YWN572u5pyJ5pS55Y+YICDmlbDmja7opoHph43mlrDorrDlvZVcclxuICAgICAgICAgICAgICAgIGxldCBpc0NvbmZpZ0NoYW5nZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgbGV0IGlzTGFzdERheSA9IHRydWU7ICAvL+aYr+WQpuaYr+acgOWQjuS4gOWkqVxyXG4gICAgICAgICAgICAgICAgbGV0IGlzUGFzcyA9IHRydWU7ICAvL+aYr+WQpui/nue7rVxyXG4gICAgICAgICAgICAgICAgbGV0IGlzaGFkVG9kYXkgPSBmYWxzZTsgIC8v5piv5ZCm5pyJ5b2T5aSp55qEXHJcbiAgICAgICAgICAgICAgICBsZXQgaXNOZXh0V2VlayA9IGZhbHNlOyAgLy/mmK/lkKbkuIvkuIDlkahcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuZGF5c1swXSAmJiB0aGlzLnNob3dUeXBlICE9dGhpcy5kYXlzWzBdLnNpZ25UeXBlKXtcclxuICAgICAgICAgICAgICAgICAgICBpc0NvbmZpZ0NoYW5nZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICBsZXQgdG9kYXkgPSB0aGlzLmdldFRvZGF5RGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5zaG93VHlwZT09MSl7IC8v6L+e57ut562+5YiwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8dGhpcy5kYXlzLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5kYXlzW2ldLmRheSA9PSB0b2RheSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNoYWRUb2RheSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLmRheXMubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmRheXNbaV0uc2lnbiA9PSAwICYmIHRoaXMuZGF5c1tpXS5kYXkgIT0gdG9kYXkpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlzUGFzcyA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5kYXlzW2ldLmRheSA9PSB0b2RheSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZih0aGlzLnNob3dUeXBlPT0yKXsgLy/ntK/np6/nrb7liLBcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLmRheXMubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmRheXNbaV0uZGF5ID09IHRvZGF5KXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpc0xhc3REYXkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNlIGlmKHRoaXMuc2hvd1R5cGU9PTMpeyAvL+aMieaYn+acn+etvuWIsFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgbW9udGhEYXkgPSB0aGlzLndlZWtJbmRleEluTW9udGgoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLmRheXMubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmRheXNbaV0uc2lnbiA9PSAxICYmIHRoaXMuZGF5c1tpXS5kYXkgIT1tb250aERheSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNOZXh0V2VlayA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBcclxuICAgICAgICAgICAgICAgIGlmKCh0aGlzLnNob3dUeXBlPT0yICYmIGlzTGFzdERheSkgfHwgKHRoaXMuc2hvd1R5cGU9PTEgJiYoKCFpc1Bhc3MpfHwoIWlzaGFkVG9kYXkpKSlcclxuICAgICAgICAgICAgICAgIHx8ICh0aGlzLnNob3dUeXBlPT0zICYmIGlzTmV4dFdlZWspIHx8aXNDb25maWdDaGFuZ2Upe1xyXG4gICAgICAgICAgICAgICAgICAgIGNjLnN5cy5sb2NhbFN0b3JhZ2UucmVtb3ZlSXRlbSgnZGF5c19zaWduJyk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXlzLmxlbmd0aCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLnNpZ25JdGVtLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgaXNTaWduID0geydzaWduJzowLCdkYXknOicnLFwic2lnblR5cGVcIjp0aGlzLnNob3dUeXBlfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRheXMucHVzaChpc1NpZ24pO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBjYigpO1xyXG4gICAgfSxcclxuXHJcbiAgICBzaG93VUkoKSB7XHJcbiAgICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLnNpZ25Ob2RlLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICB0aGlzLnNpZ25Ob2RlW2ldLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgICAgICB0aGlzLnNpZ25Ob2RlW2ldLmdldENoaWxkQnlOYW1lKCdpdGVtJykuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgICAgIHRoaXMuc2lnbk5vZGVbaV0uZ2V0Q2hpbGRCeU5hbWUoJ05ldyBTcHJpdGUnKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgdGhpcy5zaWduTm9kZVtpXS5nZXRDaGlsZEJ5TmFtZSgnb2snKS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLnNpZ25JdGVtLmxlbmd0aDtpKyspe1xyXG4gICAgICAgICAgICBpZih0aGlzLnNpZ25JdGVtLmxlbmd0aD09Myl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpZ25Ob2RlW2ldLnkgPSA2MDtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBpZihpPDMpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuc2lnbk5vZGVbaV0ueSA9IDE3MS41MjE7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5zaWduTm9kZVtpXS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBmb3IobGV0IGk9MDtpPHRoaXMuc2lnbkl0ZW0ubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgIGxldCBpdGVtU2luZ2xlID0gdGhpcy5zaWduSXRlbVtpXTtcclxuICAgICAgICAgICAgaWYoSlNPTi5zdHJpbmdpZnkoaXRlbVNpbmdsZSkhPSd7fScpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaWduTm9kZVtpXS5nZXRDaGlsZEJ5TmFtZSgnaXRlbScpLmdldENvbXBvbmVudCgnaXRlbScpLmluaXQoaXRlbVNpbmdsZS5pdGVtSWQpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaWduTm9kZVtpXS5nZXRDaGlsZEJ5TmFtZSgnaXRlbScpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaWduTm9kZVtpXS5nZXRDaGlsZEJ5TmFtZSgnTmV3IFNwcml0ZScpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgaWYodGhpcy5zaWduQ29uZmlnICYmIHRoaXMuc2lnbkNvbmZpZy5idG4xKXtcclxuICAgICAgICAgICAgdGhpcy5yZXBsZW5pc2hTaWduQnRuLmFjdGl2ZSA9IHRoaXMuc2lnbkNvbmZpZy5idG4xLnNob3c7XHJcbiAgICAgICAgICAgIHRoaXMucmVwbGVuaXNoU2lnbkJ0bi5nZXRDaGlsZEJ5TmFtZSgndmlkZW8nKS5hY3RpdmUgPSB0aGlzLnNpZ25Db25maWcuYnRuMS5pY29uO1xyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgICAgICB1bmRlcnNjb3JlLmVhY2godGhpcy5kYXlzLGZ1bmN0aW9uKHZhbHVlLCBrZXkpe1xyXG4gICAgICAgICAgICAvL2NvbnNvbGUubG9nKHZhbHVlK1wiICAgXCIra2V5KTtcclxuICAgICAgICAgICAgaWYodmFsdWUuc2lnbiA9PSAxKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2lnbk5vZGVba2V5XS5nZXRDaGlsZEJ5TmFtZSgnb2snKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICBpZihhcHBHYW1lLmludGVyc3RpdGlhbEFkKXtcclxuICAgICAgICAgICAgYXBwR2FtZS5pbnRlcnN0aXRpYWxBZC5wbGF5QWQoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgYXBwR2FtZS5iYW5uZXIucGxheUJhbm5lcigyKTtcclxuICAgICAgICBhcHBHYW1lLmFwcEJveEFkLnBsYXlCb3godHJ1ZSk7XHJcbiAgICAgICAgYXBwR2FtZS5ibG9ja0FkLnBsYXlCbG9ja2FkKHRydWUsNCk7XHJcbiAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOifnrb7liLAnLGNvbnRlbnQ6J+aJk+W8gOetvuWIsOeVjOmdoid9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG4gICAgLypcclxuICAgICrooaXnrb7ngrnlh7vkuovku7ZcclxuICAgICovXHJcbiAgICBvbkNsaWNrUmVwbGVuaXNoU2lnbkJ0bkluQnRuKGV2ZW50KXtcclxuICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+etvuWIsCcsY29udGVudDon6KGl562+JyxkZXNjOifngrnlh7snfSxmdW5jdGlvbigpe1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxldCBjdXJyZW50UmVwbGVuaXNoU2lnbiA9IC0xO1xyXG4gICAgICAgIGlmKHRoaXMuc2hvd1R5cGU9PTEgfHwgdGhpcy5zaG93VHlwZT09Mil7XHJcbiAgICAgICAgICAgIGxldCBpc0ZpcnN0U2lnbiA9IGZhbHNlO1xyXG4gICAgICAgICAgICBmb3IobGV0IGk9MDtpPHRoaXMuZGF5cy5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuZGF5c1tpXS5zaWduID09IDEpe1xyXG4gICAgICAgICAgICAgICAgICAgIGlzRmlyc3RTaWduID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZighaXNGaXJzdFNpZ24pe1xyXG4gICAgICAgICAgICAgICAgYXBwR2FtZS5lbWl0dGVyLmVtaXQoY29uc3RzLkxPQ0FMX0VWRU5UX1BPUFVQX0xPQURUSVAsIHtcclxuICAgICAgICAgICAgICAgICAgICBjb250ZW50OiAn5b2T5YmN6L+Y5pyq562+5Yiw77yM6K+35YWI562+5YiwJ1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgbGV0IHRvZGF5ID0gdGhpcy5nZXRUb2RheURheSgpO1xyXG4gICAgICAgICAgICBsZXQgcmVwbGVuaXNoU2lnbiA9IFtdO1xyXG4gICAgICAgICAgICBmb3IobGV0IGk9MDtpPHRoaXMuZGF5cy5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgICAgIGlmKHRvZGF5ID09IHRoaXMuZGF5c1tpXS5kYXkpe1xyXG4gICAgICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5kYXlzW2ldLnNpZ24hPTEpe1xyXG4gICAgICAgICAgICAgICAgICAgIHJlcGxlbmlzaFNpZ24ucHVzaChpKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZihyZXBsZW5pc2hTaWduLmxlbmd0aD4wKXtcclxuICAgICAgICAgICAgICAgIGN1cnJlbnRSZXBsZW5pc2hTaWduID0gcmVwbGVuaXNoU2lnblswXTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1lbHNlIGlmKHRoaXMuc2hvd1R5cGU9PTMpe1xyXG4gICAgICAgICAgICBsZXQgcmVwbGVuaXNoU2lnbiA9IFtdO1xyXG4gICAgICAgICAgICBmb3IobGV0IGk9MDtpPHRoaXMuZGF5cy5sZW5ndGg7aSsrKXtcclxuICAgICAgICAgICAgICAgIGxldCB3ZWVrRGF5ID0gdGhpcy5nZXRXZWVrRGF5KCk7XHJcbiAgICAgICAgICAgICAgICBpZihpKzEgPT0gd2Vla0RheSl7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLmRheXNbaV0uc2lnbiA9PSAwKXtcclxuICAgICAgICAgICAgICAgICAgICByZXBsZW5pc2hTaWduLnB1c2goaSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYocmVwbGVuaXNoU2lnbi5sZW5ndGg+MCl7XHJcbiAgICAgICAgICAgICAgICBjdXJyZW50UmVwbGVuaXNoU2lnbiA9IHJlcGxlbmlzaFNpZ25bMF07XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICAgICAgbGV0IGlzUGxheVZpZGVvID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IGlzRm9yY2UgPSB0cnVlO1xyXG4gICAgICAgIGlmKHRoaXMuc2lnbkNvbmZpZyl7XHJcbiAgICAgICAgICAgIGlzUGxheVZpZGVvID0gdGhpcy5zaWduQ29uZmlnLmJ0bjEudmlkZW87XHJcbiAgICAgICAgICAgIGlzRm9yY2UgPSB0aGlzLnNpZ25Db25maWcuYnRuMS5mb3JjZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoaXNQbGF5VmlkZW8pe1xyXG4gICAgICAgICAgICBhcHBHYW1lLnZpZGVvQmFubmVyLnBsYXlWaWRlb0FkKDQsaXNGb3JjZSxmdW5jdGlvbihpc1N1Yyl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIueci+inhumikeaIkOWKn1wiKVxyXG4gICAgICAgICAgICAgICAgaWYoY3VycmVudFJlcGxlbmlzaFNpZ24hPS0xKXtcclxuICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnNob3dUeXBlPT0xIHx8IHRoaXMuc2hvd1R5cGU9PTIpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXlzW2N1cnJlbnRSZXBsZW5pc2hTaWduXS5zaWduID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2lnbk5vZGVbY3VycmVudFJlcGxlbmlzaFNpZ25dLmdldENoaWxkQnlOYW1lKCdvaycpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYy5zeXMubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJkYXlzX3NpZ25cIiwgSlNPTi5zdHJpbmdpZnkodGhpcy5kYXlzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNpZ25TdWNjZXNzVGlwKHRoaXMuc2lnbkl0ZW1bY3VycmVudFJlcGxlbmlzaFNpZ25dLDApO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZih0aGlzLnNob3dUeXBlPT0zKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXlzW2N1cnJlbnRSZXBsZW5pc2hTaWduXS5kYXkgPSB0aGlzLndlZWtJbmRleEluTW9udGgoKTsvL+acrOaciOeahOesrOWHoOWRqFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRheXNbY3VycmVudFJlcGxlbmlzaFNpZ25dLnNpZ24gPSAxO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNpZ25Ob2RlW2N1cnJlbnRSZXBsZW5pc2hTaWduXS5nZXRDaGlsZEJ5TmFtZSgnb2snKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjYy5zeXMubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJkYXlzX3NpZ25cIiwgSlNPTi5zdHJpbmdpZnkodGhpcy5kYXlzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuc2lnblN1Y2Nlc3NUaXAodGhpcy5zaWduSXRlbVtjdXJyZW50UmVwbGVuaXNoU2lnbl0sMCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICBpZihjdXJyZW50UmVwbGVuaXNoU2lnbiE9LTEpe1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5zaG93VHlwZT09MSB8fCB0aGlzLnNob3dUeXBlPT0yKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXlzW2N1cnJlbnRSZXBsZW5pc2hTaWduXS5zaWduID0gMTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWduTm9kZVtjdXJyZW50UmVwbGVuaXNoU2lnbl0uZ2V0Q2hpbGRCeU5hbWUoJ29rJykuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY2Muc3lzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiZGF5c19zaWduXCIsIEpTT04uc3RyaW5naWZ5KHRoaXMuZGF5cykpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnNpZ25TdWNjZXNzVGlwKHRoaXMuc2lnbkl0ZW1bY3VycmVudFJlcGxlbmlzaFNpZ25dLDApO1xyXG4gICAgICAgICAgICAgICAgfWVsc2UgaWYodGhpcy5zaG93VHlwZT09Myl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXlzW2N1cnJlbnRSZXBsZW5pc2hTaWduXS5kYXkgPSB0aGlzLndlZWtJbmRleEluTW9udGgoKTsvL+acrOaciOeahOesrOWHoOWRqFxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF5c1tjdXJyZW50UmVwbGVuaXNoU2lnbl0uc2lnbiA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWduTm9kZVtjdXJyZW50UmVwbGVuaXNoU2lnbl0uZ2V0Q2hpbGRCeU5hbWUoJ29rJykuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBjYy5zeXMubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJkYXlzX3NpZ25cIiwgSlNPTi5zdHJpbmdpZnkodGhpcy5kYXlzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWduU3VjY2Vzc1RpcCh0aGlzLnNpZ25JdGVtW2N1cnJlbnRSZXBsZW5pc2hTaWduXSwwKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICAvKlxyXG4gICAgKuetvuWIsOeCueWHu+S6i+S7tlxyXG4gICAgKi9cclxuICAgIG9uQ2xpY2tTaWduSW5CdG4oKSB7XHJcbiAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOifnrb7liLAnLGNvbnRlbnQ6J+aZrumAmuetvuWIsCcsZGVzYzon54K55Ye7J30sZnVuY3Rpb24oKXtcclxuICAgICAgICB9KTtcclxuICAgICAgICBpZih0aGlzLnNob3dUeXBlPT0xIHx8IHRoaXMuc2hvd1R5cGU9PTIpe1xyXG4gICAgICAgICAgICBsZXQgaXNGaXJzdFNpZ24gPSBmYWxzZTtcclxuICAgICAgICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLmRheXMubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLmRheXNbaV0uc2lnbiA9PSAxKXtcclxuICAgICAgICAgICAgICAgICAgICBpc0ZpcnN0U2lnbiA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgaWYoaXNGaXJzdFNpZ24pey8v5pyJ5bey562+5Yiw6L+H55qEXHJcbiAgICAgICAgICAgICAgICBsZXQgdG9kYXkgPSB0aGlzLmdldFRvZGF5RGF5KCk7XHJcbiAgICAgICAgICAgICAgICBsZXQgaXNTaWduVG9kYXkgPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgIGxldCBkYXlJbmRleCA9IC0xO1xyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLmRheXMubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodG9kYXkgPT0gdGhpcy5kYXlzW2ldLmRheSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRheUluZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5kYXlzW2ldLnNpZ249PTEpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaXNTaWduVG9kYXkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgaWYodG9kYXkgPT0gdGhpcy5kYXlzW2ldLmRheSAmJnRoaXMuZGF5c1tpXS5zaWduPT0xKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaXNTaWduVG9kYXkgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZihpc1NpZ25Ub2RheSl7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwR2FtZS5lbWl0dGVyLmVtaXQoY29uc3RzLkxPQ0FMX0VWRU5UX1BPUFVQX0xPQURUSVAsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogJ+W3suetvuWIsCdcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF5c1tkYXlJbmRleF0uc2lnbiA9IDE7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWduTm9kZVtkYXlJbmRleF0uZ2V0Q2hpbGRCeU5hbWUoJ29rJykuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBjYy5zeXMubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJkYXlzX3NpZ25cIiwgSlNPTi5zdHJpbmdpZnkodGhpcy5kYXlzKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5zaWduU3VjY2Vzc1RpcCh0aGlzLnNpZ25JdGVtW2RheUluZGV4XSwxKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBsZXQgdGVtcGRheSA9ICcnO1xyXG4gICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLmRheXMubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoaT09MCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBkYXkgPSB0aGlzLmdldFRvZGF5RGF5KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRlbXBkYXkgPSB0aGlzLmdldE5leHREYXkodGVtcGRheSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIC8vY2MubG9nKFwidGVtcGRheT09PVwiK3RlbXBkYXkpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXlzW2ldLmRheSA9IHRlbXBkYXk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmRheXNbMF0uc2lnbiA9IDE7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpZ25Ob2RlWzBdLmdldENoaWxkQnlOYW1lKCdvaycpLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICBjYy5zeXMubG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJkYXlzX3NpZ25cIiwgSlNPTi5zdHJpbmdpZnkodGhpcy5kYXlzKSk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLnNpZ25TdWNjZXNzVGlwKHRoaXMuc2lnbkl0ZW1bMF0sMSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZSBpZih0aGlzLnNob3dUeXBlPT0zKXtcclxuICAgICAgICAgICAgbGV0IGlzU2lnbiA9IHRydWU7XHJcbiAgICAgICAgICAgIGxldCB3ZWVrSW5kZXggPSAtMTtcclxuICAgICAgICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLmRheXMubGVuZ3RoO2krKyl7XHJcbiAgICAgICAgICAgICAgICBsZXQgd2Vla0RheSA9IHRoaXMuZ2V0V2Vla0RheSgpO1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5kYXlzW2ldLnNpZ24gPT0gMCAmJiBpKzEgPT0gd2Vla0RheSl7XHJcbiAgICAgICAgICAgICAgICAgICAgd2Vla0luZGV4ID0gaTtcclxuICAgICAgICAgICAgICAgICAgICBpc1NpZ24gPSBmYWxzZTtcclxuICAgICAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBpZighaXNTaWduKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuZGF5c1t3ZWVrSW5kZXhdLmRheSA9IHRoaXMud2Vla0luZGV4SW5Nb250aCgpOy8v5pys5pyI55qE56ys5Yeg5ZGoXHJcbiAgICAgICAgICAgICAgICB0aGlzLmRheXNbd2Vla0luZGV4XS5zaWduID0gMTtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2lnbk5vZGVbd2Vla0luZGV4XS5nZXRDaGlsZEJ5TmFtZSgnb2snKS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgY2Muc3lzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiZGF5c19zaWduXCIsIEpTT04uc3RyaW5naWZ5KHRoaXMuZGF5cykpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5zaWduU3VjY2Vzc1RpcCh0aGlzLnNpZ25JdGVtW3dlZWtJbmRleF0sMSk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgLy/pooTnlZnmjqXlj6NcclxuICAgICAgICAgICAgICAgIGFwcEdhbWUuZW1pdHRlci5lbWl0KGNvbnN0cy5MT0NBTF9FVkVOVF9QT1BVUF9MT0FEVElQLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29udGVudDogJ+W3suetvuWIsCdcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBzaWduU3VjY2Vzc1RpcChpbmZvLGlzY2FsbCl7XHJcbiAgICAgICAgaWYoSlNPTi5zdHJpbmdpZnkoaW5mbykgIT0gXCJ7fVwiKXtcclxuICAgICAgICAgICAgLy/pooTnlZnmjqXlj6NcclxuICAgICAgICAgICAgaWYoaXNjYWxsKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuc2lnbkNhbGxiYWNrICYmIHRoaXMuc2lnbkNhbGxiYWNrKGluZm8uaXRlbUlkLGluZm8uY291bnQpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uY29tbW9uQ29uZmlnICYmIGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uY29tbW9uQ29uZmlnLml0ZW0pe1xyXG4gICAgICAgICAgICAgICAgbGV0IGl0ZW0gPSB1bmRlcnNjb3JlLmZpbmQoYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5jb21tb25Db25maWcuaXRlbSxmdW5jdGlvbih2YWx1ZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHZhbHVlLmlkID09IGluZm8uaXRlbUlkO1xyXG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICAgICAgICAgIGlmKGl0ZW0pe1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcEdhbWUuZW1pdHRlci5lbWl0KGNvbnN0cy5MT0NBTF9FVkVOVF9QT1BVUF9MT0FEVElQLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6ICflt7LojrflvpcnK2l0ZW0ubmFtZSsn5aWW5YqxJ1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon562+5YiwJyxjb250ZW50Oifojrflj5blpZblirEnLGRlc2M6aXRlbS5uYW1lfSxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBvbkNsb3NlQnRuQ2xpY2tlZDogZnVuY3Rpb24gKCkge1xyXG4gICAgICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon562+5YiwJyxjb250ZW50OiflhbPpl63nrb7liLDnlYzpnaInfSxmdW5jdGlvbigpe1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGFwcEdhbWUuYXBwQm94QWQucGxheUJveChmYWxzZSk7XHJcbiAgICAgICAgYXBwR2FtZS5ibG9ja0FkLnBsYXlCbG9ja2FkKGZhbHNlKTtcclxuICAgICAgICBhcHBHYW1lLmJhbm5lci5wbGF5QmFubmVyKDMpO1xyXG4gICAgICAgIHRoaXMuY2xvc2VDYWxsYmFjayAmJiB0aGlzLmNsb3NlQ2FsbGJhY2soKTtcclxuICAgICAgICB0aGlzLm5vZGUucmVtb3ZlRnJvbVBhcmVudCgpO1xyXG4gICAgfSxcclxuICAgIHdlZWtJbmRleEluTW9udGgoKSB7XHJcbiAgICAgICAgLy/orr7nva7ml7bpl7TkuLrmnKzmnIjnmoQx5Y+3XHJcbiAgICAgICAgdmFyIGRhdGUgPSBuZXcgRGF0ZSgobmV3IERhdGUodGhpcykuc2V0RGF0ZSgxKSkgfHwgKG5ldyBEYXRlKCkpLnNldERhdGUoMSkpO1xyXG4gICAgICAgIC8v6I635Y+W5LuK5aSp55qE5pel5pyfXHJcbiAgICAgICAgdmFyIHRvZGF5ID0gbmV3IERhdGUoKTtcclxuICAgICAgICB2YXIgZCA9IHRvZGF5LmdldERhdGUoKTtcclxuICAgICAgICB2YXIgZmlyc3RXZWVrRGF0ZTtcclxuICAgICAgICBpZiAoZGF0ZS5nZXREYXkoKSA9PT0gMCkgeyAvLyDliKTmlq0x5Y+35piv5ZGo5pelXHJcbiAgICAgICAgICAgIGZpcnN0V2Vla0RhdGUgPSA2O1xyXG4gICAgICAgIH0gZWxzZSB7IC8vIOWIpOaWrTHlj7fmmK/lkajkuIDoh7Plkajlha3kuYvpl7RcclxuICAgICAgICAgICAgZmlyc3RXZWVrRGF0ZSA9IGRhdGUuZ2V0RGF5KCkgLSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICByZXR1cm4gTWF0aC5jZWlsKChkICsgZmlyc3RXZWVrRGF0ZSkvNylcclxuICAgIH0sXHJcbiAgICBnZXRXZWVrRGF5KCl7XHJcbiAgICAgICAgbGV0IGluZGV4ID0gLTE7ICBcclxuICAgICAgICBsZXQgd2VlayA9IG5ldyBEYXRlKCkuZ2V0RGF5KCk7ICBcclxuICAgICAgICBpZiAod2VlayA9PSAwKSB7ICBcclxuICAgICAgICAgICAgaW5kZXggPSA3OyAgXHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGluZGV4ID0gd2VlaztcclxuICAgICAgICB9XHJcbiAgICAgICAgcmV0dXJuIGluZGV4O1xyXG4gICAgfSxcclxuICAgIGdldFRvZGF5RGF5KCl7XHJcbiAgICAgICAgbGV0IGQgPSBuZXcgRGF0ZSgpO1xyXG4gICAgICAgIHZhciB5eT1kLmdldEZ1bGxZZWFyKCk7XHJcbiAgICAgICAgdmFyIG1tPWQuZ2V0TW9udGgoKSsxO1xyXG4gICAgICAgIHZhciBkZD1kLmdldERhdGUoKTtcclxuICAgICAgICB2YXIgdG9kYXlkYXk9eXkrXCItXCI7XHJcbiAgICAgICAgaWYgKG1tPDEwKXt0b2RheWRheSs9XCIwXCJ9XHJcbiAgICAgICAgdG9kYXlkYXkrPW1tK1wiLVwiO1xyXG4gICAgICAgIGlmKGRkPDEwKXt0b2RheWRheSs9XCIwXCJ9XHJcbiAgICAgICAgdG9kYXlkYXkrPWRkO1xyXG4gICAgICAgIC8vY2MubG9nKFwidG9kYXlkYXk9PVwiK3RvZGF5ZGF5KVxyXG4gICAgICAgIHJldHVybiB0b2RheWRheTtcclxuICAgIH0sXHJcbiAgICBnZXROZXh0RGF5KGQpe1xyXG4gICAgICAgIGQgPSBuZXcgRGF0ZShkKTtcclxuICAgICAgICBkID0gK2QgKyAxMDAwKjYwKjYwKjI0O1xyXG4gICAgICAgIGQgPSBuZXcgRGF0ZShkKTtcclxuXHJcbiAgICAgICAgdmFyIHl5PWQuZ2V0RnVsbFllYXIoKTtcclxuICAgICAgICB2YXIgbW09ZC5nZXRNb250aCgpKzE7XHJcbiAgICAgICAgdmFyIGRkPWQuZ2V0RGF0ZSgpO1xyXG4gICAgICAgIHZhciBuZXh0ZGF5PXl5K1wiLVwiO1xyXG4gICAgICAgIGlmIChtbTwxMCl7bmV4dGRheSs9XCIwXCJ9XHJcbiAgICAgICAgbmV4dGRheSs9bW0rXCItXCI7XHJcbiAgICAgICAgaWYoZGQ8MTApe25leHRkYXkrPVwiMFwifVxyXG4gICAgICAgIG5leHRkYXkrPWRkO1xyXG4gICAgICAgIHJldHVybiBuZXh0ZGF5O1xyXG4gICAgfSxcclxuXHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fSxcclxufSk7XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/network/Message.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'fb4e0zpbzJB4YN77Kns7y3M', 'Message');
// framework/network/Message.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.Message = void 0;
var Message = /** @class */ (function () {
    function Message(cmd) {
        this._cmd = cmd;
        this._data = null;
    }
    Message.prototype.addBuilder = function (data) {
        this._data = data.asUint8Array();
    };
    Message.prototype.addString = function (data) {
        this._data = data;
    };
    Message.prototype.pack = function () {
        var build = this.toString();
        var buf = build.asUint8Array();
        var newBuf = new Uint8Array(buf);
        console.log("send message: " + newBuf);
        return newBuf.buffer;
    };
    Message.prototype.toString = function () {
        var build = new flatbuffers.Builder();
        var data = null;
        if (this._data != null)
            data = build.createString(this._data);
        game.Package.startPackage(build);
        game.Package.addCmd(build, this._cmd);
        if (this._data != null)
            game.Package.addData(build, data);
        var pack = game.Package.endPackage(build);
        build.finish(pack);
        return build;
    };
    return Message;
}());
exports.Message = Message;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxuZXR3b3JrXFxNZXNzYWdlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7SUFLQyxpQkFBbUIsR0FBUTtRQUMxQixJQUFJLENBQUMsSUFBSSxHQUFHLEdBQUcsQ0FBQztRQUNoQixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztJQUNuQixDQUFDO0lBRU0sNEJBQVUsR0FBakIsVUFBa0IsSUFBeUI7UUFDMUMsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDbEMsQ0FBQztJQUVNLDJCQUFTLEdBQWhCLFVBQWlCLElBQVk7UUFDNUIsSUFBSSxDQUFDLEtBQUssR0FBRyxJQUFJLENBQUM7SUFDbkIsQ0FBQztJQUVNLHNCQUFJLEdBQVg7UUFDQyxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDNUIsSUFBSSxHQUFHLEdBQUcsS0FBSyxDQUFDLFlBQVksRUFBRSxDQUFDO1FBQy9CLElBQUksTUFBTSxHQUFHLElBQUksVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ2pDLE9BQU8sQ0FBQyxHQUFHLENBQUMsZ0JBQWdCLEdBQUcsTUFBTSxDQUFDLENBQUM7UUFDdkMsT0FBTyxNQUFNLENBQUMsTUFBTSxDQUFDO0lBQ3RCLENBQUM7SUFFTywwQkFBUSxHQUFoQjtRQUNDLElBQUksS0FBSyxHQUFHLElBQUksV0FBVyxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQ3RDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQztRQUNoQixJQUFHLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSTtZQUNwQixJQUFJLEdBQUcsS0FBSyxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDdkMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxZQUFZLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDakMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUN0QyxJQUFHLElBQUksQ0FBQyxLQUFLLElBQUksSUFBSTtZQUNwQixJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sQ0FBQyxLQUFLLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDbkMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxVQUFVLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDMUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNuQixPQUFPLEtBQUssQ0FBQztJQUNkLENBQUM7SUFDRixjQUFDO0FBQUQsQ0F2Q0EsQUF1Q0MsSUFBQTtBQXZDWSwwQkFBTyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxuZXhwb3J0IGNsYXNzIE1lc3NhZ2Uge1xuXG5cdHByaXZhdGUgX2NtZDogYW55O1xuXHRwcml2YXRlIF9kYXRhOiBhbnk7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKGNtZDogYW55KSB7XG5cdFx0dGhpcy5fY21kID0gY21kO1xuXHRcdHRoaXMuX2RhdGEgPSBudWxsO1xuXHR9XG5cblx0cHVibGljIGFkZEJ1aWxkZXIoZGF0YTogZmxhdGJ1ZmZlcnMuQnVpbGRlcikge1xuXHRcdHRoaXMuX2RhdGEgPSBkYXRhLmFzVWludDhBcnJheSgpO1xuXHR9XG5cblx0cHVibGljIGFkZFN0cmluZyhkYXRhOiBTdHJpbmcpIHtcblx0XHR0aGlzLl9kYXRhID0gZGF0YTtcblx0fVxuXG5cdHB1YmxpYyBwYWNrKCk6IEFycmF5QnVmZmVyIHtcblx0XHRsZXQgYnVpbGQgPSB0aGlzLnRvU3RyaW5nKCk7XG5cdFx0bGV0IGJ1ZiA9IGJ1aWxkLmFzVWludDhBcnJheSgpO1xuXHRcdGxldCBuZXdCdWYgPSBuZXcgVWludDhBcnJheShidWYpO1xuXHRcdGNvbnNvbGUubG9nKFwic2VuZCBtZXNzYWdlOiBcIiArIG5ld0J1Zik7XG5cdFx0cmV0dXJuIG5ld0J1Zi5idWZmZXI7XG5cdH1cblxuXHRwcml2YXRlIHRvU3RyaW5nKCk6IGZsYXRidWZmZXJzLkJ1aWxkZXIge1xuXHRcdGxldCBidWlsZCA9IG5ldyBmbGF0YnVmZmVycy5CdWlsZGVyKCk7XG5cdFx0bGV0IGRhdGEgPSBudWxsO1xuXHRcdGlmKHRoaXMuX2RhdGEgIT0gbnVsbCkgXG5cdFx0XHRkYXRhID0gYnVpbGQuY3JlYXRlU3RyaW5nKHRoaXMuX2RhdGEpO1xuXHRcdGdhbWUuUGFja2FnZS5zdGFydFBhY2thZ2UoYnVpbGQpO1xuXHRcdGdhbWUuUGFja2FnZS5hZGRDbWQoYnVpbGQsIHRoaXMuX2NtZCk7XG5cdFx0aWYodGhpcy5fZGF0YSAhPSBudWxsKVxuXHRcdFx0Z2FtZS5QYWNrYWdlLmFkZERhdGEoYnVpbGQsIGRhdGEpO1xuXHRcdGxldCBwYWNrID0gZ2FtZS5QYWNrYWdlLmVuZFBhY2thZ2UoYnVpbGQpO1xuXHRcdGJ1aWxkLmZpbmlzaChwYWNrKTtcblx0XHRyZXR1cm4gYnVpbGQ7XG5cdH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/migration/use_v2.0.x_cc.Toggle_event.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '16452nVLYBF9rx0gR7C2AO8', 'use_v2.0.x_cc.Toggle_event');
// migration/use_v2.0.x_cc.Toggle_event.js

"use strict";

/*
 * This script is automatically generated by Cocos Creator and is only compatible with projects prior to v2.1.0.
 * You do not need to manually add this script in any other project.
 * If you don't use cc.Toggle in your project, you can delete this script directly.
 * If your project is hosted in VCS such as git, submit this script together.
 *
 * 此脚本由 Cocos Creator 自动生成，仅用于兼容 v2.1.0 之前版本的工程，
 * 你无需在任何其它项目中手动添加此脚本。
 * 如果你的项目中没用到 Toggle，可直接删除该脚本。
 * 如果你的项目有托管于 git 等版本库，请将此脚本一并上传。
 */
if (cc.Toggle) {
  // Whether the 'toggle' and 'checkEvents' events are fired when 'toggle.check() / toggle.uncheck()' is called in the code
  // 在代码中调用 'toggle.check() / toggle.uncheck()' 时是否触发 'toggle' 与 'checkEvents' 事件
  cc.Toggle._triggerEventInScript_check = true;
}

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcbWlncmF0aW9uXFx1c2VfdjIuMC54X2NjLlRvZ2dsZV9ldmVudC5qcyJdLCJuYW1lcyI6WyJjYyIsIlRvZ2dsZSIsIl90cmlnZ2VyRXZlbnRJblNjcmlwdF9jaGVjayJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUEsSUFBSUEsRUFBRSxDQUFDQyxNQUFQLEVBQWU7QUFDWDtBQUNBO0FBQ0FELEVBQUFBLEVBQUUsQ0FBQ0MsTUFBSCxDQUFVQywyQkFBVixHQUF3QyxJQUF4QztBQUNIIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvKlxyXG4gKiBUaGlzIHNjcmlwdCBpcyBhdXRvbWF0aWNhbGx5IGdlbmVyYXRlZCBieSBDb2NvcyBDcmVhdG9yIGFuZCBpcyBvbmx5IGNvbXBhdGlibGUgd2l0aCBwcm9qZWN0cyBwcmlvciB0byB2Mi4xLjAuXHJcbiAqIFlvdSBkbyBub3QgbmVlZCB0byBtYW51YWxseSBhZGQgdGhpcyBzY3JpcHQgaW4gYW55IG90aGVyIHByb2plY3QuXHJcbiAqIElmIHlvdSBkb24ndCB1c2UgY2MuVG9nZ2xlIGluIHlvdXIgcHJvamVjdCwgeW91IGNhbiBkZWxldGUgdGhpcyBzY3JpcHQgZGlyZWN0bHkuXHJcbiAqIElmIHlvdXIgcHJvamVjdCBpcyBob3N0ZWQgaW4gVkNTIHN1Y2ggYXMgZ2l0LCBzdWJtaXQgdGhpcyBzY3JpcHQgdG9nZXRoZXIuXHJcbiAqXHJcbiAqIOatpOiEmuacrOeUsSBDb2NvcyBDcmVhdG9yIOiHquWKqOeUn+aIkO+8jOS7heeUqOS6juWFvOWuuSB2Mi4xLjAg5LmL5YmN54mI5pys55qE5bel56iL77yMXHJcbiAqIOS9oOaXoOmcgOWcqOS7u+S9leWFtuWug+mhueebruS4reaJi+WKqOa3u+WKoOatpOiEmuacrOOAglxyXG4gKiDlpoLmnpzkvaDnmoTpobnnm67kuK3msqHnlKjliLAgVG9nZ2xl77yM5Y+v55u05o6l5Yig6Zmk6K+l6ISa5pys44CCXHJcbiAqIOWmguaenOS9oOeahOmhueebruacieaJmOeuoeS6jiBnaXQg562J54mI5pys5bqT77yM6K+35bCG5q2k6ISa5pys5LiA5bm25LiK5Lyg44CCXHJcbiAqL1xyXG5cclxuaWYgKGNjLlRvZ2dsZSkge1xyXG4gICAgLy8gV2hldGhlciB0aGUgJ3RvZ2dsZScgYW5kICdjaGVja0V2ZW50cycgZXZlbnRzIGFyZSBmaXJlZCB3aGVuICd0b2dnbGUuY2hlY2soKSAvIHRvZ2dsZS51bmNoZWNrKCknIGlzIGNhbGxlZCBpbiB0aGUgY29kZVxyXG4gICAgLy8g5Zyo5Luj56CB5Lit6LCD55SoICd0b2dnbGUuY2hlY2soKSAvIHRvZ2dsZS51bmNoZWNrKCknIOaXtuaYr+WQpuinpuWPkSAndG9nZ2xlJyDkuI4gJ2NoZWNrRXZlbnRzJyDkuovku7ZcclxuICAgIGNjLlRvZ2dsZS5fdHJpZ2dlckV2ZW50SW5TY3JpcHRfY2hlY2sgPSB0cnVlO1xyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/gamesys/InfiniteBackground.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ea63dhsLFFNTK51F3JClP8v', 'InfiniteBackground');
// framework/plugin_boosts/gamesys/InfiniteBackground.ts

// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var InfiniteBackground = /** @class */ (function (_super) {
    __extends(InfiniteBackground, _super);
    function InfiniteBackground() {
        // LIFE-CYCLE CALLBACKS:
        // onLoad () {}
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.bgNode = null;
        _this.camera = null;
        _this.currentNode = null;
        _this.repeatCount = 0;
        return _this;
    }
    InfiniteBackground.prototype.onLoad = function () {
        this.currentNode = this.bgNode;
        this.size = this.currentNode.getContentSize();
        this.nodepool = new cc.NodePool();
    };
    InfiniteBackground.prototype.start = function () {
        if (this.prev == null) {
            this.prev = cc.instantiate(this.bgNode);
            this.node.addChild(this.prev);
            this.prev.y = -this.size.height;
        }
    };
    InfiniteBackground.prototype.reset = function () {
        this.repeatCount = 0;
        //todo :remove all 
        //todo:init all
    };
    InfiniteBackground.prototype.update = function (dt) {
        if (this.currentNode == null)
            return;
        var pos = cc.Vec2.ZERO;
        this.camera.getWorldToCameraPoint(this.currentNode.position, pos);
        var prev = this.prev;
        if (pos.y < 10) {
            // check has next 
            if (this.next == null) {
                this.pre_prev = this.prev;
                this.prev = this.currentNode;
                var road = this.nodepool.get();
                if (road == null)
                    road = cc.instantiate(this.currentNode);
                road.setPosition(0, this.size.height * ++this.repeatCount);
                this.node.addChild(road);
                this.currentNode = road;
                this.camera.getWorldToCameraPoint(road.position, pos);
                this.next = null;
                // console.log("create new road")
            }
        }
        if (pos.y > this.size.height - 10) {
            //remove previous
            if (this.pre_prev) {
                this.nodepool.put(this.pre_prev);
                // console.log("InfiniteBackground : recycle background:" ,this.nodepool.size())
            }
        }
        //todo remove 
    };
    __decorate([
        property(cc.Node)
    ], InfiniteBackground.prototype, "bgNode", void 0);
    __decorate([
        property(cc.Camera)
    ], InfiniteBackground.prototype, "camera", void 0);
    InfiniteBackground = __decorate([
        ccclass
    ], InfiniteBackground);
    return InfiniteBackground;
}(cc.Component));
exports.default = InfiniteBackground;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxnYW1lc3lzXFxJbmZpbml0ZUJhY2tncm91bmQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7O0FBRTdGLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQWdELHNDQUFZO0lBQTVEO1FBRUksd0JBQXdCO1FBQ3hCLGVBQWU7UUFIbkIscUVBOEVDO1FBeEVHLFlBQU0sR0FBVyxJQUFJLENBQUM7UUFHdEIsWUFBTSxHQUFZLElBQUksQ0FBQztRQUt2QixpQkFBVyxHQUFXLElBQUksQ0FBQztRQUMzQixpQkFBVyxHQUFHLENBQUMsQ0FBQzs7SUErRHBCLENBQUM7SUExREcsbUNBQU0sR0FBTjtRQUVJLElBQUksQ0FBQyxXQUFXLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQztRQUMvQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsY0FBYyxFQUFFLENBQUM7UUFDOUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLEVBQUUsQ0FBQyxRQUFRLEVBQUUsQ0FBQztJQUN0QyxDQUFDO0lBRUQsa0NBQUssR0FBTDtRQUNJLElBQUcsSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLEVBQ3BCO1lBQ0ksSUFBSSxDQUFDLElBQUksR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztZQUN4QyxJQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDOUIsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLEdBQUksQ0FBRSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQztTQUNyQztJQUNMLENBQUM7SUFFRCxrQ0FBSyxHQUFMO1FBRUksSUFBSSxDQUFDLFdBQVcsR0FBRyxDQUFDLENBQUM7UUFDckIsbUJBQW1CO1FBQ25CLGVBQWU7SUFDbkIsQ0FBQztJQUVELG1DQUFNLEdBQU4sVUFBUSxFQUFFO1FBRU4sSUFBRyxJQUFJLENBQUMsV0FBVyxJQUFJLElBQUk7WUFBQyxPQUFNO1FBQ2xDLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxNQUFNLENBQUMscUJBQXFCLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDaEUsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUNyQixJQUFJLEdBQUcsQ0FBQyxDQUFDLEdBQUcsRUFBRSxFQUNkO1lBQ0ksa0JBQWtCO1lBQ2xCLElBQUcsSUFBSSxDQUFDLElBQUksSUFBSSxJQUFJLEVBQ3BCO2dCQUNJLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztnQkFDMUIsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO2dCQUM3QixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsUUFBUSxDQUFDLEdBQUcsRUFBRSxDQUFBO2dCQUM5QixJQUFHLElBQUksSUFBSSxJQUFJO29CQUNYLElBQUksR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztnQkFDNUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7Z0JBQzFELElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxDQUFDO2dCQUN6QixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztnQkFDeEIsSUFBSSxDQUFDLE1BQU0sQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFDLEdBQUcsQ0FBQyxDQUFBO2dCQUNwRCxJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztnQkFDakIsaUNBQWlDO2FBQ3BDO1NBQ0o7UUFDRCxJQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsRUFBRSxFQUNoQztZQUNJLGlCQUFpQjtZQUNqQixJQUFHLElBQUksQ0FBQyxRQUFRLEVBQ2hCO2dCQUNJLElBQUksQ0FBQyxRQUFRLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQztnQkFDakMsZ0ZBQWdGO2FBQ25GO1NBQ0o7UUFDRCxjQUFjO0lBQ2xCLENBQUM7SUF2RUQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztzREFDSTtJQUd0QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO3NEQUNHO0lBVE4sa0JBQWtCO1FBRHRDLE9BQU87T0FDYSxrQkFBa0IsQ0E4RXRDO0lBQUQseUJBQUM7Q0E5RUQsQUE4RUMsQ0E5RStDLEVBQUUsQ0FBQyxTQUFTLEdBOEUzRDtrQkE5RW9CLGtCQUFrQiIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyBMZWFybiBBdHRyaWJ1dGU6XG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW5maW5pdGVCYWNrZ3JvdW5kIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxuICAgIC8vIG9uTG9hZCAoKSB7fVxuXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXG4gICAgYmdOb2RlOmNjLk5vZGUgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLkNhbWVyYSlcbiAgICBjYW1lcmE6Y2MuQ2FtZXJhPSBudWxsO1xuXG4gICAgbmV4dDpjYy5Ob2RlO1xuICAgIHByZXY6Y2MuTm9kZTtcbiAgICBwcmVfcHJldiA6Y2MuTm9kZTtcbiAgICBjdXJyZW50Tm9kZTpjYy5Ob2RlID0gbnVsbDtcbiAgICByZXBlYXRDb3VudCA9IDA7XG5cbiAgICBzaXplIDogY2MuU2l6ZTtcblxuICAgIG5vZGVwb29sOmNjLk5vZGVQb29sO1xuICAgIG9uTG9hZCgpXG4gICAge1xuICAgICAgICB0aGlzLmN1cnJlbnROb2RlID0gdGhpcy5iZ05vZGU7XG4gICAgICAgIHRoaXMuc2l6ZSA9IHRoaXMuY3VycmVudE5vZGUuZ2V0Q29udGVudFNpemUoKTtcbiAgICAgICAgdGhpcy5ub2RlcG9vbCA9IG5ldyBjYy5Ob2RlUG9vbCgpO1xuICAgIH1cblxuICAgIHN0YXJ0ICgpIHtcbiAgICAgICAgaWYodGhpcy5wcmV2ID09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMucHJldiA9IGNjLmluc3RhbnRpYXRlKHRoaXMuYmdOb2RlKTtcbiAgICAgICAgICAgIHRoaXMubm9kZS5hZGRDaGlsZCh0aGlzLnByZXYpO1xuICAgICAgICAgICAgdGhpcy5wcmV2LnkgPSAgLSB0aGlzLnNpemUuaGVpZ2h0O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcmVzZXQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5yZXBlYXRDb3VudCA9IDA7XG4gICAgICAgIC8vdG9kbyA6cmVtb3ZlIGFsbCBcbiAgICAgICAgLy90b2RvOmluaXQgYWxsXG4gICAgfVxuICAgIFxuICAgIHVwZGF0ZSAoZHQpIHtcblxuICAgICAgICBpZih0aGlzLmN1cnJlbnROb2RlID09IG51bGwpcmV0dXJuXG4gICAgICAgIGxldCBwb3MgPSBjYy5WZWMyLlpFUk87XG4gICAgICAgIHRoaXMuY2FtZXJhLmdldFdvcmxkVG9DYW1lcmFQb2ludCh0aGlzLmN1cnJlbnROb2RlLnBvc2l0aW9uLHBvcylcbiAgICAgICAgbGV0IHByZXYgPSB0aGlzLnByZXY7XG4gICAgICAgIGlmIChwb3MueSA8IDEwKVxuICAgICAgICB7XG4gICAgICAgICAgICAvLyBjaGVjayBoYXMgbmV4dCBcbiAgICAgICAgICAgIGlmKHRoaXMubmV4dCA9PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMucHJlX3ByZXYgPSB0aGlzLnByZXY7XG4gICAgICAgICAgICAgICAgdGhpcy5wcmV2ID0gdGhpcy5jdXJyZW50Tm9kZTtcbiAgICAgICAgICAgICAgICBsZXQgcm9hZCA9IHRoaXMubm9kZXBvb2wuZ2V0KClcbiAgICAgICAgICAgICAgICBpZihyb2FkID09IG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHJvYWQgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLmN1cnJlbnROb2RlKTtcbiAgICAgICAgICAgICAgICByb2FkLnNldFBvc2l0aW9uKDAsdGhpcy5zaXplLmhlaWdodCAqICsrdGhpcy5yZXBlYXRDb3VudCk7XG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlLmFkZENoaWxkKHJvYWQpO1xuICAgICAgICAgICAgICAgIHRoaXMuY3VycmVudE5vZGUgPSByb2FkO1xuICAgICAgICAgICAgICAgIHRoaXMuY2FtZXJhLmdldFdvcmxkVG9DYW1lcmFQb2ludChyb2FkLnBvc2l0aW9uLHBvcylcbiAgICAgICAgICAgICAgICB0aGlzLm5leHQgPSBudWxsO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiY3JlYXRlIG5ldyByb2FkXCIpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYocG9zLnkgPiB0aGlzLnNpemUuaGVpZ2h0IC0gMTApXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vcmVtb3ZlIHByZXZpb3VzXG4gICAgICAgICAgICBpZih0aGlzLnByZV9wcmV2KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHRoaXMubm9kZXBvb2wucHV0KHRoaXMucHJlX3ByZXYpO1xuICAgICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKFwiSW5maW5pdGVCYWNrZ3JvdW5kIDogcmVjeWNsZSBiYWNrZ3JvdW5kOlwiICx0aGlzLm5vZGVwb29sLnNpemUoKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICAvL3RvZG8gcmVtb3ZlIFxuICAgIH1cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/result/result.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '33fa5PoD/RJD6LgBnT5ywP1', 'result');
// gameComon/result/result.js

"use strict";

cc.Class({
  "extends": cc.Component,
  properties: {
    title: cc.Label,
    contentLabel: cc.Label,
    nextBtn: cc.Button,
    backBtn: cc.Button,
    nextBtnCallback: null,
    backBtnCallback: null
  },
  // LIFE-CYCLE CALLBACKS:
  onLoad: function onLoad() {
    this.nextBtn.node.on(cc.Node.EventType.TOUCH_END, this.onNextBtnClicked, this);
    this.backBtn.node.on(cc.Node.EventType.TOUCH_END, this.onBackBtnClicked, this);
  },
  start: function start() {},

  /**
   * @param opts
   * nextCB 下一局按钮回调
   * backCB 重玩本关按钮回调
   */
  show: function show(opts) {
    opts = opts || {};

    if (opts.nextCB) {
      this.nextBtnCallback = opts.nextCB;
    }

    if (opts.backCB) {
      this.backBtnCallback = opts.backCB;
    }

    if (opts.info) {
      this.info = opts.info;
    }

    if (opts.config) {
      if (this.info.isWin) {
        this.resultConfig = opts.config.win;
      } else {
        this.resultConfig = opts.config.fail;
      }
    }

    this.refreshUI();
  },
  refreshUI: function refreshUI() {
    if (this.info) {
      this.title.string = this.info.isWin ? this.resultConfig.title : this.resultConfig.title;
      this.contentLabel.string = this.info.isWin ? this.resultConfig.content : this.resultConfig.content;
      this.nextBtn.node.getChildByName('Background').getChildByName('New Label').getComponent(cc.Label).string = this.resultConfig.btn1.name;
      this.backBtn.node.getChildByName('Background').getChildByName('New Label').getComponent(cc.Label).string = this.resultConfig.btn2.name;
      this.nextBtn.node.getChildByName('Background').getChildByName('icon').active = this.resultConfig.btn1.icon;
      this.backBtn.node.getChildByName('Background').getChildByName('icon').active = this.resultConfig.btn2.icon;
    }

    if (appGame.interstitialAd) {
      appGame.interstitialAd.playAd();
    }

    appGame.banner.playBanner(2);
    appGame.gridAd.playGridAd(true);
    appGame.nativeAd.playNativeAd(true);
    appGame.appBoxAd.playBox(true);
    appGame.blockAd.playBlockad(true, 4);
    httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
      title: '结算',
      content: '打开结算界面'
    }, function () {});
  },
  onNextBtnClicked: function onNextBtnClicked(event) {
    httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
      title: '结算',
      content: '下一关',
      desc: '点击'
    }, function () {});
    var isPlayVideo = false;
    var isForce = true;

    if (this.resultConfig) {
      isPlayVideo = this.resultConfig.btn1.video;
      isForce = this.resultConfig.btn1.force;
    }

    if (isPlayVideo) {
      appGame.videoBanner.playVideoAd(3, isForce, function (isSuc) {
        this.nextBtnCallback && this.nextBtnCallback(this.info.isWin);
        this.hide();
      }.bind(this));
    } else {
      this.nextBtnCallback && this.nextBtnCallback(this.info.isWin);
      this.hide();
    }
  },
  onBackBtnClicked: function onBackBtnClicked(event) {
    httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
      title: '结算',
      content: '再来一局+点击'
    }, function () {});
    var isPlayVideo = false;
    var isForce = true;

    if (this.resultConfig) {
      isPlayVideo = this.resultConfig.btn2.video;
      isForce = this.resultConfig.btn2.force;
    }

    if (isPlayVideo) {
      //配置需要播放视频
      appGame.videoBanner.playVideoAd(3, isForce, function (isSuc) {
        console.log("看视频成功");
        this.backBtnCallback && this.backBtnCallback(this.info.isWin);
        this.hide();
      }.bind(this));
    } else {
      //不用播放视频
      this.backBtnCallback && this.backBtnCallback(this.info.isWin);
      this.hide();
    }
  },
  hide: function hide() {
    httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
      title: '结算',
      content: '关闭结算界面'
    }, function () {});
    appGame.banner.playBanner(3);
    appGame.gridAd.playGridAd(false);
    appGame.nativeAd.playNativeAd(false);
    appGame.appBoxAd.playBox(false);
    appGame.blockAd.playBlockad(false);
    this.node.removeFromParent();
  } // update (dt) {},

});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxyZXN1bHRcXHJlc3VsdC5qcyJdLCJuYW1lcyI6WyJjYyIsIkNsYXNzIiwiQ29tcG9uZW50IiwicHJvcGVydGllcyIsInRpdGxlIiwiTGFiZWwiLCJjb250ZW50TGFiZWwiLCJuZXh0QnRuIiwiQnV0dG9uIiwiYmFja0J0biIsIm5leHRCdG5DYWxsYmFjayIsImJhY2tCdG5DYWxsYmFjayIsIm9uTG9hZCIsIm5vZGUiLCJvbiIsIk5vZGUiLCJFdmVudFR5cGUiLCJUT1VDSF9FTkQiLCJvbk5leHRCdG5DbGlja2VkIiwib25CYWNrQnRuQ2xpY2tlZCIsInN0YXJ0Iiwic2hvdyIsIm9wdHMiLCJuZXh0Q0IiLCJiYWNrQ0IiLCJpbmZvIiwiY29uZmlnIiwiaXNXaW4iLCJyZXN1bHRDb25maWciLCJ3aW4iLCJmYWlsIiwicmVmcmVzaFVJIiwic3RyaW5nIiwiY29udGVudCIsImdldENoaWxkQnlOYW1lIiwiZ2V0Q29tcG9uZW50IiwiYnRuMSIsIm5hbWUiLCJidG4yIiwiYWN0aXZlIiwiaWNvbiIsImFwcEdhbWUiLCJpbnRlcnN0aXRpYWxBZCIsInBsYXlBZCIsImJhbm5lciIsInBsYXlCYW5uZXIiLCJncmlkQWQiLCJwbGF5R3JpZEFkIiwibmF0aXZlQWQiLCJwbGF5TmF0aXZlQWQiLCJhcHBCb3hBZCIsInBsYXlCb3giLCJibG9ja0FkIiwicGxheUJsb2NrYWQiLCJodHRwVXRpbHMiLCJodHRwUG9zdCIsImNvbnN0cyIsIkhUVFBfUkVDT1JEX1NFUlZFUiIsImV2ZW50IiwiZGVzYyIsImlzUGxheVZpZGVvIiwiaXNGb3JjZSIsInZpZGVvIiwiZm9yY2UiLCJ2aWRlb0Jhbm5lciIsInBsYXlWaWRlb0FkIiwiaXNTdWMiLCJoaWRlIiwiYmluZCIsImNvbnNvbGUiLCJsb2ciLCJyZW1vdmVGcm9tUGFyZW50Il0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBQSxFQUFFLENBQUNDLEtBQUgsQ0FBUztBQUNMLGFBQVNE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QWlCQyxPQUFqQixDQUF5QixLQUF6QjtBQUNBVixJQUFBQSxPQUFPLENBQUNXLE9BQVIsQ0FBZ0JDLFdBQWhCLENBQTRCLEtBQTVCO0FBQ0EsU0FBS3hDLElBQUwsQ0FBVTBELGdCQUFWO0FBQ0gsR0ExSEksQ0E0SEw7O0FBNUhLLENBQVQiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImNjLkNsYXNzKHtcclxuICAgIGV4dGVuZHM6IGNjLkNvbXBvbmVudCxcclxuXHJcbiAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAgdGl0bGU6Y2MuTGFiZWwsXHJcbiAgICAgICAgY29udGVudExhYmVsOmNjLkxhYmVsLFxyXG4gICAgICAgIG5leHRCdG46Y2MuQnV0dG9uLFxyXG4gICAgICAgIGJhY2tCdG46Y2MuQnV0dG9uLFxyXG4gICAgICAgIG5leHRCdG5DYWxsYmFjazogbnVsbCxcclxuICAgICAgICBiYWNrQnRuQ2FsbGJhY2s6IG51bGxcclxuICAgIH0sXHJcblxyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcblxyXG4gICAgb25Mb2FkICgpIHtcclxuICAgICAgICB0aGlzLm5leHRCdG4ubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsdGhpcy5vbk5leHRCdG5DbGlja2VkLHRoaXMpO1xyXG4gICAgICAgIHRoaXMuYmFja0J0bi5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCx0aGlzLm9uQmFja0J0bkNsaWNrZWQsdGhpcyk7XHJcbiAgICB9LFxyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuXHJcbiAgICB9LFxyXG5cclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIG9wdHNcclxuICAgICAqIG5leHRDQiDkuIvkuIDlsYDmjInpkq7lm57osINcclxuICAgICAqIGJhY2tDQiDph43njqnmnKzlhbPmjInpkq7lm57osINcclxuICAgICAqL1xyXG4gICAgIHNob3c6IGZ1bmN0aW9uIChvcHRzKSB7XHJcbiAgICAgICAgb3B0cyA9IG9wdHMgfHwge307XHJcbiAgICAgICAgaWYob3B0cy5uZXh0Q0Ipe1xyXG4gICAgICAgICAgICB0aGlzLm5leHRCdG5DYWxsYmFjayA9IG9wdHMubmV4dENCO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihvcHRzLmJhY2tDQil7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja0J0bkNhbGxiYWNrID0gb3B0cy5iYWNrQ0I7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKG9wdHMuaW5mbyl7XHJcbiAgICAgICAgICAgIHRoaXMuaW5mbyA9IG9wdHMuaW5mbztcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYob3B0cy5jb25maWcpe1xyXG4gICAgICAgICAgICBpZih0aGlzLmluZm8uaXNXaW4pe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRDb25maWcgPSBvcHRzLmNvbmZpZy53aW47XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5yZXN1bHRDb25maWcgPSBvcHRzLmNvbmZpZy5mYWlsO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMucmVmcmVzaFVJKCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHJlZnJlc2hVSSgpe1xyXG4gICAgICAgIGlmKHRoaXMuaW5mbyl7XHJcbiAgICAgICAgICAgIHRoaXMudGl0bGUuc3RyaW5nID0gdGhpcy5pbmZvLmlzV2luP3RoaXMucmVzdWx0Q29uZmlnLnRpdGxlOnRoaXMucmVzdWx0Q29uZmlnLnRpdGxlO1xyXG4gICAgICAgICAgICB0aGlzLmNvbnRlbnRMYWJlbC5zdHJpbmcgPSB0aGlzLmluZm8uaXNXaW4/dGhpcy5yZXN1bHRDb25maWcuY29udGVudDp0aGlzLnJlc3VsdENvbmZpZy5jb250ZW50O1xyXG5cclxuICAgICAgICAgICAgdGhpcy5uZXh0QnRuLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoJ0JhY2tncm91bmQnKS5nZXRDaGlsZEJ5TmFtZSgnTmV3IExhYmVsJykuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKS5zdHJpbmcgPSB0aGlzLnJlc3VsdENvbmZpZy5idG4xLm5hbWU7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja0J0bi5ub2RlLmdldENoaWxkQnlOYW1lKCdCYWNrZ3JvdW5kJykuZ2V0Q2hpbGRCeU5hbWUoJ05ldyBMYWJlbCcpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gdGhpcy5yZXN1bHRDb25maWcuYnRuMi5uYW1lO1xyXG5cclxuICAgICAgICAgICAgdGhpcy5uZXh0QnRuLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoJ0JhY2tncm91bmQnKS5nZXRDaGlsZEJ5TmFtZSgnaWNvbicpLmFjdGl2ZSA9IHRoaXMucmVzdWx0Q29uZmlnLmJ0bjEuaWNvbjtcclxuICAgICAgICAgICAgdGhpcy5iYWNrQnRuLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoJ0JhY2tncm91bmQnKS5nZXRDaGlsZEJ5TmFtZSgnaWNvbicpLmFjdGl2ZSA9IHRoaXMucmVzdWx0Q29uZmlnLmJ0bjIuaWNvbjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoYXBwR2FtZS5pbnRlcnN0aXRpYWxBZCl7XHJcbiAgICAgICAgICAgIGFwcEdhbWUuaW50ZXJzdGl0aWFsQWQucGxheUFkKCk7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGFwcEdhbWUuYmFubmVyLnBsYXlCYW5uZXIoMik7XHJcbiAgICAgICAgYXBwR2FtZS5ncmlkQWQucGxheUdyaWRBZCh0cnVlKTtcclxuICAgICAgICBhcHBHYW1lLm5hdGl2ZUFkLnBsYXlOYXRpdmVBZCh0cnVlKTtcclxuICAgICAgICBhcHBHYW1lLmFwcEJveEFkLnBsYXlCb3godHJ1ZSk7XHJcbiAgICAgICAgYXBwR2FtZS5ibG9ja0FkLnBsYXlCbG9ja2FkKHRydWUsNCk7XHJcbiAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOifnu5PnrpcnLGNvbnRlbnQ6J+aJk+W8gOe7k+eul+eVjOmdoid9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgfSk7XHJcbiAgICB9LFxyXG5cclxuICAgIG9uTmV4dEJ0bkNsaWNrZWQoZXZlbnQpe1xyXG4gICAgICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon57uT566XJyxjb250ZW50OifkuIvkuIDlhbMnLGRlc2M6J+eCueWHuyd9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGV0IGlzUGxheVZpZGVvID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IGlzRm9yY2UgPSB0cnVlO1xyXG4gICAgICAgIGlmKHRoaXMucmVzdWx0Q29uZmlnKXtcclxuICAgICAgICAgICAgaXNQbGF5VmlkZW8gPSB0aGlzLnJlc3VsdENvbmZpZy5idG4xLnZpZGVvO1xyXG4gICAgICAgICAgICBpc0ZvcmNlID0gdGhpcy5yZXN1bHRDb25maWcuYnRuMS5mb3JjZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoaXNQbGF5VmlkZW8pe1xyXG4gICAgICAgICAgICBhcHBHYW1lLnZpZGVvQmFubmVyLnBsYXlWaWRlb0FkKDMsaXNGb3JjZSxmdW5jdGlvbihpc1N1Yyl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5leHRCdG5DYWxsYmFjayAmJiB0aGlzLm5leHRCdG5DYWxsYmFjayh0aGlzLmluZm8uaXNXaW4pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMubmV4dEJ0bkNhbGxiYWNrICYmIHRoaXMubmV4dEJ0bkNhbGxiYWNrKHRoaXMuaW5mby5pc1dpbik7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgb25CYWNrQnRuQ2xpY2tlZChldmVudCl7XHJcbiAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOifnu5PnrpcnLGNvbnRlbnQ6J+WGjeadpeS4gOWxgCvngrnlh7snfSxmdW5jdGlvbigpe1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxldCBpc1BsYXlWaWRlbyA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBpc0ZvcmNlID0gdHJ1ZTtcclxuICAgICAgICBpZih0aGlzLnJlc3VsdENvbmZpZyl7XHJcbiAgICAgICAgICAgIGlzUGxheVZpZGVvID0gdGhpcy5yZXN1bHRDb25maWcuYnRuMi52aWRlbztcclxuICAgICAgICAgICAgaXNGb3JjZSA9IHRoaXMucmVzdWx0Q29uZmlnLmJ0bjIuZm9yY2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKGlzUGxheVZpZGVvKXsvL+mFjee9rumcgOimgeaSreaUvuinhumikVxyXG4gICAgICAgICAgICBhcHBHYW1lLnZpZGVvQmFubmVyLnBsYXlWaWRlb0FkKDMsaXNGb3JjZSxmdW5jdGlvbihpc1N1Yyl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIueci+inhumikeaIkOWKn1wiKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5iYWNrQnRuQ2FsbGJhY2sgJiYgdGhpcy5iYWNrQnRuQ2FsbGJhY2sodGhpcy5pbmZvLmlzV2luKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgICAgIH1lbHNley8v5LiN55So5pKt5pS+6KeG6aKRXHJcbiAgICAgICAgICAgIHRoaXMuYmFja0J0bkNhbGxiYWNrICYmIHRoaXMuYmFja0J0bkNhbGxiYWNrKHRoaXMuaW5mby5pc1dpbik7XHJcbiAgICAgICAgICAgIHRoaXMuaGlkZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBoaWRlKCl7XHJcbiAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOifnu5PnrpcnLGNvbnRlbnQ6J+WFs+mXree7k+eul+eVjOmdoid9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgYXBwR2FtZS5iYW5uZXIucGxheUJhbm5lcigzKTtcclxuICAgICAgICBhcHBHYW1lLmdyaWRBZC5wbGF5R3JpZEFkKGZhbHNlKTtcclxuICAgICAgICBhcHBHYW1lLm5hdGl2ZUFkLnBsYXlOYXRpdmVBZChmYWxzZSk7XHJcbiAgICAgICAgYXBwR2FtZS5hcHBCb3hBZC5wbGF5Qm94KGZhbHNlKTtcclxuICAgICAgICBhcHBHYW1lLmJsb2NrQWQucGxheUJsb2NrYWQoZmFsc2UpO1xyXG4gICAgICAgIHRoaXMubm9kZS5yZW1vdmVGcm9tUGFyZW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge30sXHJcbn0pO1xyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/ad/banner.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4d62c7SXMdKHaht/20V3tyM', 'banner');
// gameComon/scripts/ad/banner.js

"use strict";

var AppGame = require("../model/appGame");

var Banner = cc.Class({
  properties: {},
  ctor: function ctor() {
    this.instance = null;
  },
  statics: {
    create: function create(data) {
      if (!this.instance) {
        this.instance = new Banner();
        this.instance.initWithData(data);
        return this.instance;
      }
    }
  },
  initWithData: function initWithData(data) {
    this.targetBannerAdWidth = 200;

    if (cc.sys.platform == cc.sys.BYTEDANCE_GAME) {
      //头条平台
      var _tt$getSystemInfoSync = tt.getSystemInfoSync(),
          windowWidth = _tt$getSystemInfoSync.windowWidth,
          windowHeight = _tt$getSystemInfoSync.windowHeight;

      this.width = windowWidth;
      this.height = windowHeight;
      this.adId = '3o8m16pp3e54cqcd5t';

      if (appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.bannerId && appGame.gameServerRoom.adConfig.bannerId.toutiao) {
        this.adId = appGame.gameServerRoom.adConfig.bannerId.toutiao.adUnitId;
      }

      console.log("banner 第一次创建");
      this.globalData = {
        bannerAd: tt.createBannerAd({
          adUnitId: this.adId,
          //adIntervals:30,
          style: {
            width: this.targetBannerAdWidth,
            top: this.height - this.targetBannerAdWidth / 16 * 9,
            // 根据系统约定尺寸计算出广告高度
            left: (this.width - this.targetBannerAdWidth) / 2
          }
        })
      };
      this.refreshSize();
      httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
        title: '广告位banner',
        content: '创建成功',
        desc: this.adId
      }, function () {});
    } else if (cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'QQ') {
      var _qq$getSystemInfoSync = qq.getSystemInfoSync(),
          _windowWidth = _qq$getSystemInfoSync.windowWidth,
          _windowHeight = _qq$getSystemInfoSync.windowHeight;

      this.width = _windowWidth;
      this.height = _windowHeight;
      this.adId = '4ef215ca5af9c3b454e9d22a676f7992';

      if (appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.bannerId && appGame.gameServerRoom.adConfig.bannerId.QQ) {
        this.adId = appGame.gameServerRoom.adConfig.bannerId.QQ.adUnitId;
      }

      console.log("banner 第一次创建"); //this.targetBannerAdWidth = 300;

      this.globalData = {
        bannerAd: qq.createBannerAd({
          adUnitId: this.adId,
          style: {
            //width: this.targetBannerAdWidth,
            //top: this.height - (this.targetBannerAdWidth / 16) * 9, // 根据系统约定尺寸计算出广告高度
            //left: (this.width - this.targetBannerAdWidth) / 2,
            width: this.targetBannerAdWidth,
            top: this.height - this.targetBannerAdWidth / 16 * 9,
            // 根据系统约定尺寸计算出广告高度
            left: (this.width - this.targetBannerAdWidth) / 2
          }
        })
      };
      this.refreshSize();
      httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
        title: '广告位banner',
        content: '创建成功',
        desc: this.adId
      }, function () {});
    } else if (cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'WX') {
      var _wx$getSystemInfoSync = wx.getSystemInfoSync(),
          _windowWidth2 = _wx$getSystemInfoSync.windowWidth,
          _windowHeight2 = _wx$getSystemInfoSync.windowHeight;

      this.width = _windowWidth2;
      this.height = _windowHeight2;
      this.adId = '4ef215ca5af9c3b454e9d22a676f7992';

      if (appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.bannerId && appGame.gameServerRoom.adConfig.bannerId.WX) {
        this.adId = appGame.gameServerRoom.adConfig.bannerId.WX.adUnitId;
      }

      console.log("banner 第一次创建");
      this.globalData = {
        bannerAd: wx.createBannerAd({
          adUnitId: this.adId,
          style: {
            width: this.targetBannerAdWidth,
            top: this.height - this.targetBannerAdWidth / 16 * 9,
            // 根据系统约定尺寸计算出广告高度
            left: (this.width - this.targetBannerAdWidth) / 2
          }
        })
      };
      this.refreshSize();
      httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
        title: '广告位banner',
        content: '创建成功',
        desc: this.adId
      }, function () {});
    }
  },
  scheduleCallBack: function scheduleCallBack() {
    console.log("n秒后刷新");
    this.playBanner(3);
    this.playBanner(2);
  },

  /*
  *sceneId 1 普通的展示   2 N秒刷新展示   3 隐藏
  */
  playBanner: function playBanner(sceneId, refreshTime) {
    var _this = this;

    if (refreshTime === void 0) {
      refreshTime = 30;
    }

    if (cc.sys.platform == cc.sys.BYTEDANCE_GAME && appGame.gameServerRoom.gameConfigData && appGame.gameServerRoom.gameConfigData.isbanner) {
      console.log("banner return");
      return;
    }

    cc.director.getScheduler().enableForTarget(this);

    if (sceneId != 3) {
      if (sceneId == 2) {
        cc.director.getScheduler().schedule(this.scheduleCallBack, this, refreshTime);
      } else {
        cc.director.getScheduler().unschedule(this.scheduleCallBack, this);
      }

      if (cc.sys.platform == cc.sys.BYTEDANCE_GAME) {
        //头条平台
        if (this.globalData && this.globalData.bannerAd) {
          console.log("banner 隐藏");
        } else {
          console.log("banner 创建");
          this.globalData = {
            bannerAd: tt.createBannerAd({
              adUnitId: this.adId,
              //adIntervals:30,
              style: {
                width: this.targetBannerAdWidth,
                top: this.height - this.targetBannerAdWidth / 16 * 9,
                // 根据系统约定尺寸计算出广告高度
                left: (this.width - this.targetBannerAdWidth) / 2
              }
            })
          };
          this.refreshSize();
          httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
            title: '广告位banner',
            content: '创建成功',
            desc: this.adId
          }, function () {});
        }
      } else if (cc.sys.platform == cc.sys.BAIDU_GAME) {
        //百度
        if (this.globalData && this.globalData.bannerAd) {
          this.globalData.bannerAd.destroy();
          this.globalData.bannerAd = null;
        }

        var _swan$getSystemInfoSy = swan.getSystemInfoSync(),
            windowWidth = _swan$getSystemInfoSy.windowWidth,
            windowHeight = _swan$getSystemInfoSy.windowHeight;

        this.width = windowWidth;
        this.height = windowHeight;

        if (appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.bannerId && appGame.gameServerRoom.adConfig.bannerId.baidu) {
          this.adId = appGame.gameServerRoom.adConfig.bannerId.baidu.adUnitId;
        }

        if (appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.bannerId && appGame.gameServerRoom.adConfig.bannerId.baidu) {
          this.appId = appGame.gameServerRoom.adConfig.bannerId.baidu.appSid;
        }

        this.globalData = {
          bannerAd: swan.createBannerAd({
            adUnitId: this.adId,
            appSid: this.appId,
            style: {
              width: this.width,
              top: this.height - this.targetBannerAdWidth / 16 * 9,
              // 根据系统约定尺寸计算出广告高度
              left: (this.width - this.targetBannerAdWidth) / 2
            }
          })
        };
        this.refreshSize();
        httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
          title: '广告位banner',
          content: '创建成功',
          desc: this.adId
        }, function () {});
      } else if (cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'QQ') {
        //QQ
        if (this.globalData && this.globalData.bannerAd) {
          this.globalData.bannerAd.destroy();
          this.globalData.bannerAd = null;
        }

        var _qq$getSystemInfoSync2 = qq.getSystemInfoSync(),
            _windowWidth3 = _qq$getSystemInfoSync2.windowWidth,
            _windowHeight3 = _qq$getSystemInfoSync2.windowHeight;

        this.width = _windowWidth3;
        this.height = _windowHeight3;

        if (appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.bannerId && appGame.gameServerRoom.adConfig.bannerId.QQ) {
          this.adId = appGame.gameServerRoom.adConfig.bannerId.QQ.adUnitId;
        }

        this.globalData = {
          bannerAd: qq.createBannerAd({
            adUnitId: this.adId,
            style: {
              width: this.width,
              top: this.height - this.targetBannerAdWidth / 16 * 9,
              // 根据系统约定尺寸计算出广告高度
              left: (this.width - this.targetBannerAdWidth) / 2
            }
          })
        };
        this.refreshSize();
        httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
          title: '广告位banner',
          content: '创建成功',
          desc: this.adId
        }, function () {});
      }

      if (this.globalData && this.globalData.bannerAd) {
        console.log("播放banner广告");

        if (cc.sys.platform == cc.sys.BAIDU_GAME) {
          //百度
          this.globalData.bannerAd.onLoad(function () {
            console.log('百度banner 加载完成');

            _this.globalData.bannerAd.show().then(function () {
              console.log("展示成功");
              httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
                title: '广告位banner',
                content: '展示成功',
                desc: _this.adId
              }, function () {});
            })["catch"](function (err) {
              console.log("展示失败");
              httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
                title: '广告位banner',
                content: '展示失败',
                desc: _this.adId
              }, function () {});
            });
          });
        } else if (cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'QQ') {
          this.globalData.bannerAd.onLoad(function () {
            console.log('qqBanner 加载完成');

            _this.globalData.bannerAd.show();

            console.log("展示成功");
            httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
              title: '广告位banner',
              content: '展示成功',
              desc: _this.adId
            }, function () {});
          });
        } else {
          console.log("开始展示广告");
          this.globalData.bannerAd.show().then(function () {
            console.log("展示成功");
            httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
              title: '广告位banner',
              content: '展示成功',
              desc: _this.adId
            }, function () {});
          })["catch"](function (err) {
            console.log("展示失败");
            httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
              title: '广告位banner',
              content: '展示失败',
              desc: _this.adId
            }, function () {});
          });
        }
      }
    } else {
      cc.director.getScheduler().unschedule(this.scheduleCallBack, this);

      if (cc.sys.platform == cc.sys.BYTEDANCE_GAME) {
        //头条平台
        if (this.globalData && this.globalData.bannerAd) {
          this.globalData.bannerAd.hide();
          this.globalData.bannerAd.destroy();
          this.globalData.bannerAd = null;
          console.log("字节平台banner 销毁");
          this.globalData = {
            bannerAd: tt.createBannerAd({
              adUnitId: this.adId,
              //adIntervals:30,
              style: {
                width: this.targetBannerAdWidth,
                top: this.height - this.targetBannerAdWidth / 16 * 9,
                // 根据系统约定尺寸计算出广告高度
                left: (this.width - this.targetBannerAdWidth) / 2
              }
            })
          };
          this.refreshSize();
          httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
            title: '广告位banner',
            content: '隐藏创建成功',
            desc: this.adId
          }, function () {});
        }
      } else if (cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'WX') {
        //微信平台
        if (this.globalData && this.globalData.bannerAd) {
          this.globalData.bannerAd.hide();
          this.globalData.bannerAd.destroy();
          this.globalData.bannerAd = null;
          console.log("banner 销毁");
          this.globalData = {
            bannerAd: wx.createBannerAd({
              adUnitId: this.adId,
              style: {
                width: this.targetBannerAdWidth,
                top: this.height - this.targetBannerAdWidth / 16 * 9,
                // 根据系统约定尺寸计算出广告高度
                left: (this.width - this.targetBannerAdWidth) / 2
              }
            })
          };
          this.refreshSize();
          httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
            title: '广告位banner',
            content: '隐藏创建成功',
            desc: this.adId
          }, function () {});
        }
      } else if (cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'QQ') {
        this.globalData.bannerAd.hide();
        httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
          title: '广告位banner',
          content: '隐藏',
          desc: this.adId
        }, function () {});
      }
    }
  },
  refreshSize: function refreshSize() {
    var _this2 = this;

    // 尺寸调整时会触发回调，通过回调拿到的广告真实宽高再进行定位适配处理
    // 注意：如果在回调里再次调整尺寸，要确保不要触发死循环！！！
    if (this.globalData && this.globalData.bannerAd) {
      if (cc.sys.platform == cc.sys.BYTEDANCE_GAME || cc.sys.platform == cc.sys.WECHAT_GAME || cc.sys.platform == cc.sys.BAIDU_GAME) {
        //头条平台
        this.globalData.bannerAd.onResize(function (size) {
          console.log("banner shezhi大小" + _this2.height + "   " + _this2.width);
          _this2.globalData.bannerAd.style.top = _this2.height - size.height;
          _this2.globalData.bannerAd.style.left = (_this2.width - size.width) / 2; //this.globalData.bannerAd.offResize();
        });
      }

      this.globalData.bannerAd.onError(function (listener) {
        console.log("banner 出错" + listener.errCode + listener.errMsg);
        httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
          title: '广告位banner',
          content: _this2.adId,
          desc: listener.errCode + listener.errMsg
        }, function () {}); // appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_LOADTIP, {
        //     content:"出错啦！！！"
        //  });
        //this.globalData.bannerAd.offError();
      });
    }
  }
});
module.exports = Banner;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFxhZFxcYmFubmVyLmpzIl0sIm5hbWVzIjpbIkFwcEdhbWUiLCJyZXF1aXJlIiwiQmFubmVyIiwiY2MiLCJDbGFzcyIsInByb3BlcnRpZXMiLCJjdG9yIiwiaW5zdGFuY2UiLCJzdGF0aWNzIiwiY3JlYXRlIiwiZGF0YSIsImluaXRXaXRoRGF0YSIsInRhcmdldEJhbm5lckFkV2lkdGgiLCJzeXMiLCJwbGF0Zm9ybSIsIkJZVEVEQU5DRV9HQU1FIiwidHQiLCJnZXRTeXN0ZW1JbmZvU3luYyIsIndpbmRvd1dpZHRoIiwid2luZG93SGVpZ2h0Iiwid2lkdGgiLCJoZWlnaHQiLCJhZElkIiwiYXBwR2FtZSIsImdhbWVTZXJ2ZXJSb29tIiwiYWRDb25maWciLCJiYW5uZXJJZCIsInRvdXRpYW8iLCJhZFVuaXRJZCIsImNvbnNvbGUiLCJsb2ciLCJnbG9iYWxEYXRhIiwiYmFubmVyQWQiLCJjcmVhdGVCYW5uZXJBZCIsInN0eWxlIiwidG9wIiwibGVmdCIsInJlZnJlc2hTaXplIiwiaHR0cFV0aWxzIiwiaHR0cFBvc3QiLCJjb25zdHMiLCJIVFRQX1JFQ09SRF9TRVJWRVIiLCJ0aXRsZSIsImNvbnRlbnQiLCJkZXNjIiwiV0VDSEFUX0dBTUUiLCJxcSIsIlFRIiwid3giLCJXWCIsInNjaGVkdWxlQ2FsbEJhY2siLCJwbGF5QmFubmVyIiwic2NlbmVJZCIsInJlZnJlc2hUaW1lIiwiZ2FtZUNvbmZpZ0RhdGEiLCJpc2Jhbm5lciIsImRpcmVjdG9yIiwiZ2V0U2NoZWR1bGVyIiwiZW5hYmxlRm9yVGFyZ2V0Iiwic2NoZWR1bGUiLCJ1bnNjaGVkdWxlIiwiQkFJRFVfR0FNRSIsImRlc3Ryb3kiLCJzd2FuIiwiYmFpZHUiLCJhcHBJZCIsImFwcFNpZCIsIm9uTG9hZCIsInNob3ciLCJ0aGVuIiwiZXJyIiwiaGlkZSIsIm9uUmVzaXplIiwic2l6ZSIsIm9uRXJyb3IiLCJsaXN0ZW5lciIsImVyckNvZGUiLCJlcnJNc2ci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QU8sRUFBQyxNQUFJLENBQUNyQixJQUFoQztBQUFxQ3NCLFVBQUFBLElBQUksRUFBQytCLFFBQVEsQ0FBQ0MsT0FBVCxHQUFpQkQsUUFBUSxDQUFDRTtBQUFwRSxTQUE3QyxFQUF5SCxZQUFVLENBQ2xJLENBREQsRUFGMkMsQ0FJM0M7QUFDQTtBQUNBO0FBQ0E7QUFDSCxPQVJEO0FBU0g7QUFDSjtBQXRTaUIsQ0FBVCxDQUFiO0FBd1NBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUI3RSxNQUFqQiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgQXBwR2FtZSA9IHJlcXVpcmUoXCIuLi9tb2RlbC9hcHBHYW1lXCIpO1xyXG5cclxudmFyIEJhbm5lciA9IGNjLkNsYXNzKHtcclxuICAgIHByb3BlcnRpZXM6IHtcclxuICAgIH0sXHJcbiAgICBjdG9yKCl7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG51bGw7XHJcbiAgICB9LFxyXG4gICAgc3RhdGljczoge1xyXG4gICAgICAgIGNyZWF0ZTogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgaWYoIXRoaXMuaW5zdGFuY2Upe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG5ldyBCYW5uZXIoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UuaW5pdFdpdGhEYXRhKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaW5pdFdpdGhEYXRhOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIHRoaXMudGFyZ2V0QmFubmVyQWRXaWR0aCA9IDIwMDtcclxuICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLkJZVEVEQU5DRV9HQU1FKXsgLy/lpLTmnaHlubPlj7BcclxuICAgICAgICAgICAgY29uc3R7d2luZG93V2lkdGgsd2luZG93SGVpZ2h0fSA9IHR0LmdldFN5c3RlbUluZm9TeW5jKCk7XHJcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB3aW5kb3dXaWR0aDtcclxuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB3aW5kb3dIZWlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMuYWRJZCA9ICczbzhtMTZwcDNlNTRjcWNkNXQnO1xyXG4gICAgICAgICAgICBpZihhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmFkQ29uZmlnICYmIGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcuYmFubmVySWQgJiYgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy5iYW5uZXJJZC50b3V0aWFvKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRJZCA9IGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcuYmFubmVySWQudG91dGlhby5hZFVuaXRJZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImJhbm5lciDnrKzkuIDmrKHliJvlu7pcIilcclxuICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgYmFubmVyQWQ6IHR0LmNyZWF0ZUJhbm5lckFkKHtcclxuICAgICAgICAgICAgICAgICAgICBhZFVuaXRJZDogdGhpcy5hZElkLFxyXG4gICAgICAgICAgICAgICAgICAgIC8vYWRJbnRlcnZhbHM6MzAsXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMudGFyZ2V0QmFubmVyQWRXaWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLmhlaWdodCAtICh0aGlzLnRhcmdldEJhbm5lckFkV2lkdGggLyAxNikgKiA5LCAvLyDmoLnmja7ns7vnu5/nuqblrprlsLrlr7jorqHnrpflh7rlub/lkYrpq5jluqZcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA6ICh0aGlzLndpZHRoIC0gdGhpcy50YXJnZXRCYW5uZXJBZFdpZHRoKSAvIDIsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaFNpemUoKTtcclxuICAgICAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOiflub/lkYrkvY1iYW5uZXInLGNvbnRlbnQ6J+WIm+W7uuaIkOWKnycsZGVzYzp0aGlzLmFkSWR9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1lbHNlIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuV0VDSEFUX0dBTUUgJiYgYXBwR2FtZS5wbGF0Zm9ybSA9PSAnUVEnKXtcclxuICAgICAgICAgICAgY29uc3QgeyB3aW5kb3dXaWR0aCwgd2luZG93SGVpZ2h0IH0gPSBxcS5nZXRTeXN0ZW1JbmZvU3luYygpO1xyXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gd2luZG93V2lkdGg7XHJcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gd2luZG93SGVpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLmFkSWQgPSAnNGVmMjE1Y2E1YWY5YzNiNDU0ZTlkMjJhNjc2Zjc5OTInO1xyXG4gICAgICAgICAgICBpZihhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmFkQ29uZmlnICYmIGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcuYmFubmVySWQgJiYgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy5iYW5uZXJJZC5RUSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkSWQgPSBhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmFkQ29uZmlnLmJhbm5lcklkLlFRLmFkVW5pdElkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYmFubmVyIOesrOS4gOasoeWIm+W7ulwiKVxyXG4gICAgICAgICAgICAvL3RoaXMudGFyZ2V0QmFubmVyQWRXaWR0aCA9IDMwMDtcclxuICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgYmFubmVyQWQ6IHFxLmNyZWF0ZUJhbm5lckFkKHtcclxuICAgICAgICAgICAgICAgICAgICBhZFVuaXRJZDogdGhpcy5hZElkLFxyXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlOiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vd2lkdGg6IHRoaXMudGFyZ2V0QmFubmVyQWRXaWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy90b3A6IHRoaXMuaGVpZ2h0IC0gKHRoaXMudGFyZ2V0QmFubmVyQWRXaWR0aCAvIDE2KSAqIDksIC8vIOagueaNruezu+e7n+e6puWumuWwuuWvuOiuoeeul+WHuuW5v+WRiumrmOW6plxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2xlZnQ6ICh0aGlzLndpZHRoIC0gdGhpcy50YXJnZXRCYW5uZXJBZFdpZHRoKSAvIDIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLnRhcmdldEJhbm5lckFkV2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogdGhpcy5oZWlnaHQgLSAodGhpcy50YXJnZXRCYW5uZXJBZFdpZHRoIC8gMTYpICogOSwgLy8g5qC55o2u57O757uf57qm5a6a5bC65a+46K6h566X5Ye65bm/5ZGK6auY5bqmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6ICh0aGlzLndpZHRoIC0gdGhpcy50YXJnZXRCYW5uZXJBZFdpZHRoKSAvIDIsXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMucmVmcmVzaFNpemUoKTtcclxuICAgICAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOiflub/lkYrkvY1iYW5uZXInLGNvbnRlbnQ6J+WIm+W7uuaIkOWKnycsZGVzYzp0aGlzLmFkSWR9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBlbHNlIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuV0VDSEFUX0dBTUUgJiYgYXBwR2FtZS5wbGF0Zm9ybSA9PSAnV1gnKXtcclxuICAgICAgICAgICAgY29uc3QgeyB3aW5kb3dXaWR0aCwgd2luZG93SGVpZ2h0IH0gPSB3eC5nZXRTeXN0ZW1JbmZvU3luYygpO1xyXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gd2luZG93V2lkdGg7XHJcbiAgICAgICAgICAgIHRoaXMuaGVpZ2h0ID0gd2luZG93SGVpZ2h0O1xyXG4gICAgICAgICAgICB0aGlzLmFkSWQgPSAnNGVmMjE1Y2E1YWY5YzNiNDU0ZTlkMjJhNjc2Zjc5OTInO1xyXG4gICAgICAgICAgICBpZihhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmFkQ29uZmlnICYmIGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcuYmFubmVySWQgJiYgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy5iYW5uZXJJZC5XWCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmFkSWQgPSBhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmFkQ29uZmlnLmJhbm5lcklkLldYLmFkVW5pdElkO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYmFubmVyIOesrOS4gOasoeWIm+W7ulwiKVxyXG4gICAgICAgICAgICB0aGlzLmdsb2JhbERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICBiYW5uZXJBZDogd3guY3JlYXRlQmFubmVyQWQoe1xyXG4gICAgICAgICAgICAgICAgICAgIGFkVW5pdElkOiB0aGlzLmFkSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMudGFyZ2V0QmFubmVyQWRXaWR0aCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLmhlaWdodCAtICh0aGlzLnRhcmdldEJhbm5lckFkV2lkdGggLyAxNikgKiA5LCAvLyDmoLnmja7ns7vnu5/nuqblrprlsLrlr7jorqHnrpflh7rlub/lkYrpq5jluqZcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDogKHRoaXMud2lkdGggLSB0aGlzLnRhcmdldEJhbm5lckFkV2lkdGgpIC8gMixcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoU2l6ZSgpO1xyXG4gICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+W5v+WRiuS9jWJhbm5lcicsY29udGVudDon5Yib5bu65oiQ5YqfJyxkZXNjOnRoaXMuYWRJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHNjaGVkdWxlQ2FsbEJhY2s6ZnVuY3Rpb24oKXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcIm7np5LlkI7liLfmlrBcIilcclxuICAgICAgICB0aGlzLnBsYXlCYW5uZXIoMyk7XHJcbiAgICAgICAgdGhpcy5wbGF5QmFubmVyKDIpO1xyXG4gICAgfSxcclxuICAgIC8qXHJcbiAgICAqc2NlbmVJZCAxIOaZrumAmueahOWxleekuiAgIDIgTuenkuWIt+aWsOWxleekuiAgIDMg6ZqQ6JePXHJcbiAgICAqL1xyXG4gICAgcGxheUJhbm5lcjpmdW5jdGlvbihzY2VuZUlkLHJlZnJlc2hUaW1lID0gMzApe1xyXG4gICAgICAgIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuQllURURBTkNFX0dBTUUgJiYgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5nYW1lQ29uZmlnRGF0YSYmXHJcbiAgICAgICAgICAgIGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uZ2FtZUNvbmZpZ0RhdGEuaXNiYW5uZXIpe1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImJhbm5lciByZXR1cm5cIilcclxuICAgICAgICAgICAgcmV0dXJuO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjYy5kaXJlY3Rvci5nZXRTY2hlZHVsZXIoKS5lbmFibGVGb3JUYXJnZXQodGhpcyk7XHJcbiAgICAgICAgaWYoc2NlbmVJZCE9Myl7XHJcbiAgICAgICAgICAgIGlmKHNjZW5lSWQ9PTIpe1xyXG4gICAgICAgICAgICAgICAgY2MuZGlyZWN0b3IuZ2V0U2NoZWR1bGVyKCkuc2NoZWR1bGUodGhpcy5zY2hlZHVsZUNhbGxCYWNrLHRoaXMscmVmcmVzaFRpbWUpO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIGNjLmRpcmVjdG9yLmdldFNjaGVkdWxlcigpLnVuc2NoZWR1bGUodGhpcy5zY2hlZHVsZUNhbGxCYWNrLHRoaXMpIFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLkJZVEVEQU5DRV9HQU1FKXsgLy/lpLTmnaHlubPlj7BcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuZ2xvYmFsRGF0YSAmJiB0aGlzLmdsb2JhbERhdGEuYmFubmVyQWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYmFubmVyIOmakOiXj1wiKVxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJiYW5uZXIg5Yib5bu6XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYW5uZXJBZDogdHQuY3JlYXRlQmFubmVyQWQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRVbml0SWQ6IHRoaXMuYWRJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWRJbnRlcnZhbHM6MzAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLnRhcmdldEJhbm5lckFkV2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLmhlaWdodCAtICh0aGlzLnRhcmdldEJhbm5lckFkV2lkdGggLyAxNikgKiA5LCAvLyDmoLnmja7ns7vnu5/nuqblrprlsLrlr7jorqHnrpflh7rlub/lkYrpq5jluqZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0IDogKHRoaXMud2lkdGggLSB0aGlzLnRhcmdldEJhbm5lckFkV2lkdGgpIC8gMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hTaXplKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOiflub/lkYrkvY1iYW5uZXInLGNvbnRlbnQ6J+WIm+W7uuaIkOWKnycsZGVzYzp0aGlzLmFkSWR9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9ICAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICB9ZWxzZSBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLkJBSURVX0dBTUUpey8v55m+5bqmXHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLmdsb2JhbERhdGEgJiYgdGhpcy5nbG9iYWxEYXRhLmJhbm5lckFkKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbERhdGEuYmFubmVyQWQuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsRGF0YS5iYW5uZXJBZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBjb25zdHt3aW5kb3dXaWR0aCx3aW5kb3dIZWlnaHR9ID0gc3dhbi5nZXRTeXN0ZW1JbmZvU3luYygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy53aWR0aCA9IHdpbmRvd1dpZHRoO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB3aW5kb3dIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICBpZihhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmFkQ29uZmlnICYmIGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcuYmFubmVySWQgJiYgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy5iYW5uZXJJZC5iYWlkdSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZElkID0gYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy5iYW5uZXJJZC5iYWlkdS5hZFVuaXRJZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcgJiYgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy5iYW5uZXJJZCAmJiBhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmFkQ29uZmlnLmJhbm5lcklkLmJhaWR1KXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFwcElkID0gYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy5iYW5uZXJJZC5iYWlkdS5hcHBTaWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYmFubmVyQWQ6IHN3YW4uY3JlYXRlQmFubmVyQWQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZFVuaXRJZDogdGhpcy5hZElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBTaWQ6dGhpcy5hcHBJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLndpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLmhlaWdodCAtICh0aGlzLnRhcmdldEJhbm5lckFkV2lkdGggLyAxNikgKiA5LCAvLyDmoLnmja7ns7vnu5/nuqblrprlsLrlr7jorqHnrpflh7rlub/lkYrpq5jluqZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQgOiAodGhpcy53aWR0aCAtIHRoaXMudGFyZ2V0QmFubmVyQWRXaWR0aCkgLyAyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoU2l6ZSgpO1xyXG4gICAgICAgICAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOiflub/lkYrkvY1iYW5uZXInLGNvbnRlbnQ6J+WIm+W7uuaIkOWKnycsZGVzYzp0aGlzLmFkSWR9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfWVsc2UgaWYoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5XRUNIQVRfR0FNRSAmJiBhcHBHYW1lLnBsYXRmb3JtID09ICdRUScpey8vUVFcclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuZ2xvYmFsRGF0YSAmJiB0aGlzLmdsb2JhbERhdGEuYmFubmVyQWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsRGF0YS5iYW5uZXJBZC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhLmJhbm5lckFkID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGNvbnN0e3dpbmRvd1dpZHRoLHdpbmRvd0hlaWdodH0gPSBxcS5nZXRTeXN0ZW1JbmZvU3luYygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy53aWR0aCA9IHdpbmRvd1dpZHRoO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB3aW5kb3dIZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICBpZihhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmFkQ29uZmlnICYmIGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcuYmFubmVySWQgJiYgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy5iYW5uZXJJZC5RUSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZElkID0gYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy5iYW5uZXJJZC5RUS5hZFVuaXRJZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsRGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBiYW5uZXJBZDogcXEuY3JlYXRlQmFubmVyQWQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhZFVuaXRJZDogdGhpcy5hZElkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgd2lkdGg6IHRoaXMud2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0b3A6IHRoaXMuaGVpZ2h0IC0gKHRoaXMudGFyZ2V0QmFubmVyQWRXaWR0aCAvIDE2KSAqIDksIC8vIOagueaNruezu+e7n+e6puWumuWwuuWvuOiuoeeul+WHuuW5v+WRiumrmOW6plxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgbGVmdCA6ICh0aGlzLndpZHRoIC0gdGhpcy50YXJnZXRCYW5uZXJBZFdpZHRoKSAvIDIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hTaXplKCk7XHJcbiAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+W5v+WRiuS9jWJhbm5lcicsY29udGVudDon5Yib5bu65oiQ5YqfJyxkZXNjOnRoaXMuYWRJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGlmKHRoaXMuZ2xvYmFsRGF0YSAmJiB0aGlzLmdsb2JhbERhdGEuYmFubmVyQWQpe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLmkq3mlL5iYW5uZXLlub/lkYpcIilcclxuICAgICAgICAgICAgICAgIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuQkFJRFVfR0FNRSl7Ly/nmb7luqZcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbERhdGEuYmFubmVyQWQub25Mb2FkKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+eZvuW6pmJhbm5lciDliqDovb3lrozmiJAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhLmJhbm5lckFkLnNob3coKS50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5bGV56S65oiQ5YqfXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+W5v+WRiuS9jWJhbm5lcicsY29udGVudDon5bGV56S65oiQ5YqfJyxkZXNjOnRoaXMuYWRJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KS5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuWxleekuuWksei0pVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOiflub/lkYrkvY1iYW5uZXInLGNvbnRlbnQ6J+WxleekuuWksei0pScsZGVzYzp0aGlzLmFkSWR9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLldFQ0hBVF9HQU1FICYmIGFwcEdhbWUucGxhdGZvcm0gPT0gJ1FRJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhLmJhbm5lckFkLm9uTG9hZCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdxcUJhbm5lciDliqDovb3lrozmiJAnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhLmJhbm5lckFkLnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLlsZXnpLrmiJDlip9cIilcclxuICAgICAgICAgICAgICAgICAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOiflub/lkYrkvY1iYW5uZXInLGNvbnRlbnQ6J+WxleekuuaIkOWKnycsZGVzYzp0aGlzLmFkSWR9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLlvIDlp4vlsZXnpLrlub/lkYpcIilcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbERhdGEuYmFubmVyQWQuc2hvdygpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuWxleekuuaIkOWKn1wiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+W5v+WRiuS9jWJhbm5lcicsY29udGVudDon5bGV56S65oiQ5YqfJyxkZXNjOnRoaXMuYWRJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuWxleekuuWksei0pVwiKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+W5v+WRiuS9jWJhbm5lcicsY29udGVudDon5bGV56S65aSx6LSlJyxkZXNjOnRoaXMuYWRJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgY2MuZGlyZWN0b3IuZ2V0U2NoZWR1bGVyKCkudW5zY2hlZHVsZSh0aGlzLnNjaGVkdWxlQ2FsbEJhY2ssdGhpcykgXHJcbiAgICAgICAgICAgIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuQllURURBTkNFX0dBTUUpeyAvL+WktOadoeW5s+WPsFxyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5nbG9iYWxEYXRhICYmIHRoaXMuZ2xvYmFsRGF0YS5iYW5uZXJBZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhLmJhbm5lckFkLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbERhdGEuYmFubmVyQWQuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsRGF0YS5iYW5uZXJBZCA9IG51bGw7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLlrZfoioLlubPlj7BiYW5uZXIg6ZSA5q+BXCIpXHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBiYW5uZXJBZDogdHQuY3JlYXRlQmFubmVyQWQoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgYWRVbml0SWQ6IHRoaXMuYWRJZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC8vYWRJbnRlcnZhbHM6MzAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLnRhcmdldEJhbm5lckFkV2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLmhlaWdodCAtICh0aGlzLnRhcmdldEJhbm5lckFkV2lkdGggLyAxNikgKiA5LCAvLyDmoLnmja7ns7vnu5/nuqblrprlsLrlr7jorqHnrpflh7rlub/lkYrpq5jluqZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0IDogKHRoaXMud2lkdGggLSB0aGlzLnRhcmdldEJhbm5lckFkV2lkdGgpIC8gMixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB0aGlzLnJlZnJlc2hTaXplKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOiflub/lkYrkvY1iYW5uZXInLGNvbnRlbnQ6J+makOiXj+WIm+W7uuaIkOWKnycsZGVzYzp0aGlzLmFkSWR9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1lbHNlIGlmIChjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLldFQ0hBVF9HQU1FJiYgYXBwR2FtZS5wbGF0Zm9ybSA9PSAnV1gnKSB7IC8v5b6u5L+h5bmz5Y+wXHJcbiAgICAgICAgICAgICAgICBpZiAodGhpcy5nbG9iYWxEYXRhICYmIHRoaXMuZ2xvYmFsRGF0YS5iYW5uZXJBZCkge1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsRGF0YS5iYW5uZXJBZC5oaWRlKCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhLmJhbm5lckFkLmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbERhdGEuYmFubmVyQWQgPSBudWxsO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYmFubmVyIOmUgOavgVwiKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsRGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYmFubmVyQWQ6IHd4LmNyZWF0ZUJhbm5lckFkKHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkVW5pdElkOiB0aGlzLmFkSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLnRhcmdldEJhbm5lckFkV2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLmhlaWdodCAtICh0aGlzLnRhcmdldEJhbm5lckFkV2lkdGggLyAxNikgKiA5LCAvLyDmoLnmja7ns7vnu5/nuqblrprlsLrlr7jorqHnrpflh7rlub/lkYrpq5jluqZcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OiAodGhpcy53aWR0aCAtIHRoaXMudGFyZ2V0QmFubmVyQWRXaWR0aCkgLyAyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSksXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmVmcmVzaFNpemUoKTtcclxuICAgICAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+W5v+WRiuS9jWJhbm5lcicsY29udGVudDon6ZqQ6JeP5Yib5bu65oiQ5YqfJyxkZXNjOnRoaXMuYWRJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2UgaWYoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5XRUNIQVRfR0FNRSAmJiBhcHBHYW1lLnBsYXRmb3JtID09ICdRUScpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhLmJhbm5lckFkLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon5bm/5ZGK5L2NYmFubmVyJyxjb250ZW50OifpmpDol48nLGRlc2M6dGhpcy5hZElkfSxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmVmcmVzaFNpemUoKXtcclxuICAgICAgICAvLyDlsLrlr7josIPmlbTml7bkvJrop6blj5Hlm57osIPvvIzpgJrov4flm57osIPmi7/liLDnmoTlub/lkYrnnJ/lrp7lrr3pq5jlho3ov5vooYzlrprkvY3pgILphY3lpITnkIZcclxuICAgICAgICAvLyDms6jmhI/vvJrlpoLmnpzlnKjlm57osIPph4zlho3mrKHosIPmlbTlsLrlr7jvvIzopoHnoa7kv53kuI3opoHop6blj5Hmrbvlvqrnjq/vvIHvvIHvvIFcclxuICAgICAgICBpZih0aGlzLmdsb2JhbERhdGEgJiYgdGhpcy5nbG9iYWxEYXRhLmJhbm5lckFkKXtcclxuICAgICAgICAgICAgaWYoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5CWVRFREFOQ0VfR0FNRSB8fCBjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLldFQ0hBVF9HQU1FfHwgY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5CQUlEVV9HQU1FKXsgLy/lpLTmnaHlubPlj7BcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsRGF0YS5iYW5uZXJBZC5vblJlc2l6ZSgoc2l6ZSkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiYmFubmVyIHNoZXpoaeWkp+Wwj1wiK3RoaXMuaGVpZ2h0K1wiICAgXCIrdGhpcy53aWR0aClcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbERhdGEuYmFubmVyQWQuc3R5bGUudG9wID0gdGhpcy5oZWlnaHQgLSBzaXplLmhlaWdodDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbERhdGEuYmFubmVyQWQuc3R5bGUubGVmdCA9ICh0aGlzLndpZHRoIC0gc2l6ZS53aWR0aCkgLyAyO1xyXG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcy5nbG9iYWxEYXRhLmJhbm5lckFkLm9mZlJlc2l6ZSgpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhLmJhbm5lckFkLm9uRXJyb3IoKGxpc3RlbmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImJhbm5lciDlh7rplJlcIitsaXN0ZW5lci5lcnJDb2RlK2xpc3RlbmVyLmVyck1zZylcclxuICAgICAgICAgICAgICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon5bm/5ZGK5L2NYmFubmVyJyxjb250ZW50OnRoaXMuYWRJZCxkZXNjOmxpc3RlbmVyLmVyckNvZGUrbGlzdGVuZXIuZXJyTXNnfSxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAvLyBhcHBHYW1lLmVtaXR0ZXIuZW1pdChjb25zdHMuTE9DQUxfRVZFTlRfUE9QVVBfTE9BRFRJUCwge1xyXG4gICAgICAgICAgICAgICAgLy8gICAgIGNvbnRlbnQ6XCLlh7rplJnllabvvIHvvIHvvIFcIlxyXG4gICAgICAgICAgICAgICAgLy8gIH0pO1xyXG4gICAgICAgICAgICAgICAgLy90aGlzLmdsb2JhbERhdGEuYmFubmVyQWQub2ZmRXJyb3IoKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxufSk7XHJcbm1vZHVsZS5leHBvcnRzID0gQmFubmVyOyJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/BoostsAction.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '47da3PXgqdE55aSvY0ox9B4', 'BoostsAction');
// framework/plugin_boosts/misc/BoostsAction.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.Shake = exports.V2ChangeAction = exports.ValueChangeAction = void 0;
var ValueChangeAction = /** @class */ (function (_super) {
    __extends(ValueChangeAction, _super);
    function ValueChangeAction(duration, from, to, callback, target) {
        var _this = _super.call(this) || this;
        _this.delta = _this.sub(to, from);
        _this.setDuration(duration);
        _this.callback = callback;
        _this.start = from;
        _this.end = to;
        _this.callbackTarget = target;
        return _this;
    }
    ValueChangeAction.prototype.sub = function (x, y) {
        return (x - y);
    };
    ValueChangeAction.prototype.add = function (x, y) {
        return x + y;
    };
    ValueChangeAction.prototype.mul = function (x, y) {
        return x * y;
    };
    ValueChangeAction.prototype.update = function (dt) {
        dt = this._computeEaseTime(dt);
        var v = this.add(this.start, this.mul(this.delta, dt));
        this.callback.call(this.callbackTarget, v);
    };
    return ValueChangeAction;
}(cc.ActionInterval));
exports.ValueChangeAction = ValueChangeAction;
var V2ChangeAction = /** @class */ (function (_super) {
    __extends(V2ChangeAction, _super);
    function V2ChangeAction() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    V2ChangeAction.prototype.sub = function (x, y) {
        return x.sub(x, y);
    };
    V2ChangeAction.prototype.add = function (x, y) {
        return x.add(x, y);
    };
    V2ChangeAction.prototype.mul = function (x, y) {
        return x.mul(x, y);
    };
    return V2ChangeAction;
}(ValueChangeAction));
exports.V2ChangeAction = V2ChangeAction;
var Shake = /** @class */ (function (_super) {
    __extends(Shake, _super);
    function Shake() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._initial_x = 0;
        _this._initial_y = 0;
        _this._strength_x = 0;
        _this._strength_y = 0;
        return _this;
    }
    /**
     *  创建抖动动画
     * @param {number} duration     动画持续时长
     * @param {number} strength_x   抖动幅度： x方向
     * @param {number} strength_y   抖动幅度： y方向
     * @returns {Shake}
     */
    Shake.create = function (duration, strength_x, strength_y) {
        var act = new Shake();
        act.initWithDuration(duration, strength_x, strength_y);
        return act;
    };
    Shake.prototype.initWithDuration = function (duration, strength_x, strength_y) {
        cc.ActionInterval.prototype['initWithDuration'].apply(this, arguments);
        this._strength_x = strength_x;
        this._strength_y = strength_y;
        return true;
    };
    Shake.prototype.fgRangeRand = function (min, max) {
        var rnd = Math.random();
        return rnd * (max - min) + min;
    };
    Shake.prototype.update = function (time) {
        var randx = this.fgRangeRand(-this._strength_x, this._strength_x);
        var randy = this.fgRangeRand(-this._strength_y, this._strength_y);
        this.getTarget().setPosition(randx + this._initial_x, randy + this._initial_y);
    };
    Shake.prototype.startWithTarget = function (target) {
        cc.ActionInterval.prototype['startWithTarget'].apply(this, arguments);
        this._initial_x = target.x;
        this._initial_y = target.y;
    };
    Shake.prototype.stop = function () {
        this.getTarget().setPosition(new cc.Vec2(this._initial_x, this._initial_y));
        cc.ActionInterval.prototype['stop'].apply(this);
    };
    return Shake;
}(cc.ActionInterval));
exports.Shake = Shake;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxCb29zdHNBY3Rpb24udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQTtJQUF1QyxxQ0FBaUI7SUF3QnBELDJCQUFZLFFBQVEsRUFBQyxJQUFJLEVBQUMsRUFBRSxFQUFDLFFBQVEsRUFBQyxNQUFPO1FBQTdDLFlBRUksaUJBQU8sU0FPVjtRQU5HLEtBQUksQ0FBQyxLQUFLLEdBQUcsS0FBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEVBQUcsSUFBSSxDQUFDLENBQUM7UUFDakMsS0FBSSxDQUFDLFdBQVcsQ0FBQyxRQUFRLENBQUMsQ0FBQztRQUMzQixLQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixLQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQztRQUNsQixLQUFJLENBQUMsR0FBRyxHQUFHLEVBQUUsQ0FBQztRQUNkLEtBQUksQ0FBQyxjQUFjLEdBQUcsTUFBTSxDQUFDOztJQUNqQyxDQUFDO0lBeEJELCtCQUFHLEdBQUgsVUFBSSxDQUFDLEVBQUMsQ0FBQztRQUVILE9BQU8sQ0FBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQUM7SUFDcEIsQ0FBQztJQUVELCtCQUFHLEdBQUgsVUFBSSxDQUFDLEVBQUMsQ0FBQztRQUVILE9BQU8sQ0FBQyxHQUFFLENBQUMsQ0FBQztJQUNoQixDQUFDO0lBRUQsK0JBQUcsR0FBSCxVQUFJLENBQUMsRUFBQyxDQUFDO1FBRUgsT0FBTyxDQUFDLEdBQUMsQ0FBQyxDQUFDO0lBQ2YsQ0FBQztJQVlELGtDQUFNLEdBQU4sVUFBTyxFQUFFO1FBRUwsRUFBRSxHQUFHLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxFQUFFLENBQUMsQ0FBQztRQUMvQixJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxLQUFLLEVBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsS0FB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QUFVLEdBQUcsTUFBTSxDQUFDLENBQUMsQ0FBQztRQUMzQixJQUFJLENBQUMsVUFBVSxHQUFHLE1BQU0sQ0FBQyxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQUVNLG9CQUFJLEdBQVg7UUFFSSxJQUFJLENBQUMsU0FBUyxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDO1FBRTNFLEVBQUUsQ0FBQyxjQUFjLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEtBQUssQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUNwRCxDQUFDO0lBQ0wsWUFBQztBQUFELENBeERBLEFBd0RDLENBeEQyQixFQUFFLENBQUMsY0FBYyxHQXdENUM7QUF4RGEsc0JBQUsiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcblxuZXhwb3J0IGNsYXNzIFZhbHVlQ2hhbmdlQWN0aW9uIGV4dGVuZHMgY2MuQWN0aW9uSW50ZXJ2YWxcbntcbiAgICBbeDogc3RyaW5nXTogYW55O1xuICAgIHN0YXJ0OmFueTtcbiAgICBlbmQ6YW55O1xuICAgIGRlbHRhOmFueTtcbiAgICBjYWxsYmFjazpGdW5jdGlvbjtcbiAgICBjYWxsYmFja1RhcmdldCA6YW55O1xuXG4gICAgc3ViKHgseSlcbiAgICB7XG4gICAgICAgIHJldHVybiAoIHggLSB5KTtcbiAgICB9XG5cbiAgICBhZGQoeCx5KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHggK3k7XG4gICAgfVxuXG4gICAgbXVsKHgseSlcbiAgICB7XG4gICAgICAgIHJldHVybiB4Knk7XG4gICAgfVxuXG4gICAgY29uc3RydWN0b3IoZHVyYXRpb24sZnJvbSx0byxjYWxsYmFjayx0YXJnZXQ/KVxuICAgIHtcbiAgICAgICAgc3VwZXIoKTtcbiAgICAgICAgdGhpcy5kZWx0YSA9IHRoaXMuc3ViKHRvICwgZnJvbSk7XG4gICAgICAgIHRoaXMuc2V0RHVyYXRpb24oZHVyYXRpb24pO1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgIHRoaXMuc3RhcnQgPSBmcm9tO1xuICAgICAgICB0aGlzLmVuZCA9IHRvO1xuICAgICAgICB0aGlzLmNhbGxiYWNrVGFyZ2V0ID0gdGFyZ2V0O1xuICAgIH1cbiAgICB1cGRhdGUoZHQpXG4gICAge1xuICAgICAgICBkdCA9IHRoaXMuX2NvbXB1dGVFYXNlVGltZShkdCk7XG4gICAgICAgIGxldCB2ID0gdGhpcy5hZGQodGhpcy5zdGFydCx0aGlzLm11bCh0aGlzLmRlbHRhLGR0KSlcbiAgICAgICAgdGhpcy5jYWxsYmFjay5jYWxsKHRoaXMuY2FsbGJhY2tUYXJnZXQsdik7XG4gICAgfVxuICAgXG59XG5cblxuZXhwb3J0IGNsYXNzIFYyQ2hhbmdlQWN0aW9uIGV4dGVuZHMgVmFsdWVDaGFuZ2VBY3Rpb25cbntcbiAgICBzdWIoeCx5KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHguc3ViKHgseSlcbiAgICB9XG5cbiAgICBhZGQoeCx5KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHguYWRkKHgseSlcbiAgICB9XG5cbiAgICBtdWwoeCx5KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHgubXVsKHgseSlcbiAgICB9XG59XG5cblxuZXhwb3J0ICBjbGFzcyBTaGFrZSBleHRlbmRzIGNjLkFjdGlvbkludGVydmFsXG57XG4gXG4gICAgcHJpdmF0ZSBfaW5pdGlhbF94Om51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfaW5pdGlhbF95Om51bWJlciA9IDA7XG4gICAgcHJpdmF0ZSBfc3RyZW5ndGhfeDpudW1iZXIgPSAwO1xuICAgIHByaXZhdGUgX3N0cmVuZ3RoX3k6bnVtYmVyID0gMDtcbiBcbiAgICAvKipcbiAgICAgKiAg5Yib5bu65oqW5Yqo5Yqo55S7XG4gICAgICogQHBhcmFtIHtudW1iZXJ9IGR1cmF0aW9uICAgICDliqjnlLvmjIHnu63ml7bplb9cbiAgICAgKiBAcGFyYW0ge251bWJlcn0gc3RyZW5ndGhfeCAgIOaKluWKqOW5heW6pu+8miB45pa55ZCRXG4gICAgICogQHBhcmFtIHtudW1iZXJ9IHN0cmVuZ3RoX3kgICDmipbliqjluYXluqbvvJogeeaWueWQkVxuICAgICAqIEByZXR1cm5zIHtTaGFrZX1cbiAgICAgKi9cbiAgICBwdWJsaWMgc3RhdGljIGNyZWF0ZShkdXJhdGlvbjpudW1iZXIsc3RyZW5ndGhfeDpudW1iZXIsc3RyZW5ndGhfeTpudW1iZXIpOlNoYWtlXG4gICAge1xuICAgICAgICBsZXQgYWN0OlNoYWtlID0gbmV3IFNoYWtlKCk7XG4gICAgICAgIGFjdC5pbml0V2l0aER1cmF0aW9uKCBkdXJhdGlvbixzdHJlbmd0aF94LHN0cmVuZ3RoX3kgKTtcbiAgICAgICAgcmV0dXJuIGFjdDtcbiAgICB9XG4gXG4gICAgcHVibGljIGluaXRXaXRoRHVyYXRpb24oZHVyYXRpb246bnVtYmVyLHN0cmVuZ3RoX3g6bnVtYmVyLHN0cmVuZ3RoX3k6bnVtYmVyKTpib29sZWFuXG4gICAge1xuICAgICAgICBjYy5BY3Rpb25JbnRlcnZhbC5wcm90b3R5cGVbJ2luaXRXaXRoRHVyYXRpb24nXS5hcHBseSh0aGlzLGFyZ3VtZW50cyk7XG4gICAgICAgIHRoaXMuX3N0cmVuZ3RoX3ggPSBzdHJlbmd0aF94O1xuICAgICAgICB0aGlzLl9zdHJlbmd0aF95ID0gc3RyZW5ndGhfeTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuIFxuICAgIHB1YmxpYyBmZ1JhbmdlUmFuZChtaW46bnVtYmVyLG1heDpudW1iZXIpOm51bWJlclxuICAgIHtcbiAgICAgICAgbGV0IHJuZDpudW1iZXIgPSBNYXRoLnJhbmRvbSgpO1xuICAgICAgICByZXR1cm4gcm5kICogKG1heCAtIG1pbikgKyBtaW47XG4gICAgfVxuIFxuICAgIHB1YmxpYyB1cGRhdGUodGltZTpudW1iZXIpOnZvaWRcbiAgICB7XG4gICAgICAgIGxldCByYW5keCA9IHRoaXMuZmdSYW5nZVJhbmQoLXRoaXMuX3N0cmVuZ3RoX3gsdGhpcy5fc3RyZW5ndGhfeCk7XG4gICAgICAgIGxldCByYW5keSA9IHRoaXMuZmdSYW5nZVJhbmQoLXRoaXMuX3N0cmVuZ3RoX3ksdGhpcy5fc3RyZW5ndGhfeSk7XG4gICAgICAgIHRoaXMuZ2V0VGFyZ2V0KCkuc2V0UG9zaXRpb24ocmFuZHggKyB0aGlzLl9pbml0aWFsX3gscmFuZHkgKyB0aGlzLl9pbml0aWFsX3kpO1xuICAgIH1cbiBcbiAgICBwdWJsaWMgc3RhcnRXaXRoVGFyZ2V0KHRhcmdldDpjYy5Ob2RlKTp2b2lkXG4gICAge1xuICAgICAgICBjYy5BY3Rpb25JbnRlcnZhbC5wcm90b3R5cGVbJ3N0YXJ0V2l0aFRhcmdldCddLmFwcGx5KHRoaXMsYXJndW1lbnRzKTtcbiAgICAgICAgdGhpcy5faW5pdGlhbF94ID0gdGFyZ2V0Lng7XG4gICAgICAgIHRoaXMuX2luaXRpYWxfeSA9IHRhcmdldC55O1xuICAgIH1cbiBcbiAgICBwdWJsaWMgc3RvcCgpOnZvaWRcbiAgICB7XG4gICAgICAgIHRoaXMuZ2V0VGFyZ2V0KCkuc2V0UG9zaXRpb24obmV3IGNjLlZlYzIodGhpcy5faW5pdGlhbF94LHRoaXMuX2luaXRpYWxfeSkpO1xuIFxuICAgICAgICBjYy5BY3Rpb25JbnRlcnZhbC5wcm90b3R5cGVbJ3N0b3AnXS5hcHBseSh0aGlzKTtcbiAgICB9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/game/LevelSelector.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b7942O9SJ1JFpcT0/D7YiFO', 'LevelSelector');
// framework/plugin_boosts/ui/game/LevelSelector.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, help = _a.help;
var LevelSelector = /** @class */ (function (_super) {
    __extends(LevelSelector, _super);
    function LevelSelector() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.pageview = null;
        _this.template = null;
        _this.onSelectLevel = new cc.Component.EventHandler();
        _this.onRefreshItem = new cc.Component.EventHandler();
        _this.index = 0;
        _this.max = 9;
        _this.itemCountPerPage = 0;
        _this.pages = [];
        _this.currentLevel = 1;
        _this.autoScrollToCurrentLevel = true;
        return _this;
        // update (dt) {}
    }
    LevelSelector.prototype.selectLevel = function (event, msg) {
        if (this.onSelectLevel)
            this.onSelectLevel.emit([event.target, Number(event.target.name)]);
        else
            console.warn("LevelSelector: onSelectLevel callback is nil");
    };
    LevelSelector.prototype.onLoad = function () {
        this.pages.splice(0, this.pages.length);
        this.itemCountPerPage = this.template.childrenCount;
        var pageCount = Math.floor(this.max / this.itemCountPerPage);
        var mod = this.max % this.itemCountPerPage;
        if (mod > 0) {
            pageCount = pageCount + 1;
        }
        for (var i = 0; i < pageCount - 1; i++) {
            var page = cc.instantiate(this.template);
            this.pageview.addPage(page);
            this.pages.push(page);
        }
        this.pages.push(this.template);
        for (var pageIdx = 0; pageIdx < pageCount; pageIdx++) {
            var page = this.pages[pageIdx];
            for (var itemIdx = 0; itemIdx < page.childrenCount; itemIdx++) {
                var item = page.children[itemIdx];
                var label = item.getChildByName("label");
                var level = pageIdx * this.itemCountPerPage + Number(itemIdx) + 1;
                if (level > this.max) {
                    item.active = false;
                }
                item.name = level + "";
                label.getComponent(cc.Label).string = item.name;
            }
        }
    };
    LevelSelector.prototype.refreshItem = function (item, level) {
        var lv = this.currentLevel;
        if (level > lv) {
            item.opacity = 100;
            item.getComponent(cc.Button).enabled = false;
        }
        else {
            item.opacity = 255;
            item.getComponent(cc.Button).enabled = true;
        }
    };
    LevelSelector.prototype.refresh = function () {
        console.log("LevelSelctor: refresh");
        for (var i = 0; i < this.pages.length; i++) {
            var page = this.pages[i];
            for (var itemIdx = 0; itemIdx < page.childrenCount; itemIdx++) {
                var item = page.children[itemIdx];
                var level = i * this.itemCountPerPage + Number(itemIdx) + 1;
                this.refreshItem(item, level);
                this.onRefreshItem.emit([item, level]);
            }
        }
        if (this.autoScrollToCurrentLevel)
            this.scrollToCurrentLevel();
    };
    LevelSelector.prototype.start = function () {
    };
    LevelSelector.prototype.scrollToCurrentLevel = function () {
        var lv = this.currentLevel;
        var curPage = Math.floor(lv / this.itemCountPerPage);
        var mod = lv % this.itemCountPerPage;
        if (mod == 0) {
            curPage = curPage - 1;
        }
        this.pageview.scrollToPage(curPage, 0.3);
    };
    LevelSelector.prototype.nextPage = function () {
        this.pageview.scrollToPage(this.pageview.getCurrentPageIndex() + 1, 0.3);
    };
    LevelSelector.prototype.prevPage = function () {
        this.pageview.scrollToPage(this.pageview.getCurrentPageIndex() - 1, 0.3);
    };
    __decorate([
        property(cc.PageView)
    ], LevelSelector.prototype, "pageview", void 0);
    __decorate([
        property(cc.Node)
    ], LevelSelector.prototype, "template", void 0);
    __decorate([
        property(cc.Component.EventHandler)
    ], LevelSelector.prototype, "onSelectLevel", void 0);
    __decorate([
        property(cc.Component.EventHandler)
    ], LevelSelector.prototype, "onRefreshItem", void 0);
    __decorate([
        property
    ], LevelSelector.prototype, "index", void 0);
    __decorate([
        property
    ], LevelSelector.prototype, "max", void 0);
    LevelSelector = __decorate([
        ccclass
    ], LevelSelector);
    return LevelSelector;
}(cc.Component));
exports.default = LevelSelector;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcZ2FtZVxcTGV2ZWxTZWxlY3Rvci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ00sSUFBQSxLQUEyQixFQUFFLENBQUMsVUFBVSxFQUF2QyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQUEsRUFBQyxJQUFJLFVBQWlCLENBQUM7QUFHL0M7SUFBMkMsaUNBQVk7SUFBdkQ7UUFBQSxxRUFxSUM7UUFsSUcsY0FBUSxHQUFnQixJQUFJLENBQUE7UUFHNUIsY0FBUSxHQUFXLElBQUksQ0FBQztRQUd4QixtQkFBYSxHQUE2QixJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsWUFBWSxFQUFFLENBQUM7UUFHMUUsbUJBQWEsR0FBNkIsSUFBSSxFQUFFLENBQUMsU0FBUyxDQUFDLFlBQVksRUFBRSxDQUFDO1FBRzFFLFdBQUssR0FBVyxDQUFDLENBQUM7UUFHbEIsU0FBRyxHQUFXLENBQUMsQ0FBQztRQUVoQixzQkFBZ0IsR0FBVyxDQUFDLENBQUM7UUFFN0IsV0FBSyxHQUFhLEVBQUUsQ0FBQztRQUVyQixrQkFBWSxHQUFVLENBQUMsQ0FBQztRQVV4Qiw4QkFBd0IsR0FBVyxJQUFJLENBQUM7O1FBa0d4QyxpQkFBaUI7SUFDckIsQ0FBQztJQTNHRyxtQ0FBVyxHQUFYLFVBQVksS0FBSyxFQUFDLEdBQUc7UUFFakIsSUFBRyxJQUFJLENBQUMsYUFBYTtZQUNqQixJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxDQUFDLEtBQUssQ0FBQyxNQUFNLEVBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBOztZQUVqRSxPQUFPLENBQUMsSUFBSSxDQUFDLDhDQUE4QyxDQUFDLENBQUE7SUFDcEUsQ0FBQztJQUlELDhCQUFNLEdBQU47UUFFSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEVBQUMsSUFB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LEdBQUMsQ0FBQyxFQUFDLEdBQUcsQ0FBQyxDQUFBO0lBQ3pFLENBQUM7SUFFRCxnQ0FBUSxHQUFSO1FBRUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxtQkFBbUIsRUFBRSxHQUFDLENBQUMsRUFBQyxHQUFHLENBQUMsQ0FBQTtJQUN6RSxDQUFDO0lBN0hEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxRQUFRLENBQUM7bURBQ007SUFHNUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzttREFDTTtJQUd4QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLFlBQVksQ0FBQzt3REFDc0M7SUFHMUU7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxZQUFZLENBQUM7d0RBQ3NDO0lBRzFFO1FBREMsUUFBUTtnREFDUztJQUdsQjtRQURDLFFBQVE7OENBQ087SUFsQkMsYUFBYTtRQURqQyxPQUFPO09BQ2EsYUFBYSxDQXFJakM7SUFBRCxvQkFBQztDQXJJRCxBQXFJQyxDQXJJMEMsRUFBRSxDQUFDLFNBQVMsR0FxSXREO2tCQXJJb0IsYUFBYSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5LGhlbHB9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExldmVsU2VsZWN0b3IgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgQHByb3BlcnR5KGNjLlBhZ2VWaWV3KVxuICAgIHBhZ2V2aWV3IDpjYy5QYWdlVmlldyA9IG51bGxcblxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxuICAgIHRlbXBsYXRlOmNjLk5vZGUgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLkNvbXBvbmVudC5FdmVudEhhbmRsZXIpXG4gICAgb25TZWxlY3RMZXZlbDpjYy5Db21wb25lbnQuRXZlbnRIYW5kbGVyID0gbmV3IGNjLkNvbXBvbmVudC5FdmVudEhhbmRsZXIoKTtcblxuICAgIEBwcm9wZXJ0eShjYy5Db21wb25lbnQuRXZlbnRIYW5kbGVyKVxuICAgIG9uUmVmcmVzaEl0ZW06Y2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlciA9IG5ldyBjYy5Db21wb25lbnQuRXZlbnRIYW5kbGVyKCk7XG5cbiAgICBAcHJvcGVydHlcbiAgICBpbmRleCA6bnVtYmVyID0gMDtcblxuICAgIEBwcm9wZXJ0eVxuICAgIG1heDogbnVtYmVyID0gOTtcblxuICAgIGl0ZW1Db3VudFBlclBhZ2U6IG51bWJlciA9IDA7XG5cbiAgICBwYWdlczpjYy5Ob2RlW10gPSBbXTtcblxuICAgIGN1cnJlbnRMZXZlbDpudW1iZXIgPSAxO1xuXG4gICAgc2VsZWN0TGV2ZWwoZXZlbnQsbXNnKVxuICAgIHtcbiAgICAgICAgaWYodGhpcy5vblNlbGVjdExldmVsKVxuICAgICAgICAgICAgdGhpcy5vblNlbGVjdExldmVsLmVtaXQoW2V2ZW50LnRhcmdldCxOdW1iZXIoZXZlbnQudGFyZ2V0Lm5hbWUpXSlcbiAgICAgICAgZWxzZVxuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiTGV2ZWxTZWxlY3Rvcjogb25TZWxlY3RMZXZlbCBjYWxsYmFjayBpcyBuaWxcIilcbiAgICB9XG5cbiAgICBhdXRvU2Nyb2xsVG9DdXJyZW50TGV2ZWw6Ym9vbGVhbiA9IHRydWU7XG5cbiAgICBvbkxvYWQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5wYWdlcy5zcGxpY2UoMCx0aGlzLnBhZ2VzLmxlbmd0aCk7XG4gICAgICAgIHRoaXMuaXRlbUNvdW50UGVyUGFnZSA9IHRoaXMudGVtcGxhdGUuY2hpbGRyZW5Db3VudDtcbiAgICAgICAgbGV0IHBhZ2VDb3VudCA9IE1hdGguZmxvb3IodGhpcy5tYXgvdGhpcy5pdGVtQ291bnRQZXJQYWdlKTtcbiAgICAgICAgbGV0IG1vZCA9IHRoaXMubWF4JXRoaXMuaXRlbUNvdW50UGVyUGFnZSBcbiAgICAgICAgaWYgKG1vZCA+IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBhZ2VDb3VudCA9IHBhZ2VDb3VudCArIDE7XG4gICAgICAgIH1cbiAgICAgICAgZm9yICh2YXIgaSA9IDAgO2kgPCBwYWdlQ291bnQgLTEgO2krKylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHBhZ2UgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnRlbXBsYXRlKVxuICAgICAgICAgICAgdGhpcy5wYWdldmlldy5hZGRQYWdlKHBhZ2UpOyBcbiAgICAgICAgICAgIHRoaXMucGFnZXMucHVzaChwYWdlKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnBhZ2VzLnB1c2godGhpcy50ZW1wbGF0ZSk7XG4gICAgICAgIGZvciAodmFyIHBhZ2VJZHggPSAwIDtwYWdlSWR4IDwgcGFnZUNvdW50OyBwYWdlSWR4KysgKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgcGFnZSA9IHRoaXMucGFnZXNbcGFnZUlkeF07XG4gICAgICAgICAgICBmb3IgKHZhciBpdGVtSWR4ID0gMDsgaXRlbUlkeCA8IHBhZ2UuY2hpbGRyZW5Db3VudDtpdGVtSWR4ICsrIClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgaXRlbSA9IHBhZ2UuY2hpbGRyZW5baXRlbUlkeF07XG4gICAgICAgICAgICAgICAgbGV0IGxhYmVsID0gaXRlbS5nZXRDaGlsZEJ5TmFtZShcImxhYmVsXCIpO1xuICAgICAgICAgICAgICAgIGxldCBsZXZlbCA9IHBhZ2VJZHggKiB0aGlzLml0ZW1Db3VudFBlclBhZ2UgKyBOdW1iZXIoaXRlbUlkeCkgKyAxIDtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgICAgICBpZiAobGV2ZWwgPiB0aGlzLm1heClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGl0ZW0uYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGl0ZW0ubmFtZSA9IGxldmVsICtcIlwiO1xuICAgICAgICAgICAgICAgIGxhYmVsLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gaXRlbS5uYW1lO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBwcml2YXRlIHJlZnJlc2hJdGVtKGl0ZW0sbGV2ZWwpXG4gICAge1xuICAgICAgICBsZXQgbHYgPSB0aGlzLmN1cnJlbnRMZXZlbDtcbiAgICAgICAgaWYgKGxldmVsID4gbHYpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGl0ZW0ub3BhY2l0eSA9IDEwMDtcbiAgICAgICAgICAgIGl0ZW0uZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGl0ZW0ub3BhY2l0eSA9IDI1NTtcbiAgICAgICAgICAgIGl0ZW0uZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbikuZW5hYmxlZCA9IHRydWU7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZWZyZXNoKClcbiAgICB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiTGV2ZWxTZWxjdG9yOiByZWZyZXNoXCIpXG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpPCB0aGlzLnBhZ2VzLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBwYWdlID0gdGhpcy5wYWdlc1tpXTtcbiAgICAgICAgICAgIGZvciAodmFyIGl0ZW1JZHggPSAwOyBpdGVtSWR4IDwgcGFnZS5jaGlsZHJlbkNvdW50O2l0ZW1JZHggKysgKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCBpdGVtID0gcGFnZS5jaGlsZHJlbltpdGVtSWR4XTtcbiAgICAgICAgICAgICAgICBsZXQgbGV2ZWwgPSBpICogdGhpcy5pdGVtQ291bnRQZXJQYWdlICsgTnVtYmVyKGl0ZW1JZHgpICsgMSA7XG4gICAgICAgICAgICAgICAgdGhpcy5yZWZyZXNoSXRlbShpdGVtLGxldmVsKTtcbiAgICAgICAgICAgICAgICB0aGlzLm9uUmVmcmVzaEl0ZW0uZW1pdChbaXRlbSxsZXZlbF0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5hdXRvU2Nyb2xsVG9DdXJyZW50TGV2ZWwpXG4gICAgICAgICAgICB0aGlzLnNjcm9sbFRvQ3VycmVudExldmVsKClcbiAgICB9XG5cbiAgICBzdGFydCAoKSB7XG4gICAgICAgIFxuICAgIH1cblxuICAgIHNjcm9sbFRvQ3VycmVudExldmVsKClcbiAgICB7XG4gICAgICAgIGxldCBsdiA9IHRoaXMuY3VycmVudExldmVsO1xuICAgICAgICBsZXQgY3VyUGFnZSA9IE1hdGguZmxvb3IobHYvdGhpcy5pdGVtQ291bnRQZXJQYWdlKTtcbiAgICAgICAgbGV0IG1vZCA9IGx2JXRoaXMuaXRlbUNvdW50UGVyUGFnZSBcbiAgICAgICAgaWYgKG1vZCA9PSAgMClcbiAgICAgICAge1xuICAgICAgICAgICAgY3VyUGFnZSA9IGN1clBhZ2UgLSAxO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMucGFnZXZpZXcuc2Nyb2xsVG9QYWdlKGN1clBhZ2UsMC4zKTtcbiAgICB9XG5cbiAgICBuZXh0UGFnZSgpXG4gICAge1xuICAgICAgICB0aGlzLnBhZ2V2aWV3LnNjcm9sbFRvUGFnZSh0aGlzLnBhZ2V2aWV3LmdldEN1cnJlbnRQYWdlSW5kZXgoKSsxLDAuMylcbiAgICB9XG5cbiAgICBwcmV2UGFnZSgpXG4gICAge1xuICAgICAgICB0aGlzLnBhZ2V2aWV3LnNjcm9sbFRvUGFnZSh0aGlzLnBhZ2V2aWV3LmdldEN1cnJlbnRQYWdlSW5kZXgoKS0xLDAuMylcbiAgICB9XG5cblxuXG4gICAgLy8gdXBkYXRlIChkdCkge31cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/screenRecord/screenrecordAuto.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '71551ofyTNLwYogYvGLy2hf', 'screenrecordAuto');
// gameComon/screenRecord/screenrecordAuto.js

"use strict";

// Learn cc.Class:
//  - https://docs.cocos.com/creator/manual/en/scripting/class.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var recorder;
var screenTime;
var ScreenAuto = cc.Class({
  properties: {},
  ctor: function ctor() {
    this.instance = null;
  },
  statics: {
    create: function create(data) {
      if (!this.instance) {
        this.instance = new ScreenAuto();
        this.instance.initWithData(data);
        return this.instance;
      }
    }
  },
  onDestroy: function onDestroy() {
    clearTimeout(screenTime);
  },
  initWithData: function initWithData(data) {},
  playScreenCap: function playScreenCap(caping) {
    if (cc.sys.platform == cc.sys.BYTEDANCE_GAME) {
      //头条平台
      if (caping) {
        appGame.isClick = false;
        screenTime = setTimeout(function () {
          console.log("setTimeout");
          appGame.isClick = true;
          clearTimeout(screenTime);
        }.bind(this), 5000);
        if (!recorder) recorder = tt.getGameRecorderManager();
        recorder.start({
          duration: 10000
        });
        recorder.onStart(function (res) {
          console.log('开始录屏');
        });
        recorder.onStop(function (res) {
          console.log('录屏结束==' + res.videoPath);
          appGame.screenPath = res.videoPath;
        });
      } else {
        clearTimeout(screenTime);
        console.log("clearTimeout");
        if (!recorder) recorder = tt.getGameRecorderManager();
        recorder.stop();
        recorder.onStop(function (res) {
          appGame.screenPath = res.videoPath;
        });
      }
    }
  }
});
module.exports = ScreenAuto;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JlZW5SZWNvcmRcXHNjcmVlbnJlY29yZEF1dG8uanMiXSwibmFtZXMiOlsicmVjb3JkZXIiLCJzY3JlZW5UaW1lIiwiU2NyZWVuQXV0byIsImNjIiwiQ2xhc3MiLCJwcm9wZXJ0aWVzIiwiY3RvciIsImluc3RhbmNlIiwic3RhdGljcyIsImNyZWF0ZSIsImRhdGEiLCJpbml0V2l0aERhdGEiLCJvbkRlc3Ryb3kiLCJjbGVhclRpbWVvdXQiLCJwbGF5U2NyZWVuQ2FwIiwiY2FwaW5nIiwic3lzIiwicGxhdGZvcm0iLCJCWVRFREFOQ0VfR0FNRSIsImFwcEdhbWUiLCJpc0NsaWNrIiwic2V0VGltZW91dCIsImNvbnNvbGUiLCJsb2ciLCJiaW5kIiwidHQiLCJnZXRHYW1lUmVjb3JkZXJNYW5hZ2VyIiwic3RhcnQiLCJkdXJhdGlvbiIsIm9uU3RhcnQiLCJyZXMiLCJvblN0b3AiLCJ2aWRlb1BhdGgiLCJzY3JlZW5QYXRoIiwic3RvcCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSUEsUUFBSjtBQUNBLElBQUlDLFVBQUo7QUFDQSxJQUFJQyxVQUFVLEdBQUdDLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTO0FBQ3RCQyxFQUFBQSxVQUFVLEVBQUUsRUFEVTtBQUd0QkMsRUFBQUEsSUFIc0Isa0JBR2hCO0FBQ0YsU0FBS0MsUUFBTCxHQUFnQixJQUFoQjtBQUNILEdBTHFCO0FBTXRCQyxFQUFBQSxPQUFPLEVBQUU7QUFDTEMsSUFBQUEsTUFBTSxFQUFFLGdCQUFVQyxJQUFWLEVBQWdCO0FBQ3BCLFVBQUcsQ0FBQyxLQUFLSCxRQUFULEVBQWtCO0FBQ2QsYUFBS0EsUUFBTCxHQUFnQixJQUFJTCxVQUFKLEVBQWhCO0FBQ0EsYUFBS0ssUUFBTCxDQUFjSSxZQUFkLENBQTJCRCxJQUEzQjtBQUNBLGVBQU8sS0FBS0gsUUFBWjtBQUNIO0FBQ0o7QUFQSSxHQU5hO0FBZXRCSyxFQUFBQSxTQWZzQix1QkFlWDtBQUNQQyxJQUFBQSxZQUFZLENBQUNaLFVBQUQsQ0FBWjtBQUNILEdBakJxQjtBQWtCdEJVLEVBQUFBLFlBbEJzQix3QkFrQlRELElBbEJTLEVBa0JKLENBQ2pCLENBbkJxQjtBQXFCdEJJLEVBQUFBLGFBckJzQix5QkFxQlJDLE1BckJRLEVBcUJEO0FBSWpCLFFBQUdaLEVBQUUsQ0FBQ2EsR0FBSCxDQUFPQyxRQUFQLElBQW1CZCxFQUFFLENBQUNhLEdBQUgsQ0FBT0UsY0FBN0IsRUFBNEM7QUFBRTtBQUMxQyxVQUFHSCxNQUFILEVBQVU7QUFDTkksUUFBQUEsT0FBTyxDQUFDQyxPQUFSLEdBQWtCLEtBQWxCO0FBQ0FuQixRQUFBQSxVQUFVLEdBQUdvQixVQUFVLENBQUMsWUFBVztBQUMvQkMsVUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksWUFBWjtBQUNBSixVQUFBQSxPQUFPLENBQUNDLE9BQVIsR0FBa0IsSUFBbEI7QUFDQVAsVUFBQUEsWUFBWSxDQUFDWixVQUFELENBQVo7QUFDSCxTQUp1QixDQUl0QnVCLElBSnNCLENBSWpCLElBSmlCLENBQUQsRUFJVCxJQUpTLENBQXZCO0FBTUEsWUFBRyxDQUFDeEIsUUFBSixFQUFjQSxRQUFRLEdBQUd5QixFQUFFLENBQUNDLHNCQUFILEVBQVg7QUFDZDFCLFFBQUFBLFFBQVEsQ0FBQzJCLEtBQVQsQ0FBZTtBQUNYQyxVQUFBQSxRQUFRLEVBQUU7QUFEQyxTQUFmO0FBSUE1QixRQUFBQSxRQUFRLENBQUM2QixPQUFULENBQWlCLFVBQUFDLEdBQUcsRUFBRztBQUNuQlIsVUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksTUFBWjtBQUNILFNBRkQ7QUFJQXZCLFFBQUFBLFFBQVEsQ0FBQytCLE1BQVQsQ0FBZ0IsVUFBQUQsR0FBRyxFQUFHO0FBQ2xCUixVQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxXQUFTTyxHQUFHLENBQUNFLFNBQXpCO0FBQ0FiLFVBQUFBLE9BQU8sQ0FBQ2MsVUFBUixHQUFxQkgsR0FBRyxDQUFDRSxTQUF6QjtBQUNILFNBSEQ7QUFJSCxPQXJCRCxNQXFCSztBQUNEbkIsUUFBQUEsWUFBWSxDQUFDWixVQUFELENBQVo7QUFDQXFCLFFBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLGNBQVo7QUFDQSxZQUFHLENBQUN2QixRQUFKLEVBQWNBLFFBQVEsR0FBR3lCLEVBQUUsQ0FBQ0Msc0JBQUgsRUFBWDtBQUNkMUIsUUFBQUEsUUFBUSxDQUFDa0MsSUFBVDtBQUNBbEMsUUFBQUEsUUFBUSxDQUFDK0IsTUFBVCxDQUFnQixVQUFDRCxHQUFELEVBQVM7QUFDckJYLFVBQUFBLE9BQU8sQ0FBQ2MsVUFBUixHQUFxQkgsR0FBRyxDQUFDRSxTQUF6QjtBQUNILFNBRkQ7QUFHSDtBQUNKO0FBQ0o7QUF6RHFCLENBQVQsQ0FBakI7QUEyREFHLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmxDLFVBQWpCIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBjYy5DbGFzczpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvY2xhc3MuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxudmFyIHJlY29yZGVyO1xyXG52YXIgc2NyZWVuVGltZTtcclxudmFyIFNjcmVlbkF1dG8gPSBjYy5DbGFzcyh7XHJcbiAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICB9LFxyXG4gICAgY3Rvcigpe1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBudWxsO1xyXG4gICAgfSxcclxuICAgIHN0YXRpY3M6IHtcclxuICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmKCF0aGlzLmluc3RhbmNlKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UgPSBuZXcgU2NyZWVuQXV0bygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5pbml0V2l0aERhdGEoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBvbkRlc3Ryb3koKXtcclxuICAgICAgICBjbGVhclRpbWVvdXQoc2NyZWVuVGltZSk7XHJcbiAgICB9LFxyXG4gICAgaW5pdFdpdGhEYXRhKGRhdGEpe1xyXG4gICAgfSxcclxuXHJcbiAgICBwbGF5U2NyZWVuQ2FwKGNhcGluZyl7XHJcbiBcclxuXHJcbiAgICBcclxuICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLkJZVEVEQU5DRV9HQU1FKXsgLy/lpLTmnaHlubPlj7BcclxuICAgICAgICAgICAgaWYoY2FwaW5nKXtcclxuICAgICAgICAgICAgICAgIGFwcEdhbWUuaXNDbGljayA9IGZhbHNlO1xyXG4gICAgICAgICAgICAgICAgc2NyZWVuVGltZSA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJzZXRUaW1lb3V0XCIpXHJcbiAgICAgICAgICAgICAgICAgICAgYXBwR2FtZS5pc0NsaWNrID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoc2NyZWVuVGltZSk7XHJcbiAgICAgICAgICAgICAgICB9LmJpbmQodGhpcyksIDUwMDApO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgICAgaWYoIXJlY29yZGVyKSByZWNvcmRlciA9IHR0LmdldEdhbWVSZWNvcmRlck1hbmFnZXIoKTtcclxuICAgICAgICAgICAgICAgIHJlY29yZGVyLnN0YXJ0KHtcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMDAsXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICBcclxuICAgICAgICAgICAgICAgIHJlY29yZGVyLm9uU3RhcnQocmVzID0+e1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCflvIDlp4vlvZXlsY8nKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIFxyXG4gICAgICAgICAgICAgICAgcmVjb3JkZXIub25TdG9wKHJlcyA9PntcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5b2V5bGP57uT5p2fPT0nK3Jlcy52aWRlb1BhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcEdhbWUuc2NyZWVuUGF0aCA9IHJlcy52aWRlb1BhdGg7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICBjbGVhclRpbWVvdXQoc2NyZWVuVGltZSk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImNsZWFyVGltZW91dFwiKVxyXG4gICAgICAgICAgICAgICAgaWYoIXJlY29yZGVyKSByZWNvcmRlciA9IHR0LmdldEdhbWVSZWNvcmRlck1hbmFnZXIoKTtcclxuICAgICAgICAgICAgICAgIHJlY29yZGVyLnN0b3AoKTtcclxuICAgICAgICAgICAgICAgIHJlY29yZGVyLm9uU3RvcCgocmVzKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwR2FtZS5zY3JlZW5QYXRoID0gcmVzLnZpZGVvUGF0aDtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KTtcclxubW9kdWxlLmV4cG9ydHMgPSBTY3JlZW5BdXRvO1xyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/model/androidHelper.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e14abL3OJ9GPoS9lM+R5fsf', 'androidHelper');
// gameComon/scripts/model/androidHelper.js

"use strict";

module.exports = {
  start: function start() {},

  /**
   * 获取平台
   */
  getPhonePlatFrom: function getPhonePlatFrom() {
    var platFrom = jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper", "getPhonePlatFrom", "()Ljava/lang/String;");
    return platFrom;
  },

  /**
   * 获取游戏名称（预留下次大版本更新使用接口）
   */
  getGameName: function getGameName() {
    var game = jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper", "getGameName", "()Ljava/lang/String;");
    return game;
  },

  /**
   * android曾进入creator中间黑屏，android层展示大图，调用方法删除大图
   */
  clearWelcomeImage: function clearWelcomeImage() {
    console.log("clear welcome image...");

    if (cc.sys.os == cc.sys.OS_ANDROID) {
      jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity", "removeLaunchImage", "()V");
    }
  },

  /**
   * 换头像
   */
  replacePhoto: function replacePhoto(info, cb) {
    cc.eventManager.removeCustomListeners('updateImag');
    cc.eventManager.addCustomListener('updateImag', function (event) {
      cb(event.getUserData().a);
    });
    jsb.reflection.callStaticMethod("org/cocos2dx/Photo", "getLocalImag", "(Ljava/lang/String;)Ljava/lang/String;", info);
  },

  /**
   * 获取平台id
   */
  getPhonePlatFromType: function getPhonePlatFromType() {
    var platFromType = jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper", "getPhoneType", "()Ljava/lang/String;");
    return parseInt(platFromType);
  },

  /**
   * 获取当前版本
   */
  getVersion: function getVersion() {
    var version = jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper", "getLocationVersion", "()Ljava/lang/String;");
    return version;
  },

  /**
   * 获取子版本号
   */
  getChildVersion: function getChildVersion() {
    var childVersion = jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper", "getChildVersion", "()Ljava/lang/String;");
    return childVersion;
  },

  /**
  * 获取手机型号
  */
  getPhoneModel: function getPhoneModel() {
    var model = jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper", "getPhoneModel", "()Ljava/lang/String;");
    return model;
  },

  /**
   * 获取手机设备号
   */
  getPhoneDeviceID: function getPhoneDeviceID() {
    var deviceId = jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper", "deviceID", "()Ljava/lang/String;");
    return deviceId;
  },

  /**
   * 该方法只为获取应用宝登录token是否失效
   */
  getYybIsLogin: function getYybIsLogin() {
    var isLogin = jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper", "isYybLogin", "()Ljava/lang/String;");
    return isLogin;
  },

  /**
   * 获取邀请码
   */
  getInviteCode: function getInviteCode() {
    var inviteCode = jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper", "getInviteInformation", "()Ljava/lang/String;");
    return inviteCode;
  },

  /**
   * 获取房间号
   */
  getRoomNum: function getRoomNum() {
    var roomNum = jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper", "getHouseInformation", "()Ljava/lang/String;");
    return roomNum;
  },

  /**
   * 四种登录模式,qq登陆
   */
  qqLogin: function qqLogin(cb) {
    cc.eventManager.removeCustomListeners('qqLoginResult');
    cc.eventManager.addCustomListener('qqLoginResult', function (event) {
      cb(event.getUserData().a);
    });
    jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper", "qqLogin", "()V");
  },

  /**
   * 四种登录模式,微信登陆
   */
  wechatLogin: function wechatLogin(cb) {
    cc.eventManager.removeCustomListeners('wechatLoginResult');
    cc.eventManager.addCustomListener('wechatLoginResult', function (event) {
      cb(event.getUserData().a);
    });
    jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper", "wechatLogin", "()V");
  },

  /**
   * 四种登录模式,设备登陆
   */
  deviceLogin: function deviceLogin() {
    var version = jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper", "deviceLogin", "(Ljava/lang/String;)Ljava/lang/String;", "");
    return version;
  },

  /**
   * 三种支付，微信支付
   */
  wechatPay: function wechatPay(payment, cb) {
    cc.eventManager.removeCustomListeners('wechatPayResult');
    cc.eventManager.addCustomListener('wechatPayResult', function (event) {
      cb(event.getUserData().a);
    });
    jsb.reflection.callStaticMethod("org/cocos2dx/WechatPay", "wechatPay", "(Ljava/lang/String;)Ljava/lang/String;", payment);
  },

  /**
   * 三种支付，支付宝支付
   */
  alipayPay: function alipayPay(payment, cb) {
    cc.eventManager.removeCustomListeners('alipayPayResult');
    cc.eventManager.addCustomListener('alipayPayResult', function (event) {
      cb(event.getUserData().a);
    });
    jsb.reflection.callStaticMethod("org/cocos2dx/AlipayPay", "alipayPay", "(Ljava/lang/String;)Ljava/lang/String;", payment);
  },

  /**
   * 分享 type :0：好友文字分享，2：朋友圈分享，1:朋友圈图片分享，3好友图片分享
   */
  wechatShare: function wechatShare(payment, cb) {
    cc.eventManager.removeCustomListeners('shareWechatResult');
    cc.eventManager.addCustomListener('shareWechatResult', function (event) {
      cb(Number(event.getUserData().a));
    });
    jsb.reflection.callStaticMethod("org/cocos2dx/WeChat", "useWeiXin", "(Ljava/lang/String;I)V", payment.str, payment.type);
  },

  /**
   * 打开微信
   */
  openWechat: function openWechat() {
    jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper", "openWechat", "()V");
  },

  /**
   * 打开qq
   */
  openQQ: function openQQ() {
    jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper", "qqHelp", "(Ljava/lang/String;)V", "2983816547");
  },

  /**
   * 播放网络音乐
   */
  playNetSound: function playNetSound(info, cb) {
    //info:url 地址
    cc.eventManager.removeCustomListeners('playNetSoundOver');
    cc.eventManager.addCustomListener('playNetSoundOver', function (event) {
      //监听播放完毕返回
      cb(event.getUserData().a);
    });
    jsb.reflection.callStaticMethod("org/cocos2dx/SoundInfo", "playNetSound", "(Ljava/lang/String;)V", info);
  },

  /**
   * 开始录音
   */
  playRecorderBegin: function playRecorderBegin() {
    jsb.reflection.callStaticMethod("org/cocos2dx/SoundInfo", "playRecorderBegin", "()V");
  },

  /**
   * 录音结束
   */
  playRecorderEnd: function playRecorderEnd() {
    //传入七牛网盘生成地址需要的url前缀，name文件名，token。
    jsb.reflection.callStaticMethod("org/cocos2dx/SoundInfo", "playRecorderEnd", "()V");
  },

  /**
   * 上传录音
   */
  uploadRecorder: function uploadRecorder() {
    cc.eventManager.removeCustomListeners('playSoundUrl');
    app.playerMgr.getRecordToken(function (data) {
      cc.eventManager.addCustomListener('playSoundUrl', function (event) {
        app.playerMgr.uploadRecord(event.getUserData().a, function (data) {});
      });
      jsb.reflection.callStaticMethod("org/cocos2dx/SoundInfo", "uploadRecorder", "(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V", data.url, data.name, data.token);
    });
  },

  /**
   * 获取地理位置
   */
  getLocationInfo: function getLocationInfo(cb) {
    //经纬度以###分开
    if (app.creatorPlatformType == 1 || app.creatorPlatformType == 2) {
      cc.eventManager.removeCustomListeners('baiDuLocationResult');
      cc.eventManager.addCustomListener('baiDuLocationResult', function (event) {
        var pos = event.getUserData().a.split('###'); // 前面精度，后面纬度

        cb({
          x: pos[0],
          y: pos[1]
        });
      });
      jsb.reflection.callStaticMethod("org/cocos2dx/Map", "getLocationInfo", "(Ljava/lang/String;)V", "cocos");
    } else {
      var pos = '108.883452###34.232702'.split('###'); // 前面精度，后面纬度

      cb({
        x: pos[0],
        y: pos[1]
      });
    }
  },

  /**
   * 打开权限设置
   */
  openSetting: function openSetting() {
    jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper", "openSetting", "()V");
  },

  /**
  * 获取手机电量
  */
  getPhoneElectric: function getPhoneElectric(cb) {
    cc.eventManager.removeCustomListeners('getElectric');
    cc.eventManager.addCustomListener('getElectric', function (event) {
      cb(event.getUserData().a);
    });
  },

  /**
   * 检测大版本更新 
   */
  checkApkUpdate: function checkApkUpdate(hotVersion, childVersion, cb) {
    cc.eventManager.removeCustomListeners('havingnNewVersion');
    cc.eventManager.addCustomListener('havingnNewVersion', function (event) {
      cb(event.getUserData().a);
    });
    jsb.reflection.callStaticMethod("com/douyer/helper/VersionManager", "checkupVersion", "(Ljava/lang/String;Ljava/lang/String;)V", hotVersion, childVersion);
  },

  /**
     * 四种登录模式,第三方登陆
     */
  thirdLogin: function thirdLogin(info, cb) {
    //info只用在yyb平台
    if (app.phonePlatFrom == "huawei") {
      cc.eventManager.removeCustomListeners('accessToken');
      cc.eventManager.addCustomListener('accessToken', function (event) {
        cb(event.getUserData().a);
      });
      var buo = "MIICcwIBADANBgkqhkiG9w0BAQEFAASCAl0wggJZAgEAAoGBAIyo98FF4bIG0mxNGk2b7so/PBSajxYHYPb2lZQj7ebg6ODIq+6hFO2hdqQ+jOTlQVlVqeAqJncTVBsMPm3s+vrnp42RqzFMYo3b6214VQfjiPjjFXoXUYRU66vfqk5hjaz4TMNJ0BS+PcYB3Yn8dgrhSTrVRYfiYOEbUjy6EKMDAgMBAAECf33Sp807taiKcbBvSBgkZHaGGjhUCaqq7xH7gdICUc01YxuwZhwP+6iVxoslaONYMBy5hDwBeGcL4zBOw4mRcu+flIwNPLS7gZ3UM1XwnlIN6e2IjQSsYbIdXfQ/4Z4Mqhy+v1wv+IjBIR/4t2haxrKJKgVlSEds3tHBQZeko0ECQQD1MzTHtwHZoeP8UtCxUEE8cYoNXRg5lX69hx7y14Y4c//tksSWre2EDkMDzICkyndQrNwY38xrilT1ylO5TEchAkEAktsA4sn50qet+GUBO1T5UvyfhdBcBqZeeAVzpFf2Em1WgWGQGZxQ5ZnY9Uz6uvVMycdYhUfpoAiUZAyNcok5owJAXNfBwWlTIwPAnrcA3FLGEMvw+PRqCsvHTJ5QIqVm5hNOMbekBmXfDGSWDWcuwrcDDKIXSLfc4E9lshelMgFm4QJALwA2vV7lPP17mYdCKKoejefaampwOZSfoYwlIdEhKW6jBA+knf3Aimt926yChrmhlObfNvD4HccBLzAxSRoQPwJALQbPOM6lrHl2qCP+SoJI0xhmIFevkl181YYeXx+3hk1X/fSL/Y9mphaNcbOGc0qAWVhWkcjPeXoE9rzDrjFSmw==";
      jsb.reflection.callStaticMethod("com/helper/huawei/sdk/HuaWeiPay", "huaWeiInit", "(Ljava/lang/String;)V", buo);
    } else if (app.phonePlatFrom == "oppo") {
      cc.eventManager.removeCustomListeners('OloginResult');
      cc.eventManager.addCustomListener('OloginResult', function (event) {
        cb(event.getUserData().a);
      });
      jsb.reflection.callStaticMethod("org/cocos2dx/PayOPPO", "Ologin", "()V");
    } else if (app.phonePlatFrom == "telecom") {
      cc.eventManager.removeCustomListeners('dianxinLoginResult');
      cc.eventManager.addCustomListener('dianxinLoginResult', function (event) {
        cb(event.getUserData().a);
      });
      jsb.reflection.callStaticMethod("com/helper/dianxin/sdk/DianXinSdk", "gotoLogin", "()V");
    } else if (app.phonePlatFrom == "xiaomi" || app.phonePlatFrom == "meizu") {
      cc.eventManager.removeCustomListeners('YiSDKLoginCallBack');
      cc.eventManager.addCustomListener('YiSDKLoginCallBack', function (event) {
        cb(event.getUserData().a);
      });
      jsb.reflection.callStaticMethod("com/helper/yijie/sdk/Yisdk", "YiSDKInit", "(Ljava/lang/String;)V", 1);
    } else if (app.phonePlatFrom == "yyb") {
      cc.eventManager.removeCustomListeners('yybLoginResult');
      cc.eventManager.addCustomListener('yybLoginResult', function (event) {
        cb(event.getUserData().a);
      });
      jsb.reflection.callStaticMethod("com/helper/yyb/sdk/YYBhelper", "gotoLogin", "(Ljava/lang/String;)V", info);
    } else if (app.phonePlatFrom == "uc") {
      cc.eventManager.removeCustomListeners('loginResult');
      cc.eventManager.addCustomListener('loginResult', function (event) {
        cb(event.getUserData().a);
      });
      jsb.reflection.callStaticMethod("com/helper/uc/sdk/UcSdkCode", "ucInit", "()V");
    } else if (app.phonePlatFrom == "360") {
      cc.eventManager.removeCustomListeners('loginCallBack');
      cc.eventManager.addCustomListener('loginCallBack', function (event) {
        cb(event.getUserData().a);
      });
      jsb.reflection.callStaticMethod("com/helper/q360/sdk/Sdk360", "login360", "()V");
    }
  },

  /**
   * 三种支付，第三方支付
   */
  thirdPay: function thirdPay(payment, cb) {
    if (app.phonePlatFrom == "huawei") {
      cc.eventManager.removeCustomListeners('huaWeiPayResult');
      cc.eventManager.addCustomListener('huaWeiPayResult', function (event) {
        cb(event.getUserData().a);
      });
      jsb.reflection.callStaticMethod("com/helper/huawei/sdk/HuaWeiPay", "huaWeiPay", "(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V", payment.name, payment.price, payment.name, payment.orderNo, payment.key, payment.url);
    } else if (app.phonePlatFrom == "oppo") {
      cc.eventManager.removeCustomListeners('OpayResult');
      cc.eventManager.addCustomListener('OpayResult', function (event) {
        cb(event.getUserData().a);
      });
      jsb.reflection.callStaticMethod("org/cocos2dx/PayOPPO", "Opay", "(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V", payment.name, payment.url, payment.price, payment.orderNo);
    } else if (app.phonePlatFrom == "vivo") {
      cc.eventManager.removeCustomListeners('VPayResult');
      cc.eventManager.addCustomListener('VPayResult', function (event) {
        cb(event.getUserData().a);
      });
      jsb.reflection.callStaticMethod("com/helper/vivo/sdk/VivoSDK", "VPay", "(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V", payment.orderNo, payment.url, payment.name, payment.price);
    } else if (app.phonePlatFrom == "xiaomi" || app.phonePlatFrom == "meizu") {
      cc.eventManager.removeCustomListeners('YiSDKPayResult');
      cc.eventManager.addCustomListener('YiSDKPayResult', function (event) {
        cb(event.getUserData().a);
      });
      jsb.reflection.callStaticMethod("com/helper/yijie/sdk/Yisdk", "YiSDKPay", "(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V", payment.name, payment.price, payment.orderNo, payment.url);
    } else if (app.phonePlatFrom == "yyb") {
      cc.eventManager.removeCustomListeners('yybPayResult');
      cc.eventManager.addCustomListener('yybPayResult', function (event) {
        cb(event.getUserData().a);
      });
      jsb.reflection.callStaticMethod("com/helper/yyb/sdk/YYBhelper", "gotoPay", "(Ljava/lang/String;)V", payment.price);
    } else if (app.phonePlatFrom == "telecom") {
      cc.eventManager.removeCustomListeners('dianxinPayResult');
      cc.eventManager.addCustomListener('dianxinPayResult', function (event) {
        cb(event.getUserData().a);
      });
      jsb.reflection.callStaticMethod("com/helper/dianxin/sdk/DianXinSdk", "DianXinPay", "(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V", payment.price, payment.orderNo, payment.name);
    } else if (app.phonePlatFrom == "baidu") {
      cc.eventManager.removeCustomListeners('baiduResult');
      cc.eventManager.addCustomListener('baiduResult', function (event) {
        cb(event.getUserData().a);
      });
      jsb.reflection.callStaticMethod("com/helper/baidu/sdk/BaiduSdk", "pay", "(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V", payment.baiduPayId, payment.price, payment.name, payment.orderNo);
    } else if (app.phonePlatFrom == "uc" && app.appKey == "wk") {
      cc.eventManager.removeCustomListeners('payResult');
      cc.eventManager.addCustomListener('payResult', function (event) {
        cb(event.getUserData().a);
      });
      jsb.reflection.callStaticMethod("com/helper/uc/sdk/UcSdkCode", "ucSdkPay", "(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V", payment.price, payment.orderNo, payment.url, payment.accountId, payment.sign);
    } else if (app.phonePlatFrom == "uc" && app.appKey == "sd") {
      cc.eventManager.removeCustomListeners('payResult');
      cc.eventManager.addCustomListener('payResult', function (event) {
        cb(event.getUserData().a);
      });
      jsb.reflection.callStaticMethod("com/helper/uc/sdk/UcSdkCode", "ucSdkPay", "(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V", payment.name, payment.price, payment.orderNo, payment.url);
    } else if (app.phonePlatFrom == "360") {
      cc.eventManager.removeCustomListeners('sdk360PayResult');
      cc.eventManager.addCustomListener('sdk360PayResult', function (event) {
        cb(event.getUserData().a);
      });
      jsb.reflection.callStaticMethod("com/helper/q360/sdk/Sdk360", "pay360", "(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V", payment.price, payment.name, payment.id, payment.orderNo, payment.url);
    }
  },

  /**
    * 切换账号
    */
  loginOut: function loginOut(cb) {
    if (app.phonePlatFrom == "yyb") {
      cc.eventManager.removeCustomListeners('yybSDKLoginOutCallBack');
      cc.eventManager.addCustomListener('yybSDKLoginOutCallBack', function (event) {
        cb(event.getUserData().a);
      });
      jsb.reflection.callStaticMethod("com/helper/yyb/sdk/YYBhelper", "ChangeAccount", "()V");
    } else {
      cc.eventManager.removeCustomListeners('logOutOk');
      cc.eventManager.addCustomListener('logOutOk', function (event) {
        cb(event.getUserData().a);
      });
      jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper", "loginOut", "()V");
    }
  },

  /**
   * 退出游戏
   */
  exitGame: function exitGame() {
    if (app.phonePlatFrom == "huawei") {//调用游戏退出
    } else if (app.phonePlatFrom == "oppo") {
      jsb.reflection.callStaticMethod("org/cocos2dx/PayOPPO", "Oexit", "()V");
    } else if (app.phonePlatFrom == "xiaomi" || app.phonePlatFrom == "meizu" || app.phonePlatFrom == "yyb") {
      jsb.reflection.callStaticMethod("com/helper/yijie/sdk/Yisdk", "YiSDKExit", "()V");
    } else if (app.phonePlatFrom == "vivo") {
      jsb.reflection.callStaticMethod("com/helper/vivo/sdk/VivoSDK", "vivoLoginOut", "()V");
    } else if (app.phonePlatFrom == "telecom") {
      jsb.reflection.callStaticMethod("com/helper/dianxin/sdk/DianXinSdk", "dianxinSdkExit", "()V");
    } else if (app.phonePlatFrom == "baidu") {
      jsb.reflection.callStaticMethod("com/helper/baidu/sdk/BaiduSdk", "quitBaiDu", "()V");
    } else if (app.phonePlatFrom == "uc") {
      jsb.reflection.callStaticMethod("com/helper/uc/sdk/UcSdkCode", "ucSdkExit", "()V");
    } else if (app.phonePlatFrom == "360") {
      jsb.reflection.callStaticMethod("com/helper/q360/sdk/Sdk360", "quit360", "()V");
    }
  },

  /**
   * 监听网络
   */
  getNetworkInfo: function getNetworkInfo() {
    var network = jsb.reflection.callStaticMethod("org/cocos2dx/NetUtil", "checkNetworkInfoCreator", "()Ljava/lang/String;");
    return network;
  },

  /**
   * 调用app打开功能
   */
  installApk: function installApk(info) {
    //data
    jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper", "installApk", "(Ljava/lang/String;)V", info);
  },

  /**
  * 获取打开本地apk路径
  */
  getApkFile: function getApkFile() {
    var apkFile = jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper", "getApkFile", "()Ljava/lang/String;");
    return apkFile;
  },

  /**调用anroid层下载 */
  uploadApk: function uploadApk(url, name, cb) {
    cc.eventManager.removeCustomListeners('uploadApkProgress');
    cc.eventManager.addCustomListener('uploadApkProgress', function (event) {
      cb(event.getUserData().a);
    });
    jsb.reflection.callStaticMethod("org/cocos2dx/UploadApk", "uploadApkFromCreator", "(Ljava/lang/String;Ljava/lang/String;)V", url, name);
  },

  /**
   * 调用第三方浏览器
   */
  openUrl: function openUrl(url) {
    jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper", "openUrl", "(Ljava/lang/String;)V", url);
  },

  /**
   * 调用app内置浏览器 传入 url:打开地址，type:横竖牌显示(1:landscape ,2:portrait)，name :标头名
   */
  openInUrl: function openInUrl(url, type, name, isDownload, playerId, adId) {
    jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper", "openInUrl", "(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V", url, type, name, isDownload, playerId, adId);
  },

  /**
   * 停止下载
   */
  stopApkDownLoad: function stopApkDownLoad() {
    jsb.reflection.callStaticMethod("org/cocos2dx/UploadApk", "stopUpLoad", "()V");
  },
  setScreenChange: function setScreenChange(type) {
    //type:横竖牌显示(1:landscape ,2:portrait)
    jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper", "setScreenChange", "(Ljava/lang/String;)V", url);
  },

  /**调用anroid层是否安装 */
  judgeIfInstallApk: function judgeIfInstallApk(packgaeName, name) {
    // "true" "false"
    var judge = jsb.reflection.callStaticMethod("org/cocos2dx/UploadApk", "judgeIfInstallApk", "(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;", packgaeName, name);
    return judge;
  },

  /**
   * 备有接口 删除下载的所有文件
   */
  deleAllFiles: function deleAllFiles() {
    jsb.reflection.callStaticMethod("org/cocos2dx/UploadApk", "deleAllFiles", "()V");
  },
  //fuzhi
  copyToClipboard: function copyToClipboard(content) {
    jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper", "qpCopy", "(Ljava/lang/String;)V", content);
  }
};

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFxtb2RlbFxcYW5kcm9pZEhlbHBlci5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwic3RhcnQiLCJnZXRQaG9uZVBsYXRGcm9tIiwicGxhdEZyb20iLCJqc2IiLCJyZWZsZWN0aW9uIiwiY2FsbFN0YXRpY01ldGhvZCIsImdldEdhbWVOYW1lIiwiZ2FtZSIsImNsZWFyV2VsY29tZUltYWdlIiwiY29uc29sZSIsImxvZyIsImNjIiwic3lzIiwib3MiLCJPU19BTkRST0lEIiwicmVwbGFjZVBob3RvIiwiaW5mbyIsImNiIiwiZXZlbnRNYW5hZ2VyIiwicmVtb3ZlQ3VzdG9tTGlzdGVuZXJzIiwiYWRkQ3VzdG9tTGlzdGVuZXIiLCJldmVudCIsImdldFVzZXJEYXRhIiwiYSIsImdldFBob25lUGxhdEZyb21UeXBlIiwicGxhdEZyb21UeXBlIiwicGFyc2VJbnQiLCJnZXRWZXJzaW9uIiwidmVyc2lvbiIsImdldENoaWxkVmVyc2lvbiIsImNoaWxkVmVyc2lvbiIsImdldFBob25lTW9kZWwiLCJtb2RlbCIsImdldFBob25lRGV2aWNlSUQiLCJkZXZpY2VJZCIsImdldFl5YklzTG9naW4iLCJpc0xvZ2luIiwiZ2V0SW52aXRlQ29kZSIsImludml0ZUNvZGUiLCJnZXRSb29tTnVtIiwicm9vbU51bSIsInFxTG9naW4iLCJ3ZWNoYXRMb2dpbiIsImRldmljZUxvZ2luIiwid2VjaGF0UGF5IiwicGF5bWVudCIsImFsaXBheVBheSIsIndlY2hhdFNoYXJlIiwiTnVtYmVyIiwic3RyIiwidHlwZSIsIm9wZW5XZWNoYXQiLCJvcGVuUVEiLCJwbGF5TmV0U291bmQiLCJwbGF5UmVjb3JkZXJCZWdpbiIsInBsYXlSZWNvcmRlckVuZCIsInVwbG9hZFJlY29yZGVyIiwiYXBwIiwicGxheWVyTWdyIiwiZ2V0UmVjb3JkVG9rZW4iLCJkYXRhIiwidXBsb2FkUmVjb3JkIiwidXJsIiwibmFtZSIsInRva2VuIiwiZ2V0TG9jYXRpb25JbmZvIiwiY3JlYXRvclBsYXRmb3JtVHlwZSIsInBvcyIsInNwbGl0IiwieCIsInkiLCJvcGVuU2V0dGluZyIsImdldFBob25lRWxlY3RyaWMiLCJjaGVja0Fwa1VwZGF0ZSIsImhvdFZlcnNpb24iLCJ0aGlyZExvZ2luIiwicGhvbmVQbGF0RnJvbSIsImJ1byIsInRoaXJkUGF5IiwicHJpY2UiLCJvcmRlck5vIiwia2V5IiwiYmFpZHVQYXlJZCIsImFwcEtleSIsImFjY291bnRJZCIsInNpZ24iLCJpZCIsImxvZ2luT3V0IiwiZXhpdEdhbWUiLCJnZXROZXR3b3JrSW5mbyIsIm5ldHdvcmsiLCJpbnN0YWxsQXBrIiwiZ2V0QXBrRmlsZSIsImFwa0ZpbGUiLCJ1cGxvYWRBcGsiLCJvcGVuVXJsIiwib3BlbkluVXJsIiwiaXNEb3dubG9hZCIsInBsYXllcklkIiwiYWRJZCIsInN0b3BBcGtEb3duTG9hZCIsInNldFNjcmVlbkNoYW5nZSIsImp1ZGdlSWZJbnN0YWxsQXBrIiwicGFja2dhZU5hbWUiLCJqdWRnZSIsImRlbGVBbGxGaWxlcyIsImNvcHlUb0NsaXBib2FyZCIsImNvbnRlbnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQ0FBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUViQyxFQUFBQSxLQUZhLG1CQUVKLENBQ1IsQ0FIWTs7QUFJYjtBQUNKO0FBQ0E7QUFDSUMsRUFBQUEsZ0JBQWdCLEVBQUcsNEJBQVc7QUFDMUIsUUFBSUMsUUFBUSxHQUFJQyxHQUFHLENBQUNDLFVBQUosQ0FBZUMsZ0JBQWYsQ0FBZ0MsNEJBQWhDLEVBQTZELGtCQUE3RCxFQUFnRixzQkFBaEYsQ0FBaEI7QUFDQSxXQUFPSCxRQUFQO0FBQ0QsR0FWVTs7QUFZZDtBQUNIO0FBQ0E7QUFDSUksRUFBQUEsV0FBVyxFQUFFLHVCQUFZO0FBQ3JCLFFBQUlDLElBQUksR0FBR0osR0FBRyxDQUFDQyxVQUFKLENBQWVDLGdCQUFmLENBQWdDLDRCQUFoQyxFQUE2RCxhQUE3RCxFQUEyRSxzQkFBM0Us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QUFwSixDQUFaO0FBQ0EsV0FBT3lDLEtBQVA7QUFDSCxHQXBkWTs7QUFxZGI7QUFDSjtBQUNBO0FBQ0lDLEVBQUFBLFlBQVksRUFBRSx3QkFBVTtBQUNwQnRHLElBQUFBLEdBQUcsQ0FBQ0MsVUFBSixDQUFlQyxnQkFBZixDQUFnQyx3QkFBaEMsRUFBeUQsY0FBekQsRUFBd0UsS0FBeEU7QUFDSCxHQTFkWTtBQTJkYjtBQUNBcUcsRUFBQUEsZUFBZSxFQUFFLHlCQUFTQyxPQUFULEVBQWtCO0FBQy9CeEcsSUFBQUEsR0FBRyxDQUFDQyxVQUFKLENBQWVDLGdCQUFmLENBQWdDLDRCQUFoQyxFQUE2RCxRQUE3RCxFQUFzRSx1QkFBdEUsRUFBOEZzRyxPQUE5RjtBQUNIO0FBOWRZLENBQWpCIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcbm1vZHVsZS5leHBvcnRzID0ge1xuICAgIFxuICAgIHN0YXJ0ICgpIHtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIOiOt+WPluW5s+WPsFxuICAgICAqL1xuICAgIGdldFBob25lUGxhdEZyb20gOiBmdW5jdGlvbiAoKXtcbiAgICAgICAgbGV0IHBsYXRGcm9tID0gIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoXCJvcmcvY29jb3MyZHgvQW5kcm9pZEhlbHBlclwiLFwiZ2V0UGhvbmVQbGF0RnJvbVwiLFwiKClMamF2YS9sYW5nL1N0cmluZztcIik7XG4gICAgICAgIHJldHVybiBwbGF0RnJvbTtcbiAgICAgIH0sXG5cbiAgIC8qKlxuICAgICog6I635Y+W5ri45oiP5ZCN56ew77yI6aKE55WZ5LiL5qyh5aSn54mI5pys5pu05paw5L2/55So5o6l5Y+j77yJXG4gICAgKi9cbiAgICBnZXRHYW1lTmFtZTogZnVuY3Rpb24gKCkgeyAgXG4gICAgICAgIHZhciBnYW1lID0ganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChcIm9yZy9jb2NvczJkeC9BbmRyb2lkSGVscGVyXCIsXCJnZXRHYW1lTmFtZVwiLFwiKClMamF2YS9sYW5nL1N0cmluZztcIik7XG4gICAgICAgIHJldHVybiBnYW1lO1xuICAgIH0sICBcbiAgICAvKipcbiAgICAgKiBhbmRyb2lk5pu+6L+b5YWlY3JlYXRvcuS4remXtOm7keWxj++8jGFuZHJvaWTlsYLlsZXnpLrlpKflm77vvIzosIPnlKjmlrnms5XliKDpmaTlpKflm75cbiAgICAgKi9cbiAgICBjbGVhcldlbGNvbWVJbWFnZSA6IGZ1bmN0aW9uKCl7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiY2xlYXIgd2VsY29tZSBpbWFnZS4uLlwiKTtcbiAgICAgICAgaWYoY2Muc3lzLm9zID09Y2Muc3lzLk9TX0FORFJPSUQpe1xuICAgICAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChcIm9yZy9jb2NvczJkeC9qYXZhc2NyaXB0L0FwcEFjdGl2aXR5XCIsXCJyZW1vdmVMYXVuY2hJbWFnZVwiLFwiKClWXCIpO1xuICAgICAgICB9XG4gICAgfSxcbiAgIC8qKlxuICAgICog5o2i5aS05YOPXG4gICAgKi9cbiAgICByZXBsYWNlUGhvdG86IGZ1bmN0aW9uIChpbmZvLGNiKSB7ICBcbiAgICAgICAgY2MuZXZlbnRNYW5hZ2VyLnJlbW92ZUN1c3RvbUxpc3RlbmVycygndXBkYXRlSW1hZycpO1xuICAgICAgICBjYy5ldmVudE1hbmFnZXIuYWRkQ3VzdG9tTGlzdGVuZXIoJ3VwZGF0ZUltYWcnLGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgICAgIGNiKGV2ZW50LmdldFVzZXJEYXRhKCkuYSk7XG4gICAgICAgIH0pO1xuICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKFwib3JnL2NvY29zMmR4L1Bob3RvXCIsXCJnZXRMb2NhbEltYWdcIixcIihMamF2YS9sYW5nL1N0cmluZzspTGphdmEvbGFuZy9TdHJpbmc7XCIsaW5mbyk7XG4gICAgfSwgXG4gICAgLyoqXG4gICAgICog6I635Y+W5bmz5Y+waWRcbiAgICAgKi9cbiAgICBnZXRQaG9uZVBsYXRGcm9tVHlwZSA6IGZ1bmN0aW9uICgpe1xuICAgICAgICB2YXIgcGxhdEZyb21UeXBlPSAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChcIm9yZy9jb2NvczJkeC9BbmRyb2lkSGVscGVyXCIsXCJnZXRQaG9uZVR5cGVcIixcIigpTGphdmEvbGFuZy9TdHJpbmc7XCIpO1xuICAgICAgICByZXR1cm4gIHBhcnNlSW50KHBsYXRGcm9tVHlwZSk7XG4gICAgICB9LFxuICAgIC8qKlxuICAgICAqIOiOt+WPluW9k+WJjeeJiOacrFxuICAgICAqL1xuICAgIGdldFZlcnNpb24gOiBmdW5jdGlvbiAoKXtcbiAgICAgICAgdmFyIHZlcnNpb249anNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChcIm9yZy9jb2NvczJkeC9BbmRyb2lkSGVscGVyXCIsXCJnZXRMb2NhdGlvblZlcnNpb25cIixcIigpTGphdmEvbGFuZy9TdHJpbmc7XCIpO1xuICAgICAgICByZXR1cm4gdmVyc2lvbjtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIOiOt+WPluWtkOeJiOacrOWPt1xuICAgICAqL1xuICAgIGdldENoaWxkVmVyc2lvbiA6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciBjaGlsZFZlcnNpb249anNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChcIm9yZy9jb2NvczJkeC9BbmRyb2lkSGVscGVyXCIsXCJnZXRDaGlsZFZlcnNpb25cIixcIigpTGphdmEvbGFuZy9TdHJpbmc7XCIpO1xuICAgICAgICByZXR1cm4gY2hpbGRWZXJzaW9uO1xuICAgIH0sXG4gICAgIC8qKlxuICAgICAqIOiOt+WPluaJi+acuuWei+WPt1xuICAgICAqL1xuICAgIGdldFBob25lTW9kZWwgOiBmdW5jdGlvbiAoKXtcbiAgICAgICAgdmFyIG1vZGVsPWpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoXCJvcmcvY29jb3MyZHgvQW5kcm9pZEhlbHBlclwiLFwiZ2V0UGhvbmVNb2RlbFwiLFwiKClMamF2YS9sYW5nL1N0cmluZztcIik7XG4gICAgICAgIHJldHVybiBtb2RlbDtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIOiOt+WPluaJi+acuuiuvuWkh+WPt1xuICAgICAqL1xuICAgIGdldFBob25lRGV2aWNlSUQgOiBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgZGV2aWNlSWQ9anNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChcIm9yZy9jb2NvczJkeC9BbmRyb2lkSGVscGVyXCIsXCJkZXZpY2VJRFwiLFwiKClMamF2YS9sYW5nL1N0cmluZztcIik7XG4gICAgICAgIHJldHVybiBkZXZpY2VJZDtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIOivpeaWueazleWPquS4uuiOt+WPluW6lOeUqOWuneeZu+W9lXRva2Vu5piv5ZCm5aSx5pWIXG4gICAgICovXG4gICAgZ2V0WXliSXNMb2dpbiA6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciBpc0xvZ2luPWpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoXCJvcmcvY29jb3MyZHgvQW5kcm9pZEhlbHBlclwiLFwiaXNZeWJMb2dpblwiLFwiKClMamF2YS9sYW5nL1N0cmluZztcIik7XG4gICAgICAgIHJldHVybiBpc0xvZ2luO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICog6I635Y+W6YKA6K+356CBXG4gICAgICovXG4gICAgZ2V0SW52aXRlQ29kZSA6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciBpbnZpdGVDb2RlID0ganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChcIm9yZy9jb2NvczJkeC9BbmRyb2lkSGVscGVyXCIsXCJnZXRJbnZpdGVJbmZvcm1hdGlvblwiLFwiKClMamF2YS9sYW5nL1N0cmluZztcIik7XG4gICAgICAgIHJldHVybiBpbnZpdGVDb2RlO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICog6I635Y+W5oi/6Ze05Y+3XG4gICAgICovXG4gICAgZ2V0Um9vbU51bSA6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciByb29tTnVtID0ganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChcIm9yZy9jb2NvczJkeC9BbmRyb2lkSGVscGVyXCIsXCJnZXRIb3VzZUluZm9ybWF0aW9uXCIsXCIoKUxqYXZhL2xhbmcvU3RyaW5nO1wiKTtcbiAgICAgICAgcmV0dXJuIHJvb21OdW07XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiDlm5vnp43nmbvlvZXmqKHlvI8scXHnmbvpmYZcbiAgICAgKi9cbiAgICBxcUxvZ2luIDogZnVuY3Rpb24gKGNiKSB7ICBcbiAgICAgICAgY2MuZXZlbnRNYW5hZ2VyLnJlbW92ZUN1c3RvbUxpc3RlbmVycygncXFMb2dpblJlc3VsdCcpO1xuICAgICAgICAgY2MuZXZlbnRNYW5hZ2VyLmFkZEN1c3RvbUxpc3RlbmVyKCdxcUxvZ2luUmVzdWx0JyxmdW5jdGlvbihldmVudCl7XG4gICAgICAgICAgICBjYihldmVudC5nZXRVc2VyRGF0YSgpLmEpO1xuICAgICAgICB9KTtcbiAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChcIm9yZy9jb2NvczJkeC9BbmRyb2lkSGVscGVyXCIsXCJxcUxvZ2luXCIsXCIoKVZcIik7XG4gICAgfSwgIFxuXG4gICAgLyoqXG4gICAgICog5Zub56eN55m75b2V5qih5byPLOW+ruS/oeeZu+mZhlxuICAgICAqL1xuICAgIHdlY2hhdExvZ2luIDogZnVuY3Rpb24oY2IpeyAgICAgXG4gICAgICAgIGNjLmV2ZW50TWFuYWdlci5yZW1vdmVDdXN0b21MaXN0ZW5lcnMoJ3dlY2hhdExvZ2luUmVzdWx0Jyk7XG4gICAgICAgIGNjLmV2ZW50TWFuYWdlci5hZGRDdXN0b21MaXN0ZW5lcignd2VjaGF0TG9naW5SZXN1bHQnLGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgICAgIGNiKGV2ZW50LmdldFVzZXJEYXRhKCkuYSk7XG4gICAgICAgIH0pO1xuICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKFwib3JnL2NvY29zMmR4L0FuZHJvaWRIZWxwZXJcIixcIndlY2hhdExvZ2luXCIsXCIoKVZcIik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIOWbm+enjeeZu+W9leaooeW8jyzorr7lpIfnmbvpmYZcbiAgICAgKi9cbiAgICBkZXZpY2VMb2dpbiA6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHZhciB2ZXJzaW9uPWpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoXCJvcmcvY29jb3MyZHgvQW5kcm9pZEhlbHBlclwiLFwiZGV2aWNlTG9naW5cIixcIihMamF2YS9sYW5nL1N0cmluZzspTGphdmEvbGFuZy9TdHJpbmc7XCIsXCJcIik7XG4gICAgICAgIHJldHVybiB2ZXJzaW9uO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDkuInnp43mlK/ku5jvvIzlvq7kv6HmlK/ku5hcbiAgICAgKi9cbiAgICAgd2VjaGF0UGF5IDogZnVuY3Rpb24ocGF5bWVudCxjYil7XG4gICAgICAgIGNjLmV2ZW50TWFuYWdlci5yZW1vdmVDdXN0b21MaXN0ZW5lcnMoJ3dlY2hhdFBheVJlc3VsdCcpO1xuICAgICAgICBjYy5ldmVudE1hbmFnZXIuYWRkQ3VzdG9tTGlzdGVuZXIoJ3dlY2hhdFBheVJlc3VsdCcsZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICAgICAgY2IoZXZlbnQuZ2V0VXNlckRhdGEoKS5hKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoXCJvcmcvY29jb3MyZHgvV2VjaGF0UGF5XCIsXCJ3ZWNoYXRQYXlcIixcIihMamF2YS9sYW5nL1N0cmluZzspTGphdmEvbGFuZy9TdHJpbmc7XCIscGF5bWVudCk7XG4gICAgIH0sXG4gICAgLyoqXG4gICAgICog5LiJ56eN5pSv5LuY77yM5pSv5LuY5a6d5pSv5LuYXG4gICAgICovXG4gICAgIGFsaXBheVBheSA6IGZ1bmN0aW9uKHBheW1lbnQsY2Ipe1xuICAgICAgICBjYy5ldmVudE1hbmFnZXIucmVtb3ZlQ3VzdG9tTGlzdGVuZXJzKCdhbGlwYXlQYXlSZXN1bHQnKTtcbiAgICAgICAgY2MuZXZlbnRNYW5hZ2VyLmFkZEN1c3RvbUxpc3RlbmVyKCdhbGlwYXlQYXlSZXN1bHQnLGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgICAgIGNiKGV2ZW50LmdldFVzZXJEYXRhKCkuYSk7XG4gICAgICAgIH0pO1xuICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKFwib3JnL2NvY29zMmR4L0FsaXBheVBheVwiLFwiYWxpcGF5UGF5XCIsXCIoTGphdmEvbGFuZy9TdHJpbmc7KUxqYXZhL2xhbmcvU3RyaW5nO1wiLHBheW1lbnQpO1xuICAgIH0sXG5cbiAgICBcblxuICAgIC8qKlxuICAgICAqIOWIhuS6qyB0eXBlIDow77ya5aW95Y+L5paH5a2X5YiG5Lqr77yMMu+8muaci+WPi+WciOWIhuS6q++8jDE65pyL5Y+L5ZyI5Zu+54mH5YiG5Lqr77yMM+WlveWPi+WbvueJh+WIhuS6q1xuICAgICAqL1xuICAgICB3ZWNoYXRTaGFyZSA6IGZ1bmN0aW9uKHBheW1lbnQsY2IpeyAgXG4gICAgICAgIGNjLmV2ZW50TWFuYWdlci5yZW1vdmVDdXN0b21MaXN0ZW5lcnMoJ3NoYXJlV2VjaGF0UmVzdWx0Jyk7XG4gICAgICAgIGNjLmV2ZW50TWFuYWdlci5hZGRDdXN0b21MaXN0ZW5lcignc2hhcmVXZWNoYXRSZXN1bHQnLGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgICAgIGNiKE51bWJlcihldmVudC5nZXRVc2VyRGF0YSgpLmEpKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoXCJvcmcvY29jb3MyZHgvV2VDaGF0XCIsXCJ1c2VXZWlYaW5cIixcIihMamF2YS9sYW5nL1N0cmluZztJKVZcIixwYXltZW50LnN0cixwYXltZW50LnR5cGUpO1xuICAgICB9LFxuXG4gICAgLyoqXG4gICAgICog5omT5byA5b6u5L+hXG4gICAgICovXG4gICAgIG9wZW5XZWNoYXQgOiBmdW5jdGlvbigpe1xuICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKFwib3JnL2NvY29zMmR4L0FuZHJvaWRIZWxwZXJcIixcIm9wZW5XZWNoYXRcIixcIigpVlwiKTtcbiAgICAgfSxcblxuICAgIC8qKlxuICAgICAqIOaJk+W8gHFxXG4gICAgICovXG4gICAgIG9wZW5RUSA6IGZ1bmN0aW9uKCl7XG4gICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoXCJvcmcvY29jb3MyZHgvQW5kcm9pZEhlbHBlclwiLFwicXFIZWxwXCIsXCIoTGphdmEvbGFuZy9TdHJpbmc7KVZcIixcIjI5ODM4MTY1NDdcIik7XG4gICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiDmkq3mlL7nvZHnu5zpn7PkuZBcbiAgICAgKi8gXG4gICAgcGxheU5ldFNvdW5kIDogZnVuY3Rpb24oaW5mbyxjYil7Ly9pbmZvOnVybCDlnLDlnYBcbiAgICAgICAgY2MuZXZlbnRNYW5hZ2VyLnJlbW92ZUN1c3RvbUxpc3RlbmVycygncGxheU5ldFNvdW5kT3ZlcicpO1xuICAgICAgICBjYy5ldmVudE1hbmFnZXIuYWRkQ3VzdG9tTGlzdGVuZXIoJ3BsYXlOZXRTb3VuZE92ZXInLGZ1bmN0aW9uKGV2ZW50KXsvL+ebkeWQrOaSreaUvuWujOavlei/lOWbnlxuICAgICAgICAgICAgY2IoZXZlbnQuZ2V0VXNlckRhdGEoKS5hKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoXCJvcmcvY29jb3MyZHgvU291bmRJbmZvXCIsXCJwbGF5TmV0U291bmRcIixcIihMamF2YS9sYW5nL1N0cmluZzspVlwiLGluZm8pO1xuICAgIH0sXG4gICAgXG4gICAgLyoqXG4gICAgICog5byA5aeL5b2V6Z+zXG4gICAgICovIFxuICAgIHBsYXlSZWNvcmRlckJlZ2luIDogZnVuY3Rpb24oKXtcbiAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChcIm9yZy9jb2NvczJkeC9Tb3VuZEluZm9cIixcInBsYXlSZWNvcmRlckJlZ2luXCIsXCIoKVZcIik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIOW9lemfs+e7k+adn1xuICAgICAqLyBcbiAgICBwbGF5UmVjb3JkZXJFbmQgOiBmdW5jdGlvbigpey8v5Lyg5YWl5LiD54mb572R55uY55Sf5oiQ5Zyw5Z2A6ZyA6KaB55qEdXJs5YmN57yA77yMbmFtZeaWh+S7tuWQje+8jHRva2Vu44CCXG4gICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoXCJvcmcvY29jb3MyZHgvU291bmRJbmZvXCIsXCJwbGF5UmVjb3JkZXJFbmRcIiwgXCIoKVZcIik7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIOS4iuS8oOW9lemfs1xuICAgICAqLyBcbiAgICB1cGxvYWRSZWNvcmRlciA6IGZ1bmN0aW9uKCl7XG4gICAgICAgIGNjLmV2ZW50TWFuYWdlci5yZW1vdmVDdXN0b21MaXN0ZW5lcnMoJ3BsYXlTb3VuZFVybCcpO1xuICAgICAgICBhcHAucGxheWVyTWdyLmdldFJlY29yZFRva2VuKGZ1bmN0aW9uIChkYXRhKSB7XG4gICAgICAgICAgICBjYy5ldmVudE1hbmFnZXIuYWRkQ3VzdG9tTGlzdGVuZXIoJ3BsYXlTb3VuZFVybCcsZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICAgICAgICAgIGFwcC5wbGF5ZXJNZ3IudXBsb2FkUmVjb3JkKGV2ZW50LmdldFVzZXJEYXRhKCkuYSxmdW5jdGlvbiAoZGF0YSkge1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKFwib3JnL2NvY29zMmR4L1NvdW5kSW5mb1wiLFwidXBsb2FkUmVjb3JkZXJcIixcbiAgICAgICAgICAgIFwiKExqYXZhL2xhbmcvU3RyaW5nO0xqYXZhL2xhbmcvU3RyaW5nO0xqYXZhL2xhbmcvU3RyaW5nOylWXCIsZGF0YS51cmwsZGF0YS5uYW1lLGRhdGEudG9rZW4pO1xuICAgICAgICB9KTtcbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog6I635Y+W5Zyw55CG5L2N572uXG4gICAgICovIFxuICAgIGdldExvY2F0aW9uSW5mbyA6IGZ1bmN0aW9uKGNiKXsvL+e7j+e6rOW6puS7pSMjI+WIhuW8gFxuICAgICAgICBpZiAoYXBwLmNyZWF0b3JQbGF0Zm9ybVR5cGUgPT0xIHx8YXBwLmNyZWF0b3JQbGF0Zm9ybVR5cGUgPT0yKSB7XG4gICAgICAgICAgICBjYy5ldmVudE1hbmFnZXIucmVtb3ZlQ3VzdG9tTGlzdGVuZXJzKCdiYWlEdUxvY2F0aW9uUmVzdWx0Jyk7XG4gICAgICAgICAgICBjYy5ldmVudE1hbmFnZXIuYWRkQ3VzdG9tTGlzdGVuZXIoJ2JhaUR1TG9jYXRpb25SZXN1bHQnLCBmdW5jdGlvbiAoZXZlbnQpIHtcbiAgICAgICAgICAgICAgICBsZXQgcG9zID0gZXZlbnQuZ2V0VXNlckRhdGEoKS5hLnNwbGl0KCcjIyMnKTsgLy8g5YmN6Z2i57K+5bqm77yM5ZCO6Z2i57qs5bqmXG4gICAgICAgICAgICAgICAgY2IoeyB4OiBwb3NbMF0sIHk6IHBvc1sxXSB9KTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChcIm9yZy9jb2NvczJkeC9NYXBcIiwgXCJnZXRMb2NhdGlvbkluZm9cIixcbiAgICAgICAgICAgICAgICBcIihMamF2YS9sYW5nL1N0cmluZzspVlwiLCBcImNvY29zXCIpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgbGV0IHBvcyA9ICcxMDguODgzNDUyIyMjMzQuMjMyNzAyJy5zcGxpdCgnIyMjJyk7IC8vIOWJjemdoueyvuW6pu+8jOWQjumdoue6rOW6plxuICAgICAgICAgICAgY2IoeyB4OiBwb3NbMF0sIHk6IHBvc1sxXSB9KTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgLyoqXG4gICAgICog5omT5byA5p2D6ZmQ6K6+572uXG4gICAgICovIFxuICAgIG9wZW5TZXR0aW5nIDogZnVuY3Rpb24oKXtcbiAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChcIm9yZy9jb2NvczJkeC9BbmRyb2lkSGVscGVyXCIsXCJvcGVuU2V0dGluZ1wiLFxuICAgICAgICAgICAgXCIoKVZcIik7XG4gICAgfSxcbiAgICAgLyoqXG4gICAgICog6I635Y+W5omL5py655S16YePXG4gICAgICovIFxuICAgIGdldFBob25lRWxlY3RyaWMgOiBmdW5jdGlvbihjYil7XG4gICAgICAgIGNjLmV2ZW50TWFuYWdlci5yZW1vdmVDdXN0b21MaXN0ZW5lcnMoJ2dldEVsZWN0cmljJyk7XG4gICAgICAgIGNjLmV2ZW50TWFuYWdlci5hZGRDdXN0b21MaXN0ZW5lcignZ2V0RWxlY3RyaWMnLGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgICAgIGNiKGV2ZW50LmdldFVzZXJEYXRhKCkuYSk7XG4gICAgICAgIH0pO1xuICAgIH0sXG4gICAgLyoqXG4gICAgICog5qOA5rWL5aSn54mI5pys5pu05pawIFxuICAgICAqL1xuICAgIGNoZWNrQXBrVXBkYXRlIDogZnVuY3Rpb24oaG90VmVyc2lvbixjaGlsZFZlcnNpb24sY2Ipe1xuICAgICAgICBjYy5ldmVudE1hbmFnZXIucmVtb3ZlQ3VzdG9tTGlzdGVuZXJzKCdoYXZpbmduTmV3VmVyc2lvbicpO1xuICAgICAgICBjYy5ldmVudE1hbmFnZXIuYWRkQ3VzdG9tTGlzdGVuZXIoJ2hhdmluZ25OZXdWZXJzaW9uJyxmdW5jdGlvbihldmVudCl7XG4gICAgICAgICAgICBjYihldmVudC5nZXRVc2VyRGF0YSgpLmEpO1xuICAgICAgICB9KTtcbiAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChcImNvbS9kb3V5ZXIvaGVscGVyL1ZlcnNpb25NYW5hZ2VyXCIsXCJjaGVja3VwVmVyc2lvblwiLFwiKExqYXZhL2xhbmcvU3RyaW5nO0xqYXZhL2xhbmcvU3RyaW5nOylWXCIsaG90VmVyc2lvbixjaGlsZFZlcnNpb24pO1xuICAgIH0sXG4gIC8qKlxuICAgICAqIOWbm+enjeeZu+W9leaooeW8jyznrKzkuInmlrnnmbvpmYZcbiAgICAgKi9cbiAgICB0aGlyZExvZ2luIDogZnVuY3Rpb24oaW5mbyxjYil7Ly9pbmZv5Y+q55So5ZyoeXli5bmz5Y+wXG4gICAgICAgIGlmKGFwcC5waG9uZVBsYXRGcm9tID09XCJodWF3ZWlcIil7XG4gICAgICAgICAgICBjYy5ldmVudE1hbmFnZXIucmVtb3ZlQ3VzdG9tTGlzdGVuZXJzKCdhY2Nlc3NUb2tlbicpO1xuICAgICAgICAgICAgY2MuZXZlbnRNYW5hZ2VyLmFkZEN1c3RvbUxpc3RlbmVyKCdhY2Nlc3NUb2tlbicsZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICAgICAgICAgIGNiKGV2ZW50LmdldFVzZXJEYXRhKCkuYSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHZhciBidW8gPSBcIk1JSUNjd0lCQURBTkJna3Foa2lHOXcwQkFRRUZBQVNDQWwwd2dnSlpBZ0VBQW9HQkFJeW85OEZGNGJJRzBteE5HazJiN3NvL1BCU2FqeFlIWVBiMmxaUWo3ZWJnNk9ESXErNmhGTzJoZHFRK2pPVGxRVmxWcWVBcUpuY1RWQnNNUG0zcyt2cm5wNDJScXpGTVlvM2I2MjE0VlFmamlQampGWG9YVVlSVTY2dmZxazVoamF6NFRNTkowQlMrUGNZQjNZbjhkZ3JoU1RyVlJZZmlZT0ViVWp5NkVLTURBZ01CQUFFQ2YzM1NwODA3dGFpS2NiQnZTQmdrWkhhR0dqaFVDYXFxN3hIN2dkSUNVYzAxWXh1d1pod1ArNmlWeG9zbGFPTllNQnk1aER3QmVHY0w0ekJPdzRtUmN1K2ZsSXdOUExTN2daM1VNMVh3bmxJTjZlMklqUVNzWWJJZFhmUS80WjRNcWh5K3Yxd3YrSWpCSVIvNHQyaGF4cktKS2dWbFNFZHMzdEhCUVpla28wRUNRUUQxTXpUSHR3SFpvZVA4VXRDeFVFRThjWW9OWFJnNWxYNjloeDd5MTRZNGMvL3Rrc1NXcmUyRURrTUR6SUNreW5kUXJOd1kzOHhyaWxUMXlsTzVURWNoQWtFQWt0c0E0c241MHFldCtHVUJPMVQ1VXZ5ZmhkQmNCcVplZUFWenBGZjJFbTFXZ1dHUUdaeFE1Wm5ZOVV6NnV2Vk15Y2RZaFVmcG9BaVVaQXlOY29rNW93SkFYTmZCd1dsVEl3UEFucmNBM0ZMR0VNdncrUFJxQ3N2SFRKNVFJcVZtNWhOT01iZWtCbVhmREdTV0RXY3V3cmNEREtJWFNMZmM0RTlsc2hlbE1nRm00UUpBTHdBMnZWN2xQUDE3bVlkQ0tLb2VqZWZhYW1wd09aU2ZvWXdsSWRFaEtXNmpCQStrbmYzQWltdDkyNnlDaHJtaGxPYmZOdkQ0SGNjQkx6QXhTUm9RUHdKQUxRYlBPTTZsckhsMnFDUCtTb0pJMHhobUlGZXZrbDE4MVlZZVh4KzNoazFYL2ZTTC9ZOW1waGFOY2JPR2MwcUFXVmhXa2NqUGVYb0U5cnpEcmpGU213PT1cIjtcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoXCJjb20vaGVscGVyL2h1YXdlaS9zZGsvSHVhV2VpUGF5XCIsXCJodWFXZWlJbml0XCIsXCIoTGphdmEvbGFuZy9TdHJpbmc7KVZcIixidW8pO1xuICAgICAgICB9ZWxzZSBpZihhcHAucGhvbmVQbGF0RnJvbSA9PVwib3Bwb1wiKXtcbiAgICAgICAgICAgIGNjLmV2ZW50TWFuYWdlci5yZW1vdmVDdXN0b21MaXN0ZW5lcnMoJ09sb2dpblJlc3VsdCcpO1xuICAgICAgICAgICAgY2MuZXZlbnRNYW5hZ2VyLmFkZEN1c3RvbUxpc3RlbmVyKCdPbG9naW5SZXN1bHQnLGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgICAgICAgICBjYihldmVudC5nZXRVc2VyRGF0YSgpLmEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKFwib3JnL2NvY29zMmR4L1BheU9QUE9cIixcIk9sb2dpblwiLFwiKClWXCIpO1xuICAgICAgICB9ZWxzZSBpZihhcHAucGhvbmVQbGF0RnJvbSA9PVwidGVsZWNvbVwiKXtcbiAgICAgICAgICAgIGNjLmV2ZW50TWFuYWdlci5yZW1vdmVDdXN0b21MaXN0ZW5lcnMoJ2RpYW54aW5Mb2dpblJlc3VsdCcpO1xuICAgICAgICAgICAgY2MuZXZlbnRNYW5hZ2VyLmFkZEN1c3RvbUxpc3RlbmVyKCdkaWFueGluTG9naW5SZXN1bHQnLGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgICAgICAgICBjYihldmVudC5nZXRVc2VyRGF0YSgpLmEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKFwiY29tL2hlbHBlci9kaWFueGluL3Nkay9EaWFuWGluU2RrXCIsXCJnb3RvTG9naW5cIixcIigpVlwiKTtcbiAgICAgICAgICAgXG4gICAgICAgIH1lbHNlIGlmKGFwcC5waG9uZVBsYXRGcm9tID09XCJ4aWFvbWlcInx8YXBwLnBob25lUGxhdEZyb20gPT1cIm1laXp1XCIpe1xuICAgICAgICAgICAgY2MuZXZlbnRNYW5hZ2VyLnJlbW92ZUN1c3RvbUxpc3RlbmVycygnWWlTREtMb2dpbkNhbGxCYWNrJyk7XG4gICAgICAgICAgICBjYy5ldmVudE1hbmFnZXIuYWRkQ3VzdG9tTGlzdGVuZXIoJ1lpU0RLTG9naW5DYWxsQmFjaycsZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICAgICAgICAgIGNiKGV2ZW50LmdldFVzZXJEYXRhKCkuYSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoXCJjb20vaGVscGVyL3lpamllL3Nkay9ZaXNka1wiLFwiWWlTREtJbml0XCIsXCIoTGphdmEvbGFuZy9TdHJpbmc7KVZcIiwxKTtcbiAgICAgICAgfWVsc2UgaWYoYXBwLnBob25lUGxhdEZyb20gPT1cInl5YlwiKXtcbiAgICAgICAgICAgIGNjLmV2ZW50TWFuYWdlci5yZW1vdmVDdXN0b21MaXN0ZW5lcnMoJ3l5YkxvZ2luUmVzdWx0Jyk7XG4gICAgICAgICAgICBjYy5ldmVudE1hbmFnZXIuYWRkQ3VzdG9tTGlzdGVuZXIoJ3l5YkxvZ2luUmVzdWx0JyxmdW5jdGlvbihldmVudCl7XG4gICAgICAgICAgICAgICAgY2IoZXZlbnQuZ2V0VXNlckRhdGEoKS5hKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChcImNvbS9oZWxwZXIveXliL3Nkay9ZWUJoZWxwZXJcIixcImdvdG9Mb2dpblwiLFwiKExqYXZhL2xhbmcvU3RyaW5nOylWXCIsaW5mbyk7XG4gICAgICAgIH1lbHNlIGlmKGFwcC5waG9uZVBsYXRGcm9tID09XCJ1Y1wiKXtcbiAgICAgICAgICAgIGNjLmV2ZW50TWFuYWdlci5yZW1vdmVDdXN0b21MaXN0ZW5lcnMoJ2xvZ2luUmVzdWx0Jyk7XG4gICAgICAgICAgICBjYy5ldmVudE1hbmFnZXIuYWRkQ3VzdG9tTGlzdGVuZXIoJ2xvZ2luUmVzdWx0JyxmdW5jdGlvbihldmVudCl7XG4gICAgICAgICAgICAgICAgY2IoZXZlbnQuZ2V0VXNlckRhdGEoKS5hKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChcImNvbS9oZWxwZXIvdWMvc2RrL1VjU2RrQ29kZVwiLFwidWNJbml0XCIsXCIoKVZcIik7XG4gICAgICAgIH1lbHNlIGlmKGFwcC5waG9uZVBsYXRGcm9tID09XCIzNjBcIil7XG4gICAgICAgICAgICBjYy5ldmVudE1hbmFnZXIucmVtb3ZlQ3VzdG9tTGlzdGVuZXJzKCdsb2dpbkNhbGxCYWNrJyk7XG4gICAgICAgICAgICBjYy5ldmVudE1hbmFnZXIuYWRkQ3VzdG9tTGlzdGVuZXIoJ2xvZ2luQ2FsbEJhY2snLGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgICAgICAgICBjYihldmVudC5nZXRVc2VyRGF0YSgpLmEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKFwiY29tL2hlbHBlci9xMzYwL3Nkay9TZGszNjBcIixcImxvZ2luMzYwXCIsXCIoKVZcIik7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgLyoqXG4gICAgICog5LiJ56eN5pSv5LuY77yM56ys5LiJ5pa55pSv5LuYXG4gICAgICovXG4gICAgdGhpcmRQYXkgOiBmdW5jdGlvbihwYXltZW50LGNiKXtcbiAgICAgICAgaWYoYXBwLnBob25lUGxhdEZyb20gPT1cImh1YXdlaVwiKXtcbiAgICAgICAgICAgIGNjLmV2ZW50TWFuYWdlci5yZW1vdmVDdXN0b21MaXN0ZW5lcnMoJ2h1YVdlaVBheVJlc3VsdCcpO1xuICAgICAgICAgICAgY2MuZXZlbnRNYW5hZ2VyLmFkZEN1c3RvbUxpc3RlbmVyKCdodWFXZWlQYXlSZXN1bHQnLGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgICAgICAgICBjYihldmVudC5nZXRVc2VyRGF0YSgpLmEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKFwiY29tL2hlbHBlci9odWF3ZWkvc2RrL0h1YVdlaVBheVwiLFwiaHVhV2VpUGF5XCIsXCIoTGphdmEvbGFuZy9TdHJpbmc7TGphdmEvbGFuZy9TdHJpbmc7TGphdmEvbGFuZy9TdHJpbmc7TGphdmEvbGFuZy9TdHJpbmc7TGphdmEvbGFuZy9TdHJpbmc7TGphdmEvbGFuZy9TdHJpbmc7KVZcIixwYXltZW50Lm5hbWUscGF5bWVudC5wcmljZSxwYXltZW50Lm5hbWUscGF5bWVudC5vcmRlck5vLHBheW1lbnQua2V5LHBheW1lbnQudXJsKTtcbiAgICAgICAgfWVsc2UgaWYoYXBwLnBob25lUGxhdEZyb20gPT1cIm9wcG9cIil7XG4gICAgICAgICAgICBjYy5ldmVudE1hbmFnZXIucmVtb3ZlQ3VzdG9tTGlzdGVuZXJzKCdPcGF5UmVzdWx0Jyk7XG4gICAgICAgICAgICBjYy5ldmVudE1hbmFnZXIuYWRkQ3VzdG9tTGlzdGVuZXIoJ09wYXlSZXN1bHQnLGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgICAgICAgICBjYihldmVudC5nZXRVc2VyRGF0YSgpLmEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKFwib3JnL2NvY29zMmR4L1BheU9QUE9cIixcIk9wYXlcIixcIihMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL1N0cmluZzspVlwiLHBheW1lbnQubmFtZSxwYXltZW50LnVybCxwYXltZW50LnByaWNlLHBheW1lbnQub3JkZXJObyk7XG4gICAgICAgIH1lbHNlIGlmKGFwcC5waG9uZVBsYXRGcm9tID09XCJ2aXZvXCIpe1xuICAgICAgICAgICAgY2MuZXZlbnRNYW5hZ2VyLnJlbW92ZUN1c3RvbUxpc3RlbmVycygnVlBheVJlc3VsdCcpO1xuICAgICAgICAgICAgY2MuZXZlbnRNYW5hZ2VyLmFkZEN1c3RvbUxpc3RlbmVyKCdWUGF5UmVzdWx0JyxmdW5jdGlvbihldmVudCl7XG4gICAgICAgICAgICAgICAgY2IoZXZlbnQuZ2V0VXNlckRhdGEoKS5hKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChcImNvbS9oZWxwZXIvdml2by9zZGsvVml2b1NES1wiLFwiVlBheVwiLFwiKExqYXZhL2xhbmcvU3RyaW5nO0xqYXZhL2xhbmcvU3RyaW5nO0xqYXZhL2xhbmcvU3RyaW5nO0xqYXZhL2xhbmcvU3RyaW5nOylWXCIscGF5bWVudC5vcmRlck5vLHBheW1lbnQudXJsLHBheW1lbnQubmFtZSxwYXltZW50LnByaWNlKTtcbiAgICAgICAgfWVsc2UgaWYoYXBwLnBob25lUGxhdEZyb20gPT1cInhpYW9taVwifHxhcHAucGhvbmVQbGF0RnJvbSA9PVwibWVpenVcIil7XG4gICAgICAgICAgICBjYy5ldmVudE1hbmFnZXIucmVtb3ZlQ3VzdG9tTGlzdGVuZXJzKCdZaVNES1BheVJlc3VsdCcpO1xuICAgICAgICAgICAgY2MuZXZlbnRNYW5hZ2VyLmFkZEN1c3RvbUxpc3RlbmVyKCdZaVNES1BheVJlc3VsdCcsZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICAgICAgICAgIGNiKGV2ZW50LmdldFVzZXJEYXRhKCkuYSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoXCJjb20vaGVscGVyL3lpamllL3Nkay9ZaXNka1wiLFwiWWlTREtQYXlcIixcIihMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL1N0cmluZzspVlwiLHBheW1lbnQubmFtZSxwYXltZW50LnByaWNlLHBheW1lbnQub3JkZXJObyxwYXltZW50LnVybCk7XG4gICAgICAgIH1lbHNlIGlmKGFwcC5waG9uZVBsYXRGcm9tID09XCJ5eWJcIil7XG4gICAgICAgICAgICBjYy5ldmVudE1hbmFnZXIucmVtb3ZlQ3VzdG9tTGlzdGVuZXJzKCd5eWJQYXlSZXN1bHQnKTtcbiAgICAgICAgICAgIGNjLmV2ZW50TWFuYWdlci5hZGRDdXN0b21MaXN0ZW5lcigneXliUGF5UmVzdWx0JyxmdW5jdGlvbihldmVudCl7XG4gICAgICAgICAgICAgICAgY2IoZXZlbnQuZ2V0VXNlckRhdGEoKS5hKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChcImNvbS9oZWxwZXIveXliL3Nkay9ZWUJoZWxwZXJcIixcImdvdG9QYXlcIixcIihMamF2YS9sYW5nL1N0cmluZzspVlwiLHBheW1lbnQucHJpY2UpO1xuICAgICAgICB9ZWxzZSBpZihhcHAucGhvbmVQbGF0RnJvbSA9PVwidGVsZWNvbVwiKXtcbiAgICAgICAgICAgIGNjLmV2ZW50TWFuYWdlci5yZW1vdmVDdXN0b21MaXN0ZW5lcnMoJ2RpYW54aW5QYXlSZXN1bHQnKTtcbiAgICAgICAgICAgIGNjLmV2ZW50TWFuYWdlci5hZGRDdXN0b21MaXN0ZW5lcignZGlhbnhpblBheVJlc3VsdCcsZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICAgICAgICAgIGNiKGV2ZW50LmdldFVzZXJEYXRhKCkuYSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoXCJjb20vaGVscGVyL2RpYW54aW4vc2RrL0RpYW5YaW5TZGtcIixcIkRpYW5YaW5QYXlcIixcIihMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL1N0cmluZzspVlwiLHBheW1lbnQucHJpY2UscGF5bWVudC5vcmRlck5vLHBheW1lbnQubmFtZSk7XG4gICAgICAgIH1lbHNlIGlmKGFwcC5waG9uZVBsYXRGcm9tID09XCJiYWlkdVwiKXtcbiAgICAgICAgICAgIGNjLmV2ZW50TWFuYWdlci5yZW1vdmVDdXN0b21MaXN0ZW5lcnMoJ2JhaWR1UmVzdWx0Jyk7XG4gICAgICAgICAgICBjYy5ldmVudE1hbmFnZXIuYWRkQ3VzdG9tTGlzdGVuZXIoJ2JhaWR1UmVzdWx0JyxmdW5jdGlvbihldmVudCl7XG4gICAgICAgICAgICAgICAgY2IoZXZlbnQuZ2V0VXNlckRhdGEoKS5hKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChcImNvbS9oZWxwZXIvYmFpZHUvc2RrL0JhaWR1U2RrXCIsXCJwYXlcIixcIihMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL1N0cmluZzspVlwiLHBheW1lbnQuYmFpZHVQYXlJZCxwYXltZW50LnByaWNlLHBheW1lbnQubmFtZSxwYXltZW50Lm9yZGVyTm8pO1xuICAgICAgICB9ZWxzZSBpZihhcHAucGhvbmVQbGF0RnJvbSA9PVwidWNcIiYmYXBwLmFwcEtleT09XCJ3a1wiKXtcbiAgICAgICAgICAgIGNjLmV2ZW50TWFuYWdlci5yZW1vdmVDdXN0b21MaXN0ZW5lcnMoJ3BheVJlc3VsdCcpO1xuICAgICAgICAgICAgY2MuZXZlbnRNYW5hZ2VyLmFkZEN1c3RvbUxpc3RlbmVyKCdwYXlSZXN1bHQnLGZ1bmN0aW9uKGV2ZW50KXtcbiAgICAgICAgICAgICAgICBjYihldmVudC5nZXRVc2VyRGF0YSgpLmEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKFwiY29tL2hlbHBlci91Yy9zZGsvVWNTZGtDb2RlXCIsXCJ1Y1Nka1BheVwiLFwiKExqYXZhL2xhbmcvU3RyaW5nO0xqYXZhL2xhbmcvU3RyaW5nO0xqYXZhL2xhbmcvU3RyaW5nO0xqYXZhL2xhbmcvU3RyaW5nO0xqYXZhL2xhbmcvU3RyaW5nOylWXCIscGF5bWVudC5wcmljZSxwYXltZW50Lm9yZGVyTm8scGF5bWVudC51cmwscGF5bWVudC5hY2NvdW50SWQscGF5bWVudC5zaWduKTtcbiAgICAgICAgfWVsc2UgaWYoYXBwLnBob25lUGxhdEZyb20gPT1cInVjXCImJmFwcC5hcHBLZXk9PVwic2RcIil7XG4gICAgICAgICAgICBjYy5ldmVudE1hbmFnZXIucmVtb3ZlQ3VzdG9tTGlzdGVuZXJzKCdwYXlSZXN1bHQnKTtcbiAgICAgICAgICAgIGNjLmV2ZW50TWFuYWdlci5hZGRDdXN0b21MaXN0ZW5lcigncGF5UmVzdWx0JyxmdW5jdGlvbihldmVudCl7XG4gICAgICAgICAgICAgICAgY2IoZXZlbnQuZ2V0VXNlckRhdGEoKS5hKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChcImNvbS9oZWxwZXIvdWMvc2RrL1VjU2RrQ29kZVwiLFwidWNTZGtQYXlcIixcIihMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL1N0cmluZzspVlwiLHBheW1lbnQubmFtZSxwYXltZW50LnByaWNlLHBheW1lbnQub3JkZXJObyxwYXltZW50LnVybCk7XG4gICAgICAgIH1lbHNlIGlmKGFwcC5waG9uZVBsYXRGcm9tID09XCIzNjBcIil7XG4gICAgICAgICAgICBjYy5ldmVudE1hbmFnZXIucmVtb3ZlQ3VzdG9tTGlzdGVuZXJzKCdzZGszNjBQYXlSZXN1bHQnKTtcbiAgICAgICAgICAgIGNjLmV2ZW50TWFuYWdlci5hZGRDdXN0b21MaXN0ZW5lcignc2RrMzYwUGF5UmVzdWx0JyxmdW5jdGlvbihldmVudCl7XG4gICAgICAgICAgICAgICAgY2IoZXZlbnQuZ2V0VXNlckRhdGEoKS5hKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChcImNvbS9oZWxwZXIvcTM2MC9zZGsvU2RrMzYwXCIsXCJwYXkzNjBcIixcIihMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL1N0cmluZzspVlwiLHBheW1lbnQucHJpY2UscGF5bWVudC5uYW1lLHBheW1lbnQuaWQscGF5bWVudC5vcmRlck5vLHBheW1lbnQudXJsKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAvKipcbiAgICAgKiDliIfmjaLotKblj7dcbiAgICAgKi9cbiAgICBsb2dpbk91dCA6IGZ1bmN0aW9uKGNiKXtcbiAgICAgICAgaWYoYXBwLnBob25lUGxhdEZyb20gPT1cInl5YlwiKXtcbiAgICAgICAgICAgIGNjLmV2ZW50TWFuYWdlci5yZW1vdmVDdXN0b21MaXN0ZW5lcnMoJ3l5YlNES0xvZ2luT3V0Q2FsbEJhY2snKTtcbiAgICAgICAgICAgIGNjLmV2ZW50TWFuYWdlci5hZGRDdXN0b21MaXN0ZW5lcigneXliU0RLTG9naW5PdXRDYWxsQmFjaycsZnVuY3Rpb24oZXZlbnQpe1xuICAgICAgICAgICAgICAgICAgICBjYihldmVudC5nZXRVc2VyRGF0YSgpLmEpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKFwiY29tL2hlbHBlci95eWIvc2RrL1lZQmhlbHBlclwiLFwiQ2hhbmdlQWNjb3VudFwiLFwiKClWXCIpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGNjLmV2ZW50TWFuYWdlci5yZW1vdmVDdXN0b21MaXN0ZW5lcnMoJ2xvZ091dE9rJyk7XG4gICAgICAgICAgICBjYy5ldmVudE1hbmFnZXIuYWRkQ3VzdG9tTGlzdGVuZXIoJ2xvZ091dE9rJyxmdW5jdGlvbihldmVudCl7XG4gICAgICAgICAgICAgICAgICAgIGNiKGV2ZW50LmdldFVzZXJEYXRhKCkuYSk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoXCJvcmcvY29jb3MyZHgvQW5kcm9pZEhlbHBlclwiLFwibG9naW5PdXRcIixcIigpVlwiKTtcbiAgICAgICAgfVxuICAgIH0sXG4gICAgLyoqXG4gICAgICog6YCA5Ye65ri45oiPXG4gICAgICovXG4gICAgZXhpdEdhbWUgOiBmdW5jdGlvbigpe1xuICAgICAgICBpZihhcHAucGhvbmVQbGF0RnJvbSA9PVwiaHVhd2VpXCIpey8v6LCD55So5ri45oiP6YCA5Ye6XG4gICAgICAgIH1lbHNlIGlmKGFwcC5waG9uZVBsYXRGcm9tID09XCJvcHBvXCIpe1xuICAgICAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChcIm9yZy9jb2NvczJkeC9QYXlPUFBPXCIsXCJPZXhpdFwiLFwiKClWXCIpO1xuICAgICAgICB9ZWxzZSBpZihhcHAucGhvbmVQbGF0RnJvbSA9PSBcInhpYW9taVwifHxhcHAucGhvbmVQbGF0RnJvbSA9PSBcIm1laXp1XCJ8fGFwcC5waG9uZVBsYXRGcm9tID09IFwieXliXCIpe1xuICAgICAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChcImNvbS9oZWxwZXIveWlqaWUvc2RrL1lpc2RrXCIsXCJZaVNES0V4aXRcIixcIigpVlwiKTtcbiAgICAgICAgfWVsc2UgaWYoYXBwLnBob25lUGxhdEZyb20gPT0gXCJ2aXZvXCIpe1xuICAgICAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChcImNvbS9oZWxwZXIvdml2by9zZGsvVml2b1NES1wiLFwidml2b0xvZ2luT3V0XCIsXCIoKVZcIik7XG4gICAgICAgIH1lbHNlIGlmKGFwcC5waG9uZVBsYXRGcm9tID09IFwidGVsZWNvbVwiKXtcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoXCJjb20vaGVscGVyL2RpYW54aW4vc2RrL0RpYW5YaW5TZGtcIixcImRpYW54aW5TZGtFeGl0XCIsXCIoKVZcIik7XG4gICAgICAgIH1lbHNlIGlmKGFwcC5waG9uZVBsYXRGcm9tID09IFwiYmFpZHVcIil7XG4gICAgICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKFwiY29tL2hlbHBlci9iYWlkdS9zZGsvQmFpZHVTZGtcIixcInF1aXRCYWlEdVwiLFwiKClWXCIpO1xuICAgICAgICB9ZWxzZSBpZihhcHAucGhvbmVQbGF0RnJvbSA9PVwidWNcIil7XG4gICAgICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKFwiY29tL2hlbHBlci91Yy9zZGsvVWNTZGtDb2RlXCIsXCJ1Y1Nka0V4aXRcIixcIigpVlwiKTtcbiAgICAgICAgfWVsc2UgaWYoYXBwLnBob25lUGxhdEZyb20gPT1cIjM2MFwiKXtcbiAgICAgICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoXCJjb20vaGVscGVyL3EzNjAvc2RrL1NkazM2MFwiLFwicXVpdDM2MFwiLFwiKClWXCIpO1xuICAgICAgICB9XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiDnm5HlkKznvZHnu5xcbiAgICAgKi9cbiAgICBnZXROZXR3b3JrSW5mbyA6IGZ1bmN0aW9uICgpe1xuICAgICAgICB2YXIgbmV0d29yayA9ICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKFwib3JnL2NvY29zMmR4L05ldFV0aWxcIixcImNoZWNrTmV0d29ya0luZm9DcmVhdG9yXCIsXCIoKUxqYXZhL2xhbmcvU3RyaW5nO1wiKTtcbiAgICAgICAgcmV0dXJuIG5ldHdvcms7XG4gICAgICB9LFxuXG4gICAgLyoqXG4gICAgICog6LCD55SoYXBw5omT5byA5Yqf6IO9XG4gICAgICovXG4gICAgaW5zdGFsbEFwayA6IGZ1bmN0aW9uKGluZm8pey8vZGF0YVxuICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKFwib3JnL2NvY29zMmR4L0FuZHJvaWRIZWxwZXJcIixcImluc3RhbGxBcGtcIixcIihMamF2YS9sYW5nL1N0cmluZzspVlwiLGluZm8pO1xuICAgICB9LFxuXG4gICAgIC8qKlxuICAgICAqIOiOt+WPluaJk+W8gOacrOWcsGFwa+i3r+W+hFxuICAgICAqL1xuICAgIGdldEFwa0ZpbGUgOiBmdW5jdGlvbigpe1xuICAgICAgICB2YXIgYXBrRmlsZT1qc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKFwib3JnL2NvY29zMmR4L0FuZHJvaWRIZWxwZXJcIixcImdldEFwa0ZpbGVcIixcIigpTGphdmEvbGFuZy9TdHJpbmc7XCIpO1xuICAgICAgICByZXR1cm4gYXBrRmlsZTtcbiAgICB9LFxuXG4gICAgLyoq6LCD55SoYW5yb2lk5bGC5LiL6L29ICovXG4gICAgdXBsb2FkQXBrIDogZnVuY3Rpb24odXJsLG5hbWUsY2Ipe1xuICAgICAgICBjYy5ldmVudE1hbmFnZXIucmVtb3ZlQ3VzdG9tTGlzdGVuZXJzKCd1cGxvYWRBcGtQcm9ncmVzcycpO1xuICAgICAgICBjYy5ldmVudE1hbmFnZXIuYWRkQ3VzdG9tTGlzdGVuZXIoJ3VwbG9hZEFwa1Byb2dyZXNzJyxmdW5jdGlvbihldmVudCl7XG4gICAgICAgICAgICBjYihldmVudC5nZXRVc2VyRGF0YSgpLmEpO1xuICAgICAgICB9KTtcbiAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChcIm9yZy9jb2NvczJkeC9VcGxvYWRBcGtcIixcInVwbG9hZEFwa0Zyb21DcmVhdG9yXCIsXCIoTGphdmEvbGFuZy9TdHJpbmc7TGphdmEvbGFuZy9TdHJpbmc7KVZcIix1cmwsbmFtZSk7XG4gICAgfSxcblxuICAgIC8qKlxuICAgICAqIOiwg+eUqOesrOS4ieaWuea1j+iniOWZqFxuICAgICAqL1xuICAgIG9wZW5VcmwgOiBmdW5jdGlvbih1cmwpe1xuICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKFwib3JnL2NvY29zMmR4L0FuZHJvaWRIZWxwZXJcIixcIm9wZW5VcmxcIixcIihMamF2YS9sYW5nL1N0cmluZzspVlwiLHVybCk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiDosIPnlKhhcHDlhoXnva7mtY/op4jlmagg5Lyg5YWlIHVybDrmiZPlvIDlnLDlnYDvvIx0eXBlOuaoquerlueJjOaYvuekuigxOmxhbmRzY2FwZSAsMjpwb3J0cmFpdCnvvIxuYW1lIDrmoIflpLTlkI1cbiAgICAgKi9cbiAgICBvcGVuSW5VcmwgOiBmdW5jdGlvbih1cmwsdHlwZSxuYW1lLGlzRG93bmxvYWQscGxheWVySWQsYWRJZCl7XG4gICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoXCJvcmcvY29jb3MyZHgvQW5kcm9pZEhlbHBlclwiLFwib3BlbkluVXJsXCIsXCIoTGphdmEvbGFuZy9TdHJpbmc7TGphdmEvbGFuZy9TdHJpbmc7TGphdmEvbGFuZy9TdHJpbmc7TGphdmEvbGFuZy9TdHJpbmc7TGphdmEvbGFuZy9TdHJpbmc7TGphdmEvbGFuZy9TdHJpbmc7KVZcIix1cmwsdHlwZSxuYW1lLGlzRG93bmxvYWQscGxheWVySWQsYWRJZCk7XG4gICAgfSxcbiAgICAvKipcbiAgICAgKiDlgZzmraLkuIvovb1cbiAgICAgKi9cbiAgICBzdG9wQXBrRG93bkxvYWQgOiBmdW5jdGlvbigpe1xuICAgICAgICBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKFwib3JnL2NvY29zMmR4L1VwbG9hZEFwa1wiLFwic3RvcFVwTG9hZFwiLFwiKClWXCIpO1xuICAgIH0sXG4gICAgc2V0U2NyZWVuQ2hhbmdlIDogZnVuY3Rpb24odHlwZSl7Ly90eXBlOuaoquerlueJjOaYvuekuigxOmxhbmRzY2FwZSAsMjpwb3J0cmFpdClcbiAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChcIm9yZy9jb2NvczJkeC9BbmRyb2lkSGVscGVyXCIsXCJzZXRTY3JlZW5DaGFuZ2VcIixcIihMamF2YS9sYW5nL1N0cmluZzspVlwiLHVybCk7XG4gICAgfSxcbiAgICAvKirosIPnlKhhbnJvaWTlsYLmmK/lkKblronoo4UgKi9cbiAgICBqdWRnZUlmSW5zdGFsbEFwayA6IGZ1bmN0aW9uKHBhY2tnYWVOYW1lLG5hbWUpey8vIFwidHJ1ZVwiIFwiZmFsc2VcIlxuICAgICAgICB2YXIganVkZ2UgPSBqc2IucmVmbGVjdGlvbi5jYWxsU3RhdGljTWV0aG9kKFwib3JnL2NvY29zMmR4L1VwbG9hZEFwa1wiLFwianVkZ2VJZkluc3RhbGxBcGtcIixcIihMamF2YS9sYW5nL1N0cmluZztMamF2YS9sYW5nL1N0cmluZzspTGphdmEvbGFuZy9TdHJpbmc7XCIscGFja2dhZU5hbWUsbmFtZSk7XG4gICAgICAgIHJldHVybiBqdWRnZTtcbiAgICB9LFxuICAgIC8qKlxuICAgICAqIOWkh+acieaOpeWPoyDliKDpmaTkuIvovb3nmoTmiYDmnInmlofku7ZcbiAgICAgKi9cbiAgICBkZWxlQWxsRmlsZXMgOmZ1bmN0aW9uKCl7XG4gICAgICAgIGpzYi5yZWZsZWN0aW9uLmNhbGxTdGF0aWNNZXRob2QoXCJvcmcvY29jb3MyZHgvVXBsb2FkQXBrXCIsXCJkZWxlQWxsRmlsZXNcIixcIigpVlwiKTtcbiAgICB9LFxuICAgIC8vZnV6aGlcbiAgICBjb3B5VG9DbGlwYm9hcmQ6IGZ1bmN0aW9uKGNvbnRlbnQpIHtcbiAgICAgICAganNiLnJlZmxlY3Rpb24uY2FsbFN0YXRpY01ldGhvZChcIm9yZy9jb2NvczJkeC9BbmRyb2lkSGVscGVyXCIsXCJxcENvcHlcIixcIihMamF2YS9sYW5nL1N0cmluZzspVlwiLGNvbnRlbnQpO1xuICAgIH0sXG59XG5cblxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/audio/audioMgr.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'cc057iIkENNC6PSrpbMmYVg', 'audioMgr');
// gameComon/scripts/audio/audioMgr.js

"use strict";

var AudioMgr = cc.Class({
  properties: {
    bgmAudioID: -1,
    audioId: 1,
    gameMusicAudio: true,
    bgUrl: '',
    bgLoop: false
  },
  // use this for initialization
  ctor: function ctor() {
    cc.sys.localStorage.setItem("gameMusic", 1);
    var gMusic = cc.sys.localStorage.getItem("gameMusic");

    if (gMusic == null || gMusic == '') {
      this.gameMusicAudio = false;
    } else {
      this.gameMusicAudio = true;
    }

    cc.game.on(cc.game.EVENT_HIDE, function () {
      cc.audioEngine.pauseAll();
    });
    cc.game.on(cc.game.EVENT_SHOW, function () {
      cc.audioEngine.resumeAll();
    });
  },
  getUrl: function getUrl(url, cb) {
    if (!this.gameMusicAudio) {
      return;
    }

    cc.assetManager.loadBundle('comSound', function (err, bundle) {
      bundle.load(url, cc.AudioClip, function (err, clip) {
        if (err) {
          return;
        }

        cb(clip);
      }.bind(this));
    }.bind(this));
  },
  getMusicStatus: function getMusicStatus(cb) {
    var gMusic = cc.sys.localStorage.getItem("gameMusic");

    if (gMusic == null || gMusic == '') {
      cb(false);
    } else {
      cb(true);
    }
  },
  setMusicOnOff: function setMusicOnOff(isOpen) {
    if (isOpen) {
      //开
      this.gameMusicAudio = true;
      cc.sys.localStorage.setItem("gameMusic", 1);

      if (this.bgUrl) {
        this.playBGM(this.bgUrl, this.bgLoop);
      }
    } else {
      this.stopAll();
      this.gameMusicAudio = false;
      cc.sys.localStorage.removeItem("gameMusic");
    }
  },
  playBGM: function playBGM(url, isLoop) {
    this.bgUrl = url;
    this.bgLoop = isLoop;
    this.getUrl(url, function (audioUrl) {
      if (audioUrl) {
        cc.audioEngine.stop(this.bgmAudioID);
        this.bgmAudioID = cc.audioEngine.playMusic(audioUrl, isLoop);
      }

      cc.log("this.bgmAudioID=====" + this.bgmAudioID);
    }.bind(this));
  },
  playSFX: function playSFX(url) {
    this.getUrl(url, function (audioUrl) {
      this.audioId = cc.audioEngine.play(audioUrl, false, 1);
    }.bind(this));
  },
  pauseBGM: function pauseBGM() {
    cc.log("pauseBGM");
    cc.audioEngine.pause(this.bgmAudioID);
  },
  resumeBGM: function resumeBGM() {
    if (this.gameMusicAudio) {
      cc.log("resumeBGM");
      cc.audioEngine.resume(this.bgmAudioID);
    }
  },
  pauseAll: function pauseAll() {
    cc.audioEngine.pauseAll();
  },
  resumeAll: function resumeAll() {
    cc.audioEngine.resumeAll();
  },
  stopAll: function stopAll() {
    cc.audioEngine.stopAll();
  }
});
module.exports = AudioMgr;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFxhdWRpb1xcYXVkaW9NZ3IuanMiXSwibmFtZXMiOlsiQXVkaW9NZ3IiLCJjYyIsIkNsYXNzIiwicHJvcGVydGllcyIsImJnbUF1ZGlvSUQiLCJhdWRpb0lkIiwiZ2FtZU11c2ljQXVkaW8iLCJiZ1VybCIsImJnTG9vcCIsImN0b3IiLCJzeXMiLCJsb2NhbFN0b3JhZ2UiLCJzZXRJdGVtIiwiZ011c2ljIiwiZ2V0SXRlbSIsImdhbWUiLCJvbiIsIkVWRU5UX0hJREUiLCJhdWRpb0VuZ2luZSIsInBhdXNlQWxsIiwiRVZFTlRfU0hPVyIsInJlc3VtZUFsbCIsImdldFVybCIsInVybCIsImNiIiwiYXNzZXRNYW5hZ2VyIiwibG9hZEJ1bmRsZSIsImVyciIsImJ1bmRsZSIsImxvYWQiLCJBdWRpb0NsaXAiLCJjbGlwIiwiYmluZCIsImdldE11c2ljU3RhdHVzIiwic2V0TXVzaWNPbk9mZiIsImlzT3BlbiIsInBsYXlCR00iLCJzdG9wQWxsIiwicmVtb3ZlSXRlbSIsImlzTG9vcCIsImF1ZGlvVXJsIiwic3RvcCIsInBsYXlNdXNpYyIsImxvZyIsInBsYXlTRlgiLCJwbGF5IiwicGF1c2VCR00iLCJwYXVzZSIsInJlc3VtZUJHTSIsInJlc3VtZSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsUUFBUSxHQUFHQyxFQUFFLENBQUNDLEtBQUgsQ0FBUztBQUNwQkMsRUFBQUEsVUFBVSxFQUFFO0FBQ1JDLElBQUFBLFVBQVUsRUFBRSxDQUFDLENBREw7QUFFUkMsSUFBQUEsT0FBTyxFQUFFLENBRkQ7QUFHUkMsSUFBQUEsY0FBYyxFQUFDLElBSFA7QUFLUkMsSUFBQUEsS0FBSyxFQUFDLEVBTEU7QUFNUkMsSUFBQUEsTUFBTSxFQUFDO0FBTkMsR0FEUTtBQVVwQjtBQUNBQyxFQUFBQSxJQUFJLEVBQUUsZ0JBQVk7QUFDZFIsSUFBQUEsRUFBRSxDQUFDUyxH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LG9CQUFZO0FBQ2xCbEIsSUFBQUEsRUFBRSxDQUFDaUIsV0FBSCxDQUFlQyxRQUFmO0FBQ0gsR0FoR21CO0FBa0dwQkUsRUFBQUEsU0FBUyxFQUFFLHFCQUFZO0FBQ25CcEIsSUFBQUEsRUFBRSxDQUFDaUIsV0FBSCxDQUFlRyxTQUFmO0FBQ0gsR0FwR21CO0FBc0dwQmdCLEVBQUFBLE9BQU8sRUFBQyxtQkFBVTtBQUNkcEMsSUFBQUEsRUFBRSxDQUFDaUIsV0FBSCxDQUFlbUIsT0FBZjtBQUNIO0FBeEdtQixDQUFULENBQWY7QUEyR0FhLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQm5ELFFBQWpCIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgQXVkaW9NZ3IgPSBjYy5DbGFzcyh7XG4gICAgcHJvcGVydGllczoge1xuICAgICAgICBiZ21BdWRpb0lEOiAtMSxcbiAgICAgICAgYXVkaW9JZDogMSxcbiAgICAgICAgZ2FtZU11c2ljQXVkaW86dHJ1ZSxcblxuICAgICAgICBiZ1VybDonJyxcbiAgICAgICAgYmdMb29wOmZhbHNlXG4gICAgfSxcblxuICAgIC8vIHVzZSB0aGlzIGZvciBpbml0aWFsaXphdGlvblxuICAgIGN0b3I6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2Muc3lzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiZ2FtZU11c2ljXCIsMSk7XG4gICAgICAgIGxldCBnTXVzaWMgPSBjYy5zeXMubG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJnYW1lTXVzaWNcIik7XG4gICAgICAgIGlmIChnTXVzaWMgPT0gbnVsbCB8fCBnTXVzaWMgPT0gJycpIHtcbiAgICAgICAgICAgIHRoaXMuZ2FtZU11c2ljQXVkaW8gPSBmYWxzZTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLmdhbWVNdXNpY0F1ZGlvID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBjYy5nYW1lLm9uKGNjLmdhbWUuRVZFTlRfSElERSwgZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2MuYXVkaW9FbmdpbmUucGF1c2VBbGwoKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGNjLmdhbWUub24oY2MuZ2FtZS5FVkVOVF9TSE9XLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjYy5hdWRpb0VuZ2luZS5yZXN1bWVBbGwoKTtcbiAgICAgICAgfSk7XG4gICAgfSxcblxuICAgIGdldFVybDogZnVuY3Rpb24gKHVybCxjYikge1xuICAgICAgICBpZighdGhpcy5nYW1lTXVzaWNBdWRpbyl7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgY2MuYXNzZXRNYW5hZ2VyLmxvYWRCdW5kbGUoJ2NvbVNvdW5kJywgZnVuY3Rpb24oZXJyLCBidW5kbGUpe1xuICAgICAgICAgICAgYnVuZGxlLmxvYWQodXJsLCBjYy5BdWRpb0NsaXAsIGZ1bmN0aW9uIChlcnIsIGNsaXApIHtcbiAgICAgICAgICAgICAgICBpZihlcnIpe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGNiKGNsaXApO1xuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcbiAgICB9LFxuXG4gICAgZ2V0TXVzaWNTdGF0dXM6ZnVuY3Rpb24oY2Ipe1xuICAgICAgICBsZXQgZ011c2ljID0gY2Muc3lzLmxvY2FsU3RvcmFnZS5nZXRJdGVtKFwiZ2FtZU11c2ljXCIpO1xuICAgICAgICBpZiAoZ011c2ljID09IG51bGwgfHwgZ011c2ljID09ICcnKSB7XG4gICAgICAgICAgICBjYihmYWxzZSk7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgY2IodHJ1ZSk7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgc2V0TXVzaWNPbk9mZjpmdW5jdGlvbihpc09wZW4pe1xuICAgICAgICBpZihpc09wZW4peyAgLy/lvIBcbiAgICAgICAgICAgIHRoaXMuZ2FtZU11c2ljQXVkaW8gPSB0cnVlO1xuICAgICAgICAgICAgY2Muc3lzLmxvY2FsU3RvcmFnZS5zZXRJdGVtKFwiZ2FtZU11c2ljXCIsMSk7XG4gICAgICAgICAgICBpZih0aGlzLmJnVXJsKXtcbiAgICAgICAgICAgICAgICB0aGlzLnBsYXlCR00odGhpcy5iZ1VybCx0aGlzLmJnTG9vcCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5zdG9wQWxsKCk7XG4gICAgICAgICAgICB0aGlzLmdhbWVNdXNpY0F1ZGlvID0gZmFsc2U7XG4gICAgICAgICAgICBjYy5zeXMubG9jYWxTdG9yYWdlLnJlbW92ZUl0ZW0oXCJnYW1lTXVzaWNcIik7XG4gICAgICAgIH1cbiAgICB9LFxuXG4gICAgcGxheUJHTTogZnVuY3Rpb24gKHVybCxpc0xvb3ApIHtcbiAgICAgICAgdGhpcy5iZ1VybCA9IHVybDtcbiAgICAgICAgdGhpcy5iZ0xvb3AgPSBpc0xvb3A7XG4gICAgICAgIHRoaXMuZ2V0VXJsKHVybCxmdW5jdGlvbihhdWRpb1VybCl7XG4gICAgICAgICAgICBpZihhdWRpb1VybCl7XG4gICAgICAgICAgICAgICAgY2MuYXVkaW9FbmdpbmUuc3RvcCh0aGlzLmJnbUF1ZGlvSUQpXG4gICAgICAgICAgICAgICAgdGhpcy5iZ21BdWRpb0lEID0gY2MuYXVkaW9FbmdpbmUucGxheU11c2ljKGF1ZGlvVXJsLCBpc0xvb3ApO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2MubG9nKFwidGhpcy5iZ21BdWRpb0lEPT09PT1cIit0aGlzLmJnbUF1ZGlvSUQpXG4gICAgICAgIH0uYmluZCh0aGlzKSk7XG4gICAgfSxcblxuICAgIHBsYXlTRlg6IGZ1bmN0aW9uICh1cmwpIHtcbiAgICAgICAgdGhpcy5nZXRVcmwodXJsLGZ1bmN0aW9uKGF1ZGlvVXJsKXtcbiAgICAgICAgICAgIHRoaXMuYXVkaW9JZCA9IGNjLmF1ZGlvRW5naW5lLnBsYXkoYXVkaW9VcmwsIGZhbHNlLDEpO1xuICAgICAgICB9LmJpbmQodGhpcykpO1xuICAgIH0sXG5cbiAgICBwYXVzZUJHTTogZnVuY3Rpb24gKCkge1xuICAgICAgICBjYy5sb2coXCJwYXVzZUJHTVwiKVxuICAgICAgICBjYy5hdWRpb0VuZ2luZS5wYXVzZSh0aGlzLmJnbUF1ZGlvSUQpO1xuICAgIH0sXG5cbiAgICByZXN1bWVCR006IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgaWYodGhpcy5nYW1lTXVzaWNBdWRpbyl7XG4gICAgICAgICAgICBjYy5sb2coXCJyZXN1bWVCR01cIilcbiAgICAgICAgICAgIGNjLmF1ZGlvRW5naW5lLnJlc3VtZSh0aGlzLmJnbUF1ZGlvSUQpO1xuICAgICAgICB9XG4gICAgfSxcblxuICAgIHBhdXNlQWxsOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGNjLmF1ZGlvRW5naW5lLnBhdXNlQWxsKCk7XG4gICAgfSxcblxuICAgIHJlc3VtZUFsbDogZnVuY3Rpb24gKCkge1xuICAgICAgICBjYy5hdWRpb0VuZ2luZS5yZXN1bWVBbGwoKTtcbiAgICB9LFxuXG4gICAgc3RvcEFsbDpmdW5jdGlvbigpe1xuICAgICAgICBjYy5hdWRpb0VuZ2luZS5zdG9wQWxsKCk7XG4gICAgfVxufSk7XG5cbm1vZHVsZS5leHBvcnRzID0gQXVkaW9NZ3I7XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/hex-lines-game/base/com.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e25bakBQd9I5LmDR7yLx+Jf', 'com');
// Game/Scripts/hex-lines-game/base/com.js

"use strict";

var com = function com() {};

com.dateStr = function (t) {
  var e = t.getMonth() + 1,
      n = t.getDate(),
      i = t.getHours(),
      s = t.getMinutes(),
      a = t.getSeconds();
  return t.getFullYear() + "-" + (10 > e ? "0" + e : "" + e) + "-" + (10 > n ? "0" + n : "" + n) + " " + (10 > i ? "0" + i : "" + i) + ":" + (10 > s ? "0" + s : "" + s) + ":" + (10 > a ? "0" + a : "" + a);
}, com.strDate = function (t) {
  switch (t.length) {
    case 8:
      var t = t.split(":"),
          e = new Date();
      return e.setTime(0), e.setUTCHours(t[0]), e.setUTCMinutes(t[1]), e.setUTCSeconds(t[2]), e;

    case 10:
      return t = t.split("-"), new Date(t[0], t[1] - 1, t[2], 0, 0, 0);

    case 19:
      return e = t.split(" "), t = e[0].split("-"), e = e[1].split(":"), new Date(t[0], t[1] - 1, t[2], e[0], e[1], e[2]);

    default:
      throw "Invalid date format : " + t;
  }
};

com.cca = function (t, e) {
  var n = t.charCodeAt(e);
  return n != n ? void 0 : n;
};

com.substr = function (t, e, n) {
  return null != e && 0 != e && null != n && 0 > n ? "" : (null == n && (n = t.length), 0 > e ? (e = t.length + e, 0 > e && (e = 0)) : 0 > n && (n = t.length + n - e), t.substr(e, n));
};

com.remove = function (t, e) {
  var n = t.indexOf(e);
  return -1 == n ? !1 : (t.splice(n, 1), !0);
};

com.iter = function (t) {
  return {
    cur: 0,
    arr: t,
    hasNext: function hasNext() {
      return this.cur < this.arr.length;
    },
    next: function next() {
      return this.arr[this.cur++];
    }
  };
};

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcaGV4LWxpbmVzLWdhbWVcXGJhc2VcXGNvbS5qcyJdLCJuYW1lcyI6WyJjb20iLCJkYXRlU3RyIiwidCIsImUiLCJnZXRNb250aCIsIm4iLCJnZXREYXRlIiwiaSIsImdldEhvdXJzIiwicyIsImdldE1pbnV0ZXMiLCJhIiwiZ2V0U2Vjb25kcyIsImdldEZ1bGxZZWFyIiwic3RyRGF0ZSIsImxlbmd0aCIsInNwbGl0IiwiRGF0ZSIsInNldFRpbWUiLCJzZXRVVENIb3VycyIsInNldFVUQ01pbnV0ZXMiLCJzZXRVVENTZWNvbmRzIiwiY2NhIiwiY2hhckNvZGVBdCIsInN1YnN0ciIsInJlbW92ZSIsImluZGV4T2YiLCJzcGxpY2UiLCJpdGVyIiwiY3VyIiwiYXJyIiwiaGFzTmV4dCIsIm5leHQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsR0FBRyxHQUFHLFNBQU5BLEdBQU0sR0FBVSxDQUFFLENBQXRCOztBQUVBQSxHQUFHLENBQUNDLE9BQUosR0FBYyxVQUFTQyxDQUFULEVBQVk7QUFDdEIsTUFBSUMsQ0FBQyxHQUFHRCxDQUFDLENBQUNFLFFBQUYsS0FBZSxDQUF2QjtBQUFBLE1BQ0FDLENBQUMsR0FBR0gsQ0FBQyxDQUFDSSxPQUFGLEVBREo7QUFBQSxNQUVBQyxDQUFDLEdBQUdMLENBQUMsQ0FBQ00sUUFBRixFQUZKO0FBQUEsTUFHQUMsQ0FBQyxHQUFHUCxDQUFDLENBQUNRLFVBQUYsRUFISjtBQUFBLE1BSUFDLENBQUMsR0FBR1QsQ0FBQyxDQUFDVSxVQUFGLEVBSko7QUFLQSxTQUFPVixDQUFDLENBQUNXLFdBQUYsS0FBa0IsR0FBbEIsSUFBeUIsS0FBS1YsQ0FBTCxHQUFTLE1BQU1BLENBQWYsR0FBa0IsS0FBS0EsQ0FBaEQsSUFBcUQsR0FBckQsSUFBNEQsS0FBS0UsQ0FBTCxHQUFTLE1BQU1BLENBQWYsR0FBa0IsS0FBS0EsQ0FBbkYsSUFBd0YsR0FBeEYsSUFBK0YsS0FB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NUUsRUFBNkdELENBQUMsQ0FBQ3NCLE1BQUYsQ0FBU3JCLENBQVQsRUFBWUUsQ0FBWixDQUE5SixDQUFQO0FBQ0gsQ0FGRDs7QUFHQUwsR0FBRyxDQUFDeUIsTUFBSixHQUFhLFVBQVN2QixDQUFULEVBQVlDLENBQVosRUFBZTtBQUN4QixNQUFJRSxDQUFDLEdBQUdILENBQUMsQ0FBQ3dCLE9BQUYsQ0FBVXZCLENBQVYsQ0FBUjtBQUNBLFNBQU8sQ0FBRSxDQUFGLElBQU9FLENBQVAsR0FBVyxDQUFDLENBQVosSUFBaUJILENBQUMsQ0FBQ3lCLE1BQUYsQ0FBU3RCLENBQVQsRUFBWSxDQUFaLEdBQWdCLENBQUMsQ0FBbEMsQ0FBUDtBQUNILENBSEQ7O0FBSUFMLEdBQUcsQ0FBQzRCLElBQUosR0FBVyxVQUFTMUIsQ0FBVCxFQUFZO0FBQ25CLFNBQU87QUFDSDJCLElBQUFBLEdBQUcsRUFBRSxDQURGO0FBRUhDLElBQUFBLEdBQUcsRUFBRTVCLENBRkY7QUFHSDZCLElBQUFBLE9BQU8sRUFBRSxtQkFBVztBQUNoQixhQUFPLEtBQUtGLEdBQUwsR0FBVyxLQUFLQyxHQUFMLENBQVNmLE1BQTNCO0FBQ0gsS0FMRTtBQU1IaUIsSUFBQUEsSUFBSSxFQUFFLGdCQUFXO0FBQ2IsYUFBTyxLQUFLRixHQUFMLENBQVMsS0FBS0QsR0FBTCxFQUFULENBQVA7QUFDSDtBQVJFLEdBQVA7QUFVSCxDQVhEIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY29tID0gZnVuY3Rpb24oKXt9XG5cbmNvbS5kYXRlU3RyID0gZnVuY3Rpb24odCkge1xuICAgIHZhciBlID0gdC5nZXRNb250aCgpICsgMSxcbiAgICBuID0gdC5nZXREYXRlKCksXG4gICAgaSA9IHQuZ2V0SG91cnMoKSxcbiAgICBzID0gdC5nZXRNaW51dGVzKCksXG4gICAgYSA9IHQuZ2V0U2Vjb25kcygpO1xuICAgIHJldHVybiB0LmdldEZ1bGxZZWFyKCkgKyBcIi1cIiArICgxMCA+IGUgPyBcIjBcIiArIGU6IFwiXCIgKyBlKSArIFwiLVwiICsgKDEwID4gbiA/IFwiMFwiICsgbjogXCJcIiArIG4pICsgXCIgXCIgKyAoMTAgPiBpID8gXCIwXCIgKyBpOiBcIlwiICsgaSkgKyBcIjpcIiArICgxMCA+IHMgPyBcIjBcIiArIHM6IFwiXCIgKyBzKSArIFwiOlwiICsgKDEwID4gYSA/IFwiMFwiICsgYTogXCJcIiArIGEpXG59LFxuXG5jb20uc3RyRGF0ZSA9IGZ1bmN0aW9uKHQpIHtcbiAgICBzd2l0Y2ggKHQubGVuZ3RoKSB7XG4gICAgY2FzZSA4OlxuICAgICAgICB2YXIgdCA9IHQuc3BsaXQoXCI6XCIpLFxuICAgICAgICBlID0gbmV3IERhdGU7XG4gICAgICAgIHJldHVybiBlLnNldFRpbWUoMCksXG4gICAgICAgIGUuc2V0VVRDSG91cnModFswXSksXG4gICAgICAgIGUuc2V0VVRDTWludXRlcyh0WzFdKSxcbiAgICAgICAgZS5zZXRVVENTZWNvbmRzKHRbMl0pLFxuICAgICAgICBlO1xuICAgIGNhc2UgMTA6XG4gICAgICAgIHJldHVybiB0ID0gdC5zcGxpdChcIi1cIiksXG4gICAgICAgIG5ldyBEYXRlKHRbMF0sIHRbMV0gLSAxLCB0WzJdLCAwLCAwLCAwKTtcbiAgICBjYXNlIDE5OlxuICAgICAgICByZXR1cm4gZSA9IHQuc3BsaXQoXCIgXCIpLFxuICAgICAgICB0ID0gZVswXS5zcGxpdChcIi1cIiksXG4gICAgICAgIGUgPSBlWzFdLnNwbGl0KFwiOlwiKSxcbiAgICAgICAgbmV3IERhdGUodFswXSwgdFsxXSAtIDEsIHRbMl0sIGVbMF0sIGVbMV0sIGVbMl0pO1xuICAgIGRlZmF1bHQ6XG4gICAgICAgIHRocm93IFwiSW52YWxpZCBkYXRlIGZvcm1hdCA6IFwiICsgdFxuICAgIH1cbn1cbmNvbS5jY2EgPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgdmFyIG4gPSB0LmNoYXJDb2RlQXQoZSk7XG4gICAgcmV0dXJuIG4gIT0gbiA/IHZvaWQgMCA6IG5cbn1cbmNvbS5zdWJzdHIgPSBmdW5jdGlvbih0LCBlLCBuKSB7XG4gICAgcmV0dXJuIG51bGwgIT0gZSAmJiAwICE9IGUgJiYgbnVsbCAhPSBuICYmIDAgPiBuID8gXCJcIjogKG51bGwgPT0gbiAmJiAobiA9IHQubGVuZ3RoKSwgMCA+IGUgPyAoZSA9IHQubGVuZ3RoICsgZSwgMCA+IGUgJiYgKGUgPSAwKSkgOiAwID4gbiAmJiAobiA9IHQubGVuZ3RoICsgbiAtIGUpLCB0LnN1YnN0cihlLCBuKSlcbn1cbmNvbS5yZW1vdmUgPSBmdW5jdGlvbih0LCBlKSB7XG4gICAgdmFyIG4gPSB0LmluZGV4T2YoZSk7XG4gICAgcmV0dXJuIC0gMSA9PSBuID8gITEgOiAodC5zcGxpY2UobiwgMSksICEwKVxufVxuY29tLml0ZXIgPSBmdW5jdGlvbih0KSB7XG4gICAgcmV0dXJuIHtcbiAgICAgICAgY3VyOiAwLFxuICAgICAgICBhcnI6IHQsXG4gICAgICAgIGhhc05leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY3VyIDwgdGhpcy5hcnIubGVuZ3RoXG4gICAgICAgIH0sXG4gICAgICAgIG5leHQ6IGZ1bmN0aW9uKCkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuYXJyW3RoaXMuY3VyKytdXG4gICAgICAgIH1cbiAgICB9XG59OyJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/g - 001.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'bfe6ayXISRPGJZU9+VRaz62', 'g - 001');
// Game/Scripts/g - 001.ts

// Learn TypeScript:
//  - https://docs.cocos.com/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var NewClass = /** @class */ (function (_super) {
    __extends(NewClass, _super);
    function NewClass() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.label = null;
        _this.text = 'hello';
        return _this;
        // update (dt) {}
    }
    // LIFE-CYCLE CALLBACKS:
    // onLoad () {}
    NewClass.prototype.start = function () {
    };
    NewClass.prototype.randomInt = function (min, max) {
        if (max == null) {
            max = min;
            min = 0;
        }
        var val = Math.random() * (max - min);
        return Math.floor(val) + min;
    };
    ;
    NewClass.prototype.getRandomInArray = function (arr) {
        if (arr)
            return arr[g.randomInt(0, arr.length)];
    };
    ;
    NewClass.prototype.randomFloat = function (min, max) {
        return Math.random() * (max - min) + min;
    };
    ;
    NewClass.prototype.isNextDay = function (timeSec) {
        return g.isGreaterDate(new Date(), new Date(timeSec));
    };
    ;
    NewClass.prototype.isGreaterDate = function (now, before) {
        var diff = now.getTime() - before.getTime();
        if (diff > 86400000) // 24*60*60*1000
         {
            return true;
        }
        else {
            if (diff > 0)
                return now.getDate() != before.getDate();
            else
                return false;
        }
    };
    ;
    __decorate([
        property(cc.Label)
    ], NewClass.prototype, "label", void 0);
    __decorate([
        property
    ], NewClass.prototype, "text", void 0);
    NewClass = __decorate([
        ccclass
    ], NewClass);
    return NewClass;
}(cc.Component));
exports.default = NewClass;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcZyAtIDAwMS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7QUFBQSxvQkFBb0I7QUFDcEIsd0VBQXdFO0FBQ3hFLG1CQUFtQjtBQUNuQixrRkFBa0Y7QUFDbEYsOEJBQThCO0FBQzlCLGtGQUFrRjs7QUFFNUUsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBc0MsNEJBQVk7SUFBbEQ7UUFBQSxxRUFrREM7UUEvQ0csV0FBSyxHQUFhLElBQUksQ0FBQztRQUd2QixVQUFJLEdBQVcsT0FBTyxDQUFDOztRQTJDdkIsaUJBQWlCO0lBQ3JCLENBQUM7SUExQ0csd0JBQXdCO0lBRXhCLGVBQWU7SUFFZix3QkFBSyxHQUFMO0lBRUEsQ0FBQztJQUVELDRCQUFTLEdBQVQsVUFBVSxHQUFVLEVBQUUsR0FBVTtRQUM1QixJQUFHLEdBQUcsSUFBSSxJQUFJLEVBQUU7WUFBQyxHQUFHLEdBQUcsR0FBRyxDQUFDO1lBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQztTQUFDO1FBQ3JDLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxNQUFNLEVBQUUsR0FBRyxDQUFDLEdBQUcsR0FBRyxHQUFHLENBQUMsQ0FBQztRQUN0QyxPQUFPLElBQUksQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDO0lBQ2pDLENBQUM7SUFBQSxDQUFDO0lBQ0gsbUNBQWdCLEdBQWhCLFVBQWtCLEdBQVk7UUFFekIsSUFBRyxHQUFHO1lBQ0YsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDLEVBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUE7SUFDN0MsQ0FBQztJQUFBLENBQUM7SUFFRiw4QkFBVyxHQUFYLFVBQWEsR0FBVSxFQUFDLEdBQVU7UUFFOUIsT0FBTyxJQUFJLENBQUMsTUFBTSxFQUFFLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLEdBQUcsR0FBRyxDQUFDO0lBQzdDLENBQUM7SUFBQSxDQUFDO0lBRUYsNEJBQVMsR0FBVCxVQUFVLE9BQU87UUFFYixPQUFPLENBQUMsQ0FBQyxhQUFhLENBQUMsSUFBSSxJQUFJLEVBQUUsRUFBQyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsQ0FBQyxDQUFBO0lBQ3hELENBQUM7SUFBQSxDQUFDO0lBQ0YsZ0NBQWEsR0FBYixVQUFjLEdBQUcsRUFBQyxNQUFNO1FBRXBCLElBQUksSUFBSSxHQUFHLEdBQUcsQ0FBQyxPQUFPLEVBQUUsR0FBRyxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUE7UUFDM0MsSUFBRyxJQUFJLEdBQUcsUUFBUSxFQUFFLGdCQUFnQjtTQUNwQztZQUNJLE9BQU8sSUFBSSxDQUFDO1NBQ2Y7YUFBSTtZQUNELElBQUksSUFBSSxHQUFHLENBQUM7Z0JBQ1IsT0FBTyxHQUFHLENBQUMsT0FBTyxFQUFFLElBQUksTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFBOztnQkFFeEMsT0FBTyxLQUFLLENBQUM7U0FDcEI7SUFDTCxDQUFDO0lBQUEsQ0FBQztJQTdDRjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOzJDQUNJO0lBR3ZCO1FBREMsUUFBUTswQ0FDYztJQU5OLFFBQVE7UUFENUIsT0FBTztPQUNhLFFBQVEsQ0FrRDVCO0lBQUQsZUFBQztDQWxERCxBQWtEQyxDQWxEcUMsRUFBRSxDQUFDLFNBQVMsR0FrRGpEO2tCQWxEb0IsUUFBUSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vIExlYXJuIFR5cGVTY3JpcHQ6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xyXG5cclxuQGNjY2xhc3NcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmV3Q2xhc3MgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xyXG5cclxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcclxuICAgIGxhYmVsOiBjYy5MYWJlbCA9IG51bGw7XHJcblxyXG4gICAgQHByb3BlcnR5XHJcbiAgICB0ZXh0OiBzdHJpbmcgPSAnaGVsbG8nO1xyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgIC8vIG9uTG9hZCAoKSB7fVxyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuXHJcbiAgICB9XHJcbiAgXHJcbiAgICByYW5kb21JbnQobWluOm51bWJlciwgbWF4Om51bWJlcikge1xyXG4gICAgICAgIGlmKG1heCA9PSBudWxsKSB7bWF4ID0gbWluOyBtaW4gPSAwO31cclxuICAgICAgICB2YXIgdmFsID0gTWF0aC5yYW5kb20oKSAqIChtYXggLSBtaW4pO1xyXG4gICAgICAgIHJldHVybiBNYXRoLmZsb29yKHZhbCkgKyBtaW47XHJcbiAgICB9O1xyXG4gICBnZXRSYW5kb21JbkFycmF5IChhcnI6bnVtYmVyW10pXHJcbiAgICB7XHJcbiAgICAgICAgaWYoYXJyKVxyXG4gICAgICAgICAgICByZXR1cm4gYXJyW2cucmFuZG9tSW50KDAsYXJyLmxlbmd0aCldXHJcbiAgICB9O1xyXG5cclxuICAgIHJhbmRvbUZsb2F0IChtaW46bnVtYmVyLG1heDpudW1iZXIpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcclxuICAgIH07XHJcblxyXG4gICAgaXNOZXh0RGF5KHRpbWVTZWMpXHJcbiAgICB7XHJcbiAgICAgICAgcmV0dXJuIGcuaXNHcmVhdGVyRGF0ZShuZXcgRGF0ZSgpLG5ldyBEYXRlKHRpbWVTZWMpKVxyXG4gICAgfTtcclxuICAgIGlzR3JlYXRlckRhdGUobm93LGJlZm9yZSlcclxuICAgIHtcclxuICAgICAgICB2YXIgZGlmZiA9IG5vdy5nZXRUaW1lKCkgLSBiZWZvcmUuZ2V0VGltZSgpIFxyXG4gICAgICAgIGlmKGRpZmYgPiA4NjQwMDAwMCkgLy8gMjQqNjAqNjAqMTAwMFxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGlmIChkaWZmID4gMCApXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gbm93LmdldERhdGUoKSAhPSBiZWZvcmUuZ2V0RGF0ZSgpXHJcbiAgICAgICAgICAgIGVsc2UgXHJcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IFxyXG4gICAgICAgIH1cclxuICAgIH07XHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxyXG59XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/gamesys/PoolManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '69495bpMX5Av5pbrNxnGI8/', 'PoolManager');
// framework/plugin_boosts/gamesys/PoolManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
var PoolManager = /** @class */ (function () {
    function PoolManager(root, onCreateObject, target) {
        this.nodePool = {};
        this.nodes = {};
        this.managed = false;
        this.aliveObjects = [];
        this.onCreateObject = onCreateObject;
        this.target = target;
        this.root = root;
        if (root) {
            root.on(cc.Node.EventType.CHILD_REMOVED, this.onNodeRemove, this);
        }
    }
    PoolManager.prototype.onNodeRemove = function (node) {
        this.put(node);
    };
    PoolManager.prototype.objects = function () {
        return this.aliveObjects;
    };
    PoolManager.prototype.clearAlives = function () {
        for (var i = 0; i < this.aliveObjects.length;) {
            var obj = this.aliveObjects[i];
            obj.removeFromParent();
        }
    };
    PoolManager.prototype.getPool = function (type) {
        if (typeof (type) != "string" || typeof (type) != "number") {
            type = type._uuid || type.name;
        }
        var pool = this.nodePool[type];
        if (pool == null) {
            pool = new cc.NodePool();
            this.nodePool[type] = pool;
        }
        return pool;
    };
    PoolManager.prototype.get = function (type) {
        var node = this.getPool(type).get();
        if (this.onCreateObject) {
            if (node == null) {
                node = this.onCreateObject.call(this.target, type);
                if (this.root)
                    node.setParent(this.root);
                if (!node)
                    console.warn(node, "onCreateObject must return an object");
                if (this.managed)
                    this.aliveObjects.push(node);
                this.nodes[node.uuid] = type;
                return node;
            }
        }
        if (this.root)
            node.setParent(this.root);
        if (this.managed)
            this.aliveObjects.push(node);
        return node;
    };
    PoolManager.prototype.tag = function (node, type) {
        this.nodes[node.uuid] = type;
    };
    PoolManager.prototype.put = function (node, type) {
        if (type === void 0) { type = null; }
        if (type == null)
            type = this.nodes[node.uuid];
        this.getPool(type).put(node);
        if (this.managed)
            this.aliveObjects.splice(this.aliveObjects.indexOf(node), 1);
    };
    PoolManager.prototype.clear = function (type) {
        if (this.managed)
            this.aliveObjects.splice(0, this.aliveObjects.length);
        if (type)
            this.getPool(type).clear();
        else {
            for (var t in this.nodePool) {
                var pool = this.nodePool[t];
                pool.clear();
            }
        }
    };
    PoolManager.prototype.size = function (type) {
        return this.getPool(type).size();
    };
    return PoolManager;
}());
exports.default = PoolManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxnYW1lc3lzXFxQb29sTWFuYWdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQ0E7SUFhSSxxQkFBWSxJQUFhLEVBQUMsY0FBZSxFQUFDLE1BQU87UUFYakQsYUFBUSxHQUFPLEVBQUUsQ0FBQTtRQUVqQixVQUFLLEdBQUcsRUFBRSxDQUFBO1FBTVYsWUFBTyxHQUFXLEtBQUssQ0FBQztRQUN4QixpQkFBWSxHQUFhLEVBQUUsQ0FBQTtRQUl2QixJQUFJLENBQUMsY0FBYyxHQUFHLGNBQWMsQ0FBQztRQUNyQyxJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztRQUNyQixJQUFJLENBQUMsSUFBSSxHQUFHLElBQUksQ0FBQztRQUNqQixJQUFHLElBQUksRUFDUDtZQUNJLElBQUksQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsYUFBYSxFQUFFLElBQUksQ0FBQyxZQUFZLEVBQUUsSUFBSSxDQUFDLENBQUE7U0FDcEU7SUFDTCxDQUFDO0lBRUQsa0NBQVksR0FBWixVQUFhLElBQUk7UUFFYixJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ25CLENBQUM7SUFFRCw2QkFBTyxHQUFQO1FBRUksT0FBTyxJQUFJLENBQUMsWUFBWSxDQUFDO0lBQzdCLENBQUM7SUFFRCxpQ0FBVyxHQUFYO1FBRUksS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFFLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxHQUMzQztZQUNJLElBQUksR0FBRyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFDOUIsR0FBRyxDQUFDLGdCQUFnQixFQUFFLENBQUE7U0FDekI7SUFDTCxDQUFDO0lBRUQsNkJBQU8sR0FBUCxVQUFRLElBQUk7UUFFUixJQUFHLE9BQU0sQ0FBQyxJQUFJLENBQUMs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LElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQyxDQUFDLENBQUE7Z0JBQzNCLElBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQzthQUNoQjtTQUNKO0lBQ0wsQ0FBQztJQUVELDBCQUFJLEdBQUosVUFBSyxJQUFJO1FBRUwsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO0lBQ3JDLENBQUM7SUFDTCxrQkFBQztBQUFELENBckhBLEFBcUhDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvb2xNYW5hZ2VyXG57XG4gICAgbm9kZVBvb2w6YW55ID0ge31cbiAgICBcbiAgICBub2RlcyA9IHt9XG5cbiAgICBvbkNyZWF0ZU9iamVjdDpGdW5jdGlvbjtcbiAgICB0YXJnZXQ6YW55O1xuICAgIHJvb3Q6Y2MuTm9kZTtcblxuICAgIG1hbmFnZWQ6Ym9vbGVhbiA9IGZhbHNlO1xuICAgIGFsaXZlT2JqZWN0czpjYy5Ob2RlW10gPSBbXVxuXG4gICAgY29uc3RydWN0b3Iocm9vdD86Y2MuTm9kZSxvbkNyZWF0ZU9iamVjdD8sdGFyZ2V0PylcbiAgICB7XG4gICAgICAgIHRoaXMub25DcmVhdGVPYmplY3QgPSBvbkNyZWF0ZU9iamVjdDtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgICAgIHRoaXMucm9vdCA9IHJvb3Q7XG4gICAgICAgIGlmKHJvb3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJvb3Qub24oY2MuTm9kZS5FdmVudFR5cGUuQ0hJTERfUkVNT1ZFRCwgdGhpcy5vbk5vZGVSZW1vdmUsIHRoaXMpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvbk5vZGVSZW1vdmUobm9kZSlcbiAgICB7XG4gICAgICAgIHRoaXMucHV0KG5vZGUpO1xuICAgIH1cblxuICAgIG9iamVjdHMoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYWxpdmVPYmplY3RzO1xuICAgIH1cblxuICAgIGNsZWFyQWxpdmVzKClcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGkgPSAwOyBpPCB0aGlzLmFsaXZlT2JqZWN0cy5sZW5ndGg7KVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgb2JqID0gdGhpcy5hbGl2ZU9iamVjdHNbaV1cbiAgICAgICAgICAgIG9iai5yZW1vdmVGcm9tUGFyZW50KClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGdldFBvb2wodHlwZSk6Y2MuTm9kZVBvb2xcbiAgICB7XG4gICAgICAgIGlmKHR5cGVvZih0eXBlKSAhPSBcInN0cmluZ1wiIHx8IHR5cGVvZih0eXBlKSE9IFwibnVtYmVyXCIgKVxuICAgICAgICB7XG4gICAgICAgICAgICB0eXBlID0gdHlwZS5fdXVpZCB8fCB0eXBlLm5hbWU7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHBvb2wgPSB0aGlzLm5vZGVQb29sW3R5cGVdO1xuICAgICAgICBpZihwb29sID09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHBvb2wgPSBuZXcgY2MuTm9kZVBvb2woKTtcbiAgICAgICAgICAgIHRoaXMubm9kZVBvb2xbdHlwZV0gPSBwb29sO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBwb29sO1xuICAgIH1cblxuICAgIGdldCh0eXBlKTpjYy5Ob2RlXG4gICAge1xuICAgICAgICBsZXQgbm9kZSA9ICB0aGlzLmdldFBvb2wodHlwZSkuZ2V0KCk7XG4gICAgICAgIGlmKHRoaXMub25DcmVhdGVPYmplY3QpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmKG5vZGUgPT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBub2RlID0gdGhpcy5vbkNyZWF0ZU9iamVjdC5jYWxsKHRoaXMudGFyZ2V0LHR5cGUpXG4gICAgICAgICAgICAgICAgaWYodGhpcy5yb290KVxuICAgICAgICAgICAgICAgICAgICBub2RlLnNldFBhcmVudCh0aGlzLnJvb3QpO1xuICAgICAgICAgICAgICAgIGlmKCFub2RlIClcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS53YXJuKG5vZGUsXCJvbkNyZWF0ZU9iamVjdCBtdXN0IHJldHVybiBhbiBvYmplY3RcIilcbiAgICAgICAgICAgICAgICBpZih0aGlzLm1hbmFnZWQpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuYWxpdmVPYmplY3RzLnB1c2gobm9kZSk7XG4gICAgICAgICAgICAgICAgdGhpcy5ub2Rlc1tub2RlLnV1aWRdID0gdHlwZTtcbiAgICAgICAgICAgICAgICByZXR1cm4gbm9kZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLnJvb3QpXG4gICAgICAgICAgICBub2RlLnNldFBhcmVudCh0aGlzLnJvb3QpO1xuICAgICAgICBpZih0aGlzLm1hbmFnZWQpXG4gICAgICAgICAgICB0aGlzLmFsaXZlT2JqZWN0cy5wdXNoKG5vZGUpO1xuICAgICAgICByZXR1cm4gbm9kZTtcbiAgICB9XG5cbiAgICB0YWcobm9kZSx0eXBlKVxuICAgIHtcbiAgICAgICAgdGhpcy5ub2Rlc1tub2RlLnV1aWRdID0gdHlwZTtcbiAgICB9XG5cbiAgICBwdXQobm9kZTpjYy5Ob2RlLHR5cGUgPSBudWxsKVxuICAgIHtcbiAgICAgICAgaWYodHlwZSA9PSBudWxsKVxuICAgICAgICAgICAgdHlwZSA9IHRoaXMubm9kZXNbbm9kZS51dWlkXTtcbiAgICAgICAgdGhpcy5nZXRQb29sKHR5cGUpLnB1dChub2RlKTtcbiAgICAgICAgaWYodGhpcy5tYW5hZ2VkKVxuICAgICAgICAgICAgdGhpcy5hbGl2ZU9iamVjdHMuc3BsaWNlKHRoaXMuYWxpdmVPYmplY3RzLmluZGV4T2Yobm9kZSksMSk7XG4gICAgfVxuXG4gICAgY2xlYXIodHlwZT8pXG4gICAge1xuICAgICAgICBpZih0aGlzLm1hbmFnZWQpXG4gICAgICAgICAgICB0aGlzLmFsaXZlT2JqZWN0cy5zcGxpY2UoMCx0aGlzLmFsaXZlT2JqZWN0cy5sZW5ndGgpO1xuICAgICAgICBpZih0eXBlKVxuICAgICAgICAgICAgdGhpcy5nZXRQb29sKHR5cGUpLmNsZWFyKCk7XG4gICAgICAgIGVsc2VcbiAgICAgICAge1xuICAgICAgICAgICAgZm9yICh2YXIgdCBpbiB0aGlzLm5vZGVQb29sKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCBwb29sID0gdGhpcy5ub2RlUG9vbFt0XVxuICAgICAgICAgICAgICAgIHBvb2wuY2xlYXIoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNpemUodHlwZSlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLmdldFBvb2wodHlwZSkuc2l6ZSgpO1xuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/network/Socket.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '8cfb4mvQk5BQqbWZvml7K36', 'Socket');
// framework/network/Socket.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.Socket = void 0;
var MessageHandler_1 = require("./MessageHandler");
var MessageType_1 = require("./MessageType");
/**
* name
*/
var Socket = /** @class */ (function () {
    function Socket(conf) {
        this._config = null;
        this._reconnetTimes = 200;
        this._defaultTimeout = 10000;
        this.retryTimer = 0;
        this.initSocket(conf);
    }
    Socket.prototype.initSocket = function (conf) {
        this._config = conf;
        if (!this._config.timeout)
            this._config.timeout = this._defaultTimeout;
        if (this._config.retime)
            this._reconnetTimes = this._config.retime;
        this.connect();
    };
    Socket.prototype.connect = function () {
        var _this = this;
        var addr = this._config.host;
        if (this._config.port) {
            addr = this._config.host + ":" + this._config.port;
        }
        console.log("start connect server>>>>", addr);
        this._webSocket = new WebSocket(addr);
        this._messageHandler = new MessageHandler_1.MessageHandler(this._webSocket);
        // this._webSocket.endian = Laya.Byte.BIG_ENDIAN;
        // if(this._config.timeout)this._webSocket.timeout=this._config.timeout;
        this._webSocket.onopen = function (event) { return _this.onSocketOpen(); };
        this._webSocket.onmessage = function (event) { return _this.onReceiveMessage(event); };
        this._webSocket.onclose = function (event) { return _this.onSocketClose(); };
        this._webSocket.onerror = function (event) { return _this.onSocketError(); };
    };
    Socket.prototype.close = function () {
        if (this._webSocket) {
            // this._webSocket.offAll(null);
            this._webSocket.close();
        }
    };
    Socket.prototype.flush = function () {
        // if(this._webSocket.connected){
        // this._webSocket.flush();
        // }
    };
    Socket.prototype.enableHeartbeat = function (enable) {
        this._messageHandler.enableHeartbeat = enable;
    };
    Socket.prototype.onSocketOpen = function () {
        console.log("connect " + this._config.host + " success");
        this._messageHandler.dispatch(MessageType_1.SocketTag.KSOCKET_OPEN, "");
    };
    Socket.prototype.onReceiveMessage = function (event) {
        var _this = this;
        if (event === void 0) { event = null; }
        console.log("websocket receive message:" + event.data);
        if (typeof (wx) == "undefined") {
            this.toArrayBuffer(event.data).then(function (arrbuf) {
                _this._messageHandler.dispatch(MessageType_1.SocketTag.KSOCKET_MESSAGE, arrbuf);
            });
        }
        else {
            this._messageHandler.dispatch(MessageType_1.SocketTag.KSOCKET_MESSAGE, event.data);
        }
    };
    Socket.prototype.toArrayBuffer = function (blob) {
        //将Blob 对象转换成 ArrayBuffer
        var arrayBuffer;
        var reader = new FileReader();
        reader.readAsArrayBuffer(blob);
        return new Promise(function (resolve, reject) {
            reader.onload = function (e) {
                arrayBuffer = reader.result;
                resolve(arrayBuffer);
            };
        });
    };
    Socket.prototype.sendMessage = function (msg) {
        if (this._webSocket.readyState == WebSocket.OPEN) {
            this._messageHandler.sendMessage(msg);
            return true;
        }
        return false;
    };
    Socket.prototype.sendCustomMessage = function (msg) {
        this._messageHandler.dispatchMessage(msg);
    };
    Socket.prototype.reconnect = function () {
        var _this = this;
        // cc.director.getScheduler().unscheduleAllForTarget(this);
        if (Socket.count >= 2 || this._webSocket.readyState == WebSocket.OPEN) {
            clearTimeout(this.retryTimer);
        }
        else {
            if (this._webSocket.readyState == WebSocket.CLOSED) {
                this.connect();
            }
            this.retryTimer = setTimeout(function () {
                _this.reconnect();
            }, this._reconnetTimes);
        }
    };
    Socket.prototype.onSocketClose = function (e) {
        if (e === void 0) { e = null; }
        this._messageHandler.dispatch(MessageType_1.SocketTag.KSOCKET_CLOSE, "");
        console.log("websocket connect close.", this._webSocket.readyState);
        this.close();
        this.reconnect();
    };
    Socket.prototype.onSocketError = function (e) {
        if (e === void 0) { e = null; }
        this._messageHandler.dispatch(MessageType_1.SocketTag.KSOCKET_ERROR, "");
        console.log("websocket io error.");
        // this.reconnect(true);
    };
    Socket.count = 0;
    return Socket;
}());
exports.Socket = Socket;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxuZXR3b3JrXFxTb2NrZXQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxtREFBa0Q7QUFDbEQsNkNBQXVDO0FBRXZDOztFQUVFO0FBRUY7SUFPQyxnQkFBbUIsSUFBSTtRQU5mLFlBQU8sR0FBUSxJQUFJLENBQUM7UUFHcEIsbUJBQWMsR0FBVSxHQUFHLENBQUM7UUFDNUIsb0JBQWUsR0FBVyxLQUFLLENBQUM7UUFDeEMsZUFBVSxHQUFVLENBQUMsQ0FBQztRQUVyQixJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ3ZCLENBQUM7SUFHTywyQkFBVSxHQUFsQixVQUFtQixJQUFRO1FBQzFCLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO1FBQ3BCLElBQUcsQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU87WUFBRSxJQUFJLENBQUMsT0FBTyxDQUFDLE9BQU8sR0FBRyxJQUFJLENBQUMsZUFBZSxDQUFDO1FBQ3RFLElBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxNQUFNO1lBQUUsSUFBSSxDQUFDLGNBQWMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQztRQUNsRSxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUE7SUFDZixDQUFDO0lBRU8sd0JBQU8sR0FBZjtRQUFBLGlCQWlCQztRQWhCQSxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQztRQUM3QixJQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxFQUNwQjtZQUNDLElBQUksR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksR0FBRSxHQUFHLEdBQUUsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUE7U0FDaEQ7UUFDRCxPQUFPLENBQUMsR0FBRyxDQUFDLDBCQUEwQixFQUFHLElBQUksQ0FBQyxDQUFDO1FBQy9DLElBQUksQ0FBQyxVQUFVLEdB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QUNsQixDQUFDO0lBRU0sOEJBQWEsR0FBcEIsVUFBcUIsQ0FBYTtRQUFiLGtCQUFBLEVBQUEsUUFBYTtRQUNqQyxJQUFJLENBQUMsZUFBZSxDQUFDLFFBQVEsQ0FBQyx1QkFBUyxDQUFDLGFBQWEsRUFBRSxFQUFFLENBQUMsQ0FBQztRQUMzRCxPQUFPLENBQUMsR0FBRyxDQUFDLHFCQUFxQixDQUFDLENBQUM7UUFDbkMsd0JBQXdCO0lBQ3pCLENBQUM7SUE3Qk0sWUFBSyxHQUFHLENBQUMsQ0FBQztJQThCbEIsYUFBQztDQWpJRCxBQWlJQyxJQUFBO0FBaklZLHdCQUFNIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWVzc2FnZUhhbmRsZXIgfSBmcm9tIFwiLi9NZXNzYWdlSGFuZGxlclwiO1xuaW1wb3J0IHtTb2NrZXRUYWd9IGZyb20gXCIuL01lc3NhZ2VUeXBlXCJcbmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tIFwiLi9NZXNzYWdlXCI7XG4vKipcbiogbmFtZSBcbiovXG5cbmV4cG9ydCBjbGFzcyBTb2NrZXR7XG5cdHByaXZhdGUgX2NvbmZpZzogYW55ID0gbnVsbDtcblx0cHJpdmF0ZSBfd2ViU29ja2V0OiBXZWJTb2NrZXQ7XG5cdHByaXZhdGUgX21lc3NhZ2VIYW5kbGVyOiBNZXNzYWdlSGFuZGxlcjtcblx0cHJpdmF0ZSBfcmVjb25uZXRUaW1lczpudW1iZXIgPSAyMDA7XG5cdHByaXZhdGUgX2RlZmF1bHRUaW1lb3V0OiBudW1iZXIgPSAxMDAwMDtcblx0cmV0cnlUaW1lcjpudW1iZXIgPSAwO1xuXHRwdWJsaWMgY29uc3RydWN0b3IoY29uZikge1xuXHRcdHRoaXMuaW5pdFNvY2tldChjb25mKTtcblx0fVxuXG5cblx0cHJpdmF0ZSBpbml0U29ja2V0KGNvbmY6YW55KXtcblx0XHR0aGlzLl9jb25maWcgPSBjb25mO1xuXHRcdGlmKCF0aGlzLl9jb25maWcudGltZW91dCkgdGhpcy5fY29uZmlnLnRpbWVvdXQgPSB0aGlzLl9kZWZhdWx0VGltZW91dDtcblx0XHRpZih0aGlzLl9jb25maWcucmV0aW1lKSB0aGlzLl9yZWNvbm5ldFRpbWVzID0gdGhpcy5fY29uZmlnLnJldGltZTtcblx0XHR0aGlzLmNvbm5lY3QoKVxuXHR9XG5cblx0cHJpdmF0ZSBjb25uZWN0KCl7XG5cdFx0bGV0IGFkZHIgPSB0aGlzLl9jb25maWcuaG9zdDtcblx0XHRpZih0aGlzLl9jb25maWcucG9ydClcblx0XHR7XG5cdFx0XHRhZGRyID0gdGhpcy5fY29uZmlnLmhvc3QgK1wiOlwiICt0aGlzLl9jb25maWcucG9ydFxuXHRcdH1cblx0XHRjb25zb2xlLmxvZyhcInN0YXJ0IGNvbm5lY3Qgc2VydmVyPj4+PlwiICwgYWRkcik7XG5cdFx0dGhpcy5fd2ViU29ja2V0ID0gbmV3IFdlYlNvY2tldChhZGRyKTtcblx0XHR0aGlzLl9tZXNzYWdlSGFuZGxlciA9IG5ldyBNZXNzYWdlSGFuZGxlcih0aGlzLl93ZWJTb2NrZXQpO1xuXHRcdC8vIHRoaXMuX3dlYlNvY2tldC5lbmRpYW4gPSBMYXlhLkJ5dGUuQklHX0VORElBTjtcblx0XHQvLyBpZih0aGlzLl9jb25maWcudGltZW91dCl0aGlzLl93ZWJTb2NrZXQudGltZW91dD10aGlzLl9jb25maWcudGltZW91dDtcblx0XHRcblx0XHR0aGlzLl93ZWJTb2NrZXQub25vcGVuID0gKGV2ZW50KT0+dGhpcy5vblNvY2tldE9wZW4oKTtcblx0XHR0aGlzLl93ZWJTb2NrZXQub25tZXNzYWdlID0gKGV2ZW50KT0+dGhpcy5vblJlY2VpdmVNZXNzYWdlKGV2ZW50KTtcblx0XHR0aGlzLl93ZWJTb2NrZXQub25jbG9zZSA9IChldmVudCk9PnRoaXMub25Tb2NrZXRDbG9zZSgpO1xuXHRcdHRoaXMuX3dlYlNvY2tldC5vbmVycm9yID0gKGV2ZW50KT0+dGhpcy5vblNvY2tldEVycm9yKCk7XG5cblx0fVxuXG5cdHB1YmxpYyBjbG9zZSgpe1xuXHRcdGlmKHRoaXMuX3dlYlNvY2tldCl7XG5cdFx0XHQvLyB0aGlzLl93ZWJTb2NrZXQub2ZmQWxsKG51bGwpO1xuXHRcdFx0dGhpcy5fd2ViU29ja2V0LmNsb3NlKCk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIGZsdXNoKCl7XG5cdFx0Ly8gaWYodGhpcy5fd2ViU29ja2V0LmNvbm5lY3RlZCl7XG5cdFx0XHQvLyB0aGlzLl93ZWJTb2NrZXQuZmx1c2goKTtcblx0XHQvLyB9XG5cdH1cblxuXHRwdWJsaWMgZW5hYmxlSGVhcnRiZWF0KGVuYWJsZSkge1xuXHRcdHRoaXMuX21lc3NhZ2VIYW5kbGVyLmVuYWJsZUhlYXJ0YmVhdCA9IGVuYWJsZTtcblx0fVxuXG5cdHByaXZhdGUgb25Tb2NrZXRPcGVuKCk6IHZvaWR7XG5cdFx0Y29uc29sZS5sb2coXCJjb25uZWN0IFwiICsgdGhpcy5fY29uZmlnLmhvc3QgK1wiIHN1Y2Nlc3NcIik7XG5cdFx0dGhpcy5fbWVzc2FnZUhhbmRsZXIuZGlzcGF0Y2goU29ja2V0VGFnLktTT0NLRVRfT1BFTiwgXCJcIik7XG5cdH1cblxuXHRwcml2YXRlIG9uUmVjZWl2ZU1lc3NhZ2UoZXZlbnQ6IGFueSA9IG51bGwpOiB2b2lke1xuXHRcdGNvbnNvbGUubG9nKFwid2Vic29ja2V0IHJlY2VpdmUgbWVzc2FnZTpcIiArIGV2ZW50LmRhdGEpO1xuXHRcdGlmICh0eXBlb2Yod3gpID09IFwidW5kZWZpbmVkXCIpXG5cdFx0e1xuXHRcdFx0dGhpcy50b0FycmF5QnVmZmVyKGV2ZW50LmRhdGEpLnRoZW4oYXJyYnVmPT57XG5cdFx0XHRcdHRoaXMuX21lc3NhZ2VIYW5kbGVyLmRpc3BhdGNoKFNvY2tldFRhZy5LU09DS0VUX01FU1NBR0UsIGFycmJ1Zik7XG5cdFx0XHR9KVxuXHRcdH1lbHNle1xuXHRcdFx0dGhpcy5fbWVzc2FnZUhhbmRsZXIuZGlzcGF0Y2goU29ja2V0VGFnLktTT0NLRVRfTUVTU0FHRSwgZXZlbnQuZGF0YSk7XG5cdFx0fVxuXHR9XG5cblx0cHJpdmF0ZSB0b0FycmF5QnVmZmVyKGJsb2IpOlByb21pc2U8QXJyYXlCdWZmZXI+XG5cdHtcblx0XHQvL+WwhkJsb2Ig5a+56LGh6L2s5o2i5oiQIEFycmF5QnVmZmVyXG5cdFx0dmFyIGFycmF5QnVmZmVyO1xuXHRcdHZhciByZWFkZXIgPSBuZXcgRmlsZVJlYWRlcigpO1xuXHRcdHJlYWRlci5yZWFkQXNBcnJheUJ1ZmZlcihibG9iKTtcblx0XHRyZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e1xuXHRcdFx0cmVhZGVyLm9ubG9hZCA9IGZ1bmN0aW9uIChlKSB7XG5cdFx0XHRcdGFycmF5QnVmZmVyID0gcmVhZGVyLnJlc3VsdDtcblx0XHRcdFx0cmVzb2x2ZShhcnJheUJ1ZmZlcik7XG5cdFx0XHR9XG5cdFx0fSlcblx0fVxuXG5cdFxuXHRwdWJsaWMgc2VuZE1lc3NhZ2UobXNnOiBNZXNzYWdlKTogYm9vbGVhbntcblx0XHRpZiggdGhpcy5fd2ViU29ja2V0LnJlYWR5U3RhdGUgPT0gV2ViU29ja2V0Lk9QRU4gKXtcblx0XHRcdHRoaXMuX21lc3NhZ2VIYW5kbGVyLnNlbmRNZXNzYWdlKG1zZyk7XG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHR9XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cHVibGljIHNlbmRDdXN0b21NZXNzYWdlKG1zZzogTWVzc2FnZSkge1xuXHRcdHRoaXMuX21lc3NhZ2VIYW5kbGVyLmRpc3BhdGNoTWVzc2FnZShtc2cpO1xuXHR9XG5cblx0c3RhdGljIGNvdW50ID0gMDtcblxuXHRwcml2YXRlIHJlY29ubmVjdCgpe1xuXHRcdC8vIGNjLmRpcmVjdG9yLmdldFNjaGVkdWxlcigpLnVuc2NoZWR1bGVBbGxGb3JUYXJnZXQodGhpcyk7XG5cdFx0aWYoU29ja2V0LmNvdW50ID49IDJ8fHRoaXMuX3dlYlNvY2tldC5yZWFkeVN0YXRlID09IFdlYlNvY2tldC5PUEVOKVxuXHRcdHtcblx0XHRcdGNsZWFyVGltZW91dCh0aGlzLnJldHJ5VGltZXIpO1xuXHRcdH1lbHNle1xuXHRcdFx0aWYodGhpcy5fd2ViU29ja2V0LnJlYWR5U3RhdGUgPT0gV2ViU29ja2V0LkNMT1NFRClcblx0XHRcdHtcblx0XHRcdFx0dGhpcy5jb25uZWN0KCk7XG5cdFx0XHR9XG5cdFx0XHR0aGlzLnJldHJ5VGltZXIgPSBzZXRUaW1lb3V0KCgpPT57XG5cdFx0XHRcdHRoaXMucmVjb25uZWN0KCk7XG5cdFx0XHR9LHRoaXMuX3JlY29ubmV0VGltZXMpXG5cdFx0fVxuXHR9XG5cblx0cHVibGljIG9uU29ja2V0Q2xvc2UoZTogYW55ID0gbnVsbCl7XG5cdFx0dGhpcy5fbWVzc2FnZUhhbmRsZXIuZGlzcGF0Y2goU29ja2V0VGFnLktTT0NLRVRfQ0xPU0UsIFwiXCIpO1xuXHRcdGNvbnNvbGUubG9nKFwid2Vic29ja2V0IGNvbm5lY3QgY2xvc2UuXCIgLHRoaXMuX3dlYlNvY2tldC5yZWFkeVN0YXRlKTtcblx0XHR0aGlzLmNsb3NlKCk7XG5cdFx0dGhpcy5yZWNvbm5lY3QoKTtcblx0fVxuXG5cdHB1YmxpYyBvblNvY2tldEVycm9yKGU6IGFueSA9IG51bGwpe1xuXHRcdHRoaXMuX21lc3NhZ2VIYW5kbGVyLmRpc3BhdGNoKFNvY2tldFRhZy5LU09DS0VUX0VSUk9SLCBcIlwiKTtcblx0XHRjb25zb2xlLmxvZyhcIndlYnNvY2tldCBpbyBlcnJvci5cIik7XG5cdFx0Ly8gdGhpcy5yZWNvbm5lY3QodHJ1ZSk7XG5cdH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/network/MessageDispatch.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '27032HakQBLd5OVLXAxtzCc', 'MessageDispatch');
// framework/network/MessageDispatch.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.MessageDispatch = void 0;
var MessageDispatch = /** @class */ (function () {
    function MessageDispatch() {
        this._handler = null;
        this._allMessageBases = {};
    }
    MessageDispatch.getInstance = function () {
        if (this._instace == null) {
            this._instace = new MessageDispatch();
        }
        return this._instace;
    };
    MessageDispatch.prototype.register = function (key, msgPro) {
        if (key == null)
            return null;
        if (msgPro == null)
            return null;
        var allBases = this._allMessageBases[key];
        if (allBases == null)
            this._allMessageBases[key] = [];
        this._allMessageBases[key].push(msgPro);
        return msgPro;
    };
    MessageDispatch.prototype.isNull = function (key) {
        var allBases = this._allMessageBases[key];
        if (allBases != null && allBases.length > 0)
            return true;
        return false;
    };
    MessageDispatch.prototype.registerUnique = function (key, msgPro) {
        if (key == null)
            return null;
        var allBases = this._allMessageBases[key];
        if (allBases != null && allBases.length > 0)
            return this._allMessageBases[key][0];
        else
            return this.register(key, msgPro);
    };
    MessageDispatch.prototype.getBean = function (key) {
        if (key == null)
            return null;
        var allBeans = this._allMessageBases[key];
        if (allBeans != null && allBeans.length > 0) {
            return allBeans[0];
        }
        return null;
    };
    MessageDispatch.prototype.unRegister = function (key) {
        var allBases = this._allMessageBases[key];
        if (allBases == null)
            return;
        for (var i = 0; i < allBases.length; i++)
            allBases[i].onDestory();
        this._allMessageBases[key] = null;
        delete this._allMessageBases[key];
    };
    MessageDispatch.prototype.onMessage = function (msg) {
        for (var key in this._allMessageBases) {
            if (this._allMessageBases[key] == null)
                continue;
            var allBases = this._allMessageBases[key];
            for (var i = 0; i < allBases.length; i++)
                if (allBases[i].onMessage(msg))
                    return true;
        }
        return false;
    };
    MessageDispatch._instace = null;
    return MessageDispatch;
}());
exports.MessageDispatch = MessageDispatch;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxuZXR3b3JrXFxNZXNzYWdlRGlzcGF0Y2gudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtJQWNDO1FBQ0MsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUM7UUFDckIsSUFBSSxDQUFDLGdCQUFnQixHQUFHLEVBQUUsQ0FBQztJQUM1QixDQUFDO0lBYmEsMkJBQVcsR0FBekI7UUFDQyxJQUFHLElBQUksQ0FBQyxRQUFRLElBQUksSUFBSSxFQUFDO1lBQ3hCLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxlQUFlLEVBQUUsQ0FBQztTQUN0QztRQUNELE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQztJQUN0QixDQUFDO0lBVU0sa0NBQVEsR0FBZixVQUFnQixHQUFXLEVBQUUsTUFBbUI7UUFDL0MsSUFBRyxHQUFHLElBQUksSUFBSTtZQUFFLE9BQU8sSUFBSSxDQUFDO1FBQzVCLElBQUcsTUFBTSxJQUFJLElBQUk7WUFBRSxPQUFPLElBQUksQ0FBQztRQUMvQixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDMUMsSUFBRyxRQUFRLElBQUksSUFBSTtZQUFDLElBQUksQ0FBQyxnQkFBZ0IsQ0FBQyxHQUFHLENBQUMsR0FBRyxFQUFFLENBQUM7UUFDcEQsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN4QyxPQUFPLE1BQU0sQ0FBQztJQUNmLENBQUM7SUFFTSxnQ0FBTSxHQUFiLFVBQWMsR0FBVztRQUN4QixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDMUMsSUFBRyxRQUFRLElBQUksSUFBSSxJQUFJLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQztZQUN6QyxPQUFPLElBQUksQ0FBQztRQUNiLE9BQU8sS0FBSyxDQUFDO0lBQ2QsQ0FBQztJQUVNLHdDQUFjLEdBQXJCLFVBQXNCLEdBQVcsRUFBRSxNQUFvQjtRQUN0RCxJQUFHLEdBQUcsSUFBSSxJQUFJO1lBQUcsT0FBTyxJQUFJLENBQUM7UUFDN0IsSUFBSSxRQUFRLEdBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQzFDLElBQUcsUUFBUSxJQUFJLElBQUksSUFBSSxRQUFRLENBQUMsTUFBTSxHQUFHLENBQUM7WUFDekMsT0FBTyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7O1lBQ2pDLE9BQU8sSUFBSSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLENBQUM7SUFDeEMsQ0FBQztJQUVNLGlDQUFPLEdBQWQsVUFBZSxHQUFXO1FBQ3pCLElBQUksR0FBRyxJQUFJLElBQUk7WUFBRyxPQUFPLElBQUksQ0FBQztRQUM5QixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDMUMsSUFBRyxRQUFRLElBQUksSUFBSSxJQUFJLFFBQVEsQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFDO1lBQzFDLE9BQVksUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDO1NBQ3hCO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDYixDQUFDO0lBRU0sb0NBQVUsR0FBakIsVUFBa0IsR0FBVztRQUM1QixJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUM7UUFDMUMsSUFBRyxRQUFRLElBQUksSUFBSTtZQUFFLE9BQU87UUFDNUIsS0FBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFO1lBQ3RDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUN6QixJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLEdBQUcsSUFBSSxDQUFDO1FBQ2xDLE9BQU8sSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUFFTSxtQ0FBUyxHQUFoQixVQUFpQixHQUFRO1FBQ3hCLEtBQUksSUFBSSxHQUFHLElBQUksSUFBSSxDQUFDLGdCQUFnQixFQUFDO1lBQ3BDLElBQUcsSUFBSSxDQUFDLGdCQUFnQixDQUFDLEdBQUcsQ0FBQyxJQUFFLElBQUk7Z0JBQUMsU0FBUztZQUM3QyxJQUFJLFFBQVEsR0FBRyxJQUFJLENBQUMsZ0JBQWdCLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDMUMsS0FBSSxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFHLFFBQVEsQ0FBQyxNQUFNLEVBQUUsQ0FBQyxFQUFFO2dCQUN0QyxJQUFHLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDO29CQUFFLE9BQU8sSUFBSSxDQUFDO1NBQzVDO1FBQ0QsT0FBTyxLQUFLLENBQUM7SUFDZCxDQUFDO0lBbkVjLHdCQUFRLEdBQW9CLElBQUksQ0FBQztJQW9FakQsc0JBQUM7Q0F0RUQsQUFzRUMsSUFBQTtBQXRFWSwwQ0FBZSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7TWVzc2FnZUJhc2V9IGZyb20gXCIuL01lc3NhZ2VCYXNlXCJcbmV4cG9ydCBjbGFzcyBNZXNzYWdlRGlzcGF0Y2h7XG5cblx0cHJpdmF0ZSBzdGF0aWMgX2luc3RhY2U6IE1lc3NhZ2VEaXNwYXRjaCA9IG51bGw7XG5cblx0cHVibGljIHN0YXRpYyBnZXRJbnN0YW5jZSgpe1xuXHRcdGlmKHRoaXMuX2luc3RhY2UgPT0gbnVsbCl7XG5cdFx0XHR0aGlzLl9pbnN0YWNlID0gbmV3IE1lc3NhZ2VEaXNwYXRjaCgpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5faW5zdGFjZTtcblx0fVxuXG5cdHByaXZhdGUgX2hhbmRsZXI6IGFueTtcblx0cHJpdmF0ZSBfYWxsTWVzc2FnZUJhc2VzOiB7W2tleTogc3RyaW5nXTogTWVzc2FnZUJhc2VbXX07XG5cblx0Y29uc3RydWN0b3IoKXtcblx0XHR0aGlzLl9oYW5kbGVyID0gbnVsbDtcblx0XHR0aGlzLl9hbGxNZXNzYWdlQmFzZXMgPSB7fTtcblx0fVxuXG5cdHB1YmxpYyByZWdpc3RlcihrZXk6IHN0cmluZywgbXNnUHJvOiBNZXNzYWdlQmFzZSl7XG5cdFx0aWYoa2V5ID09IG51bGwpIHJldHVybiBudWxsO1xuXHRcdGlmKG1zZ1BybyA9PSBudWxsKSByZXR1cm4gbnVsbDtcblx0XHRsZXQgYWxsQmFzZXMgPSB0aGlzLl9hbGxNZXNzYWdlQmFzZXNba2V5XTtcblx0XHRpZihhbGxCYXNlcyA9PSBudWxsKXRoaXMuX2FsbE1lc3NhZ2VCYXNlc1trZXldID0gW107XG5cdFx0dGhpcy5fYWxsTWVzc2FnZUJhc2VzW2tleV0ucHVzaChtc2dQcm8pO1xuXHRcdHJldHVybiBtc2dQcm87XG5cdH1cblxuXHRwdWJsaWMgaXNOdWxsKGtleTogc3RyaW5nKXtcblx0XHRsZXQgYWxsQmFzZXMgPSB0aGlzLl9hbGxNZXNzYWdlQmFzZXNba2V5XTtcblx0XHRpZihhbGxCYXNlcyAhPSBudWxsICYmIGFsbEJhc2VzLmxlbmd0aCA+IDApXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRwdWJsaWMgcmVnaXN0ZXJVbmlxdWUoa2V5OiBzdHJpbmcsIG1zZ1Bybz86IE1lc3NhZ2VCYXNlKXtcblx0XHRpZihrZXkgPT0gbnVsbCApIHJldHVybiBudWxsO1xuXHRcdGxldCBhbGxCYXNlcyA9IHRoaXMuX2FsbE1lc3NhZ2VCYXNlc1trZXldO1xuXHRcdGlmKGFsbEJhc2VzICE9IG51bGwgJiYgYWxsQmFzZXMubGVuZ3RoID4gMClcblx0XHRcdHJldHVybiB0aGlzLl9hbGxNZXNzYWdlQmFzZXNba2V5XVswXTtcblx0XHRlbHNlIHJldHVybiB0aGlzLnJlZ2lzdGVyKGtleSwgbXNnUHJvKTtcblx0fVxuXG5cdHB1YmxpYyBnZXRCZWFuKGtleTogc3RyaW5nKSB7XG5cdFx0aWYoIGtleSA9PSBudWxsICkgcmV0dXJuIG51bGw7XG5cdFx0bGV0IGFsbEJlYW5zID0gdGhpcy5fYWxsTWVzc2FnZUJhc2VzW2tleV07XG5cdFx0aWYoYWxsQmVhbnMgIT0gbnVsbCAmJiBhbGxCZWFucy5sZW5ndGggPiAwKXtcblx0XHRcdHJldHVybiA8YW55PmFsbEJlYW5zWzBdO1xuXHRcdH1cblx0XHRyZXR1cm4gbnVsbDtcblx0fVxuXG5cdHB1YmxpYyB1blJlZ2lzdGVyKGtleTogc3RyaW5nKXtcblx0XHRsZXQgYWxsQmFzZXMgPSB0aGlzLl9hbGxNZXNzYWdlQmFzZXNba2V5XTtcblx0XHRpZihhbGxCYXNlcyA9PSBudWxsKSByZXR1cm47XG5cdFx0Zm9yKGxldCBpID0gMDsgaSA8IGFsbEJhc2VzLmxlbmd0aDsgaSsrKVxuXHRcdFx0YWxsQmFzZXNbaV0ub25EZXN0b3J5KCk7XG5cdFx0dGhpcy5fYWxsTWVzc2FnZUJhc2VzW2tleV0gPSBudWxsO1xuXHRcdGRlbGV0ZSB0aGlzLl9hbGxNZXNzYWdlQmFzZXNba2V5XTtcblx0fVxuXG5cdHB1YmxpYyBvbk1lc3NhZ2UobXNnOiBhbnkpe1xuXHRcdGZvcihsZXQga2V5IGluIHRoaXMuX2FsbE1lc3NhZ2VCYXNlcyl7XG5cdFx0XHRpZih0aGlzLl9hbGxNZXNzYWdlQmFzZXNba2V5XT09bnVsbCljb250aW51ZTtcblx0XHRcdGxldCBhbGxCYXNlcyA9IHRoaXMuX2FsbE1lc3NhZ2VCYXNlc1trZXldO1xuXHRcdFx0Zm9yKGxldCBpID0gMDsgaSA8IGFsbEJhc2VzLmxlbmd0aDsgaSsrKVxuXHRcdFx0XHRpZihhbGxCYXNlc1tpXS5vbk1lc3NhZ2UobXNnKSkgcmV0dXJuIHRydWU7XG5cdFx0fVxuXHRcdHJldHVybiBmYWxzZTtcblx0fVxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/network/ConnectManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ac5faec2blDKJorwXTfZFZx', 'ConnectManager');
// framework/network/ConnectManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.connManager = void 0;
var Socket_1 = require("./Socket");
var ConnectManager = /** @class */ (function () {
    function ConnectManager() {
        this._allConns = null;
        this._allConns = {};
    }
    ConnectManager.getInstance = function () {
        if (this._instance == null) {
            this._instance = new ConnectManager();
        }
        return this._instance;
    };
    ConnectManager.prototype.create = function (name, conf) {
        if (this._allConns[name] == null) {
            var socket = new Socket_1.Socket(conf);
            this._allConns[name] = socket;
            if (this._defaultKey == null)
                this._defaultKey = name;
        }
    };
    ConnectManager.prototype.setDefaultKey = function (key) {
        if (key != null && this._allConns[key]) {
            this._defaultKey = key;
        }
    };
    ConnectManager.prototype.getDefault = function () {
        return this.getConn(this._defaultKey);
    };
    ConnectManager.prototype.getConn = function (name) {
        if (name == null)
            return null;
        if (this._allConns[name] != null) {
            return this._allConns[name];
        }
        return null;
    };
    ConnectManager.prototype.sendMessage = function (msg, name) {
        if (name == null)
            name = this._defaultKey;
        var conn = this.getConn(name);
        if (conn != null) {
            conn.sendMessage(msg);
        }
    };
    ConnectManager.prototype.enableHeartbeat = function (name) {
        var conn = this.getConn(name);
        conn.enableHeartbeat(true);
    };
    ConnectManager.prototype.sendCustomMessage = function (msg) {
        var conn = this.getConn(this._defaultKey);
        if (conn != null)
            conn.sendCustomMessage(msg);
    };
    ConnectManager.prototype.remove = function (name) {
        var conn = this.getConn(name);
        if (conn != null) {
            delete this._allConns[name];
            conn.close();
        }
    };
    ConnectManager._instance = null;
    return ConnectManager;
}());
exports.connManager = ConnectManager.getInstance();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxuZXR3b3JrXFxDb25uZWN0TWFuYWdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLG1DQUFrQztBQUlsQztJQWFDO1FBRlEsY0FBUyxHQUE2QixJQUFJLENBQUM7UUFHbEQsSUFBSSxDQUFDLFNBQVMsR0FBRyxFQUFFLENBQUM7SUFDckIsQ0FBQztJQVphLDBCQUFXLEdBQXpCO1FBQ0MsSUFBRyxJQUFJLENBQUMsU0FBUyxJQUFJLElBQUksRUFBQztZQUN6QixJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksY0FBYyxFQUFFLENBQUM7U0FDdEM7UUFDRCxPQUFPLElBQUksQ0FBQyxTQUFTLENBQUM7SUFDdkIsQ0FBQztJQVNNLCtCQUFNLEdBQWIsVUFBYyxJQUFZLEVBQUUsSUFBUztRQUNwQyxJQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLElBQUksSUFBSSxFQUFDO1lBQy9CLElBQUksTUFBTSxHQUFHLElBQUksZUFBTSxDQUFDLElBQUksQ0FBQyxDQUFDO1lBQzlCLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLEdBQUcsTUFBTSxDQUFDO1lBQzlCLElBQUcsSUFBSSxDQUFDLFdBQVcsSUFBSSxJQUFJO2dCQUMxQixJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQztTQUN6QjtJQUNGLENBQUM7SUFFTSxzQ0FBYSxHQUFwQixVQUFxQixHQUFXO1FBQy9CLElBQUcsR0FBRyxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxFQUFFO1lBQ3RDLElBQUksQ0FBQyxXQUFXLEdBQUcsR0FBRyxDQUFDO1NBQ3ZCO0lBQ0YsQ0FBQztJQUVNLG1DQUFVLEdBQWpCO1FBQ0MsT0FBTyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxXQUFXLENBQUMsQ0FBQztJQUN2QyxDQUFDO0lBRU0sZ0NBQU8sR0FBZCxVQUFlLElBQVk7UUFDMUIsSUFBRyxJQUFJLElBQUksSUFBSTtZQUFFLE9BQU8sSUFBSSxDQUFDO1FBQzdCLElBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLEVBQUM7WUFDL0IsT0FBTyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxDQUFDO1NBQzVCO1FBQ0QsT0FBTyxJQUFJLENBQUM7SUFDYixDQUFDO0lBRU0sb0NBQVcsR0FBbEIsVUFBbUIsR0FBWSxFQUFFLElBQWE7UUFDN0MsSUFBRyxJQUFJLElBQUksSUFBSTtZQUFFLElBQUksR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDO1FBQ3pDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDOUIsSUFBRyxJQUFJLElBQUksSUFBSSxFQUFDO1lBQ2YsSUFBSSxDQUFDLFdBQVcsQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUN0QjtJQUNGLENBQUM7SUFFTSx3Q0FBZSxHQUF0QixVQUF1QixJQUFZO1FBQ2xDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDOUIsSUFBSSxDQUFDLGVBQWUsQ0FBQyxJQUFJLENBQUMsQ0FBQztJQUM1QixDQUFDO0lBRU0sMENBQWlCLEdBQXhCLFVBQXlCLEdBQVk7UUFDcEMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUM7UUFDMUMsSUFBSSxJQUFJLElBQUksSUFBSTtZQUFFLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUMvQyxDQUFDO0lBRU0sK0JBQU0sR0FBYixVQUFjLElBQVk7UUFDekIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUM5QixJQUFHLElBQUksSUFBSSxJQUFJLEVBQUM7WUFDZixPQUFPLElBQUksQ0FBQyxTQUFTLENBQUMsSUFBSSxDQUFDLENBQUM7WUFDNUIsSUFBSSxDQUFDLEtBQUssRUFBRSxDQUFDO1NBQ2I7SUFDRixDQUFDO0lBbEVjLHdCQUFTLEdBQW1CLElBQUksQ0FBQztJQW9FakQscUJBQUM7Q0F0RUQsQUFzRUMsSUFBQTtBQUVVLFFBQUEsV0FBVyxHQUFtQixjQUFjLENBQUMsV0FBVyxFQUFFLENBQUMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBTb2NrZXQgfSBmcm9tIFwiLi9Tb2NrZXRcIjtcbmltcG9ydCB7IE1lc3NhZ2UgfSBmcm9tIFwiLi9NZXNzYWdlXCI7XG5cblxuY2xhc3MgQ29ubmVjdE1hbmFnZXIge1xuXHRcblx0cHJpdmF0ZSBzdGF0aWMgX2luc3RhbmNlOiBDb25uZWN0TWFuYWdlciA9IG51bGw7XG5cdHB1YmxpYyBzdGF0aWMgZ2V0SW5zdGFuY2UoKTogQ29ubmVjdE1hbmFnZXJ7XG5cdFx0aWYodGhpcy5faW5zdGFuY2UgPT0gbnVsbCl7XG5cdFx0XHR0aGlzLl9pbnN0YW5jZSA9IG5ldyBDb25uZWN0TWFuYWdlcigpO1xuXHRcdH1cblx0XHRyZXR1cm4gdGhpcy5faW5zdGFuY2U7XG5cdH1cblx0XG5cdHByaXZhdGUgX2RlZmF1bHRLZXk6IHN0cmluZztcblx0cHJpdmF0ZSBfYWxsQ29ubnM6IHsgW25hbWU6c3RyaW5nXTogU29ja2V0fSA9IG51bGw7XG5cblx0cHVibGljIGNvbnN0cnVjdG9yKCl7XG5cdFx0dGhpcy5fYWxsQ29ubnMgPSB7fTtcblx0fVxuXG5cdHB1YmxpYyBjcmVhdGUobmFtZTogc3RyaW5nLCBjb25mOiBhbnkpe1xuXHRcdGlmKHRoaXMuX2FsbENvbm5zW25hbWVdID09IG51bGwpe1xuXHRcdFx0bGV0IHNvY2tldCA9IG5ldyBTb2NrZXQoY29uZik7XG5cdFx0XHR0aGlzLl9hbGxDb25uc1tuYW1lXSA9IHNvY2tldDtcblx0XHRcdGlmKHRoaXMuX2RlZmF1bHRLZXkgPT0gbnVsbClcblx0XHRcdFx0dGhpcy5fZGVmYXVsdEtleSA9IG5hbWU7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIHNldERlZmF1bHRLZXkoa2V5OiBzdHJpbmcpe1xuXHRcdGlmKGtleSAhPSBudWxsICYmIHRoaXMuX2FsbENvbm5zW2tleV0pIHtcblx0XHRcdHRoaXMuX2RlZmF1bHRLZXkgPSBrZXk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIGdldERlZmF1bHQoKSB7XG5cdFx0cmV0dXJuIHRoaXMuZ2V0Q29ubih0aGlzLl9kZWZhdWx0S2V5KTtcblx0fVxuXG5cdHB1YmxpYyBnZXRDb25uKG5hbWU6IHN0cmluZyl7XG5cdFx0aWYobmFtZSA9PSBudWxsKSByZXR1cm4gbnVsbDtcblx0XHRpZih0aGlzLl9hbGxDb25uc1tuYW1lXSAhPSBudWxsKXtcblx0XHRcdHJldHVybiB0aGlzLl9hbGxDb25uc1tuYW1lXTtcblx0XHR9XG5cdFx0cmV0dXJuIG51bGw7XG5cdH1cblxuXHRwdWJsaWMgc2VuZE1lc3NhZ2UobXNnOiBNZXNzYWdlLCBuYW1lPzogc3RyaW5nKXtcblx0XHRpZihuYW1lID09IG51bGwpIG5hbWUgPSB0aGlzLl9kZWZhdWx0S2V5O1xuXHRcdGxldCBjb25uID0gdGhpcy5nZXRDb25uKG5hbWUpO1xuXHRcdGlmKGNvbm4gIT0gbnVsbCl7XG5cdFx0XHRjb25uLnNlbmRNZXNzYWdlKG1zZyk7XG5cdFx0fVxuXHR9XG5cblx0cHVibGljIGVuYWJsZUhlYXJ0YmVhdChuYW1lOiBzdHJpbmcpIHtcblx0XHRsZXQgY29ubiA9IHRoaXMuZ2V0Q29ubihuYW1lKTtcblx0XHRjb25uLmVuYWJsZUhlYXJ0YmVhdCh0cnVlKTtcblx0fVxuXG5cdHB1YmxpYyBzZW5kQ3VzdG9tTWVzc2FnZShtc2c6IE1lc3NhZ2Upe1xuXHRcdGxldCBjb25uID0gdGhpcy5nZXRDb25uKHRoaXMuX2RlZmF1bHRLZXkpO1xuXHRcdGlmIChjb25uICE9IG51bGwpIGNvbm4uc2VuZEN1c3RvbU1lc3NhZ2UobXNnKTtcblx0fVxuXG5cdHB1YmxpYyByZW1vdmUobmFtZTogc3RyaW5nKXtcblx0XHRsZXQgY29ubiA9IHRoaXMuZ2V0Q29ubihuYW1lKTtcblx0XHRpZihjb25uICE9IG51bGwpe1xuXHRcdFx0ZGVsZXRlIHRoaXMuX2FsbENvbm5zW25hbWVdO1xuXHRcdFx0Y29ubi5jbG9zZSgpO1xuXHRcdH1cblx0fVxuXHRcbn1cblxuZXhwb3J0IHZhciBjb25uTWFuYWdlcjogQ29ubmVjdE1hbmFnZXIgPSBDb25uZWN0TWFuYWdlci5nZXRJbnN0YW5jZSgpOyJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/gamesys/PsFxPlayer.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'dc35b3gh69DGIz45mLQJxDM', 'PsFxPlayer');
// framework/plugin_boosts/gamesys/PsFxPlayer.ts

Object.defineProperty(exports, "__esModule", { value: true });
var PsFx_1 = require("./PsFx");
var Device_1 = require("./Device");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PsFxPlayer = /** @class */ (function (_super) {
    __extends(PsFxPlayer, _super);
    function PsFxPlayer() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.prefab = null;
        _this._fx = null;
        _this.spriteFrame = null;
        _this.duration = -1;
        _this.randomRotaion = false;
        return _this;
        // update (dt) {}
    }
    PsFxPlayer.prototype.start = function () {
    };
    Object.defineProperty(PsFxPlayer.prototype, "fx", {
        get: function () {
            if (this._fx == null && this.prefab) {
                var node = cc.instantiate(this.prefab);
                if (node == null)
                    return null;
                var fx = node.getComponent(PsFx_1.default);
                if (fx == null) {
                    fx = this.addComponent(PsFx_1.default);
                }
                node.setPosition(0, 0);
                node.setParent(this.node);
                this._fx = fx;
            }
            return this._fx;
        },
        enumerable: false,
        configurable: true
    });
    PsFxPlayer.prototype.isPlaying = function () {
        return this.fx.isPlaying;
    };
    PsFxPlayer.prototype.onEnable = function () {
    };
    PsFxPlayer.prototype.onDisable = function () {
        var fx = this._fx;
        if (fx)
            fx.node.active = false;
    };
    PsFxPlayer.prototype.sleep = function (sec) {
        return new Promise(function (resolve, reject) {
            setTimeout(function (_) {
                resolve();
            }, sec);
        });
    };
    ;
    PsFxPlayer.prototype.play = function () {
        return __awaiter(this, void 0, void 0, function () {
            var fx;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0:
                        Device_1.default.playEffect(this.audioClip, false);
                        fx = this.fx;
                        if (!fx) return [3 /*break*/, 1];
                        fx.node.active = true;
                        if (this.randomRotaion)
                            //fx.node.rotation = g.randomInt(0,360);  
                            fx.reset();
                        return [2 /*return*/, fx.play(this.audioClip, this.spriteFrame)];
                    case 1:
                        if (!(this.duration > 0)) return [3 /*break*/, 3];
                        return [4 /*yield*/, this.sleep(this.duration * 1000)];
                    case 2:
                        _a.sent();
                        _a.label = 3;
                    case 3: return [2 /*return*/];
                }
            });
        });
    };
    __decorate([
        property(cc.Prefab)
    ], PsFxPlayer.prototype, "prefab", void 0);
    __decorate([
        property(cc.SpriteFrame)
    ], PsFxPlayer.prototype, "spriteFrame", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], PsFxPlayer.prototype, "audioClip", void 0);
    __decorate([
        property
    ], PsFxPlayer.prototype, "duration", void 0);
    __decorate([
        property
    ], PsFxPlayer.prototype, "randomRotaion", void 0);
    PsFxPlayer = __decorate([
        ccclass
    ], PsFxPlayer);
    return PsFxPlayer;
}(cc.Component));
exports.default = PsFxPlayer;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxnYW1lc3lzXFxQc0Z4UGxheWVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSwrQkFBMEI7QUFDMUIsbUNBQThCO0FBRXhCLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQXdDLDhCQUFZO0lBQXBEO1FBQUEscUVBbUZDO1FBaEZHLFlBQU0sR0FBYSxJQUFJLENBQUE7UUFFdkIsU0FBRyxHQUFRLElBQUksQ0FBQztRQUdoQixpQkFBVyxHQUFrQixJQUFJLENBQUE7UUFNakMsY0FBUSxHQUFVLENBQUMsQ0FBQyxDQUFDO1FBR3JCLG1CQUFhLEdBQVksS0FBSyxDQUFDOztRQWlFL0IsaUJBQWlCO0lBQ3JCLENBQUM7SUFoRUcsMEJBQUssR0FBTDtJQUNBLENBQUM7SUFFRCxzQkFBSSwwQkFBRTthQUFOO1lBRUksSUFBRyxJQUFJLENBQUMsR0FBRyxJQUFJLElBQUksSUFBSSxJQUFJLENBQUMsTUFBTSxFQUNsQztnQkFDSSxJQUFJLElBQUksR0FBRyxFQUFFLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQztnQkFDdkMsSUFBRyxJQUFJLElBQUksSUFBSTtvQkFBRSxPQUFPLElBQUksQ0FBQztnQkFDN0IsSUFBSSxFQUFFLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFJLENBQUMsQ0FBQTtnQkFDaEMsSUFBRyxFQUFFLElBQUksSUFBSSxFQUNiO29CQUNJLEVBQUUsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLGNBQUksQ0FBQyxDQUFDO2lCQUNoQztnQkFDRCxJQUFJLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztnQkFDdEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7Z0JBQzFCLElBQUksQ0FBQyxHQUFHLEdBQUcsRUFBRSxDQUFDO2FBQ2pCO1lBQ0QsT0FBTyxJQUFJLENBQUMsR0FBRyxDQUFDO1FBQ3BCLENBQUM7OztPQUFBO0lBRUQsOEJBQVMsR0FBVDtRQUVJLE9BQU8sSUFBSSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUM7SUFDN0IsQ0FBQztJQUVELDZCQUFRLEdBQVI7SUFHQSxDQUFDO0lBRUQsOEJBQVMsR0FBVDtRQUVJLElBQUksRUFBRSxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUM7UUFDbEIsSUFBRyxFQUFFO1lBQ0QsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO0lBQy9CLENBQUM7SUFFRCwwQkFBSyxHQUFMLFVBQU0sR0FBRztRQUNMLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBQyxPQUFPLEVBQUMsTUFBTTtZQUM5QixVQUFVLENBQUMsVUFBQSxDQUFDO2dCQUNSLE9BQU8sRUFBRSxDQUFDO1lBQ2QsQ0FBQyxFQUFHLEdBQUcsQ0FBQyxDQUFBO1FBQ1osQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0lBQUEsQ0FBQztJQUVJLHlCQUFJLEdBQVY7Ozs7Ozt3QkFFSSxnQkFBTSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsU0FBUyxFQUFDLEtBQUssQ0FBQyxDQUFDO3dCQUNwQyxFQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUUsQ0FBQzs2QkFDZCxFQUFFLEVBQUYsd0JBQUU7d0JBRUQsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO3dCQUN0QixJQUFHLElBQUksQ0FBQyxhQUFhOzRCQUNqQiwwQ0FBMEM7NEJBQzlDLEVBQUUsQ0FBQyxLQUFLLEVBQUUsQ0FBQzt3QkFDWCxzQkFBTyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxFQUFDOzs2QkFFN0MsQ0FBQSxJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQSxFQUFqQix3QkFBaUI7d0JBQ2hCLHFCQUFNLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsRUFBQTs7d0JBQXRDLFNBQXNDLENBQUM7Ozs7OztLQUVsRDtJQTdFRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDOzhDQUNHO0lBS3ZCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUM7bURBQ1E7SUFHakM7UUFEQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLFNBQVMsRUFBQyxDQUFDO2lEQUNSO0lBR3ZCO1FBREMsUUFBUTtnREFDWTtJQUdyQjtRQURDLFFBQVE7cURBQ3NCO0lBakJkLFVBQVU7UUFEOUIsT0FBTztPQUNhLFVBQVUsQ0FtRjlCO0lBQUQsaUJBQUM7Q0FuRkQsQUFtRkMsQ0FuRnVDLEVBQUUsQ0FBQyxTQUFTLEdBbUZuRDtrQkFuRm9CLFVBQVUiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgUHNGeCBmcm9tIFwiLi9Qc0Z4XCI7XG5pbXBvcnQgRGV2aWNlIGZyb20gXCIuL0RldmljZVwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBzRnhQbGF5ZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcbiAgICBwcmVmYWI6Y2MuUHJlZmFiID0gbnVsbFxuXG4gICAgX2Z4OlBzRnggPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZUZyYW1lKVxuICAgIHNwcml0ZUZyYW1lOmNjLlNwcml0ZUZyYW1lID0gbnVsbFxuXG4gICAgQHByb3BlcnR5KHt0eXBlOiBjYy5BdWRpb0NsaXB9KVxuICAgIGF1ZGlvQ2xpcDpjYy5BdWRpb0NsaXA7XG5cbiAgICBAcHJvcGVydHlcbiAgICBkdXJhdGlvbjpudW1iZXIgPSAtMTtcblxuICAgIEBwcm9wZXJ0eVxuICAgIHJhbmRvbVJvdGFpb246IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIHN0YXJ0ICgpIHtcbiAgICB9XG5cbiAgICBnZXQgZngoKVxuICAgIHtcbiAgICAgICAgaWYodGhpcy5fZnggPT0gbnVsbCAmJiB0aGlzLnByZWZhYilcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IG5vZGUgPSBjYy5pbnN0YW50aWF0ZSh0aGlzLnByZWZhYik7XG4gICAgICAgICAgICBpZihub2RlID09IG51bGwpIHJldHVybiBudWxsO1xuICAgICAgICAgICAgbGV0IGZ4ID0gbm9kZS5nZXRDb21wb25lbnQoUHNGeClcbiAgICAgICAgICAgIGlmKGZ4ID09IG51bGwpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZnggPSB0aGlzLmFkZENvbXBvbmVudChQc0Z4KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5vZGUuc2V0UG9zaXRpb24oMCwwKTtcbiAgICAgICAgICAgIG5vZGUuc2V0UGFyZW50KHRoaXMubm9kZSk7XG4gICAgICAgICAgICB0aGlzLl9meCA9IGZ4O1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLl9meDtcbiAgICB9XG5cbiAgICBpc1BsYXlpbmcoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuZnguaXNQbGF5aW5nO1xuICAgIH1cblxuICAgIG9uRW5hYmxlKClcbiAgICB7XG4gICAgICAgIFxuICAgIH1cblxuICAgIG9uRGlzYWJsZSgpXG4gICAge1xuICAgICAgICBsZXQgZnggPSB0aGlzLl9meDtcbiAgICAgICAgaWYoZngpXG4gICAgICAgICAgICBmeC5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHNsZWVwKHNlYyl7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZSgocmVzb2x2ZSxyZWplY3QpPT57XG4gICAgICAgICAgICBzZXRUaW1lb3V0KF89PntcbiAgICAgICAgICAgICAgICByZXNvbHZlKCk7XG4gICAgICAgICAgICB9ICwgc2VjKVxuICAgICAgICB9KVxuICAgIH07XG5cbiAgICBhc3luYyBwbGF5KClcbiAgICB7XG4gICAgICAgIERldmljZS5wbGF5RWZmZWN0KHRoaXMuYXVkaW9DbGlwLGZhbHNlKTtcbiAgICAgICAgbGV0IGZ4ID0gdGhpcy5meDtcbiAgICAgICAgaWYoZngpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZ4Lm5vZGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIGlmKHRoaXMucmFuZG9tUm90YWlvbilcbiAgICAgICAgICAgICAgICAvL2Z4Lm5vZGUucm90YXRpb24gPSBnLnJhbmRvbUludCgwLDM2MCk7ICBcbiAgICAgICAgICAgIGZ4LnJlc2V0KCk7XG4gICAgICAgICAgICByZXR1cm4gZngucGxheSh0aGlzLmF1ZGlvQ2xpcCx0aGlzLnNwcml0ZUZyYW1lKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBpZih0aGlzLmR1cmF0aW9uID4gMCApXG4gICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5zbGVlcCh0aGlzLmR1cmF0aW9uICogMTAwMCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/network/MessageBase.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'dde8btrP25FeqHeKW+G4Pfb', 'MessageBase');
// framework/network/MessageBase.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.MessageBase = void 0;
var MessageType_1 = require("./MessageType");
var Message_1 = require("./Message");
var ConnectManager_1 = require("./ConnectManager");
var MessageBase = /** @class */ (function () {
    function MessageBase() {
        this.Cmd = {};
        this.Error = {};
        this._allFuncs = {};
        for (var i in game.Command) {
            var v = game.Command[i];
            this.Cmd[v] = i;
        }
        for (var i in game.ErrorCode) {
            var v = game.ErrorCode[i];
            this.Error[v] = i;
        }
    }
    MessageBase.prototype.useSocketKey = function (key) {
        this._socketKey = key;
    };
    MessageBase.prototype.addListener = function (cmd, func) {
        this._allFuncs[cmd] = func;
    };
    MessageBase.prototype.removeListener = function (cmd) {
        if (this._allFuncs[cmd] != null) {
            this._allFuncs[cmd] = null;
        }
    };
    MessageBase.prototype.onMessage = function (obj) {
        if (obj.type == MessageType_1.SocketTag.KSOCKET_MESSAGE) {
            var int8a = new Uint8Array(obj.msg);
            var buffer = new flatbuffers.ByteBuffer(int8a);
            var msg = game.Package.getRootAsPackage(buffer);
            if (this._allFuncs[msg.cmd()] != null) {
                return this._allFuncs[msg.cmd()].call(this, msg);
            }
            else
                return this.onHandler(msg);
        }
        else {
            this.onSocket(obj.type);
            return true;
        }
    };
    /**
     * 处理socket消息
     * @param type
     */
    MessageBase.prototype.onSocket = function (type) {
    };
    /**
     * 重写消息处理函数
     * return 消息处理结果，处理完成返回真，否则返回假(消息会入消息队列，等待下次处理)
     */
    MessageBase.prototype.onHandler = function (msg) {
        return false;
    };
    MessageBase.prototype.sendMessage = function (msg) {
        ConnectManager_1.connManager.sendMessage(msg, this._socketKey);
    };
    MessageBase.prototype.onDestory = function () {
        this._allFuncs = null;
    };
    MessageBase.prototype.send = function (cmd, cmdstr, procedure, build) {
        if (cmdstr === void 0) { cmdstr = ""; }
        if (procedure === void 0) { procedure = null; }
        if (build === void 0) { build = null; }
        console.log("Send Message : [" + this.Cmd[cmd] + "]");
        var socket = ConnectManager_1.connManager.getDefault();
        var msg = new Message_1.Message(cmd);
        var ds = game[cmdstr];
        if (ds != null) {
            if (build == null) {
                build = this.createBuilder();
            }
            var startFunc = ds["start" + cmdstr];
            var endFunc = ds["end" + cmdstr];
            startFunc.call(ds, build);
            if (procedure) {
                procedure(build);
                //game[cmd].addTaskId(build,task_id);
            }
            build.finish(endFunc.call(ds, build));
            msg.addBuilder(build);
        }
        else {
            msg.addString(cmdstr);
        }
        socket.sendMessage(msg);
    };
    MessageBase.prototype.createBuilder = function () {
        return new flatbuffers.Builder();
    };
    return MessageBase;
}());
exports.MessageBase = MessageBase;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxuZXR3b3JrXFxNZXNzYWdlQmFzZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDZDQUF1QztBQUN2QyxxQ0FBaUM7QUFDakMsbURBQStDO0FBQy9DO0lBT0M7UUFGQSxRQUFHLEdBQUksRUFBRSxDQUFBO1FBQ1QsVUFBSyxHQUFHLEVBQUUsQ0FBQTtRQUVULElBQUksQ0FBQyxTQUFTLEdBQUcsRUFBRSxDQUFDO1FBRXBCLEtBQUssSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLE9BQU8sRUFDcEI7WUFDSSxJQUFJLENBQUMsR0FBRyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQyxDQUFBO1lBQ3ZCLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1NBQ3pCO1FBQ0QsS0FBSyxJQUFJLENBQUMsSUFBSSxJQUFJLENBQUMsU0FBUyxFQUN0QjtZQUNJLElBQUksQ0FBQyxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsQ0FBQyxDQUFDLENBQUE7WUFDekIsSUFBSSxDQUFDLEtBQUssQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUM7U0FDM0I7SUFFRixDQUFDO0lBRU0sa0NBQVksR0FBbkIsVUFBb0IsR0FBVztRQUM5QixJQUFJLENBQUMsVUFBVSxHQUFHLEdBQUcsQ0FBQztJQUN2QixDQUFDO0lBRU0saUNBQVcsR0FBbEIsVUFBbUIsR0FBUSxFQUFFLElBQWM7UUFDMUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsR0FBRyxJQUFJLENBQUM7SUFDNUIsQ0FBQztJQUVNLG9DQUFjLEdBQXJCLFVBQXNCLEdBQVE7UUFDN0IsSUFBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxJQUFJLElBQUksRUFBQztZQUM5QixJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxHQUFHLElBQUksQ0FBQztTQUMzQjtJQUNGLENBQUM7SUFF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YSxHQUFiO1FBRUksT0FBTyxJQUFJLFdBQVcsQ0FBQyxPQUFPLEVBQUUsQ0FBQztJQUNyQyxDQUFDO0lBRUwsa0JBQUM7QUFBRCxDQTdHQSxBQTZHQyxJQUFBO0FBN0dZLGtDQUFXIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHtTb2NrZXRUYWd9IGZyb20gXCIuL01lc3NhZ2VUeXBlXCJcbmltcG9ydCB7TWVzc2FnZX0gZnJvbSBcIi4vTWVzc2FnZVwiXG5pbXBvcnQgeyBjb25uTWFuYWdlciB9IGZyb20gXCIuL0Nvbm5lY3RNYW5hZ2VyXCI7XG5leHBvcnQgY2xhc3MgTWVzc2FnZUJhc2Uge1xuXG5cdHByaXZhdGUgX3NvY2tldEtleTogc3RyaW5nO1xuXHRwcml2YXRlIF9hbGxGdW5jczoge1tjbWQ6IG51bWJlcl06IEZ1bmN0aW9ufTtcblxuXHRDbWQgID0ge31cblx0RXJyb3IgPSB7fVxuXHRwdWJsaWMgY29uc3RydWN0b3IoKSB7XG5cdFx0dGhpcy5fYWxsRnVuY3MgPSB7fTtcblxuXHRcdGZvciAodmFyIGkgaW4gZ2FtZS5Db21tYW5kKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgdiA9IGdhbWUuQ29tbWFuZFtpXVxuICAgICAgICAgICAgdGhpcy5DbWRbdl0gPSBpO1xuXHRcdH1cblx0XHRmb3IgKHZhciBpIGluIGdhbWUuRXJyb3JDb2RlKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgdiA9IGdhbWUuRXJyb3JDb2RlW2ldXG4gICAgICAgICAgICB0aGlzLkVycm9yW3ZdID0gaTtcblx0XHR9XG5cdFx0XG5cdH1cblxuXHRwdWJsaWMgdXNlU29ja2V0S2V5KGtleTogc3RyaW5nKXtcblx0XHR0aGlzLl9zb2NrZXRLZXkgPSBrZXk7XG5cdH1cblxuXHRwdWJsaWMgYWRkTGlzdGVuZXIoY21kOiBhbnksIGZ1bmM6IEZ1bmN0aW9uKXtcblx0XHR0aGlzLl9hbGxGdW5jc1tjbWRdID0gZnVuYztcblx0fVxuXG5cdHB1YmxpYyByZW1vdmVMaXN0ZW5lcihjbWQ6IGFueSl7XG5cdFx0aWYodGhpcy5fYWxsRnVuY3NbY21kXSAhPSBudWxsKXtcblx0XHRcdHRoaXMuX2FsbEZ1bmNzW2NtZF0gPSBudWxsO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBvbk1lc3NhZ2Uob2JqOiBhbnkpe1xuXHRcdGlmKG9iai50eXBlID09IFNvY2tldFRhZy5LU09DS0VUX01FU1NBR0Upe1xuXHRcdFx0bGV0IGludDhhID0gbmV3IFVpbnQ4QXJyYXkob2JqLm1zZyk7XG5cdFx0XHRsZXQgYnVmZmVyID0gbmV3IGZsYXRidWZmZXJzLkJ5dGVCdWZmZXIoaW50OGEpO1xuXHRcdFx0bGV0IG1zZzphbnkgPSBnYW1lLlBhY2thZ2UuZ2V0Um9vdEFzUGFja2FnZShidWZmZXIpO1xuXHRcdFx0aWYodGhpcy5fYWxsRnVuY3NbbXNnLmNtZCgpXSAhPSBudWxsKXtcblx0XHRcdFx0cmV0dXJuIHRoaXMuX2FsbEZ1bmNzW21zZy5jbWQoKV0uY2FsbCh0aGlzLCBtc2cpO1xuXHRcdFx0fWVsc2UgcmV0dXJuIHRoaXMub25IYW5kbGVyKG1zZyk7XG5cdFx0fSBlbHNlIHtcblx0XHRcdHRoaXMub25Tb2NrZXQob2JqLnR5cGUpO1xuXHRcdFx0cmV0dXJuIHRydWU7XG5cdFx0fVxuXHR9XG5cblx0LyoqXG5cdCAqIOWkhOeQhnNvY2tldOa2iOaBr1xuXHQgKiBAcGFyYW0gdHlwZSBcblx0ICovXG5cdHB1YmxpYyBvblNvY2tldCh0eXBlOiBTb2NrZXRUYWcpe1xuXG5cdH1cblx0XG5cdC8qKlxuXHQgKiDph43lhpnmtojmga/lpITnkIblh73mlbBcblx0ICogcmV0dXJuIOa2iOaBr+WkhOeQhue7k+aenO+8jOWkhOeQhuWujOaIkOi/lOWbnuecn++8jOWQpuWImei/lOWbnuWBhyjmtojmga/kvJrlhaXmtojmga/pmJ/liJfvvIznrYnlvoXkuIvmrKHlpITnkIYpXG5cdCAqL1xuXHRwdWJsaWMgb25IYW5kbGVyKG1zZzogZ2FtZS5QYWNrYWdlKXtcblx0XHRcblx0XHRyZXR1cm4gZmFsc2U7XG5cdH1cblxuXHRwdWJsaWMgc2VuZE1lc3NhZ2UobXNnOiBNZXNzYWdlKXtcblx0XHRjb25uTWFuYWdlci5zZW5kTWVzc2FnZShtc2csIHRoaXMuX3NvY2tldEtleSk7XG5cdH1cblxuXHRwdWJsaWMgb25EZXN0b3J5KCl7XG5cdFx0dGhpcy5fYWxsRnVuY3MgPSBudWxsO1xuXHR9XG5cblx0c2VuZChjbWQsY21kc3RyPVwiXCIscHJvY2VkdXJlPW51bGwsYnVpbGQgPSBudWxsKVxuXHR7XG5cdFx0Y29uc29sZS5sb2coXCJTZW5kIE1lc3NhZ2UgOiBbXCIgKyB0aGlzLkNtZFtjbWRdICtcIl1cIilcbiAgICAgICAgbGV0IHNvY2tldCA9IGNvbm5NYW5hZ2VyLmdldERlZmF1bHQoKTtcblx0XHRsZXQgbXNnID0gbmV3IE1lc3NhZ2UoY21kKTtcblx0XHRsZXQgZHMgPSBnYW1lW2NtZHN0cl0gXG4gICAgICAgIGlmKGRzICE9IG51bGwpXG4gICAgICAgIHtcblx0XHRcdGlmKGJ1aWxkID09IG51bGwpXG5cdFx0XHR7XG5cdFx0XHRcdGJ1aWxkID0gdGhpcy5jcmVhdGVCdWlsZGVyKCk7XG5cdFx0XHR9XG4gICAgICAgICAgICBsZXQgc3RhcnRGdW5jID0gZHNbXCJzdGFydFwiICsgY21kc3RyXSBcblx0XHRcdGxldCBlbmRGdW5jID0gZHNbXCJlbmRcIiArIGNtZHN0cl0gXG5cdFx0XHRzdGFydEZ1bmMuY2FsbChkcywgYnVpbGQpO1xuICAgICAgICAgICAgaWYocHJvY2VkdXJlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHByb2NlZHVyZShidWlsZClcbiAgICAgICAgICAgICAgICAvL2dhbWVbY21kXS5hZGRUYXNrSWQoYnVpbGQsdGFza19pZCk7XG4gICAgICAgICAgICB9XG5cdFx0XHRidWlsZC5maW5pc2goZW5kRnVuYy5jYWxsKGRzLGJ1aWxkKSlcblx0XHRcdG1zZy5hZGRCdWlsZGVyKGJ1aWxkKTtcblx0XHR9ZWxzZXtcblx0XHRcdG1zZy5hZGRTdHJpbmcoY21kc3RyKTtcblx0XHR9XG4gICAgICAgIHNvY2tldC5zZW5kTWVzc2FnZShtc2cpO1xuICAgIH1cblxuICAgIGNyZWF0ZUJ1aWxkZXIoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBmbGF0YnVmZmVycy5CdWlsZGVyKCk7XG4gICAgfVxuXHRcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/gamesys/LocalTimeSystem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2f847KAJNJCwrvg4K3CKFUv', 'LocalTimeSystem');
// framework/plugin_boosts/gamesys/LocalTimeSystem.ts

Object.defineProperty(exports, "__esModule", { value: true });
var LocalTimeSystem = /** @class */ (function () {
    function LocalTimeSystem() {
    }
    LocalTimeSystem.init = function (utc_msec) {
        if (utc_msec == null || utc_msec == undefined)
            return;
        LocalTimeSystem.utc_sec = utc_msec;
        if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            wx.onHide(this.onHidden);
            wx.onShow(this.onShown);
        }
        //g.setGlobalInstance(LocalTimeSystem);
    };
    LocalTimeSystem.startTimer = function () {
        this.timer = setInterval(function (_) {
            LocalTimeSystem.utc_sec += 1000;
        }, 1000);
    };
    LocalTimeSystem.stopTimer = function () {
        clearInterval(this.timer);
    };
    LocalTimeSystem.getSec = function () {
        return LocalTimeSystem.utc_sec || new Date().getTime() / 1000;
    };
    LocalTimeSystem.getDate = function () {
        if (LocalTimeSystem.utc_sec) {
            var date = new Date();
            date.setTime(LocalTimeSystem.utc_sec * 1000);
            return date;
        }
        return new Date();
    };
    LocalTimeSystem.onHidden = function () {
        console.log("game enter background");
        // this.stopTimer();
    };
    LocalTimeSystem.onShown = function () {
        console.log("game enter foreground");
        // this.startTimer();
    };
    return LocalTimeSystem;
}());
exports.default = LocalTimeSystem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxnYW1lc3lzXFxMb2NhbFRpbWVTeXN0ZW0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0lBQUE7SUF1REEsQ0FBQztJQW5EVSxvQkFBSSxHQUFYLFVBQVksUUFBZTtRQUV2QixJQUFHLFFBQVEsSUFBSSxJQUFJLElBQUUsUUFBUSxJQUFJLFNBQVM7WUFBQyxPQUFPO1FBQ2xELGVBQWUsQ0FBQyxPQUFPLEdBQUcsUUFBUSxDQUFDO1FBQ25DLElBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxXQUFXLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxRQUFRLEVBQ3hDO1lBQ0ksRUFBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUM7WUFDekIsRUFBRSxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUE7U0FDMUI7UUFDRCx1Q0FBdUM7SUFDM0MsQ0FBQztJQUVNLDBCQUFVLEdBQWpCO1FBRUksSUFBSSxDQUFDLEtBQUssR0FBRyxXQUFXLENBQUMsVUFBQSxDQUFDO1lBQ3RCLGVBQWUsQ0FBQyxPQUFPLElBQUksSUFBSSxDQUFDO1FBQ3BDLENBQUMsRUFBQyxJQUFJLENBQUMsQ0FBQztJQUNaLENBQUM7SUFFTSx5QkFBUyxHQUFoQjtRQUNJLGFBQWEsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDOUIsQ0FBQztJQUVNLHNCQUFNLEdBQWI7UUFFSSxPQUFPLGVBQWUsQ0FBQyxPQUFPLElBQUksSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBQyxJQUFJLENBQUM7SUFDaEUsQ0FBQztJQUVNLHVCQUFPLEdBQWQ7UUFFSSxJQUFHLGVBQWUsQ0FBQyxPQUFPLEVBQzFCO1lBQ0ksSUFBSSxJQUFJLEdBQUksSUFBSSxJQUFJLEVBQUUsQ0FBQTtZQUN0QixJQUFJLENBQUMsT0FBTyxDQUFDLGVBQWUsQ0FBQyxPQUFPLEdBQUMsSUFBSSxDQUFDLENBQUM7WUFDM0MsT0FBTyxJQUFJLENBQUM7U0FDZjtRQUNELE9BQU8sSUFBSSxJQUFJLEVBQUUsQ0FBQztJQUV0QixDQUFDO0lBR00sd0JBQVEsR0FBZjtRQUVJLE9BQU8sQ0FBQyxHQUFHLENBQUMsdUJBQXVCLENBQUMsQ0FBQTtRQUNwQyxvQkFBb0I7SUFDeEIsQ0FBQztJQUNNLHVCQUFPLEdBQWQ7UUFFSSxPQUFPLENBQUMsR0FBRyxDQUFDLHVCQUF1QixDQUFDLENBQUE7UUFDcEMscUJBQXFCO0lBQ3pCLENBQUM7SUFDTCxzQkFBQztBQUFELENBdkRBLEFBdURDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBMb2NhbFRpbWVTeXN0ZW1cbntcbiAgICBzdGF0aWMgdXRjX3NlYzpudW1iZXJcbiAgICBzdGF0aWMgdGltZXI6bnVtYmVyO1xuICAgIHN0YXRpYyBpbml0KHV0Y19tc2VjOm51bWJlcilcbiAgICB7XG4gICAgICAgIGlmKHV0Y19tc2VjID09IG51bGx8fHV0Y19tc2VjID09IHVuZGVmaW5lZClyZXR1cm47XG4gICAgICAgIExvY2FsVGltZVN5c3RlbS51dGNfc2VjID0gdXRjX21zZWM7XG4gICAgICAgIGlmKGNjLnN5cy5XRUNIQVRfR0FNRSA9PSBjYy5zeXMucGxhdGZvcm0pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHd4Lm9uSGlkZSh0aGlzLm9uSGlkZGVuKTtcbiAgICAgICAgICAgIHd4Lm9uU2hvdyh0aGlzLm9uU2hvd24pXG4gICAgICAgIH1cbiAgICAgICAgLy9nLnNldEdsb2JhbEluc3RhbmNlKExvY2FsVGltZVN5c3RlbSk7XG4gICAgfVxuXG4gICAgc3RhdGljIHN0YXJ0VGltZXIoKVxuICAgIHtcbiAgICAgICAgdGhpcy50aW1lciA9IHNldEludGVydmFsKF89PntcbiAgICAgICAgICAgIExvY2FsVGltZVN5c3RlbS51dGNfc2VjICs9IDEwMDA7XG4gICAgICAgIH0sMTAwMCk7XG4gICAgfVxuXG4gICAgc3RhdGljIHN0b3BUaW1lcigpe1xuICAgICAgICBjbGVhckludGVydmFsKHRoaXMudGltZXIpO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRTZWMoKTpudW1iZXJcbiAgICB7XG4gICAgICAgIHJldHVybiBMb2NhbFRpbWVTeXN0ZW0udXRjX3NlYyB8fCBuZXcgRGF0ZSgpLmdldFRpbWUoKS8xMDAwO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXREYXRlKClcbiAgICB7XG4gICAgICAgIGlmKExvY2FsVGltZVN5c3RlbS51dGNfc2VjKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgZGF0ZSA9ICBuZXcgRGF0ZSgpXG4gICAgICAgICAgICBkYXRlLnNldFRpbWUoTG9jYWxUaW1lU3lzdGVtLnV0Y19zZWMqMTAwMCk7XG4gICAgICAgICAgICByZXR1cm4gZGF0ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IERhdGUoKTtcbiAgICAgICAgXG4gICAgfVxuICBcbiAgICBzdGF0aWMgbGFzdExvY2FsVGltZTpudW1iZXI7XG4gICAgc3RhdGljIG9uSGlkZGVuKClcbiAgICB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiZ2FtZSBlbnRlciBiYWNrZ3JvdW5kXCIpXG4gICAgICAgIC8vIHRoaXMuc3RvcFRpbWVyKCk7XG4gICAgfVxuICAgIHN0YXRpYyBvblNob3duKClcbiAgICB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiZ2FtZSBlbnRlciBmb3JlZ3JvdW5kXCIpXG4gICAgICAgIC8vIHRoaXMuc3RhcnRUaW1lcigpO1xuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/gamesys/LocalLifeSystem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '550c0O4ualLIYQoOOiFtGsz', 'LocalLifeSystem');
// framework/plugin_boosts/gamesys/LocalLifeSystem.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.LifeSystem = exports.LocalLifeSystem = void 0;
var EventManager_1 = require("../utils/EventManager");
var Signal_1 = require("../misc/Signal");
var LocalLifeSystem = /** @class */ (function () {
    function LocalLifeSystem() {
        //生成一颗星需要的时间 
        this.sec_per_live = 60 * 5;
        //最多可得多少颗
        this.live_free_get = 5;
        this.max_freeLives_seconds = this.live_free_get * this.sec_per_live;
        this.livesSeconds = 0;
        this.isEnabledAutoRecovery = true;
        this.recoverySignal = new Signal_1.default();
    }
    LocalLifeSystem.prototype.init = function (liveSec, live_free) {
        if (liveSec === void 0) { liveSec = null; }
        if (live_free === void 0) { live_free = null; }
        this.sec_per_live = liveSec || this.sec_per_live;
        this.live_free_get = live_free || this.live_free_get;
        this.max_freeLives_seconds = this.sec_per_live * this.live_free_get;
        this.livesSeconds = 0;
        this.lastLifeSaveTime = Number(localStorage.getItem("sys_life_lastLifeSaveTime") || new Date().getTime());
        //g.setGlobalInstance(LifeSystem,"LocalLifeSystem");
        EventManager_1.event.on("onEnterForeground", this.onEnterForeground, this);
        this.onTimeRequested(new Date().getTime());
        console.log("体力系统初始化", this);
    };
    LocalLifeSystem.prototype.onEnterForeground = function () {
        this.onTimeRequested(new Date().getTime());
    };
    Object.defineProperty(LocalLifeSystem.prototype, "nextLifeTime", {
        get: function () {
            return (this.lives + 1) * this.sec_per_live - this.livesSeconds;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(LocalLifeSystem.prototype, "lives", {
        get: function () {
            return Math.floor(this.livesSeconds / this.sec_per_live);
        },
        enumerable: false,
        configurable: true
    });
    LocalLifeSystem.prototype.save = function () {
        this.lastLifeSaveTime = new Date().getTime();
        localStorage.setItem("sys_life_lastLifeSaveTime", this.lastLifeSaveTime + "");
    };
    LocalLifeSystem.prototype.onTimeRequested = function (time) {
        if (this.lastLifeSaveTime) {
            var timeElapsed = Math.floor((time - this.lastLifeSaveTime) / 1000);
            this.livesSeconds = Math.min(this.max_freeLives_seconds, timeElapsed);
        }
    };
    LocalLifeSystem.prototype.startCheck = function (callback, target) {
        var _this = this;
        if (this.task_checkLives)
            return;
        var lastHeart = callback.call(target);
        this.task_checkLives = setInterval(function (_) {
            var heart = callback.call(target);
            if (lastHeart != heart && heart == _this.live_free_get - 1) {
                _this.livesSeconds = 0;
                _this.save();
            }
            if (heart < _this.live_free_get) {
                // this.checkForSpawnLives();
                _this.livesSeconds = _this.livesSeconds + 1;
                if (heart + _this.lives > heart) {
                    console.log("获得在线奖励一颗星", _this.lives);
                    _this.recoverySignal.fire(_this.lives);
                    _this.livesSeconds = 0;
                    _this.save();
                }
            }
            lastHeart = heart;
        }, 1000);
    };
    return LocalLifeSystem;
}());
exports.LocalLifeSystem = LocalLifeSystem;
exports.LifeSystem = new LocalLifeSystem();
// 

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxnYW1lc3lzXFxMb2NhbExpZmVTeXN0ZW0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQSxzREFBOEM7QUFDOUMseUNBQW9DO0FBR3BDO0lBQUE7UUFFQyxhQUFhO1FBQ2IsaUJBQVksR0FBRyxFQUFFLEdBQUcsQ0FBQyxDQUFFO1FBQ3ZCLFNBQVM7UUFDVCxrQkFBYSxHQUFHLENBQUMsQ0FBQztRQUVsQiwwQkFBcUIsR0FBRyxJQUFJLENBQUMsYUFBYSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUM7UUFNL0QsaUJBQVksR0FBVSxDQUFDLENBQUE7UUFHdkIsMEJBQXFCLEdBQUcsSUFBSSxDQUFDO1FBRXRCLG1CQUFjLEdBQUcsSUFBSSxnQkFBTSxFQUFFLENBQUM7SUF1RXRDLENBQUM7SUF0RUEsOEJBQUksR0FBSixVQUFLLE9BQWMsRUFBQyxTQUFnQjtRQUEvQix3QkFBQSxFQUFBLGNBQWM7UUFBQywwQkFBQSxFQUFBLGdCQUFnQjtRQUVuQyxJQUFJLENBQUMsWUFBWSxHQUFHLE9BQU8sSUFBSSxJQUFJLENBQUMsWUFBWSxDQUFBO1FBQ2hELElBQUksQ0FBQyxhQUFhLEdBQUcsU0FBUyxJQUFJLElBQUksQ0FBQyxhQUFhLENBQUE7UUFDcEQsSUFBSSxDQUFDLHFCQUFxQixHQUFHLElBQUksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztRQUNwRSxJQUFJLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQTtRQUNyQixJQUFJLENBQUMsZ0JBQWdCLEdBQUcsTUFBTSxDQUFDLFlBQVksQ0FBQyxPQUFPLENBQUMsMkJBQTJCLENBQUMsSUFBRyxJQUFJLElBQUksRUFBRSxDQUFDLE9BQU8sRUFBRSxDQUFDLENBQUE7UUFDeEcsb0RBQW9EO1FBRXBELG9CQUFLLENBQUMsRUFBRSxDQUFDLG1CQUFtQixFQUFDLElBQUksQ0FBQyxpQkFBaUIsRUFBQyxJ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LEVBQUUsQ0FBQztBQUM5QyxHQUFHIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IExvY2FsVGltZVN5c3RlbSBmcm9tIFwiLi9Mb2NhbFRpbWVTeXN0ZW1cIjtcbmltcG9ydCB7IGV2ZW50IH0gZnJvbSBcIi4uL3V0aWxzL0V2ZW50TWFuYWdlclwiO1xuaW1wb3J0IFNpZ25hbCBmcm9tIFwiLi4vbWlzYy9TaWduYWxcIjtcbmltcG9ydCBQbGF0Zm9ybSBmcm9tIFwiLi4vLi4vUGxhdGZvcm1cIjtcblxuZXhwb3J0IGNsYXNzIExvY2FsTGlmZVN5c3RlbVxue1xuXHQvL+eUn+aIkOS4gOmil+aYn+mcgOimgeeahOaXtumXtCBcblx0c2VjX3Blcl9saXZlID0gNjAgKiA1IDtcblx0Ly/mnIDlpJrlj6/lvpflpJrlsJHpopdcblx0bGl2ZV9mcmVlX2dldCA9IDU7XG5cdFxuXHRtYXhfZnJlZUxpdmVzX3NlY29uZHMgPSB0aGlzLmxpdmVfZnJlZV9nZXQgKiB0aGlzLnNlY19wZXJfbGl2ZTtcblxuXHR0YXNrX3J1blNwYXduTGl2ZXM6bnVtYmVyO1xuXG5cdHRhc2tfY2hlY2tMaXZlczpudW1iZXI7XG5cblx0bGl2ZXNTZWNvbmRzOm51bWJlciA9IDBcblx0bGFzdExpZmVTYXZlVGltZTpudW1iZXI7XG5cblx0aXNFbmFibGVkQXV0b1JlY292ZXJ5ID0gdHJ1ZTtcblx0XG5cdHB1YmxpYyByZWNvdmVyeVNpZ25hbCA9IG5ldyBTaWduYWwoKTtcblx0aW5pdChsaXZlU2VjID0gbnVsbCxsaXZlX2ZyZWUgPSBudWxsKVxuXHR7XG5cdFx0dGhpcy5zZWNfcGVyX2xpdmUgPSBsaXZlU2VjIHx8IHRoaXMuc2VjX3Blcl9saXZlXG5cdFx0dGhpcy5saXZlX2ZyZWVfZ2V0ID0gbGl2ZV9mcmVlIHx8IHRoaXMubGl2ZV9mcmVlX2dldFxuXHRcdHRoaXMubWF4X2ZyZWVMaXZlc19zZWNvbmRzID0gdGhpcy5zZWNfcGVyX2xpdmUgKiB0aGlzLmxpdmVfZnJlZV9nZXQ7XG5cdFx0dGhpcy5saXZlc1NlY29uZHMgPSAwXG5cdFx0dGhpcy5sYXN0TGlmZVNhdmVUaW1lID0gTnVtYmVyKGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic3lzX2xpZmVfbGFzdExpZmVTYXZlVGltZVwiKXx8IG5ldyBEYXRlKCkuZ2V0VGltZSgpKVxuXHRcdC8vZy5zZXRHbG9iYWxJbnN0YW5jZShMaWZlU3lzdGVtLFwiTG9jYWxMaWZlU3lzdGVtXCIpO1xuXG5cdFx0ZXZlbnQub24oXCJvbkVudGVyRm9yZWdyb3VuZFwiLHRoaXMub25FbnRlckZvcmVncm91bmQsdGhpcylcblx0XHR0aGlzLm9uVGltZVJlcXVlc3RlZChuZXcgRGF0ZSgpLmdldFRpbWUoKSk7XG5cdFx0Y29uc29sZS5sb2coXCLkvZPlipvns7vnu5/liJ3lp4vljJZcIix0aGlzKTtcblx0fVxuXG5cdG9uRW50ZXJGb3JlZ3JvdW5kKClcblx0e1xuXHRcdHRoaXMub25UaW1lUmVxdWVzdGVkKG5ldyBEYXRlKCkuZ2V0VGltZSgpKTtcblx0fVxuXG5cdGdldCBuZXh0TGlmZVRpbWUoKVxuXHR7XG5cdFx0cmV0dXJuICh0aGlzLmxpdmVzICsgMSkgKiB0aGlzLnNlY19wZXJfbGl2ZSAtIHRoaXMubGl2ZXNTZWNvbmRzO1xuXHR9XG5cblx0Z2V0IGxpdmVzKClcblx0e1xuXHRcdHJldHVybiBNYXRoLmZsb29yKHRoaXMubGl2ZXNTZWNvbmRzIC8gdGhpcy5zZWNfcGVyX2xpdmUpXG5cdH1cblxuXHRzYXZlKClcblx0e1xuXHRcdHRoaXMubGFzdExpZmVTYXZlVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwic3lzX2xpZmVfbGFzdExpZmVTYXZlVGltZVwiLHRoaXMubGFzdExpZmVTYXZlVGltZStcIlwiKVxuXHR9XG5cblx0b25UaW1lUmVxdWVzdGVkKHRpbWUpXG5cdHtcblx0XHRpZiAodGhpcy5sYXN0TGlmZVNhdmVUaW1lKVxuXHRcdHtcblx0XHRcdGxldCB0aW1lRWxhcHNlZCA9IE1hdGguZmxvb3IoKHRpbWUgLSB0aGlzLmxhc3RMaWZlU2F2ZVRpbWUpLzEwMDApXG5cdFx0XHR0aGlzLmxpdmVzU2Vjb25kcyA9IE1hdGgubWluKHRoaXMubWF4X2ZyZWVMaXZlc19zZWNvbmRzLCB0aW1lRWxhcHNlZClcblx0XHR9XG5cdH1cblxuXHRzdGFydENoZWNrKGNhbGxiYWNrLHRhcmdldClcblx0e1xuXHRcdGlmKHRoaXMudGFza19jaGVja0xpdmVzKSByZXR1cm47XG5cdFx0bGV0IGxhc3RIZWFydCA9IGNhbGxiYWNrLmNhbGwodGFyZ2V0KTtcblx0XHR0aGlzLnRhc2tfY2hlY2tMaXZlcyA9IHNldEludGVydmFsKF89Pntcblx0XHRcdGxldCBoZWFydCA9IGNhbGxiYWNrLmNhbGwodGFyZ2V0KTtcblx0XHRcdGlmKGxhc3RIZWFydCAhPSBoZWFydCAmJiBoZWFydCA9PSB0aGlzLmxpdmVfZnJlZV9nZXQgLSAxKVxuXHRcdFx0e1xuXHRcdFx0XHR0aGlzLmxpdmVzU2Vjb25kcyA9IDA7XG5cdFx0XHRcdHRoaXMuc2F2ZSgpO1xuXHRcdFx0fSBcblx0XHRcdGlmIChoZWFydCA8IHRoaXMubGl2ZV9mcmVlX2dldCkgeyBcblx0XHRcdFx0Ly8gdGhpcy5jaGVja0ZvclNwYXduTGl2ZXMoKTtcblx0XHRcdFx0dGhpcy5saXZlc1NlY29uZHMgPSB0aGlzLmxpdmVzU2Vjb25kcyArIDE7XG5cdFx0XHRcdGlmICggaGVhcnQgKyB0aGlzLmxpdmVzID4gaGVhcnQpXG5cdFx0XHRcdHtcblx0XHRcdFx0XHRjb25zb2xlLmxvZyhcIuiOt+W+l+WcqOe6v+WlluWKseS4gOmil+aYn1wiLHRoaXMubGl2ZXMpXG5cdFx0XHRcdFx0dGhpcy5yZWNvdmVyeVNpZ25hbC5maXJlKHRoaXMubGl2ZXMpO1xuXHRcdFx0XHRcdHRoaXMubGl2ZXNTZWNvbmRzID0gMDtcblx0XHRcdFx0XHR0aGlzLnNhdmUoKTtcblx0XHRcdFx0fVxuXHRcdFx0fVxuXHRcdFx0bGFzdEhlYXJ0ID0gaGVhcnQ7XG5cdFx0fSwxMDAwKVxuXHR9XG5cbn1cblxuZXhwb3J0IHZhciBMaWZlU3lzdGVtID0gbmV3IExvY2FsTGlmZVN5c3RlbSgpO1xuLy8gXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/FrameSwitch.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '92ea6+rkJ5BQ7Twyd4FI92I', 'FrameSwitch');
// framework/plugin_boosts/misc/FrameSwitch.ts

Object.defineProperty(exports, "__esModule", { value: true });
// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, requireComponent = _a.requireComponent;
var FrameSwitcher = /** @class */ (function (_super) {
    __extends(FrameSwitcher, _super);
    function FrameSwitcher() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.frames = [];
        // LIFE-CYCLE CALLBACKS:
        _this.target = null;
        _this._index = 0;
        _this.randomOnLoad = false;
        return _this;
        // update (dt) {}
    }
    FrameSwitcher.prototype.onLoad = function () {
        if (this.target == null)
            this.target = this.getComponent(cc.Sprite);
        if (this.randomOnLoad)
            this.switchRandom();
    };
    FrameSwitcher.prototype.switchRandom = function () {
        //this.index = g.randomInt(0,this.frames.length);
    };
    Object.defineProperty(FrameSwitcher.prototype, "index", {
        get: function () {
            return this._index;
        },
        set: function (k) {
            this.switch(k);
        },
        enumerable: false,
        configurable: true
    });
    FrameSwitcher.prototype.switch = function (index) {
        var len = this.frames.length;
        var idx = Math.min(Math.max(0, index), len - 1);
        this.target.spriteFrame = this.frames[idx];
        this._index = idx;
    };
    FrameSwitcher.prototype.start = function () {
    };
    __decorate([
        property([cc.SpriteFrame])
    ], FrameSwitcher.prototype, "frames", void 0);
    __decorate([
        property(cc.Sprite)
    ], FrameSwitcher.prototype, "target", void 0);
    __decorate([
        property
    ], FrameSwitcher.prototype, "randomOnLoad", void 0);
    FrameSwitcher = __decorate([
        ccclass
    ], FrameSwitcher);
    return FrameSwitcher;
}(cc.Component));
exports.default = FrameSwitcher;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxGcmFtZVN3aXRjaC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBRUEsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFFN0YsSUFBQSxLQUF1QyxFQUFFLENBQUMsVUFBVSxFQUFuRCxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQUEsRUFBQyxnQkFBZ0Isc0JBQWlCLENBQUM7QUFHM0Q7SUFBMkMsaUNBQVk7SUFBdkQ7UUFBQSxxRUFpREM7UUE5Q0csWUFBTSxHQUFvQixFQUFFLENBQUE7UUFDNUIsd0JBQXdCO1FBRXhCLFlBQU0sR0FBYSxJQUFJLENBQUM7UUFFeEIsWUFBTSxHQUFXLENBQUMsQ0FBQTtRQUdsQixrQkFBWSxHQUFXLEtBQUssQ0FBQzs7UUFxQzdCLGlCQUFpQjtJQUNyQixDQUFDO0lBcENHLDhCQUFNLEdBQU47UUFFSSxJQUFHLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSTtZQUNsQixJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQy9DLElBQUcsSUFBSSxDQUFDLFlBQVk7WUFDaEIsSUFBSSxDQUFDLFlBQVksRUFBRSxDQUFBO0lBQzNCLENBQUM7SUFFRCxvQ0FBWSxHQUFaO1FBRUksaURBQWlEO0lBQ3JELENBQUM7SUFFRCxzQkFBSSxnQ0FBSzthQUtUO1lBRUksT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFBO1FBQ3RCLENBQUM7YUFSRCxVQUFVLENBQUM7WUFFUCxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25CLENBQUM7OztPQUFBO0lBT0QsOEJBQU0sR0FBTixVQUFPLEtBQUs7UUFFUixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLE1BQU0sQ0FBQztRQUM3QixJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsR0FBRyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFDLEtBQUssQ0FBQyxFQUFDLEdBQUcsR0FBQyxDQUFDLENBQUMsQ0FBQztRQUM1QyxJQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQzFDLElBQUksQ0FBQyxNQUFNLEdBQUcsR0FBRyxDQUFDO0lBQ3RCLENBQUM7SUFFRCw2QkFBSyxHQUFMO0lBRUEsQ0FBQztJQTNDRDtRQURDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxXQUFXLENBQUMsQ0FBQztpREFDQztJQUc1QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO2lEQUNJO0lBS3hCO1FBREMsUUFBUTt1REFDb0I7SUFYWixhQUFhO1FBRGpDLE9BQU87T0FDYSxhQUFhLENBaURqQztJQUFELG9CQUFDO0NBakRELEFBaURDLENBakQwQyxFQUFFLENBQUMsU0FBUyxHQWlEdEQ7a0JBakRvQixhQUFhIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVjJDaGFuZ2VBY3Rpb24gfSBmcm9tIFwiLi9Cb29zdHNBY3Rpb25cIjtcblxuLy8gTGVhcm4gVHlwZVNjcmlwdDpcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5LHJlcXVpcmVDb21wb25lbnR9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZyYW1lU3dpdGNoZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgQHByb3BlcnR5KFtjYy5TcHJpdGVGcmFtZV0pXG4gICAgZnJhbWVzOmNjLlNwcml0ZUZyYW1lW10gPSBbXVxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXG4gICAgdGFyZ2V0OmNjLlNwcml0ZSA9IG51bGw7XG5cbiAgICBfaW5kZXggOm51bWJlciA9IDBcblxuICAgIEBwcm9wZXJ0eVxuICAgIHJhbmRvbU9uTG9hZDpib29sZWFuID0gZmFsc2U7XG5cbiAgICBvbkxvYWQoKVxuICAgIHtcbiAgICAgICAgaWYodGhpcy50YXJnZXQgPT0gbnVsbClcbiAgICAgICAgICAgIHRoaXMudGFyZ2V0ID0gdGhpcy5nZXRDb21wb25lbnQoY2MuU3ByaXRlKTtcbiAgICAgICAgaWYodGhpcy5yYW5kb21PbkxvYWQpXG4gICAgICAgICAgICB0aGlzLnN3aXRjaFJhbmRvbSgpXG4gICAgfVxuXG4gICAgc3dpdGNoUmFuZG9tKClcbiAgICB7XG4gICAgICAgIC8vdGhpcy5pbmRleCA9IGcucmFuZG9tSW50KDAsdGhpcy5mcmFtZXMubGVuZ3RoKTtcbiAgICB9XG5cbiAgICBzZXQgaW5kZXgoaylcbiAgICB7XG4gICAgICAgIHRoaXMuc3dpdGNoKGspO1xuICAgIH1cblxuICAgIGdldCBpbmRleCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5faW5kZXhcbiAgICB9XG4gICAgXG4gICAgc3dpdGNoKGluZGV4KVxuICAgIHtcbiAgICAgICAgbGV0IGxlbiA9IHRoaXMuZnJhbWVzLmxlbmd0aDtcbiAgICAgICAgbGV0IGlkeCA9IE1hdGgubWluKE1hdGgubWF4KDAsaW5kZXgpLGxlbi0xKTtcbiAgICAgICAgdGhpcy50YXJnZXQuc3ByaXRlRnJhbWUgPSB0aGlzLmZyYW1lc1tpZHhdXG4gICAgICAgIHRoaXMuX2luZGV4ID0gaWR4O1xuICAgIH1cblxuICAgIHN0YXJ0ICgpIHtcblxuICAgIH1cblxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/Net.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '9e139lB+RRCNpxXRSqgoURG', 'Net');
// framework/plugin_boosts/misc/Net.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Net = /** @class */ (function () {
    function Net() {
    }
    Net.httpGet = function (url, callback) {
        var xhr = cc.loader.getXMLHttpRequest();
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4 && (xhr.status >= 200 && xhr.status < 300)) {
                var respone = xhr.responseText;
                callback(respone);
            }
        };
        xhr.open("GET", url, true);
        if (cc.sys.isNative) {
            xhr.setRequestHeader("Accept-Encoding", "gzip,deflate");
        }
        // note: In Internet Explorer, the timeout property may be set only after calling the open()
        // method and before calling the send() method.
        xhr.timeout = 5000; // 5 seconds for timeout
        xhr.send();
    };
    Net.httpPost = function (url, params, callback) {
        var xhr = cc.loader.getXMLHttpRequest();
        xhr.onreadystatechange = function () {
            // console.log('xhr.readyState='+xhr.readyState+'  xhr.status='+xhr.status);
            if (xhr.readyState === 4 && (xhr.status >= 200 && xhr.status < 300)) {
                var respone = xhr.responseText;
                callback(respone);
            }
            else {
                callback(-1);
            }
        };
        xhr.open("POST", url, true);
        if (cc.sys.isNative) {
            xhr.setRequestHeader("Accept-Encoding", "gzip,deflate");
        }
        // note: In Internet Explorer, the timeout property may be set only after calling the open()
        // method and before calling the send() method.
        xhr.timeout = 5000; // 5 seconds for timeout
        xhr.send(params);
    };
    return Net;
}());
exports.default = Net;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxOZXQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0lBQUE7SUE4Q0EsQ0FBQztJQTNDVSxXQUFPLEdBQWQsVUFBZSxHQUFHLEVBQUUsUUFBUTtRQUN4QixJQUFJLEdBQUcsR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLGlCQUFpQixFQUFFLENBQUM7UUFDeEMsR0FBRyxDQUFDLGtCQUFrQixHQUFHO1lBQ3JCLElBQUksR0FBRyxDQUFDLFVBQVUsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxJQUFJLEdBQUcsSUFBSSxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxFQUFFO2dCQUNqRSxJQUFJLE9BQU8sR0FBRyxHQUFHLENBQUMsWUFBWSxDQUFDO2dCQUMvQixRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7YUFDckI7UUFDTCxDQUFDLENBQUM7UUFDRixHQUFHLENBQUMsSUFBSSxDQUFDLEtBQUssRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDM0IsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRTtZQUNqQixHQUFHLENBQUMsZ0JBQWdCLENBQUMsaUJBQWlCLEVBQUUsY0FBYyxDQUFDLENBQUM7U0FDM0Q7UUFFRCw0RkFBNEY7UUFDNUYsK0NBQStDO1FBQy9DLEdBQUcsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLENBQUEsd0JBQXdCO1FBRTNDLEdBQUcsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNmLENBQUM7SUFFTSxZQUFRLEdBQWYsVUFBZ0IsR0FBRyxFQUFFLE1BQU0sRUFBRSxRQUFRO1FBQ2pDLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsaUJBQWlCLEVBQUUsQ0FBQztRQUN4QyxHQUFHLENBQUMsa0JBQWtCLEdBQUc7WUFDckIsNEVBQTRFO1lBQzVFLElBQUksR0FBRyxDQUFDLFVBQVUsS0FBSyxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsTUFBTSxJQUFJLEdBQUcsSUFBSSxHQUFHLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxFQUFFO2dCQUNqRSxJQUFJLE9BQU8sR0FBRyxHQUFHLENBQUMsWUFBWSxDQUFDO2dCQUMvQixRQUFRLENBQUMsT0FBTyxDQUFDLENBQUM7YUFDckI7aUJBQUk7Z0JBQ0MsUUFBUSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUM7YUFDbEI7UUFDTCxDQUFDLENBQUM7UUFDRixHQUFHLENBQUMsSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLEVBQUUsSUFBSSxDQUFDLENBQUM7UUFDNUIsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFBRTtZQUNqQixHQUFHLENBQUMsZ0JBQWdCLENBQUMsaUJBQWlCLEVBQUUsY0FBYyxDQUFDLENBQUM7U0FDM0Q7UUFFRCw0RkFBNEY7UUFDNUYsK0NBQStDO1FBQy9DLEdBQUcsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLENBQUEsd0JBQXdCO1FBRTNDLEdBQUcsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDckIsQ0FBQztJQUVMLFVBQUM7QUFBRCxDQTlDQSxBQThDQyxJQUFBIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgTmV0e1xuIFxuIFxuICAgIHN0YXRpYyBodHRwR2V0KHVybCwgY2FsbGJhY2spIHtcbiAgICAgICAgdmFyIHhociA9IGNjLmxvYWRlci5nZXRYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0ICYmICh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzAwKSkge1xuICAgICAgICAgICAgICAgIHZhciByZXNwb25lID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXNwb25lKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgeGhyLm9wZW4oXCJHRVRcIiwgdXJsLCB0cnVlKTtcbiAgICAgICAgaWYgKGNjLnN5cy5pc05hdGl2ZSkge1xuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJBY2NlcHQtRW5jb2RpbmdcIiwgXCJnemlwLGRlZmxhdGVcIik7XG4gICAgICAgIH1cbiBcbiAgICAgICAgLy8gbm90ZTogSW4gSW50ZXJuZXQgRXhwbG9yZXIsIHRoZSB0aW1lb3V0IHByb3BlcnR5IG1heSBiZSBzZXQgb25seSBhZnRlciBjYWxsaW5nIHRoZSBvcGVuKClcbiAgICAgICAgLy8gbWV0aG9kIGFuZCBiZWZvcmUgY2FsbGluZyB0aGUgc2VuZCgpIG1ldGhvZC5cbiAgICAgICAgeGhyLnRpbWVvdXQgPSA1MDAwOy8vIDUgc2Vjb25kcyBmb3IgdGltZW91dFxuIFxuICAgICAgICB4aHIuc2VuZCgpO1xuICAgIH1cbiBcbiAgICBzdGF0aWMgaHR0cFBvc3QodXJsLCBwYXJhbXMsIGNhbGxiYWNrKSB7XG4gICAgICAgIHZhciB4aHIgPSBjYy5sb2FkZXIuZ2V0WE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKCd4aHIucmVhZHlTdGF0ZT0nK3hoci5yZWFkeVN0YXRlKycgIHhoci5zdGF0dXM9Jyt4aHIuc3RhdHVzKTtcbiAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCAmJiAoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDMwMCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uZSA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgICAgICAgICAgY2FsbGJhY2socmVzcG9uZSk7XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKC0xKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfTtcbiAgICAgICAgeGhyLm9wZW4oXCJQT1NUXCIsIHVybCwgdHJ1ZSk7XG4gICAgICAgIGlmIChjYy5zeXMuaXNOYXRpdmUpIHtcbiAgICAgICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQWNjZXB0LUVuY29kaW5nXCIsIFwiZ3ppcCxkZWZsYXRlXCIpO1xuICAgICAgICB9XG4gXG4gICAgICAgIC8vIG5vdGU6IEluIEludGVybmV0IEV4cGxvcmVyLCB0aGUgdGltZW91dCBwcm9wZXJ0eSBtYXkgYmUgc2V0IG9ubHkgYWZ0ZXIgY2FsbGluZyB0aGUgb3BlbigpXG4gICAgICAgIC8vIG1ldGhvZCBhbmQgYmVmb3JlIGNhbGxpbmcgdGhlIHNlbmQoKSBtZXRob2QuXG4gICAgICAgIHhoci50aW1lb3V0ID0gNTAwMDsvLyA1IHNlY29uZHMgZm9yIHRpbWVvdXRcbiBcbiAgICAgICAgeGhyLnNlbmQocGFyYW1zKTtcbiAgICB9XG5cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/ClickAudioManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '679c3x/ZwhD8KnIy6p5lX5y', 'ClickAudioManager');
// framework/plugin_boosts/misc/ClickAudioManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
var ClickAudio_1 = require("./ClickAudio");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ClickAudioManager = /** @class */ (function (_super) {
    __extends(ClickAudioManager, _super);
    function ClickAudioManager() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.audio = null;
        _this.elastic = false;
        return _this;
        // update (dt) {}
    }
    ClickAudioManager.prototype.onLoad = function () {
        //window.g = require('g');
        //g.foreachNode(this.node,this.each,this)
    };
    ClickAudioManager.prototype.each = function (item) {
        //if button 
        if (!item.getComponent(cc.Button))
            return;
        var comp = item.getComponent(ClickAudio_1.default);
        if (comp == null) {
            comp = item.addComponent(ClickAudio_1.default);
            comp.elastic = this.elastic;
            comp.audio = this.audio;
        }
    };
    ClickAudioManager.prototype.start = function () {
    };
    __decorate([
        property({ type: cc.AudioClip })
    ], ClickAudioManager.prototype, "audio", void 0);
    __decorate([
        property
    ], ClickAudioManager.prototype, "elastic", void 0);
    ClickAudioManager = __decorate([
        ccclass
    ], ClickAudioManager);
    return ClickAudioManager;
}(cc.Component));
exports.default = ClickAudioManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxDbGlja0F1ZGlvTWFuYWdlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsMkNBQXNDO0FBQ2hDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQStDLHFDQUFZO0lBQTNEO1FBQUEscUVBOEJDO1FBM0JHLFdBQUssR0FBaUIsSUFBSSxDQUFDO1FBRzNCLGFBQU8sR0FBVyxLQUFLLENBQUM7O1FBdUJ4QixpQkFBaUI7SUFDckIsQ0FBQztJQXRCRyxrQ0FBTSxHQUFOO1FBQ0ksMEJBQTBCO1FBQzFCLHlDQUF5QztJQUM3QyxDQUFDO0lBRUQsZ0NBQUksR0FBSixVQUFLLElBQVk7UUFFYixZQUFZO1FBQ1osSUFBSSxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztZQUFFLE9BQU87UUFDMUMsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxvQkFBVSxDQUFDLENBQUE7UUFDeEMsSUFBRyxJQUFJLElBQUksSUFBSSxFQUNmO1lBQ0ksSUFBSSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsb0JBQVUsQ0FBQyxDQUFDO1lBQ3JDLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQTtZQUMzQixJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUM7U0FDM0I7SUFDTCxDQUFDO0lBQ0QsaUNBQUssR0FBTDtJQUVBLENBQUM7SUF4QkQ7UUFEQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLFNBQVMsRUFBQyxDQUFDO29EQUNKO0lBRzNCO1FBREMsUUFBUTtzREFDZTtJQU5QLGlCQUFpQjtRQURyQyxPQUFPO09BQ2EsaUJBQWlCLENBOEJyQztJQUFELHdCQUFDO0NBOUJELEFBOEJDLENBOUI4QyxFQUFFLENBQUMsU0FBUyxHQThCMUQ7a0JBOUJvQixpQkFBaUIiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ2xpY2tBdWRpbyBmcm9tIFwiLi9DbGlja0F1ZGlvXCI7XG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENsaWNrQXVkaW9NYW5hZ2VyIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIEBwcm9wZXJ0eSh7dHlwZTogY2MuQXVkaW9DbGlwfSlcbiAgICBhdWRpbyA6Y2MuQXVkaW9DbGlwID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eVxuICAgIGVsYXN0aWM6Ym9vbGVhbiA9IGZhbHNlO1xuXG4gICAgb25Mb2FkICgpIHtcbiAgICAgICAgLy93aW5kb3cuZyA9IHJlcXVpcmUoJ2cnKTtcbiAgICAgICAgLy9nLmZvcmVhY2hOb2RlKHRoaXMubm9kZSx0aGlzLmVhY2gsdGhpcylcbiAgICB9XG4gICAgXG4gICAgZWFjaChpdGVtOmNjLk5vZGUpXG4gICAge1xuICAgICAgICAvL2lmIGJ1dHRvbiBcbiAgICAgICAgaWYgKCFpdGVtLmdldENvbXBvbmVudChjYy5CdXR0b24pKSByZXR1cm47XG4gICAgICAgIGxldCBjb21wID0gaXRlbS5nZXRDb21wb25lbnQoQ2xpY2tBdWRpbylcbiAgICAgICAgaWYoY29tcCA9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICBjb21wID0gaXRlbS5hZGRDb21wb25lbnQoQ2xpY2tBdWRpbyk7XG4gICAgICAgICAgICBjb21wLmVsYXN0aWMgPSB0aGlzLmVsYXN0aWNcbiAgICAgICAgICAgIGNvbXAuYXVkaW8gPSB0aGlzLmF1ZGlvO1xuICAgICAgICB9XG4gICAgfVxuICAgIHN0YXJ0ICgpIHtcblxuICAgIH1cblxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/JoyStick.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '297d6dgG6ZIJJ+ZjeNWq2ub', 'JoyStick');
// framework/plugin_boosts/misc/JoyStick.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var JoyStick = /** @class */ (function (_super) {
    __extends(JoyStick, _super);
    function JoyStick() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.outterCircle = null;
        _this.innerCircle = null;
        _this.radius = 250;
        _this.innerCircleRadius = 20;
        // 超出是否relase 
        _this.releaseAfterOver = false;
        // dynamic Joystick
        _this.dynamicJoystick = false;
        _this.autoRadius = false;
        _this.isReleased = false;
        _this._startPos = cc.Vec2.ZERO;
        return _this;
    }
    JoyStick.prototype.onLoad = function () {
        if (this.autoRadius) {
            this.radius = this.outterCircle.getBoundingBox().height / 2;
        }
        this.innerCircle.setPosition(0, 0);
        this.node.active = false;
    };
    JoyStick.prototype.start = function () {
        this.releaseStick();
    };
    JoyStick.prototype.releaseStick = function () {
        var move = cc.moveTo(0.5, cc.Vec2.ZERO);
        var action = move.easing(cc.easeExponentialOut());
        this.innerCircle.runAction(action);
        this.isReleased = true;
        if (this.dynamicJoystick) {
            this.scheduleOnce(this.delayClose, 1);
        }
    };
    JoyStick.prototype.delayClose = function () {
        this.node.active = false;
    };
    Object.defineProperty(JoyStick.prototype, "axis", {
        get: function () {
            if (this.isReleased)
                return cc.Vec2.ZERO;
            var vec = this.innerCircle.getPosition();
            vec.normalizeSelf();
            return vec;
        },
        enumerable: false,
        configurable: true
    });
    JoyStick.prototype.move = function (pos) {
        var mag = pos.mag();
        if (mag > this.radius) {
            if (this.releaseAfterOver)
                this.releaseStick();
            pos.normalizeSelf();
            pos.mulSelf(this.radius);
        }
        this.innerCircle.setPosition(pos);
    };
    // p : screen position
    JoyStick.prototype.touchStart = function (p) {
        if (!this.enabled)
            return;
        this.isReleased = false;
        this._startPos = p;
        this.unschedule(this.delayClose);
        this.node.active = true;
        if (this.dynamicJoystick) {
            // converto screen position
            var pos = this.node.getParent().convertToNodeSpaceAR(p);
            this.node.setPosition(pos);
            // this.node.opacity = 0;
            // this.node.runAction(cc.fadeIn(0.5));
        }
        this.move(cc.Vec2.ZERO);
    };
    JoyStick.prototype.touchMove = function (p) {
        if (!this.enabled)
            return;
        var vec = p.sub(this._startPos);
        this.move(vec);
    };
    JoyStick.prototype.touchEnd = function (p) {
        if (!this.enabled)
            return;
        // this.move(p);
        this.releaseStick();
    };
    __decorate([
        property(cc.Node)
    ], JoyStick.prototype, "outterCircle", void 0);
    __decorate([
        property(cc.Node)
    ], JoyStick.prototype, "innerCircle", void 0);
    __decorate([
        property
    ], JoyStick.prototype, "radius", void 0);
    __decorate([
        property
    ], JoyStick.prototype, "innerCircleRadius", void 0);
    __decorate([
        property
    ], JoyStick.prototype, "releaseAfterOver", void 0);
    __decorate([
        property
    ], JoyStick.prototype, "dynamicJoystick", void 0);
    __decorate([
        property
    ], JoyStick.prototype, "autoRadius", void 0);
    JoyStick = __decorate([
        ccclass
    ], JoyStick);
    return JoyStick;
}(cc.Component));
exports.default = JoyStick;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxKb3lTdGljay50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQU0sSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBc0MsNEJBQVk7SUFBbEQ7UUFBQSxxRUFtSEM7UUFoSEcsa0JBQVksR0FBVyxJQUFJLENBQUM7UUFHNUIsaUJBQVcsR0FBVyxJQUFJLENBQUM7UUFHM0IsWUFBTSxHQUFVLEdBQUcsQ0FBQztRQUdwQix1QkFBaUIsR0FBVyxFQUFFLENBQUM7UUFFL0IsY0FBYztRQUVkLHNCQUFnQixHQUFXLEtBQUssQ0FBQztRQUVqQyxtQkFBbUI7UUFFbkIscUJBQWUsR0FBVyxLQUFLLENBQUM7UUFHaEMsZ0JBQVUsR0FBVyxLQUFLLENBQUM7UUFFM0IsZ0JBQVUsR0FBRyxLQUFLLENBQUM7UUF3RG5CLGVBQVMsR0FBVyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQzs7SUFrQ3JDLENBQUM7SUF6RkcseUJBQU0sR0FBTjtRQUVJLElBQUcsSUFBSSxDQUFDLFVBQVUsRUFDbEI7WUFDSSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsY0FBYyxFQUFFLENBQUMsTUFBTSxHQUFDLENBQUMsQ0FBQztTQUM3RDtRQUNELElBQUksQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQztRQUNsQyxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7SUFDN0IsQ0FBQztJQUVELHdCQUFLLEdBQUw7UUFFSSxJQUFJLENBQUMsWUFBWSxFQUFFLENBQUM7SUFDeEIsQ0FBQztJQUVELCtCQUFZLEdBQVo7UUFFSSxJQUFJLElBQUksR0FBRyxFQUFFLENBQUMsTUFBTSxDQUFDLEdBQUcsRUFBRyxFQUFF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USxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7aURBQ1M7SUFHM0I7UUFEQyxRQUFROzRDQUNXO0lBR3BCO1FBREMsUUFBUTt1REFDc0I7SUFJL0I7UUFEQyxRQUFRO3NEQUN3QjtJQUlqQztRQURDLFFBQVE7cURBQ3VCO0lBR2hDO1FBREMsUUFBUTtnREFDa0I7SUF2QlYsUUFBUTtRQUQ1QixPQUFPO09BQ2EsUUFBUSxDQW1INUI7SUFBRCxlQUFDO0NBbkhELEFBbUhDLENBbkhxQyxFQUFFLENBQUMsU0FBUyxHQW1IakQ7a0JBbkhvQixRQUFRIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBKb3lTdGljayBleHRlbmRzIGNjLkNvbXBvbmVudFxue1xuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxuICAgIG91dHRlckNpcmNsZTpjYy5Ob2RlID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxuICAgIGlubmVyQ2lyY2xlOmNjLk5vZGUgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5XG4gICAgcmFkaXVzOm51bWJlciA9IDI1MDtcblxuICAgIEBwcm9wZXJ0eVxuICAgIGlubmVyQ2lyY2xlUmFkaXVzOm51bWJlciA9ICAyMDtcblxuICAgIC8vIOi2heWHuuaYr+WQpnJlbGFzZSBcbiAgICBAcHJvcGVydHlcbiAgICByZWxlYXNlQWZ0ZXJPdmVyOmJvb2xlYW4gPSBmYWxzZTtcblxuICAgIC8vIGR5bmFtaWMgSm95c3RpY2tcbiAgICBAcHJvcGVydHlcbiAgICBkeW5hbWljSm95c3RpY2s6Ym9vbGVhbiA9IGZhbHNlO1xuXG4gICAgQHByb3BlcnR5XG4gICAgYXV0b1JhZGl1czpib29sZWFuID0gZmFsc2U7XG5cbiAgICBpc1JlbGVhc2VkID0gZmFsc2U7XG4gICAgb25Mb2FkKClcbiAgICB7XG4gICAgICAgIGlmKHRoaXMuYXV0b1JhZGl1cylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5yYWRpdXMgPSB0aGlzLm91dHRlckNpcmNsZS5nZXRCb3VuZGluZ0JveCgpLmhlaWdodC8yO1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuaW5uZXJDaXJjbGUuc2V0UG9zaXRpb24oMCwwKTtcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xuICAgIH1cblxuICAgIHN0YXJ0KClcbiAgICB7XG4gICAgICAgIHRoaXMucmVsZWFzZVN0aWNrKCk7XG4gICAgfVxuICAgIFxuICAgIHJlbGVhc2VTdGljaygpXG4gICAge1xuICAgICAgICBsZXQgbW92ZSA9IGNjLm1vdmVUbygwLjUgLCBjYy5WZWMyLlpFUk8pO1xuICAgICAgICBsZXQgYWN0aW9uID0gbW92ZS5lYXNpbmcoY2MuZWFzZUV4cG9uZW50aWFsT3V0KCkpO1xuICAgICAgICB0aGlzLmlubmVyQ2lyY2xlLnJ1bkFjdGlvbihhY3Rpb24pO1xuICAgICAgICB0aGlzLmlzUmVsZWFzZWQgPSB0cnVlO1xuICAgICAgICBcbiAgICAgICAgaWYodGhpcy5keW5hbWljSm95c3RpY2spXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKCB0aGlzLmRlbGF5Q2xvc2UsIDEpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBkZWxheUNsb3NlKClcbiAgICB7XG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSBmYWxzZTtcbiAgICB9XG5cbiAgICBnZXQgYXhpcygpXG4gICAge1xuICAgICAgICBpZih0aGlzLmlzUmVsZWFzZWQpIHJldHVybiBjYy5WZWMyLlpFUk87XG4gICAgICAgIGxldCB2ZWMgPSB0aGlzLmlubmVyQ2lyY2xlLmdldFBvc2l0aW9uKCk7XG4gICAgICAgIHZlYy5ub3JtYWxpemVTZWxmKClcbiAgICAgICAgcmV0dXJuIHZlYztcbiAgICB9XG5cbiAgICBtb3ZlKHBvczpjYy5WZWMyKVxuICAgIHtcbiAgICAgICAgbGV0IG1hZyA9IHBvcy5tYWcoKTtcbiAgICAgICAgaWYobWFnID4gdGhpcy5yYWRpdXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmKHRoaXMucmVsZWFzZUFmdGVyT3ZlcilcbiAgICAgICAgICAgICAgICB0aGlzLnJlbGVhc2VTdGljaygpO1xuICAgICAgICAgICAgXG4gICAgICAgICAgICBwb3Mubm9ybWFsaXplU2VsZigpO1xuICAgICAgICAgICAgcG9zLm11bFNlbGYodGhpcy5yYWRpdXMpXG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5pbm5lckNpcmNsZS5zZXRQb3NpdGlvbihwb3MpO1xuICAgIH1cblxuICAgIF9zdGFydFBvczpjYy5WZWMyID0gY2MuVmVjMi5aRVJPO1xuXG4gICAgLy8gcCA6IHNjcmVlbiBwb3NpdGlvblxuICAgIHRvdWNoU3RhcnQocClcbiAgICB7XG4gICAgICAgIGlmKCF0aGlzLmVuYWJsZWQpIHJldHVybjtcbiAgICAgICAgdGhpcy5pc1JlbGVhc2VkID0gZmFsc2U7XG4gICAgICAgIHRoaXMuX3N0YXJ0UG9zID0gcDtcbiAgICAgICAgdGhpcy51bnNjaGVkdWxlKHRoaXMuZGVsYXlDbG9zZSk7XG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICBpZih0aGlzLmR5bmFtaWNKb3lzdGljaylcbiAgICAgICAge1xuICAgICAgICAgICAgLy8gY29udmVydG8gc2NyZWVuIHBvc2l0aW9uXG4gICAgICAgICAgICBsZXQgcG9zID0gdGhpcy5ub2RlLmdldFBhcmVudCgpLmNvbnZlcnRUb05vZGVTcGFjZUFSKHApO1xuICAgICAgICAgICAgdGhpcy5ub2RlLnNldFBvc2l0aW9uKHBvcyk7XG4gICAgICAgICAgICAvLyB0aGlzLm5vZGUub3BhY2l0eSA9IDA7XG4gICAgICAgICAgICAvLyB0aGlzLm5vZGUucnVuQWN0aW9uKGNjLmZhZGVJbigwLjUpKTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLm1vdmUoY2MuVmVjMi5aRVJPKTtcbiAgICB9XG5cbiAgICB0b3VjaE1vdmUocClcbiAgICB7XG4gICAgICAgIGlmKCF0aGlzLmVuYWJsZWQpIHJldHVybjtcbiAgICAgICAgbGV0IHZlYyA9IHAuc3ViKHRoaXMuX3N0YXJ0UG9zKTtcbiAgICAgICAgdGhpcy5tb3ZlKHZlYyk7XG4gICAgfVxuXG4gICAgdG91Y2hFbmQocClcbiAgICB7XG4gICAgICAgIGlmKCF0aGlzLmVuYWJsZWQpIHJldHVybjtcbiAgICAgICAgLy8gdGhpcy5tb3ZlKHApO1xuICAgICAgICB0aGlzLnJlbGVhc2VTdGljaygpO1xuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/DataCenter.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '2946dm7U5hPgIxciZRaL5Q+', 'DataCenter');
// framework/plugin_boosts/misc/DataCenter.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.field = exports.dc = void 0;
var EventManager_1 = require("../utils/EventManager");
var all_class_properties = {};
var all_registed_class = {};
function dc(name, serializable) {
    if (serializable === void 0) { serializable = true; }
    return function (target) {
        // target.endRegister(name);
        var proto = target['prototype'].constructor;
        // let cls = all_class_properties[proto]
        all_registed_class[target] = { name: name, serializable: serializable };
    };
}
exports.dc = dc;
function field(obj) {
    return function (target, propertyName) {
        if (obj && obj.default)
            target[propertyName] = obj.default;
        // target.register(propertyName,target[propertyName])
        var constructor = target.constructor;
        var cls = all_class_properties[constructor];
        if (cls == null) {
            cls = [];
            all_class_properties[constructor] = cls;
        }
        cls.push(propertyName);
    };
}
exports.field = field;
var DataCenter = /** @class */ (function () {
    function DataCenter() {
        this.__namespace = "DataCenter";
        this.kvs = {};
        this.kts = {};
        this.kvs = {};
        this.kts = {};
    }
    DataCenter.prototype.registerFields = function (namespace) {
        console.log(this);
        var target = this["__proto__"].constructor;
        var cls = all_class_properties[target];
        var cfg = all_registed_class[target];
        // let proto:any = target['prototype'];
        for (var i in cls) {
            var k = cls[i];
            if (typeof (k) == "function")
                continue;
            this.register(k, this[k]);
            delete this[k]; //删除默认属性 ,否则设置 setter getter 会失效
        }
        namespace = namespace || cfg.name;
        this.endRegister(namespace, cfg.serializable);
    };
    DataCenter.prototype.register = function (k, defaultValue) {
        var proto = this.constructor["prototype"];
        var self = this;
        proto.__defineGetter__(k, function () {
            return self.getData(k);
        });
        proto.__defineSetter__(k, function (s) {
            self.setData(k, s);
        });
        this.kvs[k] = defaultValue;
        var type = typeof (defaultValue);
        this.kts[k] = type;
        console.log("[DataCenter] register :" + k + ":" + defaultValue + "(" + type + ")");
    };
    DataCenter.prototype.setData = function (k, nv) {
        var v = this.kvs[k];
        if (v == nv)
            return;
        var type = this.kts[k];
        var kk = this._field_(k);
        if (type != typeof (nv)) {
            console.warn("[DataCenter] wrong type <" + typeof (nv) + "> for :" + kk + "<" + type + "> ,converting...");
            if (type == "number")
                nv = Number(nv);
            else if (type == "boolean") {
                nv = (nv == "true") ? true : false;
            }
        }
        this.kvs[k] = nv;
        console.log("[DataCenter] onValueChanged", kk, nv);
        EventManager_1.event.emit(kk, nv, v);
    };
    DataCenter.prototype._field_ = function (k) {
        return this.__namespace + "." + k;
    };
    DataCenter.prototype.getData = function (k) {
        return this.kvs[k];
    };
    DataCenter.prototype.limit = function (v, min, max) {
        if (v > max) {
            return max;
        }
        else if (v < min) {
            return 0;
        }
        else {
            return v;
        }
    };
    DataCenter.prototype.addData = function (k, c) {
        c = Number(c);
        if (c == null)
            return;
        var v = this.kvs[k];
        var nv = Number(v) + c;
        this.kvs[k] = nv;
        EventManager_1.event.emit(this._field_(k), nv, v);
    };
    DataCenter.prototype.load = function () {
        for (var k in this.kvs) {
            var fromstroage = localStorage.getItem(this._field_(k));
            var v = fromstroage;
            if (fromstroage) {
                var type = this.kts[k];
                if (type == "number") {
                    v = Number(fromstroage);
                }
                else if (type == "boolean") {
                    v = fromstroage == "true" ? true : false;
                }
            }
            else {
                v = this.getData(k);
            }
            this.kvs[k] = v;
        }
    };
    DataCenter.prototype.save = function () {
        console.log("[DataCenter] save :==================================");
        for (var k in this.kvs) {
            var v = this.kvs[k];
            var kk = this._field_(k);
            localStorage.setItem(kk, v.toString());
            console.log(cc.js.formatStr("%s:%s", kk, v));
        }
        console.log("[DataCenter] save succ :==================================");
        // localStorage.setItem("#1_coin",this.getData("coin"));
    };
    DataCenter.prototype.endRegister = function (s, serializable) {
        if (serializable === void 0) { serializable = true; }
        this.__namespace = s;
        DataCenter.alldata[s] = this;
        if (serializable) {
            this.load();
            this.save();
        }
    };
    DataCenter.off = function (k, callback, target) {
        EventManager_1.event.off(k, callback, target);
    };
    DataCenter.on = function (k, callback, target) {
        EventManager_1.event.on(k, callback, target);
        this.set(k, this.get(k));
    };
    DataCenter.get = function (k) {
        var strs = k.split(".");
        var namespace = strs[0];
        var name = strs[1];
        var target = DataCenter.alldata[namespace];
        if (target)
            return target[name];
        else
            return null;
    };
    DataCenter.set = function (k, v) {
        var strs = k.split(".");
        var namespace = strs[0];
        var name = strs[1];
        var target = DataCenter.alldata[namespace];
        if (target) {
            target[name] = v;
        }
    };
    DataCenter.register = function (cls) {
        var v = new cls();
        v.registerFields();
        return v;
    };
    DataCenter.alldata = {};
    return DataCenter;
}());
exports.default = DataCenter;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxEYXRhQ2VudGVyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsc0RBQThDO0FBRzlDLElBQU0sb0JBQW9CLEdBQUcsRUFBRSxDQUFBO0FBRS9CLElBQU0sa0JBQWtCLEdBQUcsRUFBRSxDQUFBO0FBQzdCLFNBQWdCLEVBQUUsQ0FBQyxJQUFJLEVBQUMsWUFBbUI7SUFBbkIsNkJBQUEsRUFBQSxtQkFBbUI7SUFFdkMsT0FBTyxVQUFVLE1BQVU7UUFFdkIsNEJBQTRCO1FBQzVCLElBQUksS0FBSyxHQUFPLE1BQU0sQ0FBQyxXQUFXLENBQUMsQ0FBQyxXQUFXLENBQUM7UUFDaEQsd0NBQXdDO1FBQ3hDLGtCQUFrQixDQUFDLE1BQU0sQ0FBQyxHQUFHLEVBQUMsSUFBSSxNQUFBLEVBQUMsWUFBWSxjQUFBLEVBQUMsQ0FBQztJQUNyRCxDQUFDLENBQUE7QUFDTCxDQUFDO0FBVEQsZ0JBU0M7QUFDRCxTQUFnQixLQUFLLENBQUMsR0FBbUI7SUFDckMsT0FBTyxVQUFVLE1BQVcsRUFBRSxZQUFvQjtRQUM5QyxJQUFHLEdBQUcsSUFBSSxHQUFHLENBQUMsT0FBTztZQUNqQixNQUFNLENBQUMsWUFBWSxDQUFDLEdBQUcsR0FBRyxDQUFDLE9BQU8sQ0FBQztRQUN2QyxxREFBcUQ7UUFDckQsSUFBSSxXQUFXLEdBQUcsTUFBTSxDQUFDLFdBQVcsQ0FBQTtRQUNwQyxJQUFJLEdBQUcsR0FBRyxvQkFBb0IsQ0FBQyxXQUFXLENBQUMsQ0FBQTtRQUMzQyxJQUFHLEdBQUcsSUFBSSxJQUFJLEVBQ2Q7WUFDSSxHQUFHLEdBQUcsRUFBRSxDQUFBO1lBQ1Isb0JBQW9CLENBQUMsV0FBVyxDQUFDLEdBQUcsR0FBRyxDQUFDO1NBQzNDO1FBQ0QsR0FBRyxDQUFDLElBQUksQ0FBQyxZQUFZLENBQUMsQ0FBQztJQUMzQixDQUFDLENBQUE7QUFDTCxDQUFDO0FBZEQsc0JB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TSxjQUFHLEdBQVYsVUFBVyxDQUFDO1FBRVIsSUFBSSxJQUFJLEdBQUcsQ0FBQyxDQUFDLEtBQUssQ0FBQyxHQUFHLENBQUMsQ0FBQTtRQUN2QixJQUFJLFNBQVMsR0FBRyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUM7UUFDeEIsSUFBSSxJQUFJLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25CLElBQUksTUFBTSxHQUFHLFVBQVUsQ0FBQyxPQUFPLENBQUMsU0FBUyxDQUFDLENBQUE7UUFDMUMsSUFBRyxNQUFNO1lBQ0wsT0FBTyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUE7O1lBRW5CLE9BQU8sSUFBSSxDQUFDO0lBQ3BCLENBQUM7SUFFTSxjQUFHLEdBQVYsVUFBVyxDQUFDLEVBQUMsQ0FBQztRQUVWLElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLENBQUE7UUFDdkIsSUFBSSxTQUFTLEdBQUcsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ3hCLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQztRQUNuQixJQUFJLE1BQU0sR0FBRyxVQUFVLENBQUMsT0FBTyxDQUFDLFNBQVMsQ0FBQyxDQUFBO1FBQzFDLElBQUcsTUFBTSxFQUNUO1lBQ0ksTUFBTSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUNwQjtJQUNMLENBQUM7SUFFTSxtQkFBUSxHQUFmLFVBQWdCLEdBQUc7UUFFZixJQUFJLENBQUMsR0FBRyxJQUFJLEdBQUcsRUFBRSxDQUFDO1FBQ2xCLENBQUMsQ0FBQyxjQUFjLEVBQUUsQ0FBQTtRQUNsQixPQUFPLENBQUMsQ0FBQztJQUNiLENBQUM7SUExTE0sa0JBQU8sR0FBRyxFQUFFLENBQUE7SUEyTHZCLGlCQUFDO0NBOUxELEFBOExDLElBQUE7a0JBOUxvQixVQUFVIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgZXZlbnQgfSBmcm9tIFwiLi4vdXRpbHMvRXZlbnRNYW5hZ2VyXCI7XG5cblxuY29uc3QgYWxsX2NsYXNzX3Byb3BlcnRpZXMgPSB7fVxuXG5jb25zdCBhbGxfcmVnaXN0ZWRfY2xhc3MgPSB7fVxuZXhwb3J0IGZ1bmN0aW9uIGRjKG5hbWUsc2VyaWFsaXphYmxlID0gdHJ1ZSk6RnVuY3Rpb25cbntcbiAgICByZXR1cm4gZnVuY3Rpb24gKHRhcmdldDphbnkpXG4gICAge1xuICAgICAgICAvLyB0YXJnZXQuZW5kUmVnaXN0ZXIobmFtZSk7XG4gICAgICAgIGxldCBwcm90bzphbnkgPSB0YXJnZXRbJ3Byb3RvdHlwZSddLmNvbnN0cnVjdG9yO1xuICAgICAgICAvLyBsZXQgY2xzID0gYWxsX2NsYXNzX3Byb3BlcnRpZXNbcHJvdG9dXG4gICAgICAgIGFsbF9yZWdpc3RlZF9jbGFzc1t0YXJnZXRdID0ge25hbWUsc2VyaWFsaXphYmxlfTtcbiAgICB9XG59XG5leHBvcnQgZnVuY3Rpb24gZmllbGQob2JqPzp7ZGVmYXVsdD86YW55fSkge1xuICAgIHJldHVybiBmdW5jdGlvbiAodGFyZ2V0OiBhbnksIHByb3BlcnR5TmFtZTogc3RyaW5nKSB7XG4gICAgICAgIGlmKG9iaiAmJiBvYmouZGVmYXVsdClcbiAgICAgICAgICAgIHRhcmdldFtwcm9wZXJ0eU5hbWVdID0gb2JqLmRlZmF1bHQ7XG4gICAgICAgIC8vIHRhcmdldC5yZWdpc3Rlcihwcm9wZXJ0eU5hbWUsdGFyZ2V0W3Byb3BlcnR5TmFtZV0pXG4gICAgICAgIGxldCBjb25zdHJ1Y3RvciA9IHRhcmdldC5jb25zdHJ1Y3RvclxuICAgICAgICBsZXQgY2xzID0gYWxsX2NsYXNzX3Byb3BlcnRpZXNbY29uc3RydWN0b3JdXG4gICAgICAgIGlmKGNscyA9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICBjbHMgPSBbXVxuICAgICAgICAgICAgYWxsX2NsYXNzX3Byb3BlcnRpZXNbY29uc3RydWN0b3JdID0gY2xzO1xuICAgICAgICB9XG4gICAgICAgIGNscy5wdXNoKHByb3BlcnR5TmFtZSk7XG4gICAgfVxufVxuXG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIERhdGFDZW50ZXJcbntcbiAgICBwcml2YXRlIF9fbmFtZXNwYWNlOnN0cmluZyA9IFwiRGF0YUNlbnRlclwiXG4gICAgc3RhdGljIGFsbGRhdGEgPSB7fVxuICAgIHByaXZhdGUga3ZzID0ge31cbiAgICBwcml2YXRlIGt0cyA9IHt9XG4gICAgY29uc3RydWN0b3IoKVxuICAgIHtcbiAgICAgICAgdGhpcy5rdnMgPSB7fVxuICAgICAgICB0aGlzLmt0cyA9IHt9XG4gICAgfVxuXG4gICAgcHJpdmF0ZSByZWdpc3RlckZpZWxkcyhuYW1lc3BhY2U/KVxuICAgIHtcbiAgICAgICAgY29uc29sZS5sb2codGhpcyk7XG4gICAgICAgIGxldCB0YXJnZXQgPSB0aGlzW1wiX19wcm90b19fXCJdLmNvbnN0cnVjdG9yIFxuICAgICAgICBsZXQgY2xzID0gYWxsX2NsYXNzX3Byb3BlcnRpZXNbdGFyZ2V0XVxuICAgICAgICBsZXQgY2ZnID0gYWxsX3JlZ2lzdGVkX2NsYXNzW3RhcmdldF1cbiAgICAgICAgLy8gbGV0IHByb3RvOmFueSA9IHRhcmdldFsncHJvdG90eXBlJ107XG4gICAgICAgIGZvcih2YXIgaSBpbiBjbHMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBrID0gY2xzW2ldO1xuICAgICAgICAgICAgaWYodHlwZW9mKGspID09IFwiZnVuY3Rpb25cIikgY29udGludWU7XG4gICAgICAgICAgICB0aGlzLnJlZ2lzdGVyKGssdGhpc1trXSlcbiAgICAgICAgICAgIGRlbGV0ZSB0aGlzW2tdOyAvL+WIoOmZpOm7mOiupOWxnuaApyAs5ZCm5YiZ6K6+572uIHNldHRlciBnZXR0ZXIg5Lya5aSx5pWIXG4gICAgICAgIH1cbiAgICAgICAgbmFtZXNwYWNlID0gbmFtZXNwYWNlIHx8ICBjZmcubmFtZTtcbiAgICAgICAgdGhpcy5lbmRSZWdpc3RlcihuYW1lc3BhY2UsY2ZnLnNlcmlhbGl6YWJsZSlcbiAgICB9XG5cbiAgICByZWdpc3RlcihrLGRlZmF1bHRWYWx1ZSlcbiAgICB7XG4gICAgICAgIGxldCBwcm90bzphbnkgPSB0aGlzLmNvbnN0cnVjdG9yW1wicHJvdG90eXBlXCJdXG4gICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgcHJvdG8uX19kZWZpbmVHZXR0ZXJfXyhrLGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICByZXR1cm4gc2VsZi5nZXREYXRhKGspO1xuICAgICAgICB9KVxuICAgICAgICBwcm90by5fX2RlZmluZVNldHRlcl9fKGssZnVuY3Rpb24ocyl7XG4gICAgICAgICAgICBzZWxmLnNldERhdGEoayxzKVxuICAgICAgICB9KSBcbiAgICAgICAgXG4gICAgICAgIHRoaXMua3ZzW2tdID0gZGVmYXVsdFZhbHVlO1xuICAgICAgICBsZXQgdHlwZSA9IHR5cGVvZihkZWZhdWx0VmFsdWUpO1xuICAgICAgICB0aGlzLmt0c1trXSA9ICB0eXBlO1xuICAgICAgICBjb25zb2xlLmxvZyhcIltEYXRhQ2VudGVyXSByZWdpc3RlciA6XCIgKyBrICsgXCI6XCIgKyBkZWZhdWx0VmFsdWUgK1wiKFwiK3R5cGUrXCIpXCIpXG4gICAgfVxuIFxuICAgIHNldERhdGEoayxudilcbiAgICB7XG4gICAgICAgIGxldCB2ID0gdGhpcy5rdnNba11cbiAgICAgICAgaWYodiA9PSBudiApIHJldHVybjtcbiAgICAgICAgbGV0IHR5cGUgPSB0aGlzLmt0c1trXVxuICAgICAgICBsZXQga2sgPXRoaXMuX2ZpZWxkXyhrKVxuICAgICAgICBpZih0eXBlICE9IHR5cGVvZihudikpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIltEYXRhQ2VudGVyXSB3cm9uZyB0eXBlIDxcIit0eXBlb2YobnYpK1wiPiBmb3IgOlwiICsga2sgK1wiPFwiK3R5cGUrXCI+ICxjb252ZXJ0aW5nLi4uXCIpXG4gICAgICAgICAgICBpZih0eXBlID09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAgbnYgPSBOdW1iZXIobnYpXG4gICAgICAgICAgICBlbHNlIGlmKHR5cGUgPT0gXCJib29sZWFuXCIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbnYgPSAobnYgPT0gXCJ0cnVlXCIpID8gdHJ1ZSA6ZmFsc2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmt2c1trXSA9IG52O1xuICAgICAgICBjb25zb2xlLmxvZyhcIltEYXRhQ2VudGVyXSBvblZhbHVlQ2hhbmdlZFwiICwga2ssbnYpO1xuICAgICAgICBldmVudC5lbWl0KGtrLG52LHYpXG4gICAgfVxuXG4gICAgcHJpdmF0ZSBfZmllbGRfKGspXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fX25hbWVzcGFjZSArXCIuXCIgKyBrXG4gICAgfVxuXG4gICAgZ2V0RGF0YShrKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua3ZzW2tdO1xuICAgIH1cblxuICAgIGxpbWl0KHYsbWluLG1heClcbiAgICB7XG4gICAgICAgIGlmKHYgPiBtYXgpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBtYXg7XG4gICAgICAgIH1lbHNlIGlmKHYgPCBtaW4pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiAwO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHJldHVybiB2O1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkRGF0YShrLGMpXG4gICAge1xuICAgICAgICBjID0gTnVtYmVyKGMpXG4gICAgICAgIGlmKGMgPT0gbnVsbCkgcmV0dXJuO1xuICAgICAgICBsZXQgdiA9IHRoaXMua3ZzW2tdXG4gICAgICAgIGxldCBudiA9ICBOdW1iZXIodikgKyBjXG4gICAgICAgIHRoaXMua3ZzW2tdID0gbnZcbiAgICAgICAgZXZlbnQuZW1pdCh0aGlzLl9maWVsZF8oayksbnYsdilcbiAgICB9XG5cbiAgICBwcml2YXRlIGxvYWQoKVxuICAgIHtcbiAgICAgICAgZm9yICh2YXIgayBpbiB0aGlzLmt2cylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGZyb21zdHJvYWdlID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0odGhpcy5fZmllbGRfKGspKVxuICAgICAgICAgICAgbGV0IHY6YW55ID0gZnJvbXN0cm9hZ2VcbiAgICAgICAgICAgIGlmKGZyb21zdHJvYWdlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCB0eXBlID0gdGhpcy5rdHNba11cbiAgICAgICAgICAgICAgICBpZih0eXBlID09IFwibnVtYmVyXCIpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB2ID0gTnVtYmVyKGZyb21zdHJvYWdlKTtcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZih0eXBlID09IFwiYm9vbGVhblwiKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdiA9IGZyb21zdHJvYWdlID09IFwidHJ1ZVwiP3RydWU6ZmFsc2U7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgdiA9IHRoaXMuZ2V0RGF0YShrKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMua3ZzW2tdID0gdjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNhdmUoKVxuICAgIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJbRGF0YUNlbnRlcl0gc2F2ZSA6PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PVwiKVxuICAgICAgICBmb3IgKHZhciBrIGluIHRoaXMua3ZzKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgdiA9IHRoaXMua3ZzW2tdXG4gICAgICAgICAgICBsZXQga2sgPSB0aGlzLl9maWVsZF8oaylcbiAgICAgICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtrLHYudG9TdHJpbmcoKSk7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjYy5qcy5mb3JtYXRTdHIoXCIlczolc1wiICxrayx2KSlcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhcIltEYXRhQ2VudGVyXSBzYXZlIHN1Y2MgOj09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT09PT1cIilcbiAgICAgICAgLy8gbG9jYWxTdG9yYWdlLnNldEl0ZW0oXCIjMV9jb2luXCIsdGhpcy5nZXREYXRhKFwiY29pblwiKSk7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBlbmRSZWdpc3RlcihzICxzZXJpYWxpemFibGUgPSB0cnVlKVxuICAgIHtcbiAgICAgICAgdGhpcy5fX25hbWVzcGFjZSA9IHM7XG4gICAgICAgIERhdGFDZW50ZXIuYWxsZGF0YVtzXSA9IHRoaXM7XG4gICAgICAgIGlmKHNlcmlhbGl6YWJsZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5sb2FkKClcbiAgICAgICAgICAgIHRoaXMuc2F2ZSgpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIG9mZihrLGNhbGxiYWNrLHRhcmdldD8pXG4gICAge1xuICAgICAgICBldmVudC5vZmYoayxjYWxsYmFjayx0YXJnZXQpO1xuICAgIH1cblxuICAgIHN0YXRpYyBvbihrLGNhbGxiYWNrLHRhcmdldD8pXG4gICAge1xuICAgICAgIGV2ZW50Lm9uKGsgLGNhbGxiYWNrLHRhcmdldClcbiAgICAgICB0aGlzLnNldChrLHRoaXMuZ2V0KGspKSBcbiAgICB9XG5cbiAgICBzdGF0aWMgZ2V0KGspXG4gICAge1xuICAgICAgICBsZXQgc3RycyA9IGsuc3BsaXQoXCIuXCIpXG4gICAgICAgIGxldCBuYW1lc3BhY2UgPSBzdHJzWzBdO1xuICAgICAgICBsZXQgbmFtZSA9IHN0cnNbMV07XG4gICAgICAgIGxldCB0YXJnZXQgPSBEYXRhQ2VudGVyLmFsbGRhdGFbbmFtZXNwYWNlXVxuICAgICAgICBpZih0YXJnZXQpXG4gICAgICAgICAgICByZXR1cm4gdGFyZ2V0W25hbWVdXG4gICAgICAgIGVsc2UgXG4gICAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG5cbiAgICBzdGF0aWMgc2V0KGssdilcbiAgICB7XG4gICAgICAgIGxldCBzdHJzID0gay5zcGxpdChcIi5cIilcbiAgICAgICAgbGV0IG5hbWVzcGFjZSA9IHN0cnNbMF07XG4gICAgICAgIGxldCBuYW1lID0gc3Ryc1sxXTtcbiAgICAgICAgbGV0IHRhcmdldCA9IERhdGFDZW50ZXIuYWxsZGF0YVtuYW1lc3BhY2VdXG4gICAgICAgIGlmKHRhcmdldClcbiAgICAgICAge1xuICAgICAgICAgICAgdGFyZ2V0W25hbWVdID0gdjtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyByZWdpc3RlcihjbHMpXG4gICAge1xuICAgICAgICBsZXQgdiA9IG5ldyBjbHMoKTtcbiAgICAgICAgdi5yZWdpc3RlckZpZWxkcygpXG4gICAgICAgIHJldHVybiB2O1xuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/gamesys/PsFx.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5e90fpm8LtO1JagTdF3cTrm', 'PsFx');
// framework/plugin_boosts/gamesys/PsFx.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Device_1 = require("./Device");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PsFx = /** @class */ (function (_super) {
    __extends(PsFx, _super);
    function PsFx() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        // @property([cc.ParticleSystem])
        _this.particles = [];
        // @property([cc.Animation])
        _this.animations = [];
        // armature:dragonBones.ArmatureDisplay = null
        _this.armature = null;
        // name:string = null;
        // _callback:Function;
        // _target:any;
        _this.isPlaying = false;
        _this.sfx = null;
        _this.sprite = null;
        _this.playedTime = 0;
        _this.duration = -1;
        _this.fadeAfterFinish = -1;
        _this.repeatTime = 1;
        _this.removeAfterFinish = false;
        return _this;
        // update (dt) {}
    }
    PsFx.prototype.onLoad = function () {
        if (this.sprite == null) {
            this.sprite = this.getComponent(cc.Sprite);
        }
        var anim = this.getComponent(cc.Animation);
        if (anim) {
            this.animations.push(anim);
        }
        var root_ps = this.getComponent(cc.ParticleSystem);
        root_ps && this.particles.push(root_ps);
        for (var i = 0; i < this.node.childrenCount; i++) {
            var child = this.node.children[i];
            var ps = child.getComponent(cc.ParticleSystem);
            if (ps)
                this.particles.push(ps);
            else {
                var anim_1 = child.getComponent(cc.Animation);
                if (anim_1)
                    this.animations.push(anim_1);
            }
        }
        if (typeof (dragonBones) != "undefined") {
            this.armature = this.getComponent(dragonBones.ArmatureDisplay);
            if (!this.armature)
                this.armature = this.getComponentInChildren(dragonBones.ArmatureDisplay);
        }
    };
    PsFx.prototype.play = function (audio, spriteFrame) {
        var _this = this;
        if (audio === void 0) { audio = null; }
        if (spriteFrame === void 0) { spriteFrame = null; }
        this.isPlaying = true;
        var dur = 0;
        if (audio) {
            this.sfx = audio;
        }
        if (spriteFrame)
            this.sprite.spriteFrame = spriteFrame;
        this.node.active = true;
        for (var i = 0; i < this.particles.length; i++) {
            var element = this.particles[i];
            element.resetSystem();
            if (dur < element.duration) {
                dur = element.duration + element.life + element.lifeVar;
            }
        }
        for (var i = 0; i < this.animations.length; i++) {
            var element = this.animations[i];
            var clips = element.getClips();
            if (clips && clips.length > 0) {
                var clip = clips[0];
                var duration = clip.duration / clip.speed;
                if (duration > dur) {
                    dur = duration;
                }
                element.play(clip.name);
            }
        }
        if (this.sfx) {
            Device_1.default.playEffect(this.sfx, false);
        }
        if (this.armature) {
            this.armature.playAnimation("", this.repeatTime);
            dur = this.duration;
            if (dur <= 0) {
                return new Promise(function (resolve, reject) {
                    // this.armature.addEventListener(dragonBones.EventObject.LOOP_COMPLETE, _=>{
                    //     console.log("loop complete");
                    //     this.fadeOnFinish(resolve)
                    // })
                    _this.armature.addEventListener(dragonBones.EventObject.COMPLETE, function (_) {
                        console.log("armature play complete");
                        if (_this.removeAfterFinish) {
                            _this.node.removeFromParent();
                        }
                        else {
                            _this.fadeOnFinish(resolve);
                        }
                    });
                });
            }
        }
        else {
            dur = dur + 0.1;
        }
        // console.log("[psfx] play : " ,  this.name,  dur);
        return new Promise(function (resolve, reject) {
            setTimeout(function (_) {
                if (!_this.isValid)
                    return;
                if (_this.removeAfterFinish) {
                    _this.node.removeFromParent();
                }
                else {
                    _this.fadeOnFinish(resolve);
                }
            }, dur * 1000);
        });
    };
    PsFx.prototype.fadeOnFinish = function (callback) {
        this.isPlaying = false;
        for (var i = 0; i < this.particles.length; i++) {
            var element = this.particles[i];
            element.stopSystem();
        }
        if (this.fadeAfterFinish > 0) {
            var seq = cc.sequence(cc.fadeOut(this.fadeAfterFinish), cc.callFunc(callback));
            this.node.runAction(seq);
        }
        else {
            callback();
        }
    };
    PsFx.prototype.reset = function () {
        this.playedTime = 0;
    };
    PsFx.prototype.start = function () {
    };
    __decorate([
        property({ type: cc.AudioClip })
    ], PsFx.prototype, "sfx", void 0);
    __decorate([
        property(cc.Sprite)
    ], PsFx.prototype, "sprite", void 0);
    __decorate([
        property
    ], PsFx.prototype, "duration", void 0);
    __decorate([
        property
    ], PsFx.prototype, "fadeAfterFinish", void 0);
    __decorate([
        property
    ], PsFx.prototype, "repeatTime", void 0);
    __decorate([
        property
    ], PsFx.prototype, "removeAfterFinish", void 0);
    PsFx = __decorate([
        ccclass
    ], PsFx);
    return PsFx;
}(cc.Component));
exports.default = PsFx;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxnYW1lc3lzXFxQc0Z4LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxtQ0FBOEI7QUFFeEIsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBa0Msd0JBQVk7SUFBOUM7UUFBQSxxRUErS0M7UUE3S0csaUNBQWlDO1FBQ2pDLGVBQVMsR0FBdUIsRUFBRSxDQUFBO1FBRWxDLDRCQUE0QjtRQUM1QixnQkFBVSxHQUFrQixFQUFFLENBQUE7UUFFOUIsOENBQThDO1FBQzlDLGNBQVEsR0FBTyxJQUFJLENBQUM7UUFFcEIsc0JBQXNCO1FBRXRCLHNCQUFzQjtRQUN0QixlQUFlO1FBRWYsZUFBUyxHQUFXLEtBQUssQ0FBQztRQUcxQixTQUFHLEdBQWdCLElBQUksQ0FBQTtRQUd2QixZQUFNLEdBQWEsSUFBSSxDQUFBO1FBRXZCLGdCQUFVLEdBQVUsQ0FBQyxDQUFDO1FBR3RCLGNBQVEsR0FBVSxDQUFDLENBQUMsQ0FBRTtRQUd0QixxQkFBZSxHQUFVLENBQUMsQ0FBQyxDQUFDO1FBRzVCLGdCQUFVLEdBQVUsQ0FBQyxDQUFDO1FBR3RCLHVCQUFpQixHQUFXLEtBQUssQ0FBQzs7UUEwSWxDLGlCQUFpQjtJQUNyQixDQUFDO0lBeElHLHFCQUFNLEdBQU47UUFFSSxJQUFHLElBQUksQ0FBQyxNQUFNLElBQUksSUFBSSxFQUN0QjtZQUNJLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUM7U0FDOUM7UUFDRCxJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQTtRQUMxQyxJQUFHLElBQUksRUFDUDtZQUNJLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLElBQUks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O1FBREMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxTQUFTLEVBQUMsQ0FBQztxQ0FDUjtJQUd2QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO3dDQUNHO0lBS3ZCO1FBREMsUUFBUTswQ0FDYTtJQUd0QjtRQURDLFFBQVE7aURBQ21CO0lBRzVCO1FBREMsUUFBUTs0Q0FDYTtJQUd0QjtRQURDLFFBQVE7bURBQ3lCO0lBcENqQixJQUFJO1FBRHhCLE9BQU87T0FDYSxJQUFJLENBK0t4QjtJQUFELFdBQUM7Q0EvS0QsQUErS0MsQ0EvS2lDLEVBQUUsQ0FBQyxTQUFTLEdBK0s3QztrQkEvS29CLElBQUkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGV2aWNlIGZyb20gXCIuL0RldmljZVwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBzRnggZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuICAgIFxuICAgIC8vIEBwcm9wZXJ0eShbY2MuUGFydGljbGVTeXN0ZW1dKVxuICAgIHBhcnRpY2xlczpjYy5QYXJ0aWNsZVN5c3RlbVtdID0gW11cblxuICAgIC8vIEBwcm9wZXJ0eShbY2MuQW5pbWF0aW9uXSlcbiAgICBhbmltYXRpb25zOmNjLkFuaW1hdGlvbltdID0gW11cblxuICAgIC8vIGFybWF0dXJlOmRyYWdvbkJvbmVzLkFybWF0dXJlRGlzcGxheSA9IG51bGxcbiAgICBhcm1hdHVyZTphbnkgPSBudWxsO1xuXG4gICAgLy8gbmFtZTpzdHJpbmcgPSBudWxsO1xuXG4gICAgLy8gX2NhbGxiYWNrOkZ1bmN0aW9uO1xuICAgIC8vIF90YXJnZXQ6YW55O1xuXG4gICAgaXNQbGF5aW5nOmJvb2xlYW4gPSBmYWxzZTtcblxuICAgIEBwcm9wZXJ0eSh7dHlwZTogY2MuQXVkaW9DbGlwfSlcbiAgICBzZng6Y2MuQXVkaW9DbGlwID0gbnVsbFxuXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcbiAgICBzcHJpdGU6Y2MuU3ByaXRlID0gbnVsbFxuXG4gICAgcGxheWVkVGltZTpudW1iZXIgPSAwO1xuXG4gICAgQHByb3BlcnR5XG4gICAgZHVyYXRpb246bnVtYmVyID0gLTEgO1xuXG4gICAgQHByb3BlcnR5XG4gICAgZmFkZUFmdGVyRmluaXNoOm51bWJlciA9IC0xO1xuICAgIFxuICAgIEBwcm9wZXJ0eVxuICAgIHJlcGVhdFRpbWU6bnVtYmVyID0gMTtcblxuICAgIEBwcm9wZXJ0eVxuICAgIHJlbW92ZUFmdGVyRmluaXNoOmJvb2xlYW4gPSBmYWxzZTtcblxuXG4gICAgb25Mb2FkKClcbiAgICB7XG4gICAgICAgIGlmKHRoaXMuc3ByaXRlID09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlID0gdGhpcy5nZXRDb21wb25lbnQoY2MuU3ByaXRlKTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgYW5pbSA9IHRoaXMuZ2V0Q29tcG9uZW50KGNjLkFuaW1hdGlvbilcbiAgICAgICAgaWYoYW5pbSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zLnB1c2goYW5pbSk7XG4gICAgICAgIH1cbiAgICAgICAgbGV0IHJvb3RfcHMgPSB0aGlzLmdldENvbXBvbmVudChjYy5QYXJ0aWNsZVN5c3RlbSlcbiAgICAgICAgcm9vdF9wcyAmJiB0aGlzLnBhcnRpY2xlcy5wdXNoKHJvb3RfcHMpXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5ub2RlLmNoaWxkcmVuQ291bnQ7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgY2hpbGQgPSB0aGlzLm5vZGUuY2hpbGRyZW5baV1cbiAgICAgICAgICAgIGxldCBwcyA9IGNoaWxkLmdldENvbXBvbmVudChjYy5QYXJ0aWNsZVN5c3RlbSkgICBcbiAgICAgICAgICAgIGlmKHBzKVxuICAgICAgICAgICAgICAgIHRoaXMucGFydGljbGVzLnB1c2gocHMpO1xuICAgICAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICBsZXQgYW5pbSA9IGNoaWxkLmdldENvbXBvbmVudChjYy5BbmltYXRpb24pXG4gICAgICAgICAgICAgICAgaWYoYW5pbSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zLnB1c2goYW5pbSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaWYodHlwZW9mKGRyYWdvbkJvbmVzKSAhPVwidW5kZWZpbmVkXCIpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYXJtYXR1cmUgPSB0aGlzLmdldENvbXBvbmVudChkcmFnb25Cb25lcy5Bcm1hdHVyZURpc3BsYXkpO1xuICAgICAgICAgICAgaWYoIXRoaXMuYXJtYXR1cmUpXG4gICAgICAgICAgICAgICAgdGhpcy5hcm1hdHVyZSA9IHRoaXMuZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihkcmFnb25Cb25lcy5Bcm1hdHVyZURpc3BsYXkpO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgcGxheShhdWRpbzpjYy5BdWRpb0NsaXA9IG51bGwsc3ByaXRlRnJhbWUgPSBudWxsKVxuICAgIHtcbiAgICAgICAgdGhpcy5pc1BsYXlpbmcgPSB0cnVlO1xuICAgICAgICBsZXQgZHVyID0gMDtcbiAgICAgICAgaWYoYXVkaW8pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2Z4ID0gYXVkaW9cbiAgICAgICAgfVxuICAgICAgICBpZihzcHJpdGVGcmFtZSlcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNwcml0ZUZyYW1lID0gc3ByaXRlRnJhbWU7XG4gICAgICAgIFxuICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLnBhcnRpY2xlcy5sZW5ndGg7IGkrKykge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IHRoaXMucGFydGljbGVzW2ldO1xuICAgICAgICAgICAgZWxlbWVudC5yZXNldFN5c3RlbSgpO1xuICAgICAgICAgICAgaWYoZHVyIDwgZWxlbWVudC5kdXJhdGlvbilcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBkdXIgPSBlbGVtZW50LmR1cmF0aW9uICsgZWxlbWVudC5saWZlICsgZWxlbWVudC5saWZlVmFyXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmFuaW1hdGlvbnMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLmFuaW1hdGlvbnNbaV07XG4gICAgICAgICAgICBsZXQgY2xpcHMgPSBlbGVtZW50LmdldENsaXBzKClcbiAgICAgICAgICAgIGlmKGNsaXBzICYmIGNsaXBzLmxlbmd0aCA+IDApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IGNsaXAgPSBjbGlwc1swXVxuICAgICAgICAgICAgICAgIGxldCBkdXJhdGlvbiA9IGNsaXAuZHVyYXRpb24vY2xpcC5zcGVlZFxuICAgICAgICAgICAgICAgIGlmKGR1cmF0aW9uID4gZHVyKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgZHVyID0gZHVyYXRpb247XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGVsZW1lbnQucGxheShjbGlwLm5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYodGhpcy5zZngpXG4gICAgICAgIHtcbiAgICAgICAgICAgIERldmljZS5wbGF5RWZmZWN0KHRoaXMuc2Z4LGZhbHNlKTtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYodGhpcy5hcm1hdHVyZSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5hcm1hdHVyZS5wbGF5QW5pbWF0aW9uKFwiXCIsdGhpcy5yZXBlYXRUaW1lKTtcbiAgICAgICAgICAgIGR1ciA9IHRoaXMuZHVyYXRpb247XG4gICAgICAgICAgICBpZihkdXIgPD0gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e1xuICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmFybWF0dXJlLmFkZEV2ZW50TGlzdGVuZXIoZHJhZ29uQm9uZXMuRXZlbnRPYmplY3QuTE9PUF9DT01QTEVURSwgXz0+e1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgY29uc29sZS5sb2coXCJsb29wIGNvbXBsZXRlXCIpO1xuICAgICAgICAgICAgICAgICAgICAvLyAgICAgdGhpcy5mYWRlT25GaW5pc2gocmVzb2x2ZSlcbiAgICAgICAgICAgICAgICAgICAgLy8gfSlcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hcm1hdHVyZS5hZGRFdmVudExpc3RlbmVyKGRyYWdvbkJvbmVzLkV2ZW50T2JqZWN0LkNPTVBMRVRFLCBfPT57XG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImFybWF0dXJlIHBsYXkgY29tcGxldGVcIik7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLnJlbW92ZUFmdGVyRmluaXNoKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZS5yZW1vdmVGcm9tUGFyZW50KCk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZhZGVPbkZpbmlzaChyZXNvbHZlKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgZHVyID0gZHVyICsgMC4xO1xuICAgICAgICB9XG4gICAgICAgIC8vIGNvbnNvbGUubG9nKFwiW3BzZnhdIHBsYXkgOiBcIiAsICB0aGlzLm5hbWUsICBkdXIpO1xuICAgICAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUscmVqZWN0KT0+e1xuICAgICAgICAgICAgc2V0VGltZW91dChfPT57XG4gICAgICAgICAgICAgICAgaWYoIXRoaXMuaXNWYWxpZCkgcmV0dXJuXG4gICAgICAgICAgICAgICAgaWYodGhpcy5yZW1vdmVBZnRlckZpbmlzaClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZS5yZW1vdmVGcm9tUGFyZW50KCk7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZmFkZU9uRmluaXNoKHJlc29sdmUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSxkdXIgKiAxMDAwKVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIGZhZGVPbkZpbmlzaChjYWxsYmFjaylcbiAgICB7XG4gICAgICAgIHRoaXMuaXNQbGF5aW5nID0gZmFsc2U7XG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5wYXJ0aWNsZXMubGVuZ3RoOyBpKyspIHtcbiAgICAgICAgICAgIGNvbnN0IGVsZW1lbnQgPSB0aGlzLnBhcnRpY2xlc1tpXTtcbiAgICAgICAgICAgIGVsZW1lbnQuc3RvcFN5c3RlbSgpO1xuICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMuZmFkZUFmdGVyRmluaXNoID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IHNlcSA9IGNjLnNlcXVlbmNlKGNjLmZhZGVPdXQodGhpcy5mYWRlQWZ0ZXJGaW5pc2gpLGNjLmNhbGxGdW5jKGNhbGxiYWNrKSlcbiAgICAgICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oc2VxKVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGNhbGxiYWNrKCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZXNldCgpOiBhbnkge1xuICAgICAgICB0aGlzLnBsYXllZFRpbWUgPSAwO1xuICAgIH1cblxuICAgIHN0YXJ0ICgpIHtcblxuICAgIH1cblxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/InputSystem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4643c14ws5Msox+teVpsIzz', 'InputSystem');
// framework/plugin_boosts/misc/InputSystem.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.InputSystem = exports.Input = void 0;
var JoyStick_1 = require("./JoyStick");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
exports.Input = null;
var InputSystem = /** @class */ (function (_super) {
    __extends(InputSystem, _super);
    function InputSystem() {
        // @property(cc.Component.EventHandler)
        // onKeyDown:cc.Component.EventHandler;
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._target = null;
        _this.keys = {};
        _this.__touchVec = cc.Vec2.ZERO;
        _this.radius_axis = 256;
        _this.joyStick = null;
        _this.__lastTouch = cc.Vec2.ZERO;
        _this.moveOffset = cc.Vec2.ZERO;
        _this.__curTouchId = -1;
        return _this;
    }
    /**
     * if target is a Component ,this function must be called in onLoad
     * @param target
     */
    InputSystem.prototype.setDelegate = function (target) {
        this._target = target;
    };
    InputSystem.prototype.onLoad = function () {
        exports.Input = this;
        var components = this.getComponents(cc.Component);
        for (var i = 0; i < components.length; i++) {
            var comp = components[i];
            if (comp != this && (comp.onTouchBegan || comp.onTouchEnded || comp.onTouchMoved)) {
                this._target = comp;
                break;
            }
        }
        console.log("InputSystem Component -> target:", this._target);
    };
    //Horizontal
    //Vertical
    InputSystem.prototype.start = function () {
        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN, this.triggerKeyDown, this);
        cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP, this.triggerKeyUp, this);
        // if(this._target)
        // {
        this.node.on(cc.Node.EventType.TOUCH_START, this.triggerTouchBegan, this);
        this.node.on(cc.Node.EventType.TOUCH_MOVE, this.triggerTouchMoved, this);
        this.node.on(cc.Node.EventType.TOUCH_END, this.triggerTouchEnded, this);
        this.node.on(cc.Node.EventType.TOUCH_CANCEL, this.triggerTouchCanceled, this);
        // }
    };
    Object.defineProperty(InputSystem.prototype, "touch", {
        get: function () {
            return this.__touch;
        },
        enumerable: false,
        configurable: true
    });
    Object.defineProperty(InputSystem.prototype, "axis", {
        // only valid when joystick is enabled 
        get: function () {
            if (this.joyStick)
                return this.joyStick.axis;
            else
                return this.__touchVec;
        },
        enumerable: false,
        configurable: true
    });
    InputSystem.prototype.getKey = function (k) {
        return this.keys[k];
    };
    InputSystem.prototype.triggerKeyUp = function (e) {
        if (this._target.onKeyUp)
            this._target.onKeyUp(event);
        this.keys[event["key"]] = false;
    };
    InputSystem.prototype.triggerKeyDown = function (e) {
        if (this._target.onKeyDown)
            this._target.onKeyDown(event);
        this.keys[event["key"]] = true;
    };
    InputSystem.prototype.triggerTouchEnded = function (e) {
        if (this.__curTouchId != -1 && e.getID() != this.__curTouchId) {
            return;
        }
        this.__curTouchId = -1;
        if (this._target.onTouchEnded)
            this._target.onTouchEnded(e);
        this.__touch = null;
        this.__touchVec = cc.Vec2.ZERO;
        if (e.currentTouch)
            if (this.joyStick)
                this.joyStick.touchEnd(e.currentTouch.getLocation());
        this.moveOffset = cc.Vec2.ZERO;
    };
    InputSystem.prototype.triggerTouchMoved = function (e) {
        if (this.__curTouchId != -1 && e.getID() != this.__curTouchId) {
            return;
        }
        if (this._target.onTouchMoved)
            this._target.onTouchMoved(e);
        this.__touch = e.currentTouch.getLocation();
        this.moveOffset = this.__touch.sub(this.__lastTouch);
        if (this.__touch && this.__startLocation) {
            this.__touchVec = this.__touch.sub(this.__startLocation);
            if (this.joyStick)
                this.joyStick.touchMove(this.__touch);
        }
        this.__lastTouch = this.__touch;
    };
    InputSystem.prototype.triggerTouchBegan = function (e) {
        if (this.__curTouchId != -1 && e.getID() != this.__curTouchId) {
            return;
        }
        if (this._target.onTouchBegan)
            this._target.onTouchBegan(e);
        this.__curTouchId = e.getID();
        this.__startLocation = e.currentTouch.getLocation();
        this.__touch = e.currentTouch.getLocation();
        this.__lastTouch = this.__touch;
        if (this.joyStick)
            this.joyStick.touchStart(this.__startLocation);
    };
    InputSystem.prototype.triggerTouchCanceled = function (e) {
        this.triggerTouchEnded(e);
    };
    InputSystem.prototype.onEnable = function () {
        this.schedule(this.checkTouch, 0.02);
    };
    InputSystem.prototype.onDisable = function () {
        this.unschedule(this.checkTouch);
    };
    InputSystem.prototype.checkTouch = function () {
        if (this.__touch) {
            this.moveOffset = this.__touch.sub(this.__lastTouch);
        }
    };
    __decorate([
        property(JoyStick_1.default)
    ], InputSystem.prototype, "joyStick", void 0);
    InputSystem = __decorate([
        ccclass
    ], InputSystem);
    return InputSystem;
}(cc.Component));
exports.InputSystem = InputSystem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxJbnB1dFN5c3RlbS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHVDQUFrQztBQUU1QixJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUvQixRQUFBLEtBQUssR0FBZSxJQUFJLENBQUM7QUFHcEM7SUFBaUMsK0JBQVk7SUFBN0M7UUFHSSx1Q0FBdUM7UUFDdkMsdUNBQXVDO1FBSjNDLHFFQWlMQztRQTNLRyxhQUFPLEdBQU8sSUFBSSxDQUFDO1FBSW5CLFVBQUksR0FBNEIsRUFBRSxDQUFBO1FBTWxDLGdCQUFVLEdBQVcsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUM7UUFFbEMsaUJBQVcsR0FBVSxHQUFHLENBQUM7UUFHekIsY0FBUSxHQUFZLElBQUksQ0FBQztRQWdHekIsaUJBQVcsR0FBVyxFQUFFLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQztRQUNuQyxnQkFBVSxHQUFXLEVBQUUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDO1FBcUJsQyxrQkFBWSxHQUFVLENBQUMsQ0FBQyxDQUFDOztJQXNDN0IsQ0FBQztJQTFKRzs7O09BR0c7SUFDSCxpQ0FBVyxHQUFYLFVBQVksTUFBTTtRQUVkLElBQUksQ0FBQyxPQUFPLEdBQUcsTUFBTSxDQUFDO0lBQzFCLENBQUM7SUFJRCw0QkFBTSxHQUFOO1FBRUksYUFBSyxHQUFHLElBQUksQ0FBQztRQUViLElBQUksVUFBVSxHQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDO1FBQ2xELEtBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxVQUFVLENBQUMsTUFBTSxFQUFDLENBQUMsRUFBRSxFQUN4QztZQUNJLElBQUksSUFBSSxHQUFPLFVBQVUsQ0FBQyxDQUFDLENB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UUFFSSxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBRUQsZ0NBQVUsR0FBVjtRQUVJLElBQUcsSUFBSSxDQUFDLE9BQU8sRUFDZjtZQUNJLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1NBQ3hEO0lBQ0wsQ0FBQztJQTNKRDtRQURDLFFBQVEsQ0FBQyxrQkFBUSxDQUFDO2lEQUNNO0lBckJoQixXQUFXO1FBRHZCLE9BQU87T0FDSyxXQUFXLENBaUx2QjtJQUFELGtCQUFDO0NBakxELEFBaUxDLENBakxnQyxFQUFFLENBQUMsU0FBUyxHQWlMNUM7QUFqTFksa0NBQVciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgSm95U3RpY2sgZnJvbSBcIi4vSm95U3RpY2tcIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbmV4cG9ydCB2YXIgSW5wdXQ6SW5wdXRTeXN0ZW0gPSBudWxsO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGNsYXNzIElucHV0U3lzdGVtIGV4dGVuZHMgY2MuQ29tcG9uZW50XG57XG5cbiAgICAvLyBAcHJvcGVydHkoY2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlcilcbiAgICAvLyBvbktleURvd246Y2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlcjtcblxuICAgIF90YXJnZXQ6YW55ID0gbnVsbDtcblxuXG5cbiAgICBrZXlzOntbaW5kZXg6c3RyaW5nXTpib29sZWFufSA9IHt9XG5cbiAgICBfX3RvdWNoOmNjLlZlYzI7XG5cbiAgICBfX3N0YXJ0TG9jYXRpb24gOmNjLlZlYzI7XG5cbiAgICBfX3RvdWNoVmVjOmNjLlZlYzIgPSBjYy5WZWMyLlpFUk87XG5cbiAgICByYWRpdXNfYXhpczpudW1iZXIgPSAyNTY7XG5cbiAgICBAcHJvcGVydHkoSm95U3RpY2spXG4gICAgam95U3RpY2sgOkpveVN0aWNrPSBudWxsO1xuXG4gICAgLyoqXG4gICAgICogaWYgdGFyZ2V0IGlzIGEgQ29tcG9uZW50ICx0aGlzIGZ1bmN0aW9uIG11c3QgYmUgY2FsbGVkIGluIG9uTG9hZFxuICAgICAqIEBwYXJhbSB0YXJnZXQgXG4gICAgICovXG4gICAgc2V0RGVsZWdhdGUodGFyZ2V0KVxuICAgIHtcbiAgICAgICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0O1xuICAgIH1cblxuXG5cbiAgICBvbkxvYWQoKVxuICAgIHtcbiAgICAgICAgSW5wdXQgPSB0aGlzO1xuXG4gICAgICAgIGxldCBjb21wb25lbnRzID0gdGhpcy5nZXRDb21wb25lbnRzKGNjLkNvbXBvbmVudCk7XG4gICAgICAgIGZvcih2YXIgaSA9IDA7IGkgPCBjb21wb25lbnRzLmxlbmd0aDtpKyspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBjb21wOmFueSA9IGNvbXBvbmVudHNbaV1cbiAgICAgICAgICAgIGlmKGNvbXAgIT0gdGhpcyAmJiAoY29tcC5vblRvdWNoQmVnYW4gfHwgY29tcC5vblRvdWNoRW5kZWR8fGNvbXAub25Ub3VjaE1vdmVkKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICB0aGlzLl90YXJnZXQgPSBjb21wO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGNvbnNvbGUubG9nKFwiSW5wdXRTeXN0ZW0gQ29tcG9uZW50IC0+IHRhcmdldDpcIix0aGlzLl90YXJnZXQpXG4gICAgfVxuXG4gICAgLy9Ib3Jpem9udGFsXG4gICAgLy9WZXJ0aWNhbFxuICAgIHN0YXJ0KClcbiAgICB7XG4gICAgICAgIGNjLnN5c3RlbUV2ZW50Lm9uKGNjLlN5c3RlbUV2ZW50LkV2ZW50VHlwZS5LRVlfRE9XTix0aGlzLnRyaWdnZXJLZXlEb3duLHRoaXMpO1xuICAgICAgICBjYy5zeXN0ZW1FdmVudC5vbihjYy5TeXN0ZW1FdmVudC5FdmVudFR5cGUuS0VZX1VQLHRoaXMudHJpZ2dlcktleVVwLHRoaXMpO1xuICAgICAgICAvLyBpZih0aGlzLl90YXJnZXQpXG4gICAgICAgIC8vIHtcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX1NUQVJULHRoaXMudHJpZ2dlclRvdWNoQmVnYW4sIHRoaXMpO1xuICAgICAgICB0aGlzLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfTU9WRSx0aGlzLnRyaWdnZXJUb3VjaE1vdmVkLCB0aGlzKTtcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCx0aGlzLnRyaWdnZXJUb3VjaEVuZGVkLCB0aGlzKTtcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0NBTkNFTCx0aGlzLnRyaWdnZXJUb3VjaENhbmNlbGVkLCB0aGlzKTtcbiAgICAgICAgXG4gICAgICAgIC8vIH1cbiAgICB9XG5cblxuICAgIGdldCB0b3VjaCgpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5fX3RvdWNoO1xuICAgIH1cblxuICAgIC8vIG9ubHkgdmFsaWQgd2hlbiBqb3lzdGljayBpcyBlbmFibGVkIFxuICAgIGdldCBheGlzKClcbiAgICB7XG4gICAgICAgIGlmKHRoaXMuam95U3RpY2spXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5qb3lTdGljay5heGlzO1xuICAgICAgICBlbHNlXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5fX3RvdWNoVmVjO1xuICAgIH1cblxuICAgIGdldEtleShrKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMua2V5c1trXSBcbiAgICB9XG5cbiAgICBwcml2YXRlIHRyaWdnZXJLZXlVcChlKSB7XG4gICAgICAgIGlmKHRoaXMuX3RhcmdldC5vbktleVVwKVxuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0Lm9uS2V5VXAoZXZlbnQpXG4gICAgICAgIHRoaXMua2V5c1tldmVudFtcImtleVwiXV0gPSBmYWxzZTtcbiAgICB9XG5cbiAgICBwcml2YXRlIHRyaWdnZXJLZXlEb3duKGUpOiBhbnkge1xuICAgICAgICBpZih0aGlzLl90YXJnZXQub25LZXlEb3duKVxuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0Lm9uS2V5RG93bihldmVudClcbiAgICAgICAgdGhpcy5rZXlzW2V2ZW50W1wia2V5XCJdXSA9IHRydWU7XG4gICAgfVxuICAgIFxuICAgIHByaXZhdGUgdHJpZ2dlclRvdWNoRW5kZWQoZSk6IGFueSB7XG4gICAgICAgIGlmKHRoaXMuX19jdXJUb3VjaElkICE9LTEgJiYgZS5nZXRJRCgpICE9IHRoaXMuX19jdXJUb3VjaElkKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5fX2N1clRvdWNoSWQgPSAtMVxuICAgICAgICBpZih0aGlzLl90YXJnZXQub25Ub3VjaEVuZGVkKVxuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0Lm9uVG91Y2hFbmRlZChlKVxuICAgICAgICBcbiAgICAgICAgdGhpcy5fX3RvdWNoID0gbnVsbCBcbiAgICAgICAgdGhpcy5fX3RvdWNoVmVjID0gY2MuVmVjMi5aRVJPO1xuICAgICAgICBpZihlLmN1cnJlbnRUb3VjaClcbiAgICAgICAgICAgIGlmKHRoaXMuam95U3RpY2spXG4gICAgICAgICAgICAgICAgdGhpcy5qb3lTdGljay50b3VjaEVuZChlLmN1cnJlbnRUb3VjaC5nZXRMb2NhdGlvbigpKVxuICAgICAgICBcbiAgICAgICAgdGhpcy5tb3ZlT2Zmc2V0ID0gY2MuVmVjMi5aRVJPO1xuICAgIH1cblxuICAgIF9fbGFzdFRvdWNoOmNjLlZlYzIgPSBjYy5WZWMyLlpFUk87XG4gICAgbW92ZU9mZnNldDpjYy5WZWMyID0gY2MuVmVjMi5aRVJPO1xuXG4gICAgcHJpdmF0ZSB0cmlnZ2VyVG91Y2hNb3ZlZChlKTogYW55IHtcbiAgICAgICAgaWYodGhpcy5fX2N1clRvdWNoSWQgIT0tMSAmJiBlLmdldElEKCkgIT0gdGhpcy5fX2N1clRvdWNoSWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLl90YXJnZXQub25Ub3VjaE1vdmVkKVxuICAgICAgICAgICAgdGhpcy5fdGFyZ2V0Lm9uVG91Y2hNb3ZlZChlKVxuXG4gICAgICAgIHRoaXMuX190b3VjaCA9IGUuY3VycmVudFRvdWNoLmdldExvY2F0aW9uKCk7XG4gICAgICAgIHRoaXMubW92ZU9mZnNldCA9IHRoaXMuX190b3VjaC5zdWIodGhpcy5fX2xhc3RUb3VjaClcbiAgICAgICAgaWYodGhpcy5fX3RvdWNoICYmIHRoaXMuX19zdGFydExvY2F0aW9uKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9fdG91Y2hWZWMgPSB0aGlzLl9fdG91Y2guc3ViKHRoaXMuX19zdGFydExvY2F0aW9uKTtcbiAgICAgICAgICAgIGlmKHRoaXMuam95U3RpY2spXG4gICAgICAgICAgICAgICAgdGhpcy5qb3lTdGljay50b3VjaE1vdmUodGhpcy5fX3RvdWNoKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuX19sYXN0VG91Y2ggPSB0aGlzLl9fdG91Y2g7XG4gICAgfVxuXG4gICAgX19jdXJUb3VjaElkOm51bWJlciA9IC0xO1xuXG4gICAgcHJpdmF0ZSB0cmlnZ2VyVG91Y2hCZWdhbihlKTogYW55IHtcbiAgICAgICAgaWYodGhpcy5fX2N1clRvdWNoSWQgIT0tMSAmJiBlLmdldElEKCkgIT0gdGhpcy5fX2N1clRvdWNoSWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgaWYodGhpcy5fdGFyZ2V0Lm9uVG91Y2hCZWdhbilcbiAgICAgICAgICAgIHRoaXMuX3RhcmdldC5vblRvdWNoQmVnYW4oZSlcbiAgICAgICAgdGhpcy5fX2N1clRvdWNoSWQgPSBlLmdldElEKCk7XG4gICAgICAgIHRoaXMuX19zdGFydExvY2F0aW9uID0gZS5jdXJyZW50VG91Y2guZ2V0TG9jYXRpb24oKVxuICAgICAgICB0aGlzLl9fdG91Y2ggPSBlLmN1cnJlbnRUb3VjaC5nZXRMb2NhdGlvbigpO1xuICAgICAgICB0aGlzLl9fbGFzdFRvdWNoID0gdGhpcy5fX3RvdWNoO1xuICAgICAgICBpZih0aGlzLmpveVN0aWNrKVxuICAgICAgICAgICAgdGhpcy5qb3lTdGljay50b3VjaFN0YXJ0KHRoaXMuX19zdGFydExvY2F0aW9uKVxuICAgIH1cbiAgICBwcml2YXRlIHRyaWdnZXJUb3VjaENhbmNlbGVkKGUpOiBhbnkge1xuICAgICAgICB0aGlzLnRyaWdnZXJUb3VjaEVuZGVkKGUpO1xuICAgIH1cblxuICAgIG9uRW5hYmxlKClcbiAgICB7XG4gICAgICAgIHRoaXMuc2NoZWR1bGUodGhpcy5jaGVja1RvdWNoLDAuMDIpO1xuICAgIH1cblxuICAgIG9uRGlzYWJsZSgpXG4gICAge1xuICAgICAgICB0aGlzLnVuc2NoZWR1bGUodGhpcy5jaGVja1RvdWNoKTtcbiAgICB9XG5cbiAgICBjaGVja1RvdWNoKClcbiAgICB7XG4gICAgICAgIGlmKHRoaXMuX190b3VjaClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5tb3ZlT2Zmc2V0ID0gdGhpcy5fX3RvdWNoLnN1Yih0aGlzLl9fbGFzdFRvdWNoKTtcbiAgICAgICAgfVxuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/gamesys/Device.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b88b4v3H5tF7ozLVLmzIPqR', 'Device');
// framework/plugin_boosts/gamesys/Device.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Device = /** @class */ (function () {
    function Device() {
    }
    Device.setSoundsEnable = function (b) {
        Device.setSFXEnable(b);
        Device.setBGMEnable(b);
    };
    Device.setSFXEnable = function (b) {
        cc.audioEngine.setEffectsVolume(b == true ? 1 : 0);
        Device.isSfxEnabled = b;
        if (!b) {
            cc.audioEngine.pauseAllEffects();
        }
        else {
            cc.audioEngine.resumeAllEffects();
        }
    };
    Device.useCCAudioEngine = function () {
        this._useCCAudioEngine = true;
    };
    Device.useDefaultAudioEngine = function () {
        this._useCCAudioEngine = false;
    };
    Device.setBGMEnable = function (b) {
        cc.audioEngine.setMusicVolume(b == true ? 1 : 0);
        Device.isBgmEnabled = b;
        if (!b) {
            cc.audioEngine.pauseMusic();
        }
        else {
            cc.audioEngine.resumeMusic();
        }
    };
    Device.playEffect = function (clip, loop) {
        if (loop === void 0) { loop = false; }
        if (Device.isSfxEnabled) {
            if (cc.sys.platform == cc.sys.QQ_PLAY) {
                if (this._useCCAudioEngine) {
                    return cc.audioEngine.playEffect(clip, loop);
                }
                else {
                }
            }
            else
                return cc.audioEngine.playEffect(clip, loop);
        }
    };
    Device.stopMusic = function () {
        cc.audioEngine.stopMusic();
    };
    Device.playMusic = function (clip, loop) {
        if (loop === void 0) { loop = true; }
        if (Device.isBgmEnabled) {
            return cc.audioEngine.playMusic(clip, loop);
        }
    };
    Device.vibrate = function () {
        if (cc.sys.WECHAT_GAME == cc.sys.platform) {
            wx.vibrateShort();
        }
        else {
            console.log("not support vibrate on except-wx platfrom ");
        }
    };
    Device.isSfxEnabled = true;
    Device.isBgmEnabled = true;
    Device._useCCAudioEngine = false;
    return Device;
}());
exports.default = Device;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxnYW1lc3lzXFxEZXZpY2UudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUVBO0lBQUE7SUEwRkEsQ0FBQztJQW5GVSxzQkFBZSxHQUF0QixVQUF1QixDQUFTO1FBRTVCLE1BQU0sQ0FBQyxZQUFZLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDdEIsTUFBTSxDQUFDLFlBQVksQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUMzQixDQUFDO0lBRU0sbUJBQVksR0FBbkIsVUFBb0IsQ0FBQztRQUVqQixFQUFFLENBQUMsV0FBVyxDQUFDLGdCQUFnQixDQUFDLENBQUMsSUFBSSxJQUFJLENBQUEsQ0FBQyxDQUFBLENBQUMsQ0FBQSxDQUFDLENBQUEsQ0FBQyxDQUFDLENBQUM7UUFDL0MsTUFBTSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUM7UUFDeEIsSUFBRyxDQUFDLENBQUMsRUFDTDtZQUNJLEVBQUUsQ0FBQyxXQUFXLENBQUMsZUFBZSxFQUFFLENBQUE7U0FDbkM7YUFBSTtZQUNELEVBQUUsQ0FBQyxXQUFXLENBQUMsZ0JBQWdCLEVBQUUsQ0FBQztTQUNyQztJQUNMLENBQUM7SUFJTSx1QkFBZ0IsR0FBdkI7UUFFSSxJQUFJLENBQUMsaUJBQWlCLEdBQUcsSUFBSSxDQUFDO0lBQ2xDLENBQUM7SUFFTSw0QkFBcUIsR0FBNUI7UUFFSSxJQUFJLENBQUMsaUJBQWlCLEdBQUcsS0FBSyxDQUFDO0lBQ25DLENBQUM7SUFFTSxtQkFBWSxHQUFuQixVQUFvQixDQUFDO1FBRWpCLEVBQUUsQ0FBQyxXQUFXLENBQUMsY0FBYyxDQUFDLENBQUMsSUFBSSxJQUFJLENBQUEsQ0FBQyxDQUFBLENBQUMsQ0FBQSxDQUFDLENBQUEsQ0FBQyxDQUFDLENBQUM7UUFDN0MsTUFBTSxDQUFDLFlBQVksR0FBRyxDQUFDLENBQUM7UUFDeEIsSUFBRyxDQUFDLENBQUMsRUFDTDtZQUNJLEVBQUUsQ0FBQyxXQUFXLENBQUMsVUFBVSxFQUFFLENBQUE7U0FDOUI7YUFBSTtZQUNELEVBQUUsQ0FBQyxXQUFXLENBQUMsV0FBVyxFQUFFLENBQUE7U0FDL0I7SUFDTCxDQUFDO0lBR00saUJBQVUsR0FBakIsVUFBa0IsSUFBSSxFQUFDLElBQVk7UUFBWixxQkFBQSxFQUFBLFlBQVk7UUFFL0IsSUFBRyxNQUFNLENBQUMsWUFBWSxFQUN0QjtZQUNJLElBQUcsRUFBRSxDQUFDLEdBQUcsQ0FBQyxRQUFRLElBQUksRUFBRSxDQUFDLEdBQUcsQ0FBQyxPQUFPLEVBQ3BDO2dCQUNJLElBQUcsSUFBSSxDQUFDLGlCQUFpQixFQUN6QjtvQkFDSSxPQUFPLEVBQUUsQ0FBQyxXQUFXLENBQUMsVUFBVSxDQUFDLElBQUksRUFBQyxJQUFJLENBQUMsQ0FBQTtpQkFDOUM7cUJBQUk7aUJBR0o7YUFDSjs7Z0JBQ0csT0FBTyxFQUFFLENBQUMsV0FBVyxDQUFDLFVBQVUsQ0FBQyxJQUFJLEVBQUMsSUFBSSxDQUFDLENBQUE7U0FDbEQ7SUFDTCxDQUFDO0lBRU0sZ0JBQVMsR0FBaEI7UUFFSSxFQUFFLENBQUMsV0FBVyxDQUFDLFNBQVMsRUFBRSxDQUFDO0lBQy9CLENBQUM7SUFFTSxnQkFBUyxHQUFoQixVQUFpQixJQUFJLEVBQUMsSUFBVztRQUFYLHFCQUFBLEVBQUEsV0FBVztRQUU3QixJQUFHLE1BQU0sQ0FBQyxZQUFZLEVBQ3RCO1lBQ0ksT0FBTyxFQUFFLENBQUMsV0FBVyxDQUFDLFNBQVMsQ0FBQyxJQUFJLEVBQUMsSUFBSSxDQUFDLENBQUM7U0FDOUM7SUFDTCxDQUFDO0lBRU0sY0FBTyxHQUFkO1FBRUksSUFBRyxFQUFFLENBQUMsR0FBRyxDQUFDLFdBQVcsSUFBSSxFQUFFLENBQUMsR0FBRyxDQUFDLFFBQVEsRUFDeEM7WUFDSSxFQUFFLENBQUMsWUFBWSxFQUFFLENBQUE7U0FDcEI7YUFBSTtZQUNELE9BQU8sQ0FBQyxHQUFHLENBQUMsNENBQTRDLENBQUMsQ0FBQTtTQUM1RDtJQUNMLENBQUM7SUF0Rk0sbUJBQVksR0FBRyxJQUFJLENBQUM7SUFFcEIsbUJBQVksR0FBRyxJQUFJLENBQUM7SUFvQnBCLHdCQUFpQixHQUFHLEtBQUssQ0FBQztJQWlFckMsYUFBQztDQTFGRCxBQTBGQyxJQUFBO2tCQTFGb0IsTUFBTSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEZXZpY2UgXG57XG5cbiAgICBzdGF0aWMgaXNTZnhFbmFibGVkID0gdHJ1ZTtcblxuICAgIHN0YXRpYyBpc0JnbUVuYWJsZWQgPSB0cnVlO1xuXG4gICAgc3RhdGljIHNldFNvdW5kc0VuYWJsZShiOmJvb2xlYW4pXG4gICAge1xuICAgICAgICBEZXZpY2Uuc2V0U0ZYRW5hYmxlKGIpXG4gICAgICAgIERldmljZS5zZXRCR01FbmFibGUoYik7XG4gICAgfVxuXG4gICAgc3RhdGljIHNldFNGWEVuYWJsZShiKVxuICAgIHtcbiAgICAgICAgY2MuYXVkaW9FbmdpbmUuc2V0RWZmZWN0c1ZvbHVtZShiID09IHRydWU/MTowKTtcbiAgICAgICAgRGV2aWNlLmlzU2Z4RW5hYmxlZCA9IGI7XG4gICAgICAgIGlmKCFiKVxuICAgICAgICB7XG4gICAgICAgICAgICBjYy5hdWRpb0VuZ2luZS5wYXVzZUFsbEVmZmVjdHMoKVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGNjLmF1ZGlvRW5naW5lLnJlc3VtZUFsbEVmZmVjdHMoKTtcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXRpYyBfdXNlQ0NBdWRpb0VuZ2luZSA9IGZhbHNlO1xuXG4gICAgc3RhdGljIHVzZUNDQXVkaW9FbmdpbmUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5fdXNlQ0NBdWRpb0VuZ2luZSA9IHRydWU7XG4gICAgfVxuXG4gICAgc3RhdGljIHVzZURlZmF1bHRBdWRpb0VuZ2luZSgpXG4gICAge1xuICAgICAgICB0aGlzLl91c2VDQ0F1ZGlvRW5naW5lID0gZmFsc2U7XG4gICAgfVxuXG4gICAgc3RhdGljIHNldEJHTUVuYWJsZShiKVxuICAgIHtcbiAgICAgICAgY2MuYXVkaW9FbmdpbmUuc2V0TXVzaWNWb2x1bWUoYiA9PSB0cnVlPzE6MCk7XG4gICAgICAgIERldmljZS5pc0JnbUVuYWJsZWQgPSBiO1xuICAgICAgICBpZighYilcbiAgICAgICAge1xuICAgICAgICAgICAgY2MuYXVkaW9FbmdpbmUucGF1c2VNdXNpYygpXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgY2MuYXVkaW9FbmdpbmUucmVzdW1lTXVzaWMoKVxuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBzdGF0aWMgcGxheUVmZmVjdChjbGlwLGxvb3AgPSBmYWxzZSlcbiAgICB7XG4gICAgICAgIGlmKERldmljZS5pc1NmeEVuYWJsZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuUVFfUExBWSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZih0aGlzLl91c2VDQ0F1ZGlvRW5naW5lKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGNjLmF1ZGlvRW5naW5lLnBsYXlFZmZlY3QoY2xpcCxsb29wKVxuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1lbHNlXG4gICAgICAgICAgICAgICAgcmV0dXJuIGNjLmF1ZGlvRW5naW5lLnBsYXlFZmZlY3QoY2xpcCxsb29wKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHN0b3BNdXNpYygpXG4gICAge1xuICAgICAgICBjYy5hdWRpb0VuZ2luZS5zdG9wTXVzaWMoKTtcbiAgICB9XG5cbiAgICBzdGF0aWMgcGxheU11c2ljKGNsaXAsbG9vcCA9IHRydWUpXG4gICAge1xuICAgICAgICBpZihEZXZpY2UuaXNCZ21FbmFibGVkKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gY2MuYXVkaW9FbmdpbmUucGxheU11c2ljKGNsaXAsbG9vcCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGF0aWMgdmlicmF0ZSgpXG4gICAge1xuICAgICAgICBpZihjYy5zeXMuV0VDSEFUX0dBTUUgPT0gY2Muc3lzLnBsYXRmb3JtKVxuICAgICAgICB7XG4gICAgICAgICAgICB3eC52aWJyYXRlU2hvcnQoKVxuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwibm90IHN1cHBvcnQgdmlicmF0ZSBvbiBleGNlcHQtd3ggcGxhdGZyb20gXCIpXG4gICAgICAgIH1cbiAgICB9XG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/Signal.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'bf602DYuhZP7Z8VfN9eJFzO', 'Signal');
// framework/plugin_boosts/misc/Signal.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Signal = /** @class */ (function () {
    function Signal(c, t) {
        this.add(c, t);
    }
    Signal.prototype.add = function (callback, target) {
        this.callback = callback;
        this.target = target;
    };
    Signal.prototype.fire = function () {
        var _a;
        var ps = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            ps[_i] = arguments[_i];
        }
        if (this.callback) {
            (_a = this.callback).call.apply(_a, __spreadArrays([this.target], ps));
        }
    };
    Signal.prototype.on = function (callback, target) {
        this.callback = callback;
        this.target = target;
    };
    Signal.prototype.clear = function () {
        this.callback = null;
    };
    return Signal;
}());
exports.default = Signal;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxTaWduYWwudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0lBSUksZ0JBQVksQ0FBRSxFQUFDLENBQUU7UUFFYixJQUFJLENBQUMsR0FBRyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQTtJQUNqQixDQUFDO0lBRUQsb0JBQUcsR0FBSCxVQUFJLFFBQWlCLEVBQUcsTUFBTztRQUUzQixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztJQUN6QixDQUFDO0lBRUQscUJBQUksR0FBSjs7UUFBSyxZQUFLO2FBQUwsVUFBSyxFQUFMLHFCQUFLLEVBQUwsSUFBSztZQUFMLHVCQUFLOztRQUVOLElBQUksSUFBSSxDQUFDLFFBQVEsRUFDakI7WUFDSSxDQUFBLEtBQUEsSUFBSSxDQUFDLFFBQVEsQ0FBQSxDQUFDLElBQUksMkJBQUMsSUFBSSxDQUFDLE1BQU0sR0FBSSxFQUFFLEdBQUM7U0FDeEM7SUFDTCxDQUFDO0lBRUQsbUJBQUUsR0FBRixVQUFHLFFBQWlCLEVBQUMsTUFBTztRQUV4QixJQUFJLENBQUMsUUFBUSxHQUFHLFFBQVEsQ0FBQztRQUN6QixJQUFJLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQztJQUN6QixDQUFDO0lBRUQsc0JBQUssR0FBTDtRQUVJLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDO0lBQ3pCLENBQUM7SUFDTCxhQUFDO0FBQUQsQ0FqQ0EsQUFpQ0MsSUFBQSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIFNpZ25hbFxue1xuICAgIGNhbGxiYWNrOkZ1bmN0aW9uIDtcbiAgICB0YXJnZXQ6YW55O1xuICAgIGNvbnN0cnVjdG9yKGM/LHQ/KVxuICAgIHtcbiAgICAgICAgdGhpcy5hZGQoYyx0KVxuICAgIH1cblxuICAgIGFkZChjYWxsYmFjazpGdW5jdGlvbiAsIHRhcmdldD8pXG4gICAge1xuICAgICAgICB0aGlzLmNhbGxiYWNrID0gY2FsbGJhY2s7XG4gICAgICAgIHRoaXMudGFyZ2V0ID0gdGFyZ2V0O1xuICAgIH1cblxuICAgIGZpcmUoLi4ucHMpXG4gICAge1xuICAgICAgICBpZiAodGhpcy5jYWxsYmFjaylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5jYWxsYmFjay5jYWxsKHRoaXMudGFyZ2V0LC4uLnBzKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgb24oY2FsbGJhY2s6RnVuY3Rpb24sdGFyZ2V0PylcbiAgICB7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBjYWxsYmFjaztcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgY2xlYXIoKVxuICAgIHtcbiAgICAgICAgdGhpcy5jYWxsYmFjayA9IG51bGw7XG4gICAgfVxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/gamesys/PsSpawner.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '12e8aPL0IBPxYKO3t/sxN/O', 'PsSpawner');
// framework/plugin_boosts/gamesys/PsSpawner.ts

Object.defineProperty(exports, "__esModule", { value: true });
var PsFx_1 = require("./PsFx");
var PoolManager_1 = require("./PoolManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PsSpawner = /** @class */ (function (_super) {
    __extends(PsSpawner, _super);
    function PsSpawner() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    PsSpawner.prototype.onLoad = function () {
        this.poolmgr = new PoolManager_1.default();
    };
    PsSpawner.prototype.start = function () {
    };
    PsSpawner.prototype.clear = function () {
        if (this.poolmgr)
            this.poolmgr.clear();
    };
    PsSpawner.prototype.getFx = function (prefabPath) {
        var _this = this;
        return new Promise(function (resolve, reject) {
            var node = _this.poolmgr.get(prefabPath);
            if (node == null) {
                if (prefabPath instanceof cc.Prefab) {
                    node = cc.instantiate(prefabPath);
                    _this.poolmgr.tag(node, prefabPath);
                }
                else {
                    cc.loader.loadRes(prefabPath, cc.Prefab, function (e, prefab) {
                        node = cc.instantiate(prefab);
                        node.setParent(_this.node);
                        var psfx = node.getComponent(PsFx_1.default);
                        psfx.name = prefabPath;
                        resolve(psfx);
                    });
                    return;
                }
            }
            node.setParent(_this.node);
            node.active = false;
            var psfx = node.getComponent(PsFx_1.default);
            psfx.reset();
            resolve(psfx);
        });
    };
    PsSpawner.prototype.onFxFinshPlay = function (fx) {
        this.poolmgr.put(fx.node);
    };
    PsSpawner.prototype.play = function (prefabPath, pos, rotation, audio, spriteframe) {
        if (pos === void 0) { pos = cc.Vec2.ZERO; }
        if (rotation === void 0) { rotation = 0; }
        return __awaiter(this, void 0, void 0, function () {
            var fx;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.getFx(prefabPath)];
                    case 1:
                        fx = _a.sent();
                        fx.node.position = pos;
                        fx.node.rotation = rotation;
                        return [4 /*yield*/, fx.play(audio, spriteframe)];
                    case 2:
                        _a.sent();
                        this.onFxFinshPlay(fx);
                        return [2 /*return*/];
                }
            });
        });
    };
    PsSpawner.prototype.play2 = function (prefabPath, pos, rotation, scale) {
        if (pos === void 0) { pos = cc.Vec2.ZERO; }
        if (rotation === void 0) { rotation = 0; }
        if (scale === void 0) { scale = 0; }
        return __awaiter(this, void 0, void 0, function () {
            var fx;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.getFx(prefabPath)];
                    case 1:
                        fx = _a.sent();
                        fx.node.position = pos;
                        fx.node.scale = scale;
                        fx.node.rotation = rotation;
                        return [4 /*yield*/, fx.play()];
                    case 2:
                        _a.sent();
                        this.onFxFinshPlay(fx);
                        return [2 /*return*/];
                }
            });
        });
    };
    PsSpawner.prototype.play3 = function (prefabPath, pos) {
        return __awaiter(this, void 0, void 0, function () {
            var fx;
            var _this = this;
            return __generator(this, function (_a) {
                switch (_a.label) {
                    case 0: return [4 /*yield*/, this.getFx(prefabPath)];
                    case 1:
                        fx = _a.sent();
                        fx.node.position = pos;
                        fx.play().then(function (_) { return _this.onFxFinshPlay(fx); });
                        return [2 /*return*/, fx.node];
                }
            });
        });
    };
    PsSpawner = __decorate([
        ccclass
    ], PsSpawner);
    return PsSpawner;
}(cc.Component));
exports.default = PsSpawner;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxnYW1lc3lzXFxQc1NwYXduZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLCtCQUEwQjtBQUMxQiw2Q0FBd0M7QUFFbEMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBdUMsNkJBQVk7SUFBbkQ7O0lBbUZBLENBQUM7SUE5RUcsMEJBQU0sR0FBTjtRQUVJLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxxQkFBVyxFQUFFLENBQUM7SUFDckMsQ0FBQztJQUVELHlCQUFLLEdBQUw7SUFFQSxDQUFDO0lBRUQseUJBQUssR0FBTDtRQUVJLElBQUcsSUFBSSxDQUFDLE9BQU87WUFDWCxJQUFJLENBQUMsT0FBTyxDQUFDLEtBQUssRUFBRSxDQUFDO0lBQzdCLENBQUM7SUFFRCx5QkFBSyxHQUFMLFVBQU0sVUFBVTtRQUFoQixpQkEyQkM7UUF6QkcsT0FBTyxJQUFJLE9BQU8sQ0FBTyxVQUFDLE9BQU8sRUFBQyxNQUFNO1lBQ3BDLElBQUksSUFBSSxHQUFHLEtBQUksQ0FBQyxPQUFPLENBQUMsR0FBRyxDQUFDLFVBQVUsQ0FBQyxDQUFBO1lBQ3ZDLElBQUcsSUFBSSxJQUFJLElBQUksRUFDZjtnQkFDSSxJQUFHLFVBQVUsWUFBWSxFQUFFLENBQUMsTUFBTSxFQUNsQztvQkFDSSxJQUFJLEdBQUcsRUFBRSxDQUFDLFdBQVcsQ0FBQyxVQUFVLENBQUMsQ0FBQztvQkFDbEMsS0FBSSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxFQUFDLFVBQVUsQ0FBQyxDQUFBO2lCQUNwQztxQkFBSTtvQkFDRCxFQUFFLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxVQUFVLEVBQUMsRUFBRSxDQUFDLE1BQU0sRUFBQyxVQUFDLENBQUMsRUFBQyxNQUFnQjt3QkFDdEQsSUFBSSxHQUFHLEVB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QUNsQjtJQS9FZ0IsU0FBUztRQUQ3QixPQUFPO09BQ2EsU0FBUyxDQW1GN0I7SUFBRCxnQkFBQztDQW5GRCxBQW1GQyxDQW5Gc0MsRUFBRSxDQUFDLFNBQVMsR0FtRmxEO2tCQW5Gb0IsU0FBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBQc0Z4IGZyb20gXCIuL1BzRnhcIjtcbmltcG9ydCBQb29sTWFuYWdlciBmcm9tIFwiLi9Qb29sTWFuYWdlclwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBzU3Bhd25lciBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBzdGF0aWMgaW5zdGFuY2U6UHNTcGF3bmVyO1xuICAgIFxuICAgIHBvb2xtZ3I6UG9vbE1hbmFnZXI7XG4gICAgb25Mb2FkKClcbiAgICB7XG4gICAgICAgIHRoaXMucG9vbG1nciA9IG5ldyBQb29sTWFuYWdlcigpO1xuICAgIH1cblxuICAgIHN0YXJ0ICgpIHtcblxuICAgIH1cblxuICAgIGNsZWFyKClcbiAgICB7XG4gICAgICAgIGlmKHRoaXMucG9vbG1ncilcbiAgICAgICAgICAgIHRoaXMucG9vbG1nci5jbGVhcigpO1xuICAgIH1cblxuICAgIGdldEZ4KHByZWZhYlBhdGgpOlByb21pc2U8UHNGeD5cbiAgICB7XG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxQc0Z4PigocmVzb2x2ZSxyZWplY3QpPT57XG4gICAgICAgICAgICBsZXQgbm9kZSA9IHRoaXMucG9vbG1nci5nZXQocHJlZmFiUGF0aClcbiAgICAgICAgICAgIGlmKG5vZGUgPT0gbnVsbClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBpZihwcmVmYWJQYXRoIGluc3RhbmNlb2YgY2MuUHJlZmFiIClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG5vZGUgPSBjYy5pbnN0YW50aWF0ZShwcmVmYWJQYXRoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wb29sbWdyLnRhZyhub2RlLHByZWZhYlBhdGgpXG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKHByZWZhYlBhdGgsY2MuUHJlZmFiLChlLHByZWZhYjpjYy5QcmVmYWIpID0+e1xuICAgICAgICAgICAgICAgICAgICAgICAgbm9kZSA9IGNjLmluc3RhbnRpYXRlKHByZWZhYik7XG4gICAgICAgICAgICAgICAgICAgICAgICBub2RlLnNldFBhcmVudCh0aGlzLm5vZGUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHBzZnggPSBub2RlLmdldENvbXBvbmVudChQc0Z4KVxuICAgICAgICAgICAgICAgICAgICAgICAgcHNmeC5uYW1lID0gcHJlZmFiUGF0aDtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUocHNmeCk7XG4gICAgICAgICAgICAgICAgICAgIH0pIFxuICAgICAgICAgICAgICAgICAgICByZXR1cm47XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbm9kZS5zZXRQYXJlbnQodGhpcy5ub2RlKTtcbiAgICAgICAgICAgIG5vZGUuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICBsZXQgcHNmeCA9IG5vZGUuZ2V0Q29tcG9uZW50KFBzRngpXG4gICAgICAgICAgICBwc2Z4LnJlc2V0KCk7XG4gICAgICAgICAgICByZXNvbHZlKHBzZngpO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIG9uRnhGaW5zaFBsYXkoZng6UHNGeClcbiAgICB7XG4gICAgICAgIHRoaXMucG9vbG1nci5wdXQoZngubm9kZSk7XG4gICAgfVxuXG4gICAgYXN5bmMgcGxheShwcmVmYWJQYXRoLHBvcyA9IGNjLlZlYzIuWkVSTyxyb3RhdGlvbiA9IDAsYXVkaW8/LHNwcml0ZWZyYW1lPylcbiAgICB7XG4gICAgICAgIGxldCBmeCA9IGF3YWl0IHRoaXMuZ2V0RngocHJlZmFiUGF0aCk7XG4gICAgICAgIGZ4Lm5vZGUucG9zaXRpb24gPSBwb3M7XG4gICAgICAgIGZ4Lm5vZGUucm90YXRpb24gPSByb3RhdGlvbjtcbiAgICAgICAgYXdhaXQgZngucGxheShhdWRpbyxzcHJpdGVmcmFtZSlcbiAgICAgICAgdGhpcy5vbkZ4Rmluc2hQbGF5KGZ4KTtcbiAgICB9XG5cbiAgICBhc3luYyBwbGF5MihwcmVmYWJQYXRoLHBvcyA9IGNjLlZlYzIuWkVSTyxyb3RhdGlvbiA9IDAsc2NhbGU9MClcbiAgICB7XG4gICAgICAgIGxldCBmeCA9IGF3YWl0IHRoaXMuZ2V0RngocHJlZmFiUGF0aCk7XG4gICAgICAgIGZ4Lm5vZGUucG9zaXRpb24gPSBwb3M7XG4gICAgICAgIGZ4Lm5vZGUuc2NhbGUgPSBzY2FsZTtcbiAgICAgICAgZngubm9kZS5yb3RhdGlvbiA9IHJvdGF0aW9uO1xuICAgICAgICBhd2FpdCBmeC5wbGF5KClcbiAgICAgICAgdGhpcy5vbkZ4Rmluc2hQbGF5KGZ4KTtcbiAgICB9XG5cbiAgICBhc3luYyBwbGF5MyhwcmVmYWJQYXRoLHBvcylcbiAgICB7XG4gICAgICAgIGxldCBmeCA9IGF3YWl0IHRoaXMuZ2V0RngocHJlZmFiUGF0aCk7XG4gICAgICAgIGZ4Lm5vZGUucG9zaXRpb24gPSBwb3M7XG4gICAgICAgIGZ4LnBsYXkoKS50aGVuKF89PnRoaXMub25GeEZpbnNoUGxheShmeCkpO1xuICAgICAgICByZXR1cm4gZngubm9kZTtcbiAgICB9XG5cblxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/DCLabel.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a56c0Fh1bpDto6UwDov+u7M', 'DCLabel');
// framework/plugin_boosts/ui/DCLabel.ts

Object.defineProperty(exports, "__esModule", { value: true });
var DCUI_1 = require("./DCUI");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, requireComponent = _a.requireComponent;
var DCLabel = /** @class */ (function (_super) {
    __extends(DCLabel, _super);
    function DCLabel() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DCLabel.prototype.onLoad = function () {
        this.label = this.getComponent(cc.Label);
    };
    DCLabel.prototype.onValueChanged = function (v) {
        if (!v) {
            console.log("[DCLabel] warn!", "not found field " + this.dataBind);
            v = "0";
        }
        this.label.string = v;
    };
    DCLabel = __decorate([
        ccclass,
        requireComponent(cc.Label)
    ], DCLabel);
    return DCLabel;
}(DCUI_1.default));
exports.default = DCLabel;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcRENMYWJlbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsK0JBQTBCO0FBRXBCLElBQUEsS0FBdUMsRUFBRSxDQUFDLFVBQVUsRUFBbkQsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFBLEVBQUMsZ0JBQWdCLHNCQUFpQixDQUFDO0FBSzNEO0lBQXFDLDJCQUFJO0lBQXpDOztJQWtCQSxDQUFDO0lBZkcsd0JBQU0sR0FBTjtRQUVJLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDN0MsQ0FBQztJQUVELGdDQUFjLEdBQWQsVUFBZSxDQUFDO1FBRVosSUFBRyxDQUFDLENBQUMsRUFBQztZQUNGLE9BQU8sQ0FBQyxHQUFHLENBQUMsaUJBQWlCLEVBQUcsa0JBQWtCLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFBO1lBQ25FLENBQUMsR0FBRyxHQUFHLENBQUE7U0FDVjtRQUNELElBQUksQ0FBQyxLQUFLLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQztJQUMxQixDQUFDO0lBZmdCLE9BQU87UUFGM0IsT0FBTztRQUNQLGdCQUFnQixDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7T0FDTixPQUFPLENBa0IzQjtJQUFELGNBQUM7Q0FsQkQsQUFrQkMsQ0FsQm9DLGNBQUksR0FrQnhDO2tCQWxCb0IsT0FBTyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEQ1VJIGZyb20gXCIuL0RDVUlcIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5LHJlcXVpcmVDb21wb25lbnR9ID0gY2MuX2RlY29yYXRvcjtcblxuXG5AY2NjbGFzc1xuQHJlcXVpcmVDb21wb25lbnQoY2MuTGFiZWwpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEQ0xhYmVsIGV4dGVuZHMgRENVSSB7XG5cbiAgICBsYWJlbDpjYy5MYWJlbDtcbiAgICBvbkxvYWQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5sYWJlbCA9IHRoaXMuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKTtcbiAgICB9XG5cbiAgICBvblZhbHVlQ2hhbmdlZCh2KVxuICAgIHtcbiAgICAgICAgaWYoIXYpe1xuICAgICAgICAgICAgY29uc29sZS5sb2coXCJbRENMYWJlbF0gd2FybiFcIiAsIFwibm90IGZvdW5kIGZpZWxkIFwiICsgdGhpcy5kYXRhQmluZClcbiAgICAgICAgICAgIHYgPSBcIjBcIlxuICAgICAgICB9XG4gICAgICAgIHRoaXMubGFiZWwuc3RyaW5nID0gdjtcbiAgICB9XG4gICBcbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/LoadingManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '48049jD6zJMmoi+cPkRhX7D', 'LoadingManager');
// framework/plugin_boosts/ui/LoadingManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.Loading = void 0;
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
exports.Loading = null;
var LoadingManager = /** @class */ (function (_super) {
    __extends(LoadingManager, _super);
    function LoadingManager() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.prefab = null;
        _this.loadingNode = null;
        _this.loadingSprite = null;
        _this.loadingText = null;
        _this.blockEventComp = null;
        _this._callback = null;
        _this._target = null;
        return _this;
        // update (dt) {}
    }
    LoadingManager.prototype.onLoad = function () {
        this.loadingNode = cc.instantiate(this.prefab);
        this.blockEventComp = this.loadingNode.getComponent(cc.BlockInputEvents);
        this.loadingNode.parent = this.node;
        this.loadingNode.zIndex = 9999;
        this.loadingSprite = this.loadingNode.getComponentInChildren(cc.Sprite);
        this.loadingText = this.loadingNode.getComponentInChildren(cc.Label);
        this.hide();
        exports.Loading = this;
    };
    LoadingManager.prototype.start = function () {
        this.loadingSprite.node.runAction(cc.rotateBy(4, 360).repeatForever());
    };
    LoadingManager.prototype.dealyClose = function () {
        this.hide();
        if (this._callback) {
            this._callback.call(this._target);
        }
    };
    LoadingManager.prototype.show = function (timeout, text, modal, callback, target) {
        if (text === void 0) { text = null; }
        if (modal === void 0) { modal = true; }
        if (callback === void 0) { callback = null; }
        if (target === void 0) { target = null; }
        this.loadingNode.active = true;
        this.loadingNode.resumeAllActions();
        this.blockEventComp.enabled = modal;
        this._callback = callback;
        this._target = target;
        if (text)
            this.loadingText.string = text;
        if (timeout > 0) {
            this.unschedule(this.dealyClose);
            this.scheduleOnce(this.dealyClose, timeout);
        }
    };
    LoadingManager.prototype.hide = function () {
        this.loadingNode.active = false;
        this.loadingNode.pauseAllActions();
    };
    __decorate([
        property(cc.Prefab)
    ], LoadingManager.prototype, "prefab", void 0);
    LoadingManager = __decorate([
        ccclass
    ], LoadingManager);
    return LoadingManager;
}(cc.Component));
exports.default = LoadingManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcTG9hZGluZ01hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBTSxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUvQixRQUFBLE9BQU8sR0FBa0IsSUFBSSxDQUFDO0FBR3pDO0lBQTRDLGtDQUFZO0lBQXhEO1FBQUEscUVBNERDO1FBekRHLFlBQU0sR0FBYSxJQUFJLENBQUM7UUFFeEIsaUJBQVcsR0FBVyxJQUFJLENBQUM7UUFDM0IsbUJBQWEsR0FBYSxJQUFJLENBQUM7UUFDL0IsaUJBQVcsR0FBWSxJQUFJLENBQUM7UUFDNUIsb0JBQWMsR0FBdUIsSUFBSSxDQUFDO1FBRTFDLGVBQVMsR0FBTyxJQUFJLENBQUM7UUFDckIsYUFBTyxHQUFPLElBQUksQ0FBQzs7UUFnRG5CLGlCQUFpQjtJQUNyQixDQUFDO0lBaERHLCtCQUFNLEdBQU47UUFFSSxJQUFJLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQy9DLElBQUksQ0FBQyxjQUFjLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLGdCQUFnQixDQUFDLENBQUM7UUFDekUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztRQUNwQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDL0IsSUFBSSxDQUFDLGFBQWEsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLHNCQUFzQixDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztRQUN4RSxJQUFJLENBQUMsV0FBVyxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsc0JBQXNCLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQyxDQUFDO1FBQ3JFLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNaLGVBQU8sR0FBRyxJQUFJLENBQUM7SUFDbkIsQ0FBQztJQUVELDhCQUFLLEdBQUw7UUFDSSxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxDQUFDLEVBQUMsR0FBRyxDQUFDLENBQUMsYUFBYSxFQUFFLENBQUMsQ0FBQztJQUMxRSxDQUFDO0lBRUQsbUNBQVUsR0FBVjtRQUVJLElBQUksQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNaLElBQUcsSUFBSSxDQUFDLFNBQVMsRUFDakI7WUFDSSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUE7U0FDcEM7SUFDTCxDQUFDO0lBRUQsNkJBQUksR0FBSixVQUFLLE9BQU8sRUFBQyxJQUFTLEVBQUMsS0FBWSxFQUFDLFFBQWUsRUFBQyxNQUFhO1FBQXBELHFCQUFBLEVBQUEsV0FBUztRQUFDLHNCQUFBLEVBQUEsWUFBWTtRQUFDLHlCQUFBLEVBQUEsZUFBZTtRQUFDLHVCQUFBLEVBQUEsYUFBYTtRQUU3RCxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDL0IsSUFBSSxDQUFDLFdBQVcsQ0FBQyxnQkFBZ0IsRUFBRSxDQUFDO1FBQ3BDLElBQUksQ0FBQyxjQUFjLENBQUMsT0FBTyxHQUFHLEtBQUssQ0FBQTtRQUNuQyxJQUFJLENBQUMsU0FBUyxHQUFHLFFBQVEsQ0FBQTtRQUN6QixJQUFJLENBQUMsT0FBTyxHQUFHLE1BQU0sQ0FBQTtRQUNyQixJQUFHLElBQUk7WUFDSCxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDbkMsSUFBRyxPQUFPLEdBQUcsQ0FBQyxFQUNkO1lBQ0ksSUFBSSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUM7WUFDakMsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFDLE9BQU8sQ0FBQyxDQUFBO1NBQzdDO0lBQ0wsQ0FBQztJQUVELDZCQUFJLEdBQUo7UUFFSSxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7UUFDaEMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxlQUFlLEVBQUUsQ0FBQztJQUN2QyxDQUFDO0lBdEREO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7a0RBQ0k7SUFIUCxjQUFjO1FBRGxDLE9BQU87T0FDYSxjQUFjLENBNERsQztJQUFELHFCQUFDO0NBNURELEFBNERDLENBNUQyQyxFQUFFLENBQUMsU0FBUyxHQTREdkQ7a0JBNURvQixjQUFjIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbmV4cG9ydCB2YXIgTG9hZGluZzpMb2FkaW5nTWFuYWdlciA9IG51bGw7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMb2FkaW5nTWFuYWdlciBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxuICAgIHByZWZhYjpjYy5QcmVmYWIgPSBudWxsO1xuXG4gICAgbG9hZGluZ05vZGU6Y2MuTm9kZSA9IG51bGw7XG4gICAgbG9hZGluZ1Nwcml0ZTpjYy5TcHJpdGUgPSBudWxsO1xuICAgIGxvYWRpbmdUZXh0OmNjLkxhYmVsID0gbnVsbDtcbiAgICBibG9ja0V2ZW50Q29tcDpjYy5CbG9ja0lucHV0RXZlbnRzID0gbnVsbDtcblxuICAgIF9jYWxsYmFjazphbnkgPSBudWxsO1xuICAgIF90YXJnZXQ6YW55ID0gbnVsbDtcbiAgICBvbkxvYWQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5sb2FkaW5nTm9kZSA9IGNjLmluc3RhbnRpYXRlKHRoaXMucHJlZmFiKTtcbiAgICAgICAgdGhpcy5ibG9ja0V2ZW50Q29tcCA9IHRoaXMubG9hZGluZ05vZGUuZ2V0Q29tcG9uZW50KGNjLkJsb2NrSW5wdXRFdmVudHMpO1xuICAgICAgICB0aGlzLmxvYWRpbmdOb2RlLnBhcmVudCA9IHRoaXMubm9kZTtcbiAgICAgICAgdGhpcy5sb2FkaW5nTm9kZS56SW5kZXggPSA5OTk5O1xuICAgICAgICB0aGlzLmxvYWRpbmdTcHJpdGUgPSB0aGlzLmxvYWRpbmdOb2RlLmdldENvbXBvbmVudEluQ2hpbGRyZW4oY2MuU3ByaXRlKTtcbiAgICAgICAgdGhpcy5sb2FkaW5nVGV4dCA9IHRoaXMubG9hZGluZ05vZGUuZ2V0Q29tcG9uZW50SW5DaGlsZHJlbihjYy5MYWJlbCk7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICBMb2FkaW5nID0gdGhpcztcbiAgICB9XG5cbiAgICBzdGFydCAoKSB7XG4gICAgICAgIHRoaXMubG9hZGluZ1Nwcml0ZS5ub2RlLnJ1bkFjdGlvbihjYy5yb3RhdGVCeSg0LDM2MCkucmVwZWF0Rm9yZXZlcigpKTtcbiAgICB9XG5cbiAgICBkZWFseUNsb3NlKClcbiAgICB7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgICAgICBpZih0aGlzLl9jYWxsYmFjaylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fY2FsbGJhY2suY2FsbCh0aGlzLl90YXJnZXQpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzaG93KHRpbWVvdXQsdGV4dD1udWxsLG1vZGFsID0gdHJ1ZSxjYWxsYmFjayA9IG51bGwsdGFyZ2V0ID0gbnVsbClcbiAgICB7XG4gICAgICAgIHRoaXMubG9hZGluZ05vZGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgdGhpcy5sb2FkaW5nTm9kZS5yZXN1bWVBbGxBY3Rpb25zKCk7XG4gICAgICAgIHRoaXMuYmxvY2tFdmVudENvbXAuZW5hYmxlZCA9IG1vZGFsXG4gICAgICAgIHRoaXMuX2NhbGxiYWNrID0gY2FsbGJhY2sgXG4gICAgICAgIHRoaXMuX3RhcmdldCA9IHRhcmdldFxuICAgICAgICBpZih0ZXh0KVxuICAgICAgICAgICAgdGhpcy5sb2FkaW5nVGV4dC5zdHJpbmcgPSB0ZXh0O1xuICAgICAgICBpZih0aW1lb3V0ID4gMClcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy51bnNjaGVkdWxlKHRoaXMuZGVhbHlDbG9zZSk7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSh0aGlzLmRlYWx5Q2xvc2UsdGltZW91dClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGhpZGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5sb2FkaW5nTm9kZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgdGhpcy5sb2FkaW5nTm9kZS5wYXVzZUFsbEFjdGlvbnMoKTtcbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/ClickAudio.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5ee8a8X6jFF5qtYOWlGoNww', 'ClickAudio');
// framework/plugin_boosts/misc/ClickAudio.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Device_1 = require("../gamesys/Device");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ClickAudio = /** @class */ (function (_super) {
    __extends(ClickAudio, _super);
    function ClickAudio() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.audio = null;
        _this.elastic = false;
        _this._oldScale = 1;
        return _this;
        // update (dt) {}
    }
    ClickAudio.prototype.anim2 = function () {
        var act = cc.scaleBy(0.6, 0.9, 0.9).easing(cc.easeElasticOut(0.3));
        this.node.runAction(act);
    };
    ClickAudio.prototype.anim2back = function () {
        var act = cc.scaleTo(0.6, this._oldScale, this._oldScale).easing(cc.easeElasticOut(0.3));
        this.node.runAction(act);
    };
    ClickAudio.prototype.onLoad = function () {
        var _this = this;
        if (this.elastic) {
            var btn = this.getComponent(cc.Button);
            btn.transition = cc.Button.Transition.COLOR;
            btn.normalColor = cc.Color.WHITE;
            btn.pressedColor = new cc.Color(200, 200, 200);
            this._oldScale = this.node.scale;
        }
        this.node.on('touchstart', function (_) {
            //cc.EaseElasticOut:create(
            // this.node.stopAllActions();
            _this.elastic && _this.anim2();
        }, this.node);
        this.node.on("touchend", function (_) {
            Device_1.default.playEffect(_this.audio, false);
            _this.elastic && _this.anim2back();
        });
        this.node.on("touchcancel", function (_) {
            _this.elastic && _this.anim2back();
        });
    };
    __decorate([
        property({ type: cc.AudioClip })
    ], ClickAudio.prototype, "audio", void 0);
    __decorate([
        property
    ], ClickAudio.prototype, "elastic", void 0);
    ClickAudio = __decorate([
        ccclass
    ], ClickAudio);
    return ClickAudio;
}(cc.Component));
exports.default = ClickAudio;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxDbGlja0F1ZGlvLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw0Q0FBdUM7QUFFakMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBd0MsOEJBQVk7SUFBcEQ7UUFBQSxxRUFnREM7UUE3Q0csV0FBSyxHQUFpQixJQUFJLENBQUM7UUFHM0IsYUFBTyxHQUFXLEtBQUssQ0FBQztRQUV4QixlQUFTLEdBQVUsQ0FBQyxDQUFDOztRQXVDckIsaUJBQWlCO0lBQ3JCLENBQUM7SUF0Q0csMEJBQUssR0FBTDtRQUVJLElBQUksR0FBRyxHQUFHLEVBQUUsQ0FBQyxPQUFPLENBQUMsR0FBRyxFQUFFLEdBQUcsRUFBQyxHQUFHLENBQUMsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLGNBQWMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ2xFLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQzdCLENBQUM7SUFFRCw4QkFBUyxHQUFUO1FBRUksSUFBSSxHQUFHLEdBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUUsSUFBSSxDQUFDLFNBQVMsRUFBQyxJQUFJLENBQUMsU0FBUyxDQUFDLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxjQUFjLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUN4RixJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM3QixDQUFDO0lBRUQsMkJBQU0sR0FBTjtRQUFBLGlCQXVCQztRQXRCRyxJQUFHLElBQUksQ0FBQyxPQUFPLEVBQ2Y7WUFDSSxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQTtZQUN0QyxHQUFHLENBQUMsVUFBVSxHQUFHLEVBQUUsQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLEtBQUssQ0FBQztZQUM1QyxHQUFHLENBQUMsV0FBVyxHQUFHLEVBQUUsQ0FBQyxLQUFLLENBQUMsS0FBSyxDQUFDO1lBQ2pDLEdBQUcsQ0FBQyxZQUFZLEdBQUcsSUFBSSxFQUFFLENBQUMsS0FBSyxDQUFDLEdBQUcsRUFBQyxHQUFHLEVBQUMsR0FBRyxDQUFDLENBQUM7WUFDN0MsSUFBSSxDQUFDLFNBQVMsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQztTQUNwQztRQUVELElBQUksQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLFlBQVksRUFBRSxVQUFBLENBQUM7WUFDeEIsMkJBQTJCO1lBQzNCLDhCQUE4QjtZQUM5QixLQUFJLENBQUMsT0FBTyxJQUFJLEtBQUksQ0FBQyxLQUFLLEVBQUUsQ0FBQztRQUNqQyxDQUFDLEVBQUUsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO1FBRWQsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsVUFBVSxFQUFDLFVBQUEsQ0FBQztZQUNyQixnQkFBTSxDQUFDLFVBQVUsQ0FBQyxLQUFJLENBQUMsS0FBSyxFQUFDLEtBQUssQ0FBQyxDQUFBO1lBQ25DLEtBQUksQ0FBQyxPQUFPLElBQUksS0FBSSxDQUFDLFNBQVMsRUFBRSxDQUFDO1FBQ3JDLENBQUMsQ0FBQyxDQUFBO1FBQ0YsSUFBSSxDQUFDLElBQUksQ0FBQyxFQUFFLENBQUMsYUFBYSxFQUFDLFVBQUEsQ0FBQztZQUN4QixLQUFJLENBQUMsT0FBTyxJQUFJLEtBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNyQyxDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7SUExQ0Q7UUFEQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLFNBQVMsRUFBQyxDQUFDOzZDQUNKO0lBRzNCO1FBREMsUUFBUTsrQ0FDZTtJQU5QLFVBQVU7UUFEOUIsT0FBTztPQUNhLFVBQVUsQ0FnRDlCO0lBQUQsaUJBQUM7Q0FoREQsQUFnREMsQ0FoRHVDLEVBQUUsQ0FBQyxTQUFTLEdBZ0RuRDtrQkFoRG9CLFVBQVUiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGV2aWNlIGZyb20gXCIuLi9nYW1lc3lzL0RldmljZVwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENsaWNrQXVkaW8gZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgQHByb3BlcnR5KHt0eXBlOiBjYy5BdWRpb0NsaXB9KVxuICAgIGF1ZGlvIDpjYy5BdWRpb0NsaXAgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5XG4gICAgZWxhc3RpYzpib29sZWFuID0gZmFsc2U7XG5cbiAgICBfb2xkU2NhbGU6bnVtYmVyID0gMTtcblxuICAgIGFuaW0yKClcbiAgICB7XG4gICAgICAgIGxldCBhY3QgPSBjYy5zY2FsZUJ5KDAuNiwgMC45LDAuOSkuZWFzaW5nKGNjLmVhc2VFbGFzdGljT3V0KDAuMykpO1xuICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKGFjdCk7XG4gICAgfVxuICAgIFxuICAgIGFuaW0yYmFjaygpXG4gICAge1xuICAgICAgICBsZXQgYWN0ID0gY2Muc2NhbGVUbygwLjYsIHRoaXMuX29sZFNjYWxlLHRoaXMuX29sZFNjYWxlKS5lYXNpbmcoY2MuZWFzZUVsYXN0aWNPdXQoMC4zKSk7XG4gICAgICAgIHRoaXMubm9kZS5ydW5BY3Rpb24oYWN0KTtcbiAgICB9XG5cbiAgICBvbkxvYWQgKCkge1xuICAgICAgICBpZih0aGlzLmVsYXN0aWMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBidG4gPSB0aGlzLmdldENvbXBvbmVudChjYy5CdXR0b24pXG4gICAgICAgICAgICBidG4udHJhbnNpdGlvbiA9IGNjLkJ1dHRvbi5UcmFuc2l0aW9uLkNPTE9SO1xuICAgICAgICAgICAgYnRuLm5vcm1hbENvbG9yID0gY2MuQ29sb3IuV0hJVEU7XG4gICAgICAgICAgICBidG4ucHJlc3NlZENvbG9yID0gbmV3IGNjLkNvbG9yKDIwMCwyMDAsMjAwKTtcbiAgICAgICAgICAgIHRoaXMuX29sZFNjYWxlID0gdGhpcy5ub2RlLnNjYWxlO1xuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICB0aGlzLm5vZGUub24oJ3RvdWNoc3RhcnQnLCBfPT57XG4gICAgICAgICAgICAvL2NjLkVhc2VFbGFzdGljT3V0OmNyZWF0ZShcbiAgICAgICAgICAgIC8vIHRoaXMubm9kZS5zdG9wQWxsQWN0aW9ucygpO1xuICAgICAgICAgICAgdGhpcy5lbGFzdGljICYmIHRoaXMuYW5pbTIoKTtcbiAgICAgICAgfSwgdGhpcy5ub2RlKTtcblxuICAgICAgICB0aGlzLm5vZGUub24oXCJ0b3VjaGVuZFwiLF89PntcbiAgICAgICAgICAgIERldmljZS5wbGF5RWZmZWN0KHRoaXMuYXVkaW8sZmFsc2UpXG4gICAgICAgICAgICB0aGlzLmVsYXN0aWMgJiYgdGhpcy5hbmltMmJhY2soKTtcbiAgICAgICAgfSlcbiAgICAgICAgdGhpcy5ub2RlLm9uKFwidG91Y2hjYW5jZWxcIixfPT57XG4gICAgICAgICAgICB0aGlzLmVsYXN0aWMgJiYgdGhpcy5hbmltMmJhY2soKTtcbiAgICAgICAgfSlcbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/DCSprite.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '82b09vMdyFCOb0NEdBTtZHy', 'DCSprite');
// framework/plugin_boosts/ui/DCSprite.ts

Object.defineProperty(exports, "__esModule", { value: true });
var DCUI_1 = require("./DCUI");
var SpriteFrameCache_1 = require("../misc/SpriteFrameCache");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, requireComponent = _a.requireComponent;
var DCSprite = /** @class */ (function (_super) {
    __extends(DCSprite, _super);
    function DCSprite() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DCSprite.prototype.onLoad = function () {
        this.sprite = this.getComponent(cc.Sprite);
    };
    DCSprite.prototype.refreshSpriteFrame = function (v) {
        var _this = this;
        // this.sprite.spriteFrame = v;
        var spriteframe = SpriteFrameCache_1.default.instance.getSpriteFrame(v).then(function (sf) {
            _this.sprite.spriteFrame = sf;
        }).catch(function (_) { console.log("request imageUrl error :" + v); });
    };
    DCSprite.prototype.onValueChanged = function (v) {
        this.refreshSpriteFrame(v);
    };
    DCSprite = __decorate([
        ccclass,
        requireComponent(cc.Sprite)
    ], DCSprite);
    return DCSprite;
}(DCUI_1.default));
exports.default = DCSprite;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcRENTcHJpdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLCtCQUEwQjtBQUMxQiw2REFBd0Q7QUFFbEQsSUFBQSxLQUF1QyxFQUFFLENBQUMsVUFBVSxFQUFuRCxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQUEsRUFBQyxnQkFBZ0Isc0JBQWlCLENBQUM7QUFLM0Q7SUFBc0MsNEJBQUk7SUFBMUM7O0lBc0JBLENBQUM7SUFuQkcseUJBQU0sR0FBTjtRQUVJLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDL0MsQ0FBQztJQUVELHFDQUFrQixHQUFsQixVQUFtQixDQUFDO1FBQXBCLGlCQU1DO1FBSkcsK0JBQStCO1FBQy9CLElBQUksV0FBVyxHQUFHLDBCQUFnQixDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLFVBQUEsRUFBRTtZQUNqRSxLQUFJLENBQUMsTUFBTSxDQUFDLFdBQVcsR0FBRyxFQUFFLENBQUM7UUFDakMsQ0FBQyxDQUFDLENBQUMsS0FBSyxDQUFDLFVBQUEsQ0FBQyxJQUFHLE9BQU8sQ0FBQyxHQUFHLENBQUMsMEJBQTBCLEdBQUcsQ0FBQyxDQUFDLENBQUEsQ0FBQSxDQUFDLENBQUMsQ0FBQTtJQUM5RCxDQUFDO0lBRUQsaUNBQWMsR0FBZCxVQUFlLENBQUM7UUFFWixJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQyxDQUFDLENBQUM7SUFDL0IsQ0FBQztJQW5CZ0IsUUFBUTtRQUY1QixPQUFPO1FBQ1AsZ0JBQWdCLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztPQUNQLFFBQVEsQ0FzQjVCO0lBQUQsZUFBQztDQXRCRCxBQXNCQyxDQXRCcUMsY0FBSSxHQXNCekM7a0JBdEJvQixRQUFRIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERDVUkgZnJvbSBcIi4vRENVSVwiO1xuaW1wb3J0IFNwcml0ZUZyYW1lQ2FjaGUgZnJvbSBcIi4uL21pc2MvU3ByaXRlRnJhbWVDYWNoZVwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHkscmVxdWlyZUNvbXBvbmVudH0gPSBjYy5fZGVjb3JhdG9yO1xuXG5cbkBjY2NsYXNzXG5AcmVxdWlyZUNvbXBvbmVudChjYy5TcHJpdGUpXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEQ1Nwcml0ZSBleHRlbmRzIERDVUkge1xuXG4gICAgc3ByaXRlOmNjLlNwcml0ZTtcbiAgICBvbkxvYWQoKVxuICAgIHtcbiAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLmdldENvbXBvbmVudChjYy5TcHJpdGUpO1xuICAgIH1cblxuICAgIHJlZnJlc2hTcHJpdGVGcmFtZSh2KVxuICAgIHtcbiAgICAgICAgLy8gdGhpcy5zcHJpdGUuc3ByaXRlRnJhbWUgPSB2O1xuICAgICAgICBsZXQgc3ByaXRlZnJhbWUgPSBTcHJpdGVGcmFtZUNhY2hlLmluc3RhbmNlLmdldFNwcml0ZUZyYW1lKHYpLnRoZW4oc2Y9PntcbiAgICAgICAgICAgIHRoaXMuc3ByaXRlLnNwcml0ZUZyYW1lID0gc2Y7XG4gICAgICAgIH0pLmNhdGNoKF89Pntjb25zb2xlLmxvZyhcInJlcXVlc3QgaW1hZ2VVcmwgZXJyb3IgOlwiICsgdil9KVxuICAgIH1cblxuICAgIG9uVmFsdWVDaGFuZ2VkKHYpXG4gICAge1xuICAgICAgICB0aGlzLnJlZnJlc2hTcHJpdGVGcmFtZSh2KTtcbiAgICB9XG4gICBcbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/misc/SpriteFrameCache.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '8756by7qCVIPpJ06/9qmobv', 'SpriteFrameCache');
// framework/plugin_boosts/misc/SpriteFrameCache.ts

Object.defineProperty(exports, "__esModule", { value: true });
var SpriteFrameCache = /** @class */ (function () {
    function SpriteFrameCache() {
        this.frames = {};
    }
    Object.defineProperty(SpriteFrameCache, "instance", {
        get: function () {
            if (this._instance == null) {
                this._instance = new SpriteFrameCache();
            }
            return this._instance;
        },
        enumerable: false,
        configurable: true
    });
    SpriteFrameCache.prototype.getSpriteFrame = function (url) {
        return __awaiter(this, void 0, Promise, function () {
            var frame;
            var _this = this;
            return __generator(this, function (_a) {
                frame = this.frames[url];
                if (frame == null) {
                    return [2 /*return*/, new Promise(function (resolve, reject) {
                            // console.log("[SpriteFrameCache] request image:" + url)
                            if (!url || url == "") {
                                reject("empty-url");
                                return;
                            }
                            if (url.indexOf("http") == -1) {
                                cc.loader.loadRes(url, cc.SpriteFrame, function (error, frame) {
                                    if (error) {
                                        reject();
                                        return;
                                    }
                                    if (frame) {
                                        _this.addSpriteFrame(url, frame);
                                        resolve(frame);
                                    }
                                    else {
                                        reject();
                                    }
                                });
                            }
                            else {
                                cc.loader.load({ url: url, type: 'png' }, function (error, texture) {
                                    if (error) {
                                        reject();
                                        return;
                                    }
                                    if (texture) {
                                        frame = new cc.SpriteFrame(texture);
                                        _this.addSpriteFrame(url, frame);
                                        resolve(frame);
                                    }
                                    else {
                                        reject();
                                    }
                                });
                            }
                        })];
                }
                return [2 /*return*/, new Promise(function (resolve, reject) { return resolve(frame); })];
            });
        });
    };
    SpriteFrameCache.prototype.addSpriteFrame = function (url, frame) {
        this.frames[url] = frame;
        return frame;
    };
    SpriteFrameCache.prototype.clear = function () {
        for (var k in this.frames) {
            var frame = this.frames[k];
            cc.loader.release(frame);
            delete this.frames[k];
        }
    };
    SpriteFrameCache.prototype.remove = function (k) {
        var frame = this.frames[k];
        cc.loader.release(frame);
        delete this.frames[k];
    };
    return SpriteFrameCache;
}());
exports.default = SpriteFrameCache;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxtaXNjXFxTcHJpdGVGcmFtZUNhY2hlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtJQUFBO1FBYVksV0FBTSxHQUFtQyxFQUFFLENBQUM7SUFrRXhELENBQUM7SUEzRUcsc0JBQVcsNEJBQVE7YUFBbkI7WUFFSSxJQUFHLElBQUksQ0FBQyxTQUFTLElBQUksSUFBSSxFQUN6QjtnQkFDSSxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksZ0JBQWdCLEVBQUUsQ0FBQzthQUMzQztZQUNELE9BQU8sSUFBSSxDQUFDLFNBQVMsQ0FBQztRQUMxQixDQUFDOzs7T0FBQTtJQUdLLHlDQUFjLEdBQXBCLFVBQXFCLEdBQVU7dUNBQUUsT0FBTzs7OztnQkFFaEMsS0FBSyxHQUFHLElBQUksQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLENBQUE7Z0JBQzVCLElBQUcsS0FBSyxJQUFJLElBQUksRUFDaEI7b0JBQ0ksc0JBQU8sSUFBSSxPQUFPLENBQWlCLFVBQUMsT0FBTyxFQUFDLE1BQU07NEJBQzlDLHlEQUF5RDs0QkFDekQsSUFBRyxDQUFDLEdBQUcsSUFBRyxHQUFHLElBQUksRUFBRSxFQUFFO2dDQUNqQixNQUFNLENBQUMsV0FBVyxDQUFDLENBQUE7Z0NBQ25CLE9BQU87NkJBQ1Y7NEJBQ0QsSUFBSyxHQUFHLENBQUMsT0FBTyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQyxFQUM5QjtnQ0FDSSxFQUFFLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxHQUFHLEVBQUMsRUFBRSxDQUFDLFdBQVcsRUFBQyxVQUFDLEtBQUssRUFBQyxLQUFLO29DQUM3QyxJQUFHLEtBQUssRUFBQzt3Q0FBQyxNQUFNLEVBQUUsQ0FBQzt3Q0FBQSxPQUFNO3FDQUFDO29DQUMxQixJQUFHLEtBQUssRUFDUjt3Q0FDSSxLQUFJLENBQUMsY0FBYyxDQUFDLEdBQUcsRUFBRSxLQUFLLENBQUMsQ0FBQTt3Q0FDL0IsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFBO3FDQUNqQjt5Q0FBSTt3Q0FDRCxNQUFNLEVBQUUsQ0FBQTtxQ0FDWDtnQ0FDTCxDQUFDLENBQUMsQ0FBQTs2QkFDTDtpQ0FBSTtnQ0FDRCxFQUFFLENBQUMsTUFBTSxDQUFDLElBQUksQ0FBQyxFQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsSUFBSSxFQUFFLEtBQUssRUFBQyxFQUFFLFVBQUMsS0FBSyxFQUFFLE9BQU87b0NBQ25ELElBQUcsS0FBSyxFQUFDO3dDQUFDLE1BQU0sRUFBRSxDQUFDO3dDQUFBLE9BQU07cUNBQUM7b0NBQzFCLElBQUcsT0FBTyxFQUNWO3dDQUNJLEtBQUssR0FBRyxJQUFJLEVBQUUsQ0FBQyxXQUFXLENBQUMsT0FBTyxDQUFDLENBQUM7d0NBQ3BDLEtBQUksQ0FBQyxjQUFjLENBQUMsR0FBRyxFQUFFLEtBQUssQ0FBQyxDQUFBO3dDQUMvQixPQUFPLENBQUMsS0FBSyxDQUFDLENBQUE7cUNBQ2pCO3lDQUFJO3dDQUNELE1BQU0sRUFBRSxDQUFBO3FDQUNYO2dDQUNMLENBQUMsQ0FBQyxDQUFDOzZCQUNOO3dCQUNMLENBQUMsQ0FBQyxFQUFBO2lCQUNMO2dCQUNELHNCQUFPLElBQUksT0FBTyxDQUFpQixVQUFDLE9BQU8sRUFBQyxNQUFNLElBQUcsT0FBQSxPQUFPLENBQUMsS0FBSyxDQUFDLEVBQWQsQ0FBYyxDQUFDLEVBQUM7OztLQUV4RTtJQUVELHlDQUFjLEdBQWQsVUFBZSxHQUFXLEVBQUUsS0FBVTtRQUNsQyxJQUFJLENBQUMsTUFBTSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQztRQUN6QixPQUFPLEtBQUssQ0FBQztJQUNqQixDQUFDO0lBR0QsZ0NBQUssR0FBTDtRQUVJLEtBQUssSUFBSSxDQUFDLElBQUksSUFBSSxDQUFDLE1BQU0sRUFDekI7WUFDSSxJQUFJLEtBQUssR0FBSSxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFBO1lBQzNCLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLEtBQUssQ0FBQyxDQUFDO1lBQ3pCLE9BQU8sSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUN4QjtJQUNMLENBQUM7SUFFRCxpQ0FBTSxHQUFOLFVBQU8sQ0FBQztRQUVKLElBQUksS0FBSyxHQUFJLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUE7UUFDM0IsRUFBRSxDQUFDLE1BQU0sQ0FBQyxPQUFPLENBQUMsS0FBSyxDQUFDLENBQUM7UUFDekIsT0FBTyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFBO0lBQ3pCLENBQUM7SUFFTCx1QkFBQztBQUFELENBL0VBLEFBK0VDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgZGVmYXVsdCBjbGFzcyBTcHJpdGVGcmFtZUNhY2hlXG57XG4gICAgc3RhdGljIF9pbnN0YW5jZTpTcHJpdGVGcmFtZUNhY2hlO1xuXG4gICAgc3RhdGljIGdldCBpbnN0YW5jZSgpXG4gICAge1xuICAgICAgICBpZih0aGlzLl9pbnN0YW5jZSA9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9pbnN0YW5jZSA9IG5ldyBTcHJpdGVGcmFtZUNhY2hlKCk7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX2luc3RhbmNlO1xuICAgIH1cblxuICAgIHByaXZhdGUgZnJhbWVzOntbaW5kZXg6c3RyaW5nXTpjYy5TcHJpdGVGcmFtZX0gPSB7fTtcbiAgICBhc3luYyBnZXRTcHJpdGVGcmFtZSh1cmw6c3RyaW5nKTpQcm9taXNlPGNjLlNwcml0ZUZyYW1lPlxuICAgIHtcbiAgICAgICAgbGV0IGZyYW1lID0gdGhpcy5mcmFtZXNbdXJsXVxuICAgICAgICBpZihmcmFtZSA9PSBudWxsKVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8Y2MuU3ByaXRlRnJhbWU+KChyZXNvbHZlLHJlamVjdCk9PntcbiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhcIltTcHJpdGVGcmFtZUNhY2hlXSByZXF1ZXN0IGltYWdlOlwiICsgdXJsKVxuICAgICAgICAgICAgICAgIGlmKCF1cmwgfHx1cmwgPT0gXCJcIikge1xuICAgICAgICAgICAgICAgICAgICByZWplY3QoXCJlbXB0eS11cmxcIilcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoIHVybC5pbmRleE9mKFwiaHR0cFwiKSA9PSAtMSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKHVybCxjYy5TcHJpdGVGcmFtZSwoZXJyb3IsZnJhbWUpPT57XG4gICAgICAgICAgICAgICAgICAgICAgICBpZihlcnJvcil7cmVqZWN0KCk7cmV0dXJufVxuICAgICAgICAgICAgICAgICAgICAgICAgaWYoZnJhbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRTcHJpdGVGcmFtZSh1cmwgLGZyYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJlc29sdmUoZnJhbWUpXG4gICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZWplY3QoKVxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICBjYy5sb2FkZXIubG9hZCh7dXJsOiB1cmwsIHR5cGU6ICdwbmcnfSwgKGVycm9yLCB0ZXh0dXJlKSA9PntcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKGVycm9yKXtyZWplY3QoKTtyZXR1cm59XG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0ZXh0dXJlKVxuICAgICAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZyYW1lID0gbmV3IGNjLlNwcml0ZUZyYW1lKHRleHR1cmUpO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuYWRkU3ByaXRlRnJhbWUodXJsICxmcmFtZSlcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXNvbHZlKGZyYW1lKVxuICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmVqZWN0KClcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gbmV3IFByb21pc2U8Y2MuU3ByaXRlRnJhbWU+KChyZXNvbHZlLHJlamVjdCk9PnJlc29sdmUoZnJhbWUpKTtcbiAgICAgICAgXG4gICAgfVxuXG4gICAgYWRkU3ByaXRlRnJhbWUodXJsOiBzdHJpbmcsIGZyYW1lOiBhbnkpOiBhbnkge1xuICAgICAgICB0aGlzLmZyYW1lc1t1cmxdID0gZnJhbWU7XG4gICAgICAgIHJldHVybiBmcmFtZTtcbiAgICB9XG5cblxuICAgIGNsZWFyKClcbiAgICB7XG4gICAgICAgIGZvciAodmFyIGsgaW4gdGhpcy5mcmFtZXMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCBmcmFtZSA9ICB0aGlzLmZyYW1lc1trXVxuICAgICAgICAgICAgY2MubG9hZGVyLnJlbGVhc2UoZnJhbWUpO1xuICAgICAgICAgICAgZGVsZXRlIHRoaXMuZnJhbWVzW2tdXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICByZW1vdmUoaylcbiAgICB7XG4gICAgICAgIGxldCBmcmFtZSA9ICB0aGlzLmZyYW1lc1trXVxuICAgICAgICBjYy5sb2FkZXIucmVsZWFzZShmcmFtZSk7XG4gICAgICAgIGRlbGV0ZSB0aGlzLmZyYW1lc1trXVxuICAgIH1cblxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/ToastComponent.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'c4ad6Rf0DpFeay8D3aly6IU', 'ToastComponent');
// framework/plugin_boosts/ui/ToastComponent.ts

Object.defineProperty(exports, "__esModule", { value: true });
var UIFunctions_1 = require("./UIFunctions");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ToastComponent = /** @class */ (function (_super) {
    __extends(ToastComponent, _super);
    function ToastComponent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.label = null;
        return _this;
        // update (dt) {}
    }
    ToastComponent.prototype.onLoad = function () {
        this.animations = UIFunctions_1.default.getChildrenAnimations(this.node);
    };
    ToastComponent.prototype.start = function () {
    };
    ToastComponent.prototype.hide = function (callback) {
        this.node.active = true;
        if (!UIFunctions_1.default.doHideAnimations(this.animations, callback)) {
            this.node.active = false;
            // this.node.removeFromParent();
            if (callback) {
                callback(this);
            }
        }
    };
    ToastComponent.prototype.show = function (text) {
        this.label.string = text;
        UIFunctions_1.default.doShowAnimations(this.animations);
    };
    __decorate([
        property(cc.Label)
    ], ToastComponent.prototype, "label", void 0);
    ToastComponent = __decorate([
        ccclass
    ], ToastComponent);
    return ToastComponent;
}(cc.Component));
exports.default = ToastComponent;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcVG9hc3RDb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDZDQUF3QztBQUVsQyxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUE0QyxrQ0FBWTtJQUF4RDtRQUFBLHFFQWlDQztRQS9CRyxXQUFLLEdBQWEsSUFBSSxDQUFDOztRQThCdkIsaUJBQWlCO0lBQ3JCLENBQUM7SUExQkcsK0JBQU0sR0FBTjtRQUVJLElBQUksQ0FBQyxVQUFVLEdBQUcscUJBQVcsQ0FBQyxxQkFBcUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbkUsQ0FBQztJQUVELDhCQUFLLEdBQUw7SUFFQSxDQUFDO0lBRUQsNkJBQUksR0FBSixVQUFLLFFBQVE7UUFDVCxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7UUFDeEIsSUFBRyxDQUFDLHFCQUFXLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBQyxRQUFRLENBQUMsRUFDMUQ7WUFDSSxJQUFJLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBRyxLQUFLLENBQUM7WUFDekIsZ0NBQWdDO1lBQ2hDLElBQUcsUUFBUSxFQUNYO2dCQUNJLFFBQVEsQ0FBQyxJQUFJLENBQUMsQ0FBQzthQUNsQjtTQUNKO0lBQ0wsQ0FBQztJQUNELDZCQUFJLEdBQUosVUFBSyxJQUFTO1FBQ1YsSUFBSSxDQUFDLEtBQUssQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1FBQ3pCLHFCQUFXLENBQUMsZ0JBQWdCLENBQUMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDO0lBQ2xELENBQUM7SUE3QkQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztpREFDSTtJQUZOLGNBQWM7UUFEbEMsT0FBTztPQUNhLGNBQWMsQ0FpQ2xDO0lBQUQscUJBQUM7Q0FqQ0QsQUFpQ0MsQ0FqQzJDLEVBQUUsQ0FBQyxTQUFTLEdBaUN2RDtrQkFqQ29CLGNBQWMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVUlGdW5jdGlvbnMgZnJvbSBcIi4vVUlGdW5jdGlvbnNcIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb2FzdENvbXBvbmVudCBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxuICAgIGxhYmVsOiBjYy5MYWJlbCA9IG51bGw7XG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XG4gICAgLy8gb25Mb2FkICgpIHt9XG4gICAgYW5pbWF0aW9uczpjYy5BbmltYXRpb25bXVxuXG4gICAgb25Mb2FkKClcbiAgICB7XG4gICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IFVJRnVuY3Rpb25zLmdldENoaWxkcmVuQW5pbWF0aW9ucyh0aGlzLm5vZGUpO1xuICAgIH1cblxuICAgIHN0YXJ0ICgpIHtcblxuICAgIH1cblxuICAgIGhpZGUoY2FsbGJhY2spOiBhbnkge1xuICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgaWYoIVVJRnVuY3Rpb25zLmRvSGlkZUFuaW1hdGlvbnModGhpcy5hbmltYXRpb25zLGNhbGxiYWNrKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgLy8gdGhpcy5ub2RlLnJlbW92ZUZyb21QYXJlbnQoKTtcbiAgICAgICAgICAgIGlmKGNhbGxiYWNrKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNhbGxiYWNrKHRoaXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgfVxuICAgIHNob3codGV4dDogYW55KTogYW55IHtcbiAgICAgICAgdGhpcy5sYWJlbC5zdHJpbmcgPSB0ZXh0O1xuICAgICAgICBVSUZ1bmN0aW9ucy5kb1Nob3dBbmltYXRpb25zKHRoaXMuYW5pbWF0aW9ucyk7XG4gICAgfVxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/MessageBoxComponent.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '5d14c63Zc1PupexE+EkksQp', 'MessageBoxComponent');
// framework/plugin_boosts/ui/MessageBoxComponent.ts

Object.defineProperty(exports, "__esModule", { value: true });
var View_1 = require("./View");
var MessageBoxManager_1 = require("./MessageBoxManager");
// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property, executeInEditMode = _a.executeInEditMode, playOnFocus = _a.playOnFocus;
var MessageBoxComponent = /** @class */ (function (_super) {
    __extends(MessageBoxComponent, _super);
    function MessageBoxComponent() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.node_title = null;
        _this.node_content = null;
        _this.btn_ok = null;
        _this.btn_cancel = null;
        _this.messageBoxCallback = null;
        _this.label_ok = null;
        _this.label_cancel = null;
        _this.group_ok_cancel = null;
        _this.group_ok = null;
        return _this;
        // update (dt) {}
    }
    MessageBoxComponent.prototype.onLoad = function () {
        this.label_ok = this.btn_ok.getChildByName("Label").getComponent(cc.Label);
        this.label_cancel = this.btn_cancel.getChildByName("Label").getComponent(cc.Label);
        this.getComponent(View_1.default).setDelegate(this);
        this.bgAnimation = this.node.getChildByName("bg").getComponent(cc.Animation);
    };
    MessageBoxComponent.prototype.onHidden = function () {
    };
    MessageBoxComponent.prototype.onShown = function (params) {
        this.node_title.string = params.title;
        this.node_content.string = params.content;
        this.messageBoxCallback = params.callback;
        if (params.extra) {
            this.label_ok.string = params.extra.okText;
            this.label_cancel.string = params.extra.cancelText;
        }
        if (params.buttons == MessageBoxManager_1.MessageBox.OK_CANCEL) {
            //show two 
            this.group_ok_cancel.active = true;
            this.group_ok.active = false;
        }
        else {
            //show one 
            this.group_ok.active = true;
            this.group_ok_cancel.active = false;
        }
    };
    MessageBoxComponent.prototype.start = function () {
    };
    MessageBoxComponent.prototype.on_btn_ok_clicked = function () {
        if (this.messageBoxCallback)
            this.messageBoxCallback.call(null, MessageBoxManager_1.MessageBox.OK);
        this.getComponent(View_1.default).hide();
    };
    MessageBoxComponent.prototype.on_btn_cancel_clicked = function () {
        if (this.messageBoxCallback)
            this.messageBoxCallback.call(null, MessageBoxManager_1.MessageBox.CANCEL);
        this.getComponent(View_1.default).hide();
    };
    __decorate([
        property(cc.Label)
    ], MessageBoxComponent.prototype, "node_title", void 0);
    __decorate([
        property(cc.Label)
    ], MessageBoxComponent.prototype, "node_content", void 0);
    __decorate([
        property(cc.Node)
    ], MessageBoxComponent.prototype, "btn_ok", void 0);
    __decorate([
        property(cc.Node)
    ], MessageBoxComponent.prototype, "btn_cancel", void 0);
    __decorate([
        property(cc.Node)
    ], MessageBoxComponent.prototype, "group_ok_cancel", void 0);
    __decorate([
        property(cc.Node)
    ], MessageBoxComponent.prototype, "group_ok", void 0);
    MessageBoxComponent = __decorate([
        ccclass
    ], MessageBoxComponent);
    return MessageBoxComponent;
}(cc.Component));
exports.default = MessageBoxComponent;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcTWVzc2FnZUJveENvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsK0JBQTBCO0FBQzFCLHlEQUErQztBQUUvQyxvQkFBb0I7QUFDcEIsaUZBQWlGO0FBQ2pGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUU3RixJQUFBLEtBQW9ELEVBQUUsQ0FBQyxVQUFVLEVBQWhFLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBQSxFQUFDLGlCQUFpQix1QkFBQSxFQUFDLFdBQVcsaUJBQWlCLENBQUM7QUFHeEU7SUFBaUQsdUNBQVk7SUFBN0Q7UUFBQSxxRUFnRkM7UUE3RUcsZ0JBQVUsR0FBWSxJQUFJLENBQUM7UUFFM0Isa0JBQVksR0FBWSxJQUFJLENBQUM7UUFHN0IsWUFBTSxHQUFXLElBQUksQ0FBQztRQUV0QixnQkFBVSxHQUFXLElBQUksQ0FBQztRQUUxQix3QkFBa0IsR0FBWSxJQUFJLENBQUM7UUFFbkMsY0FBUSxHQUFZLElBQUksQ0FBQztRQUN6QixrQkFBWSxHQUFZLElBQUksQ0FBQztRQUc3QixxQkFBZSxHQUFZLElBQUksQ0FBQztRQUdoQyxjQUFRLEdBQVcsSUFBSSxDQUFDOztRQTBEeEIsaUJBQWlCO0lBQ3JCLENBQUM7SUF4REcsb0NBQU0sR0FBTjtRQUNJLElBQUksQ0FBQyxRQUFRLEdBQUcsSUFBSSxDQUFDLE1BQU0sQ0FBQyxjQUFjLENBQUMsT0FBTyxDQUFDLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQTtRQUMxRSxJQUFJLENBQUMsWUFBWSxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsY0FBYyxDQUFDLE9BQU8sQ0FBQyxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDLENBQUE7UUFDbEYsSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFJLENBQUMsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUM7UUFDMUMsSUFBSSxDQUFDLFdBQVcsR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFDO0lBQ2pGLENBQUM7SUFFRCxzQ0FBUSxHQUFSO0lBRUEsQ0FBQztJQUVELHFDQUFPLEdBQVAsVUFBUSxNQUFNO1FBRVYsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQztRQUN0QyxJQUFJLENBQUMsWUFBWSxDQUFDLE1BQU0sR0FBRyxNQUFNLENBQUMsT0FBTyxDQUFDO1FBQzFDLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxNQUFNLENBQUMsUUFBUSxDQUFDO1FBQzFDLElBQUcsTUFBTSxDQUFDLEtBQUssRUFDZjtZQUNJLElBQUksQ0FBQyxRQUFRLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsTUFBTSxDQUFBO1lBQzFDLElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxHQUFHLE1BQU0sQ0FBQyxLQUFLLENBQUMsVUFBVSxDQUFBO1NBQ3JEO1FBQ0QsSUFBSyxNQUFNLENBQUMsT0FBTyxJQUFHLDhCQUFVLENBQUMsU0FBUyxFQUMxQztZQUNJLFdBQVc7WUFDWCxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7WUFDbkMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO1NBQ2hDO2FBQUk7WUFDRCxXQUFXO1lBQ1gsSUFBSSxDQUFDLFFBQVEsQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO1lBQzVCLElBQUksQ0FBQyxlQUFlLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQztTQUN2QztJQUNMLENBQUM7SUFFRCxtQ0FBSyxHQUFMO0lBRUEsQ0FBQztJQUlELCtDQUFpQixHQUFqQjtRQUVJLElBQUcsSUFBSSxDQUFDLGtCQUFrQjtZQUN0QixJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBQyw4QkFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFBO1FBQ3BELElBQUksQ0FBQyxZQUFZLENBQUMsY0FBSSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDbkMsQ0FBQztJQUVELG1EQUFxQixHQUFyQjtRQUVJLElBQUcsSUFBSSxDQUFDLGtCQUFrQjtZQUN0QixJQUFJLENBQUMsa0JBQWtCLENBQUMsSUFBSSxDQUFDLElBQUksRUFBQyw4QkFBVSxDQUFDLE1BQU0sQ0FBQyxDQUFBO1FBQ3hELElBQUksQ0FBQyxZQUFZLENBQUMsY0FBSSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7SUFDbkMsQ0FBQztJQXhFRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDOzJEQUNRO0lBRTNCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7NkRBQ1U7SUFHN0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzt1REFDSTtJQUV0QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzJEQUNRO0lBUTFCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7Z0VBQ2M7SUFHaEM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzt5REFDTTtJQXJCUCxtQkFBbUI7UUFEdkMsT0FBTztPQUNhLG1CQUFtQixDQWdGdkM7SUFBRCwwQkFBQztDQWhGRCxBQWdGQyxDQWhGZ0QsRUFBRSxDQUFDLFNBQVMsR0FnRjVEO2tCQWhGb0IsbUJBQW1CIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFZpZXcgZnJvbSBcIi4vVmlld1wiO1xuaW1wb3J0IHtNZXNzYWdlQm94fSBmcm9tIFwiLi9NZXNzYWdlQm94TWFuYWdlclwiO1xuXG4vLyBMZWFybiBUeXBlU2NyaXB0OlxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvdHlwZXNjcmlwdC5odG1sXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxuLy8gTGVhcm4gQXR0cmlidXRlOlxuLy8gIC0gW0NoaW5lc2VdIGh0dHA6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC96aC9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXG4vLyBMZWFybiBsaWZlLWN5Y2xlIGNhbGxiYWNrczpcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvbGlmZS1jeWNsZS1jYWxsYmFja3MuaHRtbFxuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHksZXhlY3V0ZUluRWRpdE1vZGUscGxheU9uRm9jdXN9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1lc3NhZ2VCb3hDb21wb25lbnQgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxuICAgIG5vZGVfdGl0bGU6Y2MuTGFiZWwgPSBudWxsO1xuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcbiAgICBub2RlX2NvbnRlbnQ6Y2MuTGFiZWwgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXG4gICAgYnRuX29rOmNjLk5vZGUgPSBudWxsO1xuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxuICAgIGJ0bl9jYW5jZWw6Y2MuTm9kZSA9IG51bGw7XG5cbiAgICBtZXNzYWdlQm94Q2FsbGJhY2s6RnVuY3Rpb24gPSBudWxsO1xuXG4gICAgbGFiZWxfb2s6Y2MuTGFiZWwgPSBudWxsO1xuICAgIGxhYmVsX2NhbmNlbDpjYy5MYWJlbCA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICBncm91cF9va19jYW5jZWwgOmNjLk5vZGUgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXG4gICAgZ3JvdXBfb2s6Y2MuTm9kZSA9IG51bGw7XG5cbiAgICBiZ0FuaW1hdGlvbjpjYy5BbmltYXRpb247XG4gICAgb25Mb2FkICgpIHtcbiAgICAgICAgdGhpcy5sYWJlbF9vayA9IHRoaXMuYnRuX29rLmdldENoaWxkQnlOYW1lKFwiTGFiZWxcIikuZ2V0Q29tcG9uZW50KGNjLkxhYmVsKVxuICAgICAgICB0aGlzLmxhYmVsX2NhbmNlbCA9IHRoaXMuYnRuX2NhbmNlbC5nZXRDaGlsZEJ5TmFtZShcIkxhYmVsXCIpLmdldENvbXBvbmVudChjYy5MYWJlbClcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoVmlldykuc2V0RGVsZWdhdGUodGhpcyk7XG4gICAgICAgIHRoaXMuYmdBbmltYXRpb24gPSB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoXCJiZ1wiKS5nZXRDb21wb25lbnQoY2MuQW5pbWF0aW9uKTtcbiAgICB9XG5cbiAgICBvbkhpZGRlbigpXG4gICAge1xuICAgIH1cblxuICAgIG9uU2hvd24ocGFyYW1zKVxuICAgIHtcbiAgICAgICAgdGhpcy5ub2RlX3RpdGxlLnN0cmluZyA9IHBhcmFtcy50aXRsZTtcbiAgICAgICAgdGhpcy5ub2RlX2NvbnRlbnQuc3RyaW5nID0gcGFyYW1zLmNvbnRlbnQ7XG4gICAgICAgIHRoaXMubWVzc2FnZUJveENhbGxiYWNrID0gcGFyYW1zLmNhbGxiYWNrO1xuICAgICAgICBpZihwYXJhbXMuZXh0cmEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubGFiZWxfb2suc3RyaW5nID0gcGFyYW1zLmV4dHJhLm9rVGV4dFxuICAgICAgICAgICAgdGhpcy5sYWJlbF9jYW5jZWwuc3RyaW5nID0gcGFyYW1zLmV4dHJhLmNhbmNlbFRleHRcbiAgICAgICAgfVxuICAgICAgICBpZiAoIHBhcmFtcy5idXR0b25zPT0gTWVzc2FnZUJveC5PS19DQU5DRUwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIC8vc2hvdyB0d28gXG4gICAgICAgICAgICB0aGlzLmdyb3VwX29rX2NhbmNlbC5hY3RpdmUgPSB0cnVlOyAgICAgXG4gICAgICAgICAgICB0aGlzLmdyb3VwX29rLmFjdGl2ZSA9IGZhbHNlOyAgICAgXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgLy9zaG93IG9uZSBcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBfb2suYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgICAgIHRoaXMuZ3JvdXBfb2tfY2FuY2VsLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhcnQgKCkge1xuXG4gICAgfVxuXG5cblxuICAgIG9uX2J0bl9va19jbGlja2VkKClcbiAgICB7XG4gICAgICAgIGlmKHRoaXMubWVzc2FnZUJveENhbGxiYWNrKVxuICAgICAgICAgICAgdGhpcy5tZXNzYWdlQm94Q2FsbGJhY2suY2FsbChudWxsLE1lc3NhZ2VCb3guT0spXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KFZpZXcpLmhpZGUoKTtcbiAgICB9XG5cbiAgICBvbl9idG5fY2FuY2VsX2NsaWNrZWQoKVxuICAgIHtcbiAgICAgICAgaWYodGhpcy5tZXNzYWdlQm94Q2FsbGJhY2spXG4gICAgICAgICAgICB0aGlzLm1lc3NhZ2VCb3hDYWxsYmFjay5jYWxsKG51bGwsTWVzc2FnZUJveC5DQU5DRUwpICAgXG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KFZpZXcpLmhpZGUoKTsgICAgIFxuICAgIH1cblxuXG5cbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/DCToggle.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f9e52WLze5MBrhxXx/fWqyL', 'DCToggle');
// framework/plugin_boosts/ui/DCToggle.ts

Object.defineProperty(exports, "__esModule", { value: true });
var DCUI_1 = require("./DCUI");
// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var DCToggle = /** @class */ (function (_super) {
    __extends(DCToggle, _super);
    function DCToggle() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.revserse = false;
        _this.autosync = true;
        return _this;
    }
    DCToggle.prototype.onLoad = function () {
        this.toggle = this.getComponent(cc.Toggle);
        if (this.autosync) {
            var listener = new cc.Component.EventHandler();
            listener.component = "DCToggle";
            listener.target = this.node;
            listener.handler = "onChecked";
            this.toggle.checkEvents.push(listener);
        }
    };
    DCToggle.prototype.onChecked = function (v) {
        if (this.isFromSelf)
            return;
        if (this.revserse) {
            this.setDCValue(!v.isChecked);
        }
        else {
            this.setDCValue(v.isChecked);
        }
    };
    DCToggle.prototype.setChecked = function (b) {
        this.isFromSelf = true;
        if (b)
            this.toggle.check();
        else
            this.toggle.uncheck();
        this.isFromSelf = false;
    };
    DCToggle.prototype.onValueChanged = function (v) {
        if (this.revserse) {
            this.setChecked(!v);
        }
        else {
            this.setChecked(v);
        }
    };
    __decorate([
        property({ tooltip: "If reverse is enabled ,checked is false !, unchecked is true" })
    ], DCToggle.prototype, "revserse", void 0);
    __decorate([
        property({ tooltip: " Make sure data bind type should be boolean" })
    ], DCToggle.prototype, "autosync", void 0);
    DCToggle = __decorate([
        ccclass
    ], DCToggle);
    return DCToggle;
}(DCUI_1.default));
exports.default = DCToggle;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcRENUb2dnbGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLCtCQUEwQjtBQUUxQixvQkFBb0I7QUFDcEIsaUZBQWlGO0FBQ2pGLHlGQUF5RjtBQUN6RixtQkFBbUI7QUFDbkIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUNuRyw4QkFBOEI7QUFDOUIsMkZBQTJGO0FBQzNGLG1HQUFtRztBQUU3RixJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFzQyw0QkFBSTtJQUExQztRQUFBLHFFQXlEQztRQXJERyxjQUFRLEdBQVcsS0FBSyxDQUFDO1FBSXpCLGNBQVEsR0FBVyxJQUFJLENBQUM7O0lBaUQ1QixDQUFDO0lBN0NHLHlCQUFNLEdBQU47UUFFSSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzNDLElBQUcsSUFBSSxDQUFDLFFBQVEsRUFDaEI7WUFDSSxJQUFJLFFBQVEsR0FBRyxJQUFJLEVBQUUsQ0FBQyxTQUFTLENBQUMsWUFBWSxFQUFFLENBQUM7WUFDL0MsUUFBUSxDQUFDLFNBQVMsR0FBRyxVQUFVLENBQUM7WUFDaEMsUUFBUSxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUMsSUFBSSxDQUFDO1lBQzVCLFFBQVEsQ0FBQyxPQUFPLEdBQUcsV0FBVyxDQUFDO1lBQy9CLElBQUksQ0FBQyxNQUFNLENBQUMsV0FBVyxDQUFDLElBQUksQ0FBQyxRQUFRLENBQUMsQ0FBQTtTQUN6QztJQUNMLENBQUM7SUFFRCw0QkFBUyxHQUFULFVBQVUsQ0FBQztRQUVQLElBQUcsSUFBSSxDQUFDLFVBQVU7WUFBRSxPQUFPO1FBQzNCLElBQUcsSUFBSSxDQUFDLFFBQVEsRUFDaEI7WUFDSSxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDLFNBQVMsQ0FBQyxDQUFDO1NBQ2pDO2FBQUk7WUFDRCxJQUFJLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQztTQUNoQztJQUNMLENBQUM7SUFFRCw2QkFBVSxHQUFWLFVBQVcsQ0FBQztRQUVSLElBQUksQ0FBQyxVQUFVLEdBQUcsSUFBSSxDQUFDO1FBQ3ZCLElBQUcsQ0FBQztZQUNBLElBQUksQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFLENBQUE7O1lBRW5CLElBQUksQ0FBQyxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUM7UUFDMUIsSUFBSSxDQUFDLFVBQVUsR0FBRyxLQUFLLENBQUE7SUFDM0IsQ0FBQztJQUVELGlDQUFjLEdBQWQsVUFBZSxDQUFDO1FBRVosSUFBRyxJQUFJLENBQUMsUUFBUSxFQUNoQjtZQUNJLElBQUksQ0FBQyxVQUFVLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUN0QjthQUFJO1lBQ0QsSUFBSSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQTtTQUNyQjtJQUVMLENBQUM7SUFuREQ7UUFEQyxRQUFRLENBQUMsRUFBQyxPQUFPLEVBQUMsOERBQThELEVBQUMsQ0FBQzs4Q0FDMUQ7SUFJekI7UUFEQyxRQUFRLENBQUMsRUFBQyxPQUFPLEVBQUMsNkNBQTZDLEVBQUMsQ0FBQzs4Q0FDMUM7SUFSUCxRQUFRO1FBRDVCLE9BQU87T0FDYSxRQUFRLENBeUQ1QjtJQUFELGVBQUM7Q0F6REQsQUF5REMsQ0F6RHFDLGNBQUksR0F5RHpDO2tCQXpEb0IsUUFBUSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEQ1VJIGZyb20gXCIuL0RDVUlcIjtcblxuLy8gTGVhcm4gVHlwZVNjcmlwdDpcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEQ1RvZ2dsZSBleHRlbmRzIERDVUkge1xuXG4gICAgdG9nZ2xlOmNjLlRvZ2dsZTtcbiAgICBAcHJvcGVydHkoe3Rvb2x0aXA6XCJJZiByZXZlcnNlIGlzIGVuYWJsZWQgLGNoZWNrZWQgaXMgZmFsc2UgISwgdW5jaGVja2VkIGlzIHRydWVcIn0pXG4gICAgcmV2c2Vyc2U6Ym9vbGVhbiA9IGZhbHNlO1xuXG5cbiAgICBAcHJvcGVydHkoe3Rvb2x0aXA6XCIgTWFrZSBzdXJlIGRhdGEgYmluZCB0eXBlIHNob3VsZCBiZSBib29sZWFuXCJ9KVxuICAgIGF1dG9zeW5jOmJvb2xlYW4gPSB0cnVlO1xuXG4gICAgaXNGcm9tU2VsZjpib29sZWFuO1xuXG4gICAgb25Mb2FkKClcbiAgICB7XG4gICAgICAgIHRoaXMudG9nZ2xlID0gdGhpcy5nZXRDb21wb25lbnQoY2MuVG9nZ2xlKTtcbiAgICAgICAgaWYodGhpcy5hdXRvc3luYylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGxpc3RlbmVyID0gbmV3IGNjLkNvbXBvbmVudC5FdmVudEhhbmRsZXIoKTtcbiAgICAgICAgICAgIGxpc3RlbmVyLmNvbXBvbmVudCA9IFwiRENUb2dnbGVcIjtcbiAgICAgICAgICAgIGxpc3RlbmVyLnRhcmdldCA9IHRoaXMubm9kZTtcbiAgICAgICAgICAgIGxpc3RlbmVyLmhhbmRsZXIgPSBcIm9uQ2hlY2tlZFwiO1xuICAgICAgICAgICAgdGhpcy50b2dnbGUuY2hlY2tFdmVudHMucHVzaChsaXN0ZW5lcilcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uQ2hlY2tlZCh2KVxuICAgIHtcbiAgICAgICAgaWYodGhpcy5pc0Zyb21TZWxmKSByZXR1cm47XG4gICAgICAgIGlmKHRoaXMucmV2c2Vyc2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2V0RENWYWx1ZSghdi5pc0NoZWNrZWQpO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIHRoaXMuc2V0RENWYWx1ZSh2LmlzQ2hlY2tlZCk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzZXRDaGVja2VkKGIpXG4gICAge1xuICAgICAgICB0aGlzLmlzRnJvbVNlbGYgPSB0cnVlO1xuICAgICAgICBpZihiKVxuICAgICAgICAgICAgdGhpcy50b2dnbGUuY2hlY2soKVxuICAgICAgICBlbHNlXG4gICAgICAgICAgICB0aGlzLnRvZ2dsZS51bmNoZWNrKCk7XG4gICAgICAgIHRoaXMuaXNGcm9tU2VsZiA9IGZhbHNlXG4gICAgfVxuXG4gICAgb25WYWx1ZUNoYW5nZWQodilcbiAgICB7XG4gICAgICAgIGlmKHRoaXMucmV2c2Vyc2UpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2V0Q2hlY2tlZCghdilcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLnNldENoZWNrZWQodilcbiAgICAgICAgfVxuICAgICAgICBcbiAgICB9XG5cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/PandoraPoint.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3f36aidibxFPY2TBTu8gRyi', 'PandoraPoint');
// framework/plugin_boosts/ui/PandoraPoint.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PandoraPoint = /** @class */ (function (_super) {
    __extends(PandoraPoint, _super);
    function PandoraPoint() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.numberVisible = true;
        return _this;
        // update (dt) {}
    }
    PandoraPoint.prototype.onLoad = function () {
        this.sprite = this.getComponent(cc.Sprite);
        this.label = this.getComponentInChildren(cc.Label);
        this.label.node.active = this.numberVisible;
    };
    PandoraPoint.prototype.start = function () {
    };
    PandoraPoint.prototype.setNumber = function (n) {
        if (this.numberVisible) {
            this.label.string = n + "";
        }
        if (this.numberVisible) {
            this.label.node.active = n != 0;
        }
        this.sprite.enabled = n != 0;
    };
    __decorate([
        property
    ], PandoraPoint.prototype, "numberVisible", void 0);
    PandoraPoint = __decorate([
        ccclass
    ], PandoraPoint);
    return PandoraPoint;
}(cc.Component));
exports.default = PandoraPoint;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcUGFuZG9yYVBvaW50LnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBTSxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUEwQyxnQ0FBWTtJQUF0RDtRQUFBLHFFQWlDQztRQTVCRyxtQkFBYSxHQUFXLElBQUksQ0FBQzs7UUEyQjdCLGlCQUFpQjtJQUNyQixDQUFDO0lBeEJHLDZCQUFNLEdBQU47UUFDSSxJQUFJLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1FBQzNDLElBQUksQ0FBQyxLQUFLLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNuRCxJQUFJLENBQUMsS0FBSyxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLGFBQWEsQ0FBQztJQUNoRCxDQUFDO0lBRUQsNEJBQUssR0FBTDtJQUVBLENBQUM7SUFFRCxnQ0FBUyxHQUFULFVBQVUsQ0FBUTtRQUVkLElBQUcsSUFBSSxDQUFDLGFBQWEsRUFDckI7WUFDSSxJQUFJLENBQUMsS0FBSyxDQUFDLE1BQU0sR0FBRyxDQUFDLEdBQUUsRUFBRSxDQUFBO1NBQzVCO1FBQ0QsSUFBRyxJQUFJLENBQUMsYUFBYSxFQUNyQjtZQUNJLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLE1BQU0sR0FBSSxDQUFDLElBQUUsQ0FBQyxDQUFDO1NBQ2xDO1FBQ0QsSUFBSSxDQUFDLE1BQU0sQ0FBQyxPQUFPLEdBQUcsQ0FBQyxJQUFHLENBQUMsQ0FBQztJQUNoQyxDQUFDO0lBekJEO1FBREMsUUFBUTt1REFDb0I7SUFMWixZQUFZO1FBRGhDLE9BQU87T0FDYSxZQUFZLENBaUNoQztJQUFELG1CQUFDO0NBakNELEFBaUNDLENBakN5QyxFQUFFLENBQUMsU0FBUyxHQWlDckQ7a0JBakNvQixZQUFZIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQYW5kb3JhUG9pbnQgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgbGFiZWw6Y2MuTGFiZWw7XG5cbiAgICBAcHJvcGVydHlcbiAgICBudW1iZXJWaXNpYmxlOmJvb2xlYW4gPSB0cnVlO1xuXG4gICAgc3ByaXRlOmNjLlNwcml0ZVxuXG4gICAgb25Mb2FkICgpIHtcbiAgICAgICAgdGhpcy5zcHJpdGUgPSB0aGlzLmdldENvbXBvbmVudChjYy5TcHJpdGUpO1xuICAgICAgICB0aGlzLmxhYmVsID0gdGhpcy5nZXRDb21wb25lbnRJbkNoaWxkcmVuKGNjLkxhYmVsKTtcbiAgICAgICAgdGhpcy5sYWJlbC5ub2RlLmFjdGl2ZSA9IHRoaXMubnVtYmVyVmlzaWJsZTtcbiAgICB9XG5cbiAgICBzdGFydCAoKSB7XG5cbiAgICB9XG5cbiAgICBzZXROdW1iZXIobjpudW1iZXIpXG4gICAge1xuICAgICAgICBpZih0aGlzLm51bWJlclZpc2libGUpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubGFiZWwuc3RyaW5nID0gbiArXCJcIlxuICAgICAgICB9XG4gICAgICAgIGlmKHRoaXMubnVtYmVyVmlzaWJsZSkgXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMubGFiZWwubm9kZS5hY3RpdmUgPSAgbiE9MDtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnNwcml0ZS5lbmFibGVkID0gbiAhPTA7XG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIChkdCkge31cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/ToastManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '129ed5o6uNHDKhz6KoueBpN', 'ToastManager');
// framework/plugin_boosts/ui/ToastManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.Toast = void 0;
var ToastComponent_1 = require("./ToastComponent");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
exports.Toast = null;
var ToastManager = /** @class */ (function (_super) {
    __extends(ToastManager, _super);
    function ToastManager() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    ToastManager.prototype.start = function () {
        this.toastPool = new cc.NodePool();
        exports.Toast = this;
    };
    ToastManager.prototype.onDestroy = function () {
        this.toastPool.clear();
    };
    ToastManager.prototype.make = function (text, dur) {
        if (dur === void 0) { dur = 1.3; }
        //show toast 
        var node = this.toastPool.get();
        var toastComp = null;
        if (node == null) {
            node = cc.instantiate(this.prefab);
            toastComp = node.getComponent(ToastComponent_1.default);
            if (toastComp == null) {
                console.warn("Toast.make : Toast Prefab must contains ToastComponent");
            }
            // ToastManager.toastPool.put(node);
            // node = ToastManager.toastPool.get();
        }
        else {
            toastComp = node.getComponent(ToastComponent_1.default);
        }
        if (node.parent == null)
            this.node.addChild(node, 99999);
        this.show(toastComp, text, dur);
        return toastComp;
    };
    ToastManager.prototype.show = function (toastComp, text, dur) {
        var _this = this;
        toastComp.show(text);
        this.scheduleOnce(function (_) {
            toastComp.hide(function (_) {
                _this.toastPool.put(toastComp.node);
                console.log("Toast.hide toastpool size:", _this.toastPool.size());
            });
        }, dur);
    };
    __decorate([
        property(cc.Prefab)
    ], ToastManager.prototype, "prefab", void 0);
    ToastManager = __decorate([
        ccclass
    ], ToastManager);
    return ToastManager;
}(cc.Component));
exports.default = ToastManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcVG9hc3RNYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsbURBQThDO0FBRXhDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRS9CLFFBQUEsS0FBSyxHQUFnQixJQUFJLENBQUM7QUFHckM7SUFBMEMsZ0NBQVk7SUFBdEQ7O0lBb0RBLENBQUM7SUEvQ0csNEJBQUssR0FBTDtRQUNJLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxFQUFFLENBQUMsUUFBUSxFQUFFLENBQUM7UUFDbkMsYUFBSyxHQUFHLElBQUksQ0FBQztJQUNqQixDQUFDO0lBRUQsZ0NBQVMsR0FBVDtRQUVJLElBQUksQ0FBQyxTQUFTLENBQUMsS0FBSyxFQUFFLENBQUM7SUFDM0IsQ0FBQztJQUVELDJCQUFJLEdBQUosVUFBSyxJQUFJLEVBQUMsR0FBUztRQUFULG9CQUFBLEVBQUEsU0FBUztRQUVmLGFBQWE7UUFDYixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ2hDLElBQUksU0FBUyxHQUFHLElBQUksQ0FBQztRQUNyQixJQUFJLElBQUksSUFBSSxJQUFJLEVBQ2hCO1lBQ0ksSUFBSSxHQUFHLEVBQUUsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ25DLFNBQVMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLHdCQUFjLENBQUMsQ0FBQztZQUM5QyxJQUFHLFNBQVMsSUFBSSxJQUFJLEVBQ3BCO2dCQUNJLE9BQU8sQ0FBQyxJQUFJLENBQUMsd0RBQXdELENBQUMsQ0FBQTthQUN6RTtZQUNELG9DQUFvQztZQUNwQyx1Q0FBdUM7U0FDMUM7YUFBSTtZQUNELFNBQVMsR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLHdCQUFjLENBQUMsQ0FBQztTQUNqRDtRQUNELElBQUcsSUFBSSxDQUFDLE1BQU0sSUFBSSxJQUFJO1lBQ2xCLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLElBQUksRUFBQyxLQUFLLENBQUMsQ0FBQztRQUVuQyxJQUFJLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBQyxJQUFJLEVBQUMsR0FBRyxDQUFDLENBQUE7UUFDN0IsT0FBTyxTQUFTLENBQUM7SUFDckIsQ0FBQztJQUVPLDJCQUFJLEdBQVosVUFBYSxTQUF3QixFQUFDLElBQUksRUFBQyxHQUFHO1FBQTlDLGlCQVNDO1FBUEcsU0FBUyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUNwQixJQUFJLENBQUMsWUFBWSxDQUFDLFVBQUEsQ0FBQztZQUNmLFNBQVMsQ0FBQyxJQUFJLENBQUMsVUFBQSxDQUFDO2dCQUNaLEtBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsQ0FBQTtnQkFDbEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyw0QkFBNEIsRUFBQyxLQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxDQUFDLENBQUE7WUFDbkUsQ0FBQyxDQUFDLENBQUM7UUFDUCxDQUFDLEVBQUMsR0FBRyxDQUFDLENBQUE7SUFDVixDQUFDO0lBOUNEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7Z0RBQ0o7SUFIQyxZQUFZO1FBRGhDLE9BQU87T0FDYSxZQUFZLENBb0RoQztJQUFELG1CQUFDO0NBcERELEFBb0RDLENBcER5QyxFQUFFLENBQUMsU0FBUyxHQW9EckQ7a0JBcERvQixZQUFZIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFRvYXN0Q29tcG9uZW50IGZyb20gXCIuL1RvYXN0Q29tcG9uZW50XCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5leHBvcnQgdmFyIFRvYXN0OlRvYXN0TWFuYWdlciA9IG51bGw7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBUb2FzdE1hbmFnZXIgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuICAgIHRvYXN0UG9vbDpjYy5Ob2RlUG9vbDtcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxuICAgIHByZWZhYjpjYy5QcmVmYWJcbiAgICBcbiAgICBzdGFydCAoKSB7XG4gICAgICAgIHRoaXMudG9hc3RQb29sID0gbmV3IGNjLk5vZGVQb29sKCk7XG4gICAgICAgIFRvYXN0ID0gdGhpcztcbiAgICB9XG5cbiAgICBvbkRlc3Ryb3koKVxuICAgIHtcbiAgICAgICAgdGhpcy50b2FzdFBvb2wuY2xlYXIoKTtcbiAgICB9XG5cbiAgICBtYWtlKHRleHQsZHVyID0gMS4zKVxuICAgIHtcbiAgICAgICAgLy9zaG93IHRvYXN0IFxuICAgICAgICBsZXQgbm9kZSA9IHRoaXMudG9hc3RQb29sLmdldCgpO1xuICAgICAgICBsZXQgdG9hc3RDb21wID0gbnVsbDtcbiAgICAgICAgaWYgKG5vZGUgPT0gbnVsbClcbiAgICAgICAge1xuICAgICAgICAgICAgbm9kZSA9IGNjLmluc3RhbnRpYXRlKHRoaXMucHJlZmFiKTtcbiAgICAgICAgICAgIHRvYXN0Q29tcCA9IG5vZGUuZ2V0Q29tcG9uZW50KFRvYXN0Q29tcG9uZW50KTtcbiAgICAgICAgICAgIGlmKHRvYXN0Q29tcCA9PSBudWxsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUud2FybihcIlRvYXN0Lm1ha2UgOiBUb2FzdCBQcmVmYWIgbXVzdCBjb250YWlucyBUb2FzdENvbXBvbmVudFwiKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gVG9hc3RNYW5hZ2VyLnRvYXN0UG9vbC5wdXQobm9kZSk7XG4gICAgICAgICAgICAvLyBub2RlID0gVG9hc3RNYW5hZ2VyLnRvYXN0UG9vbC5nZXQoKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0b2FzdENvbXAgPSBub2RlLmdldENvbXBvbmVudChUb2FzdENvbXBvbmVudCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYobm9kZS5wYXJlbnQgPT0gbnVsbClcbiAgICAgICAgICAgIHRoaXMubm9kZS5hZGRDaGlsZChub2RlLDk5OTk5KTtcbiAgICAgICAgXG4gICAgICAgIHRoaXMuc2hvdyh0b2FzdENvbXAsdGV4dCxkdXIpXG4gICAgICAgIHJldHVybiB0b2FzdENvbXA7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSBzaG93KHRvYXN0Q29tcDpUb2FzdENvbXBvbmVudCx0ZXh0LGR1cilcbiAgICB7XG4gICAgICAgIHRvYXN0Q29tcC5zaG93KHRleHQpXG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKF89PntcbiAgICAgICAgICAgIHRvYXN0Q29tcC5oaWRlKF89PntcbiAgICAgICAgICAgICAgICB0aGlzLnRvYXN0UG9vbC5wdXQodG9hc3RDb21wLm5vZGUpXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJUb2FzdC5oaWRlIHRvYXN0cG9vbCBzaXplOlwiLHRoaXMudG9hc3RQb29sLnNpemUoKSlcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9LGR1cilcbiAgICB9XG5cbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/UIComponent.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0dc9dQt58ZCx4tQ3mcNvEZr', 'UIComponent');
// framework/plugin_boosts/ui/UIComponent.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var UIComponent = /** @class */ (function (_super) {
    __extends(UIComponent, _super);
    function UIComponent() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    UIComponent.prototype.hide = function () {
        this.node.active = false;
    };
    UIComponent.prototype.show = function () {
        this.node.active = true;
    };
    UIComponent = __decorate([
        ccclass
    ], UIComponent);
    return UIComponent;
}(cc.Component));
exports.default = UIComponent;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcVUlDb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFNLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQXlDLCtCQUFZO0lBQXJEOztJQVFBLENBQUM7SUFQRywwQkFBSSxHQUFKO1FBQ0ksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFDO0lBQzdCLENBQUM7SUFDRCwwQkFBSSxHQUFKO1FBRUksSUFBSSxDQUFDLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDO0lBQzVCLENBQUM7SUFQZ0IsV0FBVztRQUQvQixPQUFPO09BQ2EsV0FBVyxDQVEvQjtJQUFELGtCQUFDO0NBUkQsQUFRQyxDQVJ3QyxFQUFFLENBQUMsU0FBUyxHQVFwRDtrQkFSb0IsV0FBVyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlDb21wb25lbnQgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuICAgIGhpZGUoKXtcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xuICAgIH1cbiAgICBzaG93KClcbiAgICB7XG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSB0cnVlO1xuICAgIH1cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/utils/EventManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '334c9avVx5ILbx/6NU/H45V', 'EventManager');
// framework/plugin_boosts/utils/EventManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.event = void 0;
/**
* name
*/
var EventManager = /** @class */ (function () {
    function EventManager() {
        this._eventList = {};
    }
    EventManager.prototype.on = function (key, listen, target) {
        if (this._eventList[key] != null) {
            var array = this._eventList[key];
            array.push({ listen: listen, target: target });
        }
        else {
            var array = new Array();
            array.push({ listen: listen, target: target });
            this._eventList[key] = array;
        }
    };
    EventManager.prototype.off = function (key, listener, target) {
        if (listener != null && !(listener instanceof Function)) {
            target = listener;
            listener = null;
        }
        if (this._eventList[key] != null) {
            if (listener == null && target == null) {
                delete this._eventList[key];
            }
            else {
                var array = this._eventList[key];
                for (var i = array.length - 1; i >= 0; i--) {
                    if (listener != null && target != null) {
                        if (array[i].listen == listener && array[i].target == target) {
                            array.splice(i, 1);
                        }
                    }
                    else if (listener != null && array[i].listen == listener) {
                        array.splice(i, 1);
                    }
                    else if (target != null && array[i].target == target) {
                        array.splice(i, 1);
                    }
                }
            }
        }
    };
    EventManager.prototype.emit = function (tag) {
        var params = [];
        for (var _i = 1; _i < arguments.length; _i++) {
            params[_i - 1] = arguments[_i];
        }
        var sendOk = false;
        if (this._eventList[tag] != null) {
            var array = this._eventList[tag];
            console.log("emit message: ", tag, array.length);
            for (var i = 0; i < array.length; i++) {
                var obj = array[i];
                if (obj.target != null) {
                    if (obj.listen.apply(obj.target, params))
                        sendOk = true;
                }
                else {
                    if (obj.listen.apply(this, params))
                        sendOk = true;
                }
            }
        }
        return sendOk;
    };
    return EventManager;
}());
exports.event = new EventManager();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1dGlsc1xcRXZlbnRNYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7O0VBRUU7QUFDRDtJQUlDO1FBQ0MsSUFBSSxDQUFDLFVBQVUsR0FBRyxFQUFFLENBQUM7SUFDdEIsQ0FBQztJQUVNLHlCQUFFLEdBQVQsVUFBVSxHQUFVLEVBQUUsTUFBZ0IsRUFBRSxNQUFXO1FBQ2xELElBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUM7WUFDL0IsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQztZQUNqQyxLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUMsTUFBTSxFQUFFLE1BQU0sRUFBRSxNQUFNLEVBQUMsTUFBTSxFQUFDLENBQUMsQ0FBQztTQUM1QzthQUFJO1lBQ0osSUFBSSxLQUFLLEdBQUcsSUFBSSxLQUFLLEVBQU8sQ0FBQztZQUM3QixLQUFLLENBQUMsSUFBSSxDQUFDLEVBQUMsTUFBTSxFQUFDLE1BQU0sRUFBRSxNQUFNLEVBQUMsTUFBTSxFQUFDLENBQUMsQ0FBQztZQUMzQyxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxHQUFHLEtBQUssQ0FBQztTQUM3QjtJQUNGLENBQUM7SUFFTSwwQkFBRyxHQUFWLFVBQVcsR0FBVyxFQUFFLFFBQWEsRUFBRSxNQUFXO1FBQ2pELElBQUcsUUFBUSxJQUFJLElBQUksSUFBSSxDQUFDLENBQUMsUUFBUSxZQUFZLFFBQVEsQ0FBQyxFQUFDO1lBQzFDLE1BQU0sR0FBRyxRQUFRLENBQUM7WUFDbEIsUUFBUSxHQUFHLElBQUksQ0FBQztTQUNuQjtRQUNWLElBQUcsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxJQUFJLEVBQUM7WUFDL0IsSUFBRyxRQUFRLElBQUksSUFBSSxJQUFJLE1BQU0sSUFBSSxJQUFJLEVBQUM7Z0JBQ3JDLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLENBQUMsQ0FBQzthQUM1QjtpQkFBSTtnQkFDSixJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsVUFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFDO2dCQUNqQyxLQUFJLElBQUksQ0FBQyxHQUFHLEtBQUssQ0FBQyxNQUFNLEdBQUcsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUM7b0JBQ3pDLElBQUcsUUFBUSxJQUFJLElBQUksSUFBSSxNQUFNLElBQUksSUFBSSxFQUFDO3dCQUNyQyxJQUFHLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLElBQUksUUFBUSxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLElBQUksTUFBTSxFQUFDOzRCQUMzRCxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQzt5QkFDbkI7cUJBQ0Q7eUJBQUssSUFBRyxRQUFRLElBQUksSUFBSSxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLElBQUksUUFBUSxFQUFDO3dCQUN4RCxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztxQkFDbkI7eUJBQUssSUFBRyxNQUFNLElBQUksSUFBSSxJQUFJLEtBQUssQ0FBQyxDQUFDLENBQUMsQ0FBQyxNQUFNLElBQUksTUFBTSxFQUFDO3dCQUNwRCxLQUFLLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQztxQkFDbkI7aUJBQ0Q7YUFDRDtTQUNEO0lBQ0YsQ0FBQztJQUVNLDJCQUFJLEdBQVgsVUFBWSxHQUFXO1FBQUUsZ0JBQWdCO2FBQWhCLFVBQWdCLEVBQWhCLHFCQUFnQixFQUFoQixJQUFnQjtZQUFoQiwrQkFBZ0I7O1FBQ3hDLElBQUksTUFBTSxHQUFXLEtBQUssQ0FBQztRQUMzQixJQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLElBQUksSUFBSSxFQUFDO1lBQy9CLElBQUksS0FBSyxHQUFHLElBQUksQ0FBQyxVQUFVLENBQUMsR0FBRyxDQUFDLENBQUM7WUFDakMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxnQkFBZ0IsRUFBRSxHQUFHLEVBQUUsS0FBSyxDQUFDLE1BQU0sQ0FBQyxDQUFDO1lBQ2pELEtBQUksSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLENBQUMsR0FBRyxLQUFLLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRSxFQUFDO2dCQUNwQyxJQUFJLEdBQUcsR0FBRyxLQUFLLENBQUMsQ0FBQyxDQUFDLENBQUM7Z0JBQ25CLElBQUcsR0FBRyxDQUFDLE1BQU0sSUFBSSxJQUFJLEVBQUM7b0JBQ3JCLElBQUcsR0FBRyxDQUFDLE1BQU0sQ0FBQyxLQUFLLENBQUMsR0FBRyxDQUFDLE1BQU0sRUFBRSxNQUFNLENBQUM7d0JBQ3RDLE1BQU0sR0FBRyxJQUFJLENBQUE7aUJBQ2Q7cUJBQ0c7b0JBQ0gsSUFBRyxHQUFHLENBQUMsTUFBTSxDQUFDLEtBQUssQ0FBQyxJQUFJLEVBQUUsTUFBTSxDQUFDO3dCQUNoQyxNQUFNLEdBQUcsSUFBSSxDQUFBO2lCQUNkO2FBQ0Q7U0FDRDtRQUNELE9BQU8sTUFBTSxDQUFBO0lBQ2QsQ0FBQztJQUVGLG1CQUFDO0FBQUQsQ0FoRUEsQUFnRUMsSUFBQTtBQUVVLFFBQUEsS0FBSyxHQUFHLElBQUksWUFBWSxFQUFFLENBQUMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiogbmFtZSBcbiovXG5cdGNsYXNzIEV2ZW50TWFuYWdlciB7XG5cblx0XHRwcml2YXRlIF9ldmVudExpc3Q6IHtba2V5OnN0cmluZ106QXJyYXk8e2xpc3RlbjpGdW5jdGlvbiwgdGFyZ2V0OiBhbnl9Pn07XG5cblx0XHRwdWJsaWMgY29uc3RydWN0b3IoKSB7XG5cdFx0XHR0aGlzLl9ldmVudExpc3QgPSB7fTtcblx0XHR9XG5cblx0XHRwdWJsaWMgb24oa2V5OnN0cmluZywgbGlzdGVuOiBGdW5jdGlvbiwgdGFyZ2V0Pzphbnkpe1xuXHRcdFx0aWYodGhpcy5fZXZlbnRMaXN0W2tleV0gIT0gbnVsbCl7XG5cdFx0XHRcdGxldCBhcnJheSA9IHRoaXMuX2V2ZW50TGlzdFtrZXldO1xuXHRcdFx0XHRhcnJheS5wdXNoKHtsaXN0ZW46IGxpc3RlbiwgdGFyZ2V0OnRhcmdldH0pO1xuXHRcdFx0fWVsc2V7XG5cdFx0XHRcdGxldCBhcnJheSA9IG5ldyBBcnJheTxhbnk+KCk7XG5cdFx0XHRcdGFycmF5LnB1c2goe2xpc3RlbjpsaXN0ZW4sIHRhcmdldDp0YXJnZXR9KTtcblx0XHRcdFx0dGhpcy5fZXZlbnRMaXN0W2tleV0gPSBhcnJheTtcblx0XHRcdH1cblx0XHR9XG5cblx0XHRwdWJsaWMgb2ZmKGtleTogc3RyaW5nLCBsaXN0ZW5lcj86YW55LCB0YXJnZXQ/OmFueSl7XG5cdFx0XHRpZihsaXN0ZW5lciAhPSBudWxsICYmICEobGlzdGVuZXIgaW5zdGFuY2VvZiBGdW5jdGlvbikpe1xuICAgICAgICAgICAgICAgIHRhcmdldCA9IGxpc3RlbmVyO1xuICAgICAgICAgICAgICAgIGxpc3RlbmVyID0gbnVsbDtcbiAgICAgICAgICAgIH1cblx0XHRcdGlmKHRoaXMuX2V2ZW50TGlzdFtrZXldICE9IG51bGwpe1xuXHRcdFx0XHRpZihsaXN0ZW5lciA9PSBudWxsICYmIHRhcmdldCA9PSBudWxsKXtcblx0XHRcdFx0XHRkZWxldGUgdGhpcy5fZXZlbnRMaXN0W2tleV07XG5cdFx0XHRcdH1lbHNle1xuXHRcdFx0XHRcdGxldCBhcnJheSA9IHRoaXMuX2V2ZW50TGlzdFtrZXldO1xuXHRcdFx0XHRcdGZvcihsZXQgaSA9IGFycmF5Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKXtcblx0XHRcdFx0XHRcdGlmKGxpc3RlbmVyICE9IG51bGwgJiYgdGFyZ2V0ICE9IG51bGwpe1xuXHRcdFx0XHRcdFx0XHRpZihhcnJheVtpXS5saXN0ZW4gPT0gbGlzdGVuZXIgJiYgYXJyYXlbaV0udGFyZ2V0ID09IHRhcmdldCl7XG5cdFx0XHRcdFx0XHRcdFx0YXJyYXkuc3BsaWNlKGksIDEpO1xuXHRcdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0XHR9ZWxzZSBpZihsaXN0ZW5lciAhPSBudWxsICYmIGFycmF5W2ldLmxpc3RlbiA9PSBsaXN0ZW5lcil7XG5cdFx0XHRcdFx0XHRcdGFycmF5LnNwbGljZShpLCAxKTtcblx0XHRcdFx0XHRcdH1lbHNlIGlmKHRhcmdldCAhPSBudWxsICYmIGFycmF5W2ldLnRhcmdldCA9PSB0YXJnZXQpe1xuXHRcdFx0XHRcdFx0XHRhcnJheS5zcGxpY2UoaSwgMSk7XG5cdFx0XHRcdFx0XHR9XG5cdFx0XHRcdFx0fVxuXHRcdFx0XHR9XG5cdFx0XHR9XG5cdFx0fVxuXG5cdFx0cHVibGljIGVtaXQodGFnOiBzdHJpbmcsIC4uLnBhcmFtczogYW55W10pe1xuXHRcdFx0bGV0IHNlbmRPazpib29sZWFuID0gZmFsc2U7XG5cdFx0XHRpZih0aGlzLl9ldmVudExpc3RbdGFnXSAhPSBudWxsKXtcblx0XHRcdFx0bGV0IGFycmF5ID0gdGhpcy5fZXZlbnRMaXN0W3RhZ107XG5cdFx0XHRcdGNvbnNvbGUubG9nKFwiZW1pdCBtZXNzYWdlOiBcIiAsdGFnLCBhcnJheS5sZW5ndGgpO1xuXHRcdFx0XHRmb3IobGV0IGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspe1xuXHRcdFx0XHRcdGxldCBvYmogPSBhcnJheVtpXTtcblx0XHRcdFx0XHRpZihvYmoudGFyZ2V0ICE9IG51bGwpe1xuXHRcdFx0XHRcdFx0aWYob2JqLmxpc3Rlbi5hcHBseShvYmoudGFyZ2V0LCBwYXJhbXMpKVxuXHRcdFx0XHRcdFx0XHRzZW5kT2sgPSB0cnVlXG5cdFx0XHRcdFx0fVxuXHRcdFx0XHRcdGVsc2V7XG5cdFx0XHRcdFx0XHRpZihvYmoubGlzdGVuLmFwcGx5KHRoaXMsIHBhcmFtcykpXG5cdFx0XHRcdFx0XHRcdHNlbmRPayA9IHRydWVcblx0XHRcdFx0XHR9XG5cdFx0XHRcdH1cblx0XHRcdH1cblx0XHRcdHJldHVybiBzZW5kT2sgXG5cdFx0fVxuXG5cdH1cblxuXHRleHBvcnQgdmFyIGV2ZW50ID0gbmV3IEV2ZW50TWFuYWdlcigpOyJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/UIFunctions.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '10205trRZVOELcrvc3TW2mW', 'UIFunctions');
// framework/plugin_boosts/ui/UIFunctions.ts

Object.defineProperty(exports, "__esModule", { value: true });
var UIFunctions = /** @class */ (function () {
    function UIFunctions() {
    }
    UIFunctions.getChildrenAnimations = function (node) {
        var animations = [];
        var anim = node.getComponent(cc.Animation);
        if (anim)
            animations.push(anim);
        for (var i = 0; i < node.childrenCount; i++) {
            var child = node.children[i];
            var anim = child.getComponent(cc.Animation);
            if (anim)
                animations.push(anim);
        }
        return animations;
    };
    UIFunctions.stopAnimations = function (animations) {
        animations.forEach(function (anim) {
            anim.stop();
        });
    };
    UIFunctions.doShowAnimations = function (animations, finishCallback, target) {
        var maxDuration = 0;
        var maxDurationAnimation;
        animations.forEach(function (anim) {
            var clips = anim.getClips();
            if (clips.length > 0) {
                var clip = clips[0];
                var animState = anim.play(clip.name);
                animState.wrapMode = cc.WrapMode.Normal;
                if (clip.duration > maxDuration) {
                    maxDuration = clip.duration;
                    maxDurationAnimation = anim;
                }
            }
        });
        if (finishCallback) {
            var func_1 = function () {
                // console.log("finish animations")
                if (maxDurationAnimation)
                    maxDurationAnimation.off("finished", func_1);
                finishCallback.call(target);
            };
            if (maxDurationAnimation)
                maxDurationAnimation.on("finished", func_1);
            else
                finishCallback.call(target);
        }
    };
    // static getLongestAnimation(animations)
    // {
    //     animations.forEach((anim:cc.Animation)=>{
    //         let clips = anim.getClips()
    //         for (clips)
    //         //以最长的为准
    //     }
    // }
    //TODO:还未实现
    UIFunctions.isAnimationRunning = function (animations) {
        return false;
    };
    UIFunctions.doHideAnimations = function (animations, finishCallback, target) {
        var hasHideAnimation = false;
        var maxDuration = 0;
        var maxDurationAnimation;
        animations.forEach(function (anim) {
            var clips = anim.getClips();
            if (clips.length == 2) {
                var clip = clips[clips.length - 1];
                // anim.on("finished",onHideAnimationFinished)
                hasHideAnimation = true;
                anim.play(clip.name);
                if (clip.duration > maxDuration) {
                    maxDuration = clip.duration;
                    maxDurationAnimation = anim;
                }
            }
            else if (clips.length == 1) {
                var clip = clips[0];
                // clip.wrapMode = cc.WrapMode.Reverse;
                hasHideAnimation = true;
                var animState = anim.play(clip.name);
                animState.wrapMode = cc.WrapMode.Reverse;
                if (clip.duration > maxDuration) {
                    maxDuration = clip.duration;
                    maxDurationAnimation = anim;
                }
            }
        });
        if (maxDurationAnimation && finishCallback) {
            var func_2 = function () {
                // console.log("finish animations")
                maxDurationAnimation.off("finished", func_2);
                finishCallback.call(target);
            };
            maxDurationAnimation.on("finished", func_2);
        }
        return hasHideAnimation;
    };
    UIFunctions.getToggleIndex = function (toggle) {
        var container = toggle.node.getParent();
        for (var i = 0; i < container.childrenCount; i++) {
            var child = container.children[i];
            if (toggle.node == child) {
                return i;
            }
        }
        return -1;
    };
    UIFunctions.selectToggleIndex = function (toggleContainer, index) {
        if (toggleContainer == null) {
            console.warn("[UIFunction.selectToggleIndex] : invalid toggleContainer :");
            return;
        }
        var toggleNode = toggleContainer.children[index];
        if (toggleNode) {
            var toggle = toggleNode.getComponent(cc.Toggle);
            if (toggle) {
                console.log("[UIFunction.selectToggleIndex] :" + index);
                toggle.check();
            }
        }
        else {
            console.warn("[UIFunction.selectToggleIndex] :cannot find toggle with index:" + index);
        }
    };
    // set btn 
    UIFunctions.setTouchEnabled = function (node, b) {
        // g.foreachNode(node,child=>{
        //     let btn:cc.Button = child.getComponent(cc.Button)
        //     if(btn)
        //     {
        //         console.log("[UIFunction] " + child.name + " touch : " + b)
        //         btn.interactable = b;
        //     }
        // })
    };
    UIFunctions.setButtonEnabled = function (btn, b) {
        btn.node.opacity = b ? 255 : 125;
        btn.interactable = b;
    };
    return UIFunctions;
}());
exports.default = UIFunctions;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcVUlGdW5jdGlvbnMudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0lBQUE7SUE2S0EsQ0FBQztJQTFLVSxpQ0FBcUIsR0FBNUIsVUFBNkIsSUFBSTtRQUM3QixJQUFJLFVBQVUsR0FBa0IsRUFBRSxDQUFBO1FBQ2xDLElBQUksSUFBSSxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxDQUFBO1FBQzFDLElBQUcsSUFBSTtZQUNILFVBQVUsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDekIsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxHQUFFLElBQUksQ0FBQyxhQUFhLEVBQUUsQ0FBQyxFQUFFLEVBQzFDO1lBQ0ksSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUM3QixJQUFJLElBQUksR0FBRyxLQUFLLENBQUMsWUFBWSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQTtZQUMzQyxJQUFHLElBQUk7Z0JBQ0gsVUFBVSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtTQUM1QjtRQUNELE9BQU8sVUFBVSxDQUFBO0lBQ3JCLENBQUM7SUFFTSwwQkFBYyxHQUFyQixVQUFzQixVQUFVO1FBRTVCLFVBQVUsQ0FBQyxPQUFPLENBQUMsVUFBQyxJQUFpQjtZQUNqQyxJQUFJLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDaEIsQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0lBRU0sNEJBQWdCLEdBQXZCLFVBQXdCLFVBQVUsRUFBQyxjQUF3QixFQUFDLE1BQU87UUFFL0QsSUFBSSxXQUFXLEdBQUcsQ0FBQyxDQUFFO1FBQ3JCLElBQUksb0JBQWlDLENBQUM7UUFDdEMsVUFBVSxDQUFDLE9BQU8sQ0FBQyxVQUFDLElBQWlCO1lBQ2pDLElBQUks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QUNJLE9BQU8sQ0FBQyxHQUFHLENBQUMsa0NBQWtDLEdBQUcsS0FBSyxDQUFDLENBQUE7Z0JBQ3ZELE1BQU0sQ0FBQyxLQUFLLEVBQUUsQ0FBQTthQUNqQjtTQUNKO2FBQUk7WUFDRCxPQUFPLENBQUMsSUFBSSxDQUFDLGdFQUFnRSxHQUFFLEtBQUssQ0FBQyxDQUFBO1NBQ3hGO0lBQ0wsQ0FBQztJQUVELFdBQVc7SUFDSiwyQkFBZSxHQUF0QixVQUF1QixJQUFJLEVBQUMsQ0FBQztRQUV6Qiw4QkFBOEI7UUFDOUIsd0RBQXdEO1FBQ3hELGNBQWM7UUFDZCxRQUFRO1FBQ1Isc0VBQXNFO1FBQ3RFLGdDQUFnQztRQUNoQyxRQUFRO1FBQ1IsS0FBSztJQUNULENBQUM7SUFFTSw0QkFBZ0IsR0FBdkIsVUFBd0IsR0FBRyxFQUFDLENBQUM7UUFFekIsR0FBRyxDQUFDLElBQUksQ0FBQyxPQUFPLEdBQUcsQ0FBQyxDQUFBLENBQUMsQ0FBQSxHQUFHLENBQUEsQ0FBQyxDQUFBLEdBQUcsQ0FBQztRQUM3QixHQUFHLENBQUMsWUFBWSxHQUFHLENBQUMsQ0FBQTtJQUN4QixDQUFDO0lBRUwsa0JBQUM7QUFBRCxDQTdLQSxBQTZLQyxJQUFBIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgVUlGdW5jdGlvbnNcbntcbiAgICBcbiAgICBzdGF0aWMgZ2V0Q2hpbGRyZW5BbmltYXRpb25zKG5vZGUpOiBjYy5BbmltYXRpb25bXSB7XG4gICAgICAgIGxldCBhbmltYXRpb25zOmNjLkFuaW1hdGlvbltdID0gW11cbiAgICAgICAgdmFyIGFuaW0gPSBub2RlLmdldENvbXBvbmVudChjYy5BbmltYXRpb24pXG4gICAgICAgIGlmKGFuaW0pXG4gICAgICAgICAgICBhbmltYXRpb25zLnB1c2goYW5pbSlcbiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGk8IG5vZGUuY2hpbGRyZW5Db3VudDsgaSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY2hpbGQgPSBub2RlLmNoaWxkcmVuW2ldO1xuICAgICAgICAgICAgdmFyIGFuaW0gPSBjaGlsZC5nZXRDb21wb25lbnQoY2MuQW5pbWF0aW9uKVxuICAgICAgICAgICAgaWYoYW5pbSlcbiAgICAgICAgICAgICAgICBhbmltYXRpb25zLnB1c2goYW5pbSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gYW5pbWF0aW9uc1xuICAgIH1cblxuICAgIHN0YXRpYyBzdG9wQW5pbWF0aW9ucyhhbmltYXRpb25zKVxuICAgIHtcbiAgICAgICAgYW5pbWF0aW9ucy5mb3JFYWNoKChhbmltOmNjLkFuaW1hdGlvbik9PntcbiAgICAgICAgICAgIGFuaW0uc3RvcCgpO1xuICAgICAgICB9KVxuICAgIH1cblxuICAgIHN0YXRpYyBkb1Nob3dBbmltYXRpb25zKGFuaW1hdGlvbnMsZmluaXNoQ2FsbGJhY2s/OkZ1bmN0aW9uLHRhcmdldD8pXG4gICAge1xuICAgICAgICBsZXQgbWF4RHVyYXRpb24gPSAwIDtcbiAgICAgICAgbGV0IG1heER1cmF0aW9uQW5pbWF0aW9uOmNjLkFuaW1hdGlvbjtcbiAgICAgICAgYW5pbWF0aW9ucy5mb3JFYWNoKChhbmltOmNjLkFuaW1hdGlvbik9PntcbiAgICAgICAgICAgIGxldCBjbGlwcyA9IGFuaW0uZ2V0Q2xpcHMoKVxuICAgICAgICAgICAgaWYoY2xpcHMubGVuZ3RoID4gMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBsZXQgY2xpcCA9IGNsaXBzWzBdXG4gICAgICAgICAgICAgICAgbGV0IGFuaW1TdGF0ZSA9IGFuaW0ucGxheShjbGlwLm5hbWUpXG4gICAgICAgICAgICAgICAgYW5pbVN0YXRlLndyYXBNb2RlID0gY2MuV3JhcE1vZGUuTm9ybWFsXG4gICAgICAgICAgICAgICAgaWYgKGNsaXAuZHVyYXRpb24gPiBtYXhEdXJhdGlvbilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG1heER1cmF0aW9uICA9IGNsaXAuZHVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgIG1heER1cmF0aW9uQW5pbWF0aW9uID0gYW5pbTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIGlmIChmaW5pc2hDYWxsYmFjaylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGZ1bmMgPSBmdW5jdGlvbigpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJmaW5pc2ggYW5pbWF0aW9uc1wiKVxuICAgICAgICAgICAgICAgIGlmKG1heER1cmF0aW9uQW5pbWF0aW9uKVxuICAgICAgICAgICAgICAgICAgICBtYXhEdXJhdGlvbkFuaW1hdGlvbi5vZmYoXCJmaW5pc2hlZFwiLGZ1bmMpO1xuICAgICAgICAgICAgICAgIGZpbmlzaENhbGxiYWNrLmNhbGwodGFyZ2V0KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKG1heER1cmF0aW9uQW5pbWF0aW9uKVxuICAgICAgICAgICAgICAgIG1heER1cmF0aW9uQW5pbWF0aW9uLm9uKFwiZmluaXNoZWRcIixmdW5jKTtcbiAgICAgICAgICAgIGVsc2UgXG4gICAgICAgICAgICAgICAgZmluaXNoQ2FsbGJhY2suY2FsbCh0YXJnZXQpO1xuICAgICAgICAgICAgXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzdGF0aWMgZ2V0TG9uZ2VzdEFuaW1hdGlvbihhbmltYXRpb25zKVxuICAgIC8vIHtcbiAgICAvLyAgICAgYW5pbWF0aW9ucy5mb3JFYWNoKChhbmltOmNjLkFuaW1hdGlvbik9PntcbiAgICAvLyAgICAgICAgIGxldCBjbGlwcyA9IGFuaW0uZ2V0Q2xpcHMoKVxuICAgIC8vICAgICAgICAgZm9yIChjbGlwcylcbiAgICAgICAgICAgIFxuICAgIC8vICAgICAgICAgLy/ku6XmnIDplb/nmoTkuLrlh4ZcbiAgICAvLyAgICAgfVxuICAgIC8vIH1cblxuICAgIC8vVE9ETzrov5jmnKrlrp7njrBcbiAgICBzdGF0aWMgaXNBbmltYXRpb25SdW5uaW5nKGFuaW1hdGlvbnM6IGNjLkFuaW1hdGlvbltdKTogYW55IHtcbiAgICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cblxuICAgIHN0YXRpYyBkb0hpZGVBbmltYXRpb25zKGFuaW1hdGlvbnMsZmluaXNoQ2FsbGJhY2s/OkZ1bmN0aW9uLHRhcmdldD8pXG4gICAge1xuICAgICAgICBsZXQgaGFzSGlkZUFuaW1hdGlvbiA9IGZhbHNlO1xuICAgICAgICBsZXQgbWF4RHVyYXRpb24gPSAwIDtcbiAgICAgICAgbGV0IG1heER1cmF0aW9uQW5pbWF0aW9uOmNjLkFuaW1hdGlvbjtcbiAgICAgICAgYW5pbWF0aW9ucy5mb3JFYWNoKChhbmltOmNjLkFuaW1hdGlvbik9PntcbiAgICAgICAgICAgIGxldCBjbGlwcyA9IGFuaW0uZ2V0Q2xpcHMoKVxuICAgICAgICAgICAgaWYoY2xpcHMubGVuZ3RoID09IDIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IGNsaXAgPSBjbGlwc1tjbGlwcy5sZW5ndGgtMV1cbiAgICAgICAgICAgICAgICAvLyBhbmltLm9uKFwiZmluaXNoZWRcIixvbkhpZGVBbmltYXRpb25GaW5pc2hlZClcbiAgICAgICAgICAgICAgICBoYXNIaWRlQW5pbWF0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBhbmltLnBsYXkoY2xpcC5uYW1lKVxuICAgICAgICAgICAgICAgIGlmIChjbGlwLmR1cmF0aW9uID4gbWF4RHVyYXRpb24pXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBtYXhEdXJhdGlvbiAgPSBjbGlwLmR1cmF0aW9uO1xuICAgICAgICAgICAgICAgICAgICBtYXhEdXJhdGlvbkFuaW1hdGlvbiA9IGFuaW07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfWVsc2UgaWYoY2xpcHMubGVuZ3RoID09IDEpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IGNsaXAgPSBjbGlwc1swXTtcbiAgICAgICAgICAgICAgICAvLyBjbGlwLndyYXBNb2RlID0gY2MuV3JhcE1vZGUuUmV2ZXJzZTtcbiAgICAgICAgICAgICAgICBoYXNIaWRlQW5pbWF0aW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICBsZXQgYW5pbVN0YXRlID0gYW5pbS5wbGF5KGNsaXAubmFtZSlcbiAgICAgICAgICAgICAgICBhbmltU3RhdGUud3JhcE1vZGUgPSBjYy5XcmFwTW9kZS5SZXZlcnNlXG4gICAgICAgICAgICAgICAgaWYgKGNsaXAuZHVyYXRpb24gPiBtYXhEdXJhdGlvbilcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIG1heER1cmF0aW9uICA9IGNsaXAuZHVyYXRpb247XG4gICAgICAgICAgICAgICAgICAgIG1heER1cmF0aW9uQW5pbWF0aW9uID0gYW5pbTtcbiAgICAgICAgICAgICAgICB9ICAgXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pXG4gICAgICAgIGlmIChtYXhEdXJhdGlvbkFuaW1hdGlvbiAmJiBmaW5pc2hDYWxsYmFjaylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGZ1bmMgPSBmdW5jdGlvbigpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJmaW5pc2ggYW5pbWF0aW9uc1wiKVxuICAgICAgICAgICAgICAgIG1heER1cmF0aW9uQW5pbWF0aW9uLm9mZihcImZpbmlzaGVkXCIsZnVuYyk7XG4gICAgICAgICAgICAgICAgZmluaXNoQ2FsbGJhY2suY2FsbCh0YXJnZXQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbWF4RHVyYXRpb25BbmltYXRpb24ub24oXCJmaW5pc2hlZFwiLGZ1bmMpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBoYXNIaWRlQW5pbWF0aW9uO1xuICAgIH1cblxuICAgIHN0YXRpYyBnZXRUb2dnbGVJbmRleCh0b2dnbGU6Y2MuVG9nZ2xlKVxuICAgIHtcbiAgICAgICAgbGV0IGNvbnRhaW5lciA9IHRvZ2dsZS5ub2RlLmdldFBhcmVudCgpO1xuICAgICAgICBmb3IgKHZhciBpID0gMCA7aSA8IGNvbnRhaW5lci5jaGlsZHJlbkNvdW50O2krKylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGNoaWxkID0gY29udGFpbmVyLmNoaWxkcmVuW2ldXG4gICAgICAgICAgICBpZih0b2dnbGUubm9kZSA9PSBjaGlsZCApXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIC0xO1xuICAgIH1cblxuICAgIHN0YXRpYyBzZWxlY3RUb2dnbGVJbmRleCh0b2dnbGVDb250YWluZXI6Y2MuTm9kZSxpbmRleClcbiAgICB7XG4gICAgICAgIGlmKHRvZ2dsZUNvbnRhaW5lciA9PSBudWxsKSB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJbVUlGdW5jdGlvbi5zZWxlY3RUb2dnbGVJbmRleF0gOiBpbnZhbGlkIHRvZ2dsZUNvbnRhaW5lciA6XCIgKVxuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGxldCB0b2dnbGVOb2RlID0gdG9nZ2xlQ29udGFpbmVyLmNoaWxkcmVuW2luZGV4XVxuICAgICAgICBpZih0b2dnbGVOb2RlKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgdG9nZ2xlID0gdG9nZ2xlTm9kZS5nZXRDb21wb25lbnQoY2MuVG9nZ2xlKVxuICAgICAgICAgICAgaWYodG9nZ2xlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiW1VJRnVuY3Rpb24uc2VsZWN0VG9nZ2xlSW5kZXhdIDpcIiArIGluZGV4KVxuICAgICAgICAgICAgICAgIHRvZ2dsZS5jaGVjaygpXG4gICAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgY29uc29sZS53YXJuKFwiW1VJRnVuY3Rpb24uc2VsZWN0VG9nZ2xlSW5kZXhdIDpjYW5ub3QgZmluZCB0b2dnbGUgd2l0aCBpbmRleDpcIisgaW5kZXgpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICAvLyBzZXQgYnRuIFxuICAgIHN0YXRpYyBzZXRUb3VjaEVuYWJsZWQobm9kZSxiKVxuICAgIHtcbiAgICAgICAgLy8gZy5mb3JlYWNoTm9kZShub2RlLGNoaWxkPT57XG4gICAgICAgIC8vICAgICBsZXQgYnRuOmNjLkJ1dHRvbiA9IGNoaWxkLmdldENvbXBvbmVudChjYy5CdXR0b24pXG4gICAgICAgIC8vICAgICBpZihidG4pXG4gICAgICAgIC8vICAgICB7XG4gICAgICAgIC8vICAgICAgICAgY29uc29sZS5sb2coXCJbVUlGdW5jdGlvbl0gXCIgKyBjaGlsZC5uYW1lICsgXCIgdG91Y2ggOiBcIiArIGIpXG4gICAgICAgIC8vICAgICAgICAgYnRuLmludGVyYWN0YWJsZSA9IGI7XG4gICAgICAgIC8vICAgICB9XG4gICAgICAgIC8vIH0pXG4gICAgfVxuXG4gICAgc3RhdGljIHNldEJ1dHRvbkVuYWJsZWQoYnRuLGIpXG4gICAge1xuICAgICAgICBidG4ubm9kZS5vcGFjaXR5ID0gYj8yNTU6MTI1O1xuICAgICAgICBidG4uaW50ZXJhY3RhYmxlID0gYlxuICAgIH1cblxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/DCPandoraPoint.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '7213alSGlhOObvGLLyQvhtZ', 'DCPandoraPoint');
// framework/plugin_boosts/ui/DCPandoraPoint.ts

Object.defineProperty(exports, "__esModule", { value: true });
var DCUI_1 = require("./DCUI");
var PandoraPoint_1 = require("./PandoraPoint");
// Learn TypeScript:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/typescript.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/typescript.html
// Learn Attribute:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/reference/attributes.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - [Chinese] http://docs.cocos.com/creator/manual/zh/scripting/life-cycle-callbacks.html
//  - [English] http://www.cocos2d-x.org/docs/creator/manual/en/scripting/life-cycle-callbacks.html
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var DCPandoraPoint = /** @class */ (function (_super) {
    __extends(DCPandoraPoint, _super);
    function DCPandoraPoint() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DCPandoraPoint.prototype.onLoad = function () {
        this.point = this.getComponent(PandoraPoint_1.default);
    };
    DCPandoraPoint.prototype.onValueChanged = function (v) {
        this.point.setNumber(v);
    };
    DCPandoraPoint = __decorate([
        ccclass
    ], DCPandoraPoint);
    return DCPandoraPoint;
}(DCUI_1.default));
exports.default = DCPandoraPoint;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcRENQYW5kb3JhUG9pbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLCtCQUEwQjtBQUMxQiwrQ0FBMEM7QUFFMUMsb0JBQW9CO0FBQ3BCLGlGQUFpRjtBQUNqRix5RkFBeUY7QUFDekYsbUJBQW1CO0FBQ25CLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFDbkcsOEJBQThCO0FBQzlCLDJGQUEyRjtBQUMzRixtR0FBbUc7QUFFN0YsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBNEMsa0NBQUk7SUFBaEQ7O0lBZUEsQ0FBQztJQVpHLCtCQUFNLEdBQU47UUFFSSxJQUFJLENBQUMsS0FBSyxHQUFHLElBQUksQ0FBQyxZQUFZLENBQUMsc0JBQVksQ0FBQyxDQUFDO0lBQ2pELENBQUM7SUFFRCx1Q0FBYyxHQUFkLFVBQWUsQ0FBQztRQUVaLElBQUksQ0FBQyxLQUFLLENBQUMsU0FBUyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFYZ0IsY0FBYztRQURsQyxPQUFPO09BQ2EsY0FBYyxDQWVsQztJQUFELHFCQUFDO0NBZkQsQUFlQyxDQWYyQyxjQUFJLEdBZS9DO2tCQWZvQixjQUFjIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERDVUkgZnJvbSBcIi4vRENVSVwiO1xuaW1wb3J0IFBhbmRvcmFQb2ludCBmcm9tIFwiLi9QYW5kb3JhUG9pbnRcIjtcblxuLy8gTGVhcm4gVHlwZVNjcmlwdDpcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3R5cGVzY3JpcHQuaHRtbFxuLy8gIC0gW0VuZ2xpc2hdIGh0dHA6Ly93d3cuY29jb3MyZC14Lm9yZy9kb2NzL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy90eXBlc2NyaXB0Lmh0bWxcbi8vIExlYXJuIEF0dHJpYnV0ZTpcbi8vICAtIFtDaGluZXNlXSBodHRwOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvemgvc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcbi8vICAtIFtFbmdsaXNoXSBodHRwOi8vd3d3LmNvY29zMmQteC5vcmcvZG9jcy9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvcmVmZXJlbmNlL2F0dHJpYnV0ZXMuaHRtbFxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XG4vLyAgLSBbQ2hpbmVzZV0gaHR0cDovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL3poL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXG4vLyAgLSBbRW5nbGlzaF0gaHR0cDovL3d3dy5jb2NvczJkLXgub3JnL2RvY3MvY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEQ1BhbmRvcmFQb2ludCBleHRlbmRzIERDVUkge1xuXG4gICAgcG9pbnQ6UGFuZG9yYVBvaW50O1xuICAgIG9uTG9hZCgpXG4gICAge1xuICAgICAgICB0aGlzLnBvaW50ID0gdGhpcy5nZXRDb21wb25lbnQoUGFuZG9yYVBvaW50KTtcbiAgICB9XG5cbiAgICBvblZhbHVlQ2hhbmdlZCh2KVxuICAgIHtcbiAgICAgICAgdGhpcy5wb2ludC5zZXROdW1iZXIodik7XG4gICAgfVxuICAgXG5cbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/MessageBoxManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'bc48cBqkERHuJx+iKzOzwOV', 'MessageBoxManager');
// framework/plugin_boosts/ui/MessageBoxManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.MessageBox = void 0;
var ViewManager_1 = require("./ViewManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var MessageBoxManager = /** @class */ (function (_super) {
    __extends(MessageBoxManager, _super);
    function MessageBoxManager() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.prefab = null;
        return _this;
    }
    MessageBoxManager_1 = MessageBoxManager;
    MessageBoxManager.prototype.onLoad = function () {
        MessageBoxManager_1.instance = this;
    };
    var MessageBoxManager_1;
    MessageBoxManager.instance = null;
    __decorate([
        property(cc.Prefab)
    ], MessageBoxManager.prototype, "prefab", void 0);
    MessageBoxManager = MessageBoxManager_1 = __decorate([
        ccclass
    ], MessageBoxManager);
    return MessageBoxManager;
}(cc.Component));
exports.default = MessageBoxManager;
var MessageBox = /** @class */ (function () {
    function MessageBox() {
    }
    MessageBox.prototype.start = function () {
    };
    //////////////////////////////////////////////////////////////////////////////////////////////////////////
    // static UIPath:string = "plugin_boosts/ui/MessageBox"
    MessageBox.show = function (content, title, buttons, extra) {
        title = (title == null || title == undefined) ? "提示" : title;
        return new Promise(function (resolve, reject) {
            ViewManager_1.default.instance.showFromPrefab(MessageBoxManager.instance.prefab, "MessageBox", {
                title: title,
                content: content,
                buttons: buttons,
                extra: extra,
                callback: function (code) {
                    resolve(code);
                }
            });
        });
    };
    // LIFE-CYCLE CALLBACKS:
    // onLoad () {}
    MessageBox.OK = 1;
    MessageBox.CANCEL = 0;
    MessageBox.OK_CANCEL = 2;
    return MessageBox;
}());
exports.MessageBox = MessageBox;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcTWVzc2FnZUJveE1hbmFnZXIudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw2Q0FBd0M7QUFFbEMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFJMUM7SUFBK0MscUNBQVk7SUFBM0Q7UUFBQSxxRUFTQztRQU5HLFlBQU0sR0FBYSxJQUFJLENBQUM7O0lBTTVCLENBQUM7MEJBVG9CLGlCQUFpQjtJQU1sQyxrQ0FBTSxHQUFOO1FBQ0ksbUJBQWlCLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztJQUN0QyxDQUFDOztJQUhNLDBCQUFRLEdBQXFCLElBQUksQ0FBQztJQUZ6QztRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO3FEQUNJO0lBSFAsaUJBQWlCO1FBSHJDLE9BQU87T0FHYSxpQkFBaUIsQ0FTckM7SUFBRCx3QkFBQztDQVRELEFBU0MsQ0FUOEMsRUFBRSxDQUFDLFNBQVMsR0FTMUQ7a0JBVG9CLGlCQUFpQjtBQVd0QztJQUFBO0lBZ0NBLENBQUM7SUF2QkcsMEJBQUssR0FBTDtJQUVBLENBQUM7SUFFRCwwR0FBMEc7SUFDMUcsdURBQXVEO0lBQ2hELGVBQUksR0FBWCxVQUFZLE9BQU8sRUFBRSxLQUFNLEVBQUMsT0FBUSxFQUFDLEtBQU07UUFFdkMsS0FBSyxHQUFHLENBQUMsS0FBSyxJQUFJLElBQUksSUFBSSxLQUFLLElBQUksU0FBUyxDQUFFLENBQUEsQ0FBQyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUEsS0FBSyxDQUFBO1FBQzNELE9BQU8sSUFBSSxPQUFPLENBQVMsVUFBQyxPQUFPLEVBQUMsTUFBTTtZQUN0QyxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxjQUFjLENBQUMsaUJBQWlCLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBQyxZQUFZLEVBQUM7Z0JBQy9FLEtBQUssT0FBQTtnQkFDTCxPQUFPLFNBQUE7Z0JBQ1AsT0FBTyxTQUFBO2dCQUNQLEtBQUssT0FBQTtnQkFDTCxRQUFRLEVBQUMsVUFBQSxJQUFJO29CQUNULE9BQU8sQ0FBQyxJQUFJLENBQUMsQ0FBQTtnQkFDakIsQ0FBQzthQUNKLENBQUMsQ0FBQTtRQUNOLENBQUMsQ0FBQyxDQUFBO0lBQ04sQ0FBQztJQTNCRCx3QkFBd0I7SUFDeEIsZUFBZTtJQUNSLGFBQUUsR0FBVSxDQUFDLENBQUM7SUFDZCxpQkFBTSxHQUFVLENBQUMsQ0FBQztJQUVsQixvQkFBUyxHQUFVLENBQUMsQ0FBQztJQXlCaEMsaUJBQUM7Q0FoQ0QsQUFnQ0MsSUFBQTtBQWhDWSxnQ0FBVSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBWaWV3TWFuYWdlciBmcm9tIFwiLi9WaWV3TWFuYWdlclwiO1xuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcbkBjY2NsYXNzXG5cblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTWVzc2FnZUJveE1hbmFnZXIgZXh0ZW5kcyBjYy5Db21wb25lbnRcbntcbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxuICAgIHByZWZhYjpjYy5QcmVmYWIgPSBudWxsO1xuICAgIFxuICAgIHN0YXRpYyBpbnN0YW5jZTpNZXNzYWdlQm94TWFuYWdlciA9IG51bGw7XG4gICAgb25Mb2FkICgpIHtcbiAgICAgICAgTWVzc2FnZUJveE1hbmFnZXIuaW5zdGFuY2UgPSB0aGlzO1xuICAgIH1cbn1cblxuZXhwb3J0IGNsYXNzIE1lc3NhZ2VCb3ggIHtcblxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxuICAgIC8vIG9uTG9hZCAoKSB7fVxuICAgIHN0YXRpYyBPSzpudW1iZXIgPSAxO1xuICAgIHN0YXRpYyBDQU5DRUw6bnVtYmVyID0gMDtcblxuICAgIHN0YXRpYyBPS19DQU5DRUw6bnVtYmVyID0gMjtcblxuICAgIHN0YXJ0ICgpIHtcblxuICAgIH1cblxuICAgIC8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy8vLy9cbiAgICAvLyBzdGF0aWMgVUlQYXRoOnN0cmluZyA9IFwicGx1Z2luX2Jvb3N0cy91aS9NZXNzYWdlQm94XCJcbiAgICBzdGF0aWMgc2hvdyhjb250ZW50ICx0aXRsZT8sYnV0dG9ucz8sZXh0cmE/KTpQcm9taXNlPG51bWJlcj5cbiAgICB7XG4gICAgICAgIHRpdGxlID0gKHRpdGxlID09IG51bGwgfHwgdGl0bGUgPT0gdW5kZWZpbmVkICk/IFwi5o+Q56S6XCIgOnRpdGxlXG4gICAgICAgIHJldHVybiBuZXcgUHJvbWlzZTxudW1iZXI+KChyZXNvbHZlLHJlamVjdCk9PntcbiAgICAgICAgICAgIFZpZXdNYW5hZ2VyLmluc3RhbmNlLnNob3dGcm9tUHJlZmFiKE1lc3NhZ2VCb3hNYW5hZ2VyLmluc3RhbmNlLnByZWZhYixcIk1lc3NhZ2VCb3hcIix7XG4gICAgICAgICAgICAgICAgdGl0bGUsXG4gICAgICAgICAgICAgICAgY29udGVudCxcbiAgICAgICAgICAgICAgICBidXR0b25zLFxuICAgICAgICAgICAgICAgIGV4dHJhLFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrOmNvZGU9PntcbiAgICAgICAgICAgICAgICAgICAgcmVzb2x2ZShjb2RlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pXG4gICAgICAgIH0pXG4gICAgfVxuXG4gICAgLy8gdXBkYXRlIChkdCkge31cbn1cbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/DCUI.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e4171eQC3dMO4x8/Td1XV1Y', 'DCUI');
// framework/plugin_boosts/ui/DCUI.ts

Object.defineProperty(exports, "__esModule", { value: true });
var DataCenter_1 = require("../misc/DataCenter");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var DCUI = /** @class */ (function (_super) {
    __extends(DCUI, _super);
    function DCUI() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.dataBind = "";
        return _this;
    }
    DCUI.prototype.onLoad = function () {
    };
    DCUI.prototype.setDCKey = function (k) {
        this.dataBind = k;
        this.setListener();
    };
    DCUI.prototype.setListener = function () {
        DataCenter_1.default.off(this.dataBind, this.dataChanged, this);
        DataCenter_1.default.on(this.dataBind, this.dataChanged, this);
    };
    DCUI.prototype.onValueChanged = function (v) {
    };
    DCUI.prototype.setDCValue = function (v) {
        DataCenter_1.default.set(this.dataBind, v);
    };
    DCUI.prototype.dataChanged = function (v, old) {
        this.onValueChanged(v);
    };
    DCUI.prototype.onEnable = function () {
        this.setListener();
        this.onValueChanged(DataCenter_1.default.get(this.dataBind));
    };
    DCUI.prototype.onDisable = function () {
        DataCenter_1.default.off(this.dataBind, this.dataChanged, this);
    };
    __decorate([
        property()
    ], DCUI.prototype, "dataBind", void 0);
    DCUI = __decorate([
        ccclass
    ], DCUI);
    return DCUI;
}(cc.Component));
exports.default = DCUI;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcRENVSS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsaURBQTRDO0FBRXRDLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQWtDLHdCQUFZO0lBQTlDO1FBQUEscUVBMkNDO1FBeENHLGNBQVEsR0FBVyxFQUFFLENBQUM7O0lBd0MxQixDQUFDO0lBdkNHLHFCQUFNLEdBQU47SUFFQSxDQUFDO0lBRUQsdUJBQVEsR0FBUixVQUFTLENBQUM7UUFFTixJQUFJLENBQUMsUUFBUSxHQUFHLENBQUMsQ0FBQztRQUNsQixJQUFJLENBQUMsV0FBVyxFQUFFLENBQUE7SUFDdEIsQ0FBQztJQUdELDBCQUFXLEdBQVg7UUFFSSxvQkFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFDLElBQUksQ0FBQyxXQUFXLEVBQUMsSUFBSSxDQUFDLENBQUE7UUFDbkQsb0JBQVUsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLFFBQVEsRUFBQyxJQUFJLENBQUMsV0FBVyxFQUFDLElBQUksQ0FBQyxDQUFBO0lBQ3RELENBQUM7SUFFRCw2QkFBYyxHQUFkLFVBQWUsQ0FBQztJQUVoQixDQUFDO0lBRUQseUJBQVUsR0FBVixVQUFXLENBQUM7UUFFUixvQkFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFFLENBQUMsQ0FBQyxDQUFDO0lBQ3JDLENBQUM7SUFFRCwwQkFBVyxHQUFYLFVBQVksQ0FBQyxFQUFDLEdBQUc7UUFDYixJQUFJLENBQUMsY0FBYyxDQUFDLENBQUMsQ0FBQyxDQUFDO0lBQzNCLENBQUM7SUFFRCx1QkFBUSxHQUFSO1FBQ0ksSUFBSSxDQUFDLFdBQVcsRUFBRSxDQUFBO1FBQ2xCLElBQUksQ0FBQyxjQUFjLENBQUMsb0JBQVUsQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUM7SUFDdkQsQ0FBQztJQUVELHdCQUFTLEdBQVQ7UUFFSSxvQkFBVSxDQUFDLEdBQUcsQ0FBQyxJQUFJLENBQUMsUUFBUSxFQUFDLElBQUksQ0FBQyxXQUFXLEVBQUMsSUFBSSxDQUFDLENBQUE7SUFDdkQsQ0FBQztJQXZDRDtRQURDLFFBQVEsRUFBRTswQ0FDVztJQUhMLElBQUk7UUFEeEIsT0FBTztPQUNhLElBQUksQ0EyQ3hCO0lBQUQsV0FBQztDQTNDRCxBQTJDQyxDQTNDaUMsRUFBRSxDQUFDLFNBQVMsR0EyQzdDO2tCQTNDb0IsSUFBSSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEYXRhQ2VudGVyIGZyb20gXCIuLi9taXNjL0RhdGFDZW50ZXJcIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEQ1VJIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIEBwcm9wZXJ0eSgpXG4gICAgZGF0YUJpbmQ6IHN0cmluZyA9IFwiXCI7XG4gICAgb25Mb2FkKClcbiAgICB7XG4gICAgfVxuXG4gICAgc2V0RENLZXkoaylcbiAgICB7XG4gICAgICAgIHRoaXMuZGF0YUJpbmQgPSBrO1xuICAgICAgICB0aGlzLnNldExpc3RlbmVyKClcbiAgICB9XG5cblxuICAgIHNldExpc3RlbmVyKClcbiAgICB7XG4gICAgICAgIERhdGFDZW50ZXIub2ZmKHRoaXMuZGF0YUJpbmQsdGhpcy5kYXRhQ2hhbmdlZCx0aGlzKVxuICAgICAgICBEYXRhQ2VudGVyLm9uKHRoaXMuZGF0YUJpbmQsdGhpcy5kYXRhQ2hhbmdlZCx0aGlzKVxuICAgIH1cblxuICAgIG9uVmFsdWVDaGFuZ2VkKHYpXG4gICAge1xuICAgIH1cblxuICAgIHNldERDVmFsdWUodilcbiAgICB7XG4gICAgICAgIERhdGFDZW50ZXIuc2V0KHRoaXMuZGF0YUJpbmQsIHYpO1xuICAgIH1cblxuICAgIGRhdGFDaGFuZ2VkKHYsb2xkKTogYW55IHtcbiAgICAgICAgdGhpcy5vblZhbHVlQ2hhbmdlZCh2KTtcbiAgICB9XG5cbiAgICBvbkVuYWJsZSAoKSB7XG4gICAgICAgIHRoaXMuc2V0TGlzdGVuZXIoKVxuICAgICAgICB0aGlzLm9uVmFsdWVDaGFuZ2VkKERhdGFDZW50ZXIuZ2V0KHRoaXMuZGF0YUJpbmQpKTtcbiAgICB9XG5cbiAgICBvbkRpc2FibGUoKVxuICAgIHtcbiAgICAgICAgRGF0YUNlbnRlci5vZmYodGhpcy5kYXRhQmluZCx0aGlzLmRhdGFDaGFuZ2VkLHRoaXMpXG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/gamesys/FSM.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '83f52qrCghNrKS6jOC/j6I0', 'FSM');
// framework/plugin_boosts/gamesys/FSM.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.State = void 0;
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var State = /** @class */ (function () {
    function State(id, name) {
        this.__interval_callbacks = [];
        this.interval_id = 0;
        this.id = id;
        this.name = name;
    }
    State.prototype.onEnter = function (params) { };
    State.prototype.onExit = function () { };
    State.prototype.onUpdate = function (dt) { };
    //messages 
    State.prototype.on = function () { };
    State.prototype.off = function () { };
    State.prototype.clearIntervals = function () {
        this.__interval_callbacks.splice(0, this.__interval_callbacks.length);
    };
    State.prototype.setInterval = function (interval, callback, target) {
        var id = ++this.interval_id;
        var timer = 0;
        this.__interval_callbacks.push({ id: id, callback: callback, target: target, interval: interval, timer: timer });
        return id;
    };
    State.prototype.clearInterval = function (id) {
        this.__interval_callbacks.splice(this.__interval_callbacks.indexOf(id));
    };
    State.prototype.setTimeout = function (delay, callback, target) {
        var id = ++this.interval_id;
        var timer = 0;
        this.__interval_callbacks.push({ id: id, callback: callback, target: target, delay: delay, timer: timer });
        return id;
    };
    State.prototype.clearTimeout = function (id) {
        this.clearInterval(id);
    };
    State.prototype.invokeIntervals = function (dt) {
        for (var i = 0; i < this.__interval_callbacks.length; i++) {
            var element = this.__interval_callbacks[i];
            element.timer = element.timer + dt;
            if (element.interval) {
                if (element.timer >= element.interval) {
                    element.timer = 0;
                    // call
                    element.callback.call(element.target);
                }
            }
            else if (element.delay) {
                if (element.timer >= element.delay) {
                    // call
                    element.callback.call(element.target);
                    this.__interval_callbacks.splice(i);
                    i--;
                }
            }
        }
    };
    return State;
}());
exports.State = State;
var CustomState = /** @class */ (function (_super) {
    __extends(CustomState, _super);
    function CustomState(target, id, name, pattern) {
        var _this = _super.call(this, id, name) || this;
        var enterName = cc.js.formatStr(pattern, "onEnter", _this.name);
        var updateName = cc.js.formatStr(pattern, "onUpdate", _this.name);
        var exitName = cc.js.formatStr(pattern, "onExit", _this.name);
        _this.__target = target;
        _this.__enterFunc = _this.__target[enterName];
        _this.__updateFunc = _this.__target[updateName];
        _this.__exitFunc = _this.__target[exitName];
        return _this;
    }
    CustomState.prototype.onEnter = function (params) {
        this.clearIntervals();
        if (this.__enterFunc) {
            this.__enterFunc.call(this.__target, this, params);
        }
    };
    CustomState.prototype.onExit = function () {
        if (this.__exitFunc) {
            this.__exitFunc.call(this.__target, this);
        }
    };
    CustomState.prototype.onUpdate = function (dt) {
        this.invokeIntervals(dt);
        if (this.__updateFunc) {
            this.__updateFunc.call(this.__target, this, dt);
        }
    };
    return CustomState;
}(State));
var FSM = /** @class */ (function (_super) {
    __extends(FSM, _super);
    function FSM() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.timeElapsed = 0;
        _this._states = {};
        _this._isPaused = false;
        _this.log = false;
        return _this;
    }
    Object.defineProperty(FSM.prototype, "target", {
        get: function () {
            return this._target;
        },
        enumerable: false,
        configurable: true
    });
    FSM.prototype.init = function (target) {
        this._target = target;
        this.timeElapsed = 0;
    };
    FSM.prototype.getState = function (stateId) {
        return this._states[stateId];
    };
    FSM.prototype.getCurrentState = function () {
        return this.c;
    };
    FSM.prototype.getPreviousState = function () {
        return this.p;
    };
    FSM.prototype.addStates = function (states, callbackNamePattern) {
        if (callbackNamePattern === void 0) { callbackNamePattern = "%s_%sState"; }
        var keys = Object.keys(states);
        var enumLen = (keys.length / 2);
        this.namePattern = callbackNamePattern;
        for (var i = 0; i < enumLen; i++) {
            var key = keys[i];
            var value = states[key];
            this.addState(key, value);
        }
    };
    FSM.prototype.addState = function (id, name, enterCallback, exitCallback, updateCallback, target) {
        if (this.log)
            console.log("[FSM]" + this.target.__classname__ + "(" + this.target.name + ")" + " Add State :", id, name);
        var state = new CustomState(this.target, id, name, this.namePattern);
        this._states[id] = state;
        if (enterCallback)
            state.__enterFunc = enterCallback;
        if (exitCallback)
            state.__exitFunc = exitCallback;
        if (updateCallback)
            state.__updateFunc = updateCallback;
        if (target)
            state.__target = target;
    };
    /**
     * first state
     * @param: state index or State
     */
    FSM.prototype.enterState = function (stateId, params) {
        this.timeElapsed = 0;
        var state = this._states[stateId];
        this.c = state;
        state.onEnter(params);
        if (this.log)
            console.log("[FSM]" + this.target.__classname__ + " First State:", state.name);
    };
    FSM.prototype.revertState = function () {
        this.changeState(this.p.id);
    };
    FSM.prototype.pause = function () {
        this._isPaused = true;
    };
    FSM.prototype.resume = function () {
        this._isPaused = false;
    };
    FSM.prototype.resetCurrentState = function () {
        this.timeElapsed = 0;
        console.log(cc.js.formatStr("[FSM] %s reset currentState", this.target.__classname__));
        this.c.onExit();
        this.c.onEnter();
    };
    FSM.prototype.changeState = function (stateId, params) {
        var state = this._states[stateId];
        if (state == null) {
            console.warn("[FSM] invalid state for stateId " + stateId + " of : " + this.target.__classname__);
            return;
        }
        if (this._isPaused) {
            console.warn("[FSM] fsm is paused ! " + this.target.__classname__ + " changeState to <" + state.name + "> failed!");
            return;
        }
        if (stateId == this.c.id)
            return;
        this.timeElapsed = 0;
        this.c.onExit();
        this.p = this.c;
        this.c = state;
        if (this.log)
            console.log(cc.js.formatStr("[FSM] %s (%s): %s -> %s", this.target.__classname__, this.name, this.p.name, state.name));
        this.c.onEnter(params);
    };
    FSM.prototype.isInState = function (stateId) {
        return this.c == this._states[stateId];
    };
    FSM.prototype.update = function (dt) {
        if (this._isPaused)
            return;
        if (FSM.debug)
            dt = 0.016; // use real deta
        this.timeElapsed += dt;
        if (this.c)
            this.c.onUpdate(dt);
    };
    FSM.debug = false;
    return FSM;
}(cc.Component));
exports.default = FSM;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFxnYW1lc3lzXFxGU00udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDTSxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUUxQztJQUtJLGVBQVksRUFBRyxFQUFDLElBQUs7UUFZckIseUJBQW9CLEdBQUcsRUFBRSxDQUFBO1FBT3pCLGdCQUFXLEdBQVUsQ0FBQyxDQUFDO1FBakJuQixJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3JCLENBQUM7SUFDRCx1QkFBTyxHQUFQLFVBQVEsTUFBTyxJQUFFLENBQUM7SUFDbEIsc0JBQU0sR0FBTixjQUFTLENBQUM7SUFDVix3QkFBUSxHQUFSLFVBQVMsRUFBRSxJQUFFLENBQUM7SUFDZCxXQUFXO0lBQ1gsa0JBQUUsR0FBRixjQUFLLENBQUM7SUFDTixtQkFBRyxHQUFILGNBQU0sQ0FBQztJQUlQLDhCQUFjLEdBQWQ7UUFFSSxJQUFJLENBQUMsb0JBQW9CLENBQUMsTUFBTSxDQUFDLENBQUMsRUFBRSxJQUFJLENBQUMsb0JBQW9CLENBQUMsTUFBTSxDQUFDLENBQUE7SUFDekUsQ0FBQztJQUlELDJCQUFXLEdBQVgsVUFBWSxRQUFRLEVBQUMsUUFBUSxFQUFDLE1BQU87UUFFakMsSUFBSSxFQUFFLEdBQUcsRUFBRyxJQUFJLENBQUMsV0FBVyxDQUFDO1FBQzdCLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQztRQUNkLElBQUksQ0FBQyxvQkFBb0IsQ0FBQyxJQUFJLENBQUMsRUFBQyxFQUFFLElBQUEsRUFBQyxRQUFRLFVBQUEsRUFBQyxNQUFNLFFBQUEsRUFBQyxRQUFRLFVBQUEsRUFBQyxLQUFLLE9BQUEsRUFBQyxDQUFDLENBQUM7UUFDcEUsT0FBTyxFQUFFLENBQUM7SUFD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QztRQUNoQixJQUFJLENBQUMsQ0FBQyxHQUFHLEtBQUssQ0FBQztRQUNmLElBQUcsSUFBSSxDQUFDLEdBQUc7WUFDUCxPQUFPLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLHlCQUF5QixFQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsYUFBYSxFQUFDLElBQUksQ0FBQyxJQUFJLEVBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxJQUFJLEVBQUcsS0FBSyxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUE7UUFDeEgsSUFBSSxDQUFDLENBQUMsQ0FBQyxPQUFPLENBQUMsTUFBTSxDQUFDLENBQUM7SUFFM0IsQ0FBQztJQUVELHVCQUFTLEdBQVQsVUFBVSxPQUFPO1FBRWIsT0FBTyxJQUFJLENBQUMsQ0FBQyxJQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsT0FBTyxDQUFDLENBQUE7SUFDMUMsQ0FBQztJQUVELG9CQUFNLEdBQU4sVUFBTyxFQUFFO1FBRUwsSUFBRyxJQUFJLENBQUMsU0FBUztZQUFFLE9BQU87UUFDMUIsSUFBRyxHQUFHLENBQUMsS0FBSztZQUNSLEVBQUUsR0FBRyxLQUFLLENBQUUsQ0FBQyxnQkFBZ0I7UUFDakMsSUFBSSxDQUFDLFdBQVcsSUFBSSxFQUFFLENBQUM7UUFDdkIsSUFBRyxJQUFJLENBQUMsQ0FBQztZQUNMLElBQUksQ0FBQyxDQUFDLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxDQUFDO0lBQzVCLENBQUM7SUFUTSxTQUFLLEdBQUcsS0FBSyxDQUFDO0lBWXpCLFVBQUM7Q0F4SkQsQUF3SkMsQ0F4SmdDLEVBQUUsQ0FBQyxTQUFTLEdBd0o1QztrQkF4Sm9CLEdBQUciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5leHBvcnQgY2xhc3MgU3RhdGUgXG57XG4gICAgbmFtZTpzdHJpbmc7XG4gICAgaWQ6IG51bWJlcjtcblxuICAgIGNvbnN0cnVjdG9yKGlkPyxuYW1lPylcbiAgICB7XG4gICAgICAgIHRoaXMuaWQgPSBpZDtcbiAgICAgICAgdGhpcy5uYW1lID0gbmFtZTtcbiAgICB9XG4gICAgb25FbnRlcihwYXJhbXM/KXt9XG4gICAgb25FeGl0KCl7fVxuICAgIG9uVXBkYXRlKGR0KXt9XG4gICAgLy9tZXNzYWdlcyBcbiAgICBvbigpe31cbiAgICBvZmYoKXt9XG5cbiAgICBfX2ludGVydmFsX2NhbGxiYWNrcyA9IFtdXG5cbiAgICBjbGVhckludGVydmFscygpXG4gICAge1xuICAgICAgICB0aGlzLl9faW50ZXJ2YWxfY2FsbGJhY2tzLnNwbGljZSgwICx0aGlzLl9faW50ZXJ2YWxfY2FsbGJhY2tzLmxlbmd0aClcbiAgICB9XG5cbiAgICBpbnRlcnZhbF9pZDpudW1iZXIgPSAwO1xuXG4gICAgc2V0SW50ZXJ2YWwoaW50ZXJ2YWwsY2FsbGJhY2ssdGFyZ2V0PylcbiAgICB7XG4gICAgICAgIGxldCBpZCA9ICsrIHRoaXMuaW50ZXJ2YWxfaWQ7XG4gICAgICAgIGxldCB0aW1lciA9IDA7XG4gICAgICAgIHRoaXMuX19pbnRlcnZhbF9jYWxsYmFja3MucHVzaCh7aWQsY2FsbGJhY2ssdGFyZ2V0LGludGVydmFsLHRpbWVyfSk7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG5cbiAgICBjbGVhckludGVydmFsKGlkKVxuICAgIHtcbiAgICAgICAgdGhpcy5fX2ludGVydmFsX2NhbGxiYWNrcy5zcGxpY2UodGhpcy5fX2ludGVydmFsX2NhbGxiYWNrcy5pbmRleE9mKGlkKSlcbiAgICB9XG5cblxuICAgIHNldFRpbWVvdXQoZGVsYXksY2FsbGJhY2ssdGFyZ2V0PylcbiAgICB7XG4gICAgICAgIGxldCBpZCA9ICsrIHRoaXMuaW50ZXJ2YWxfaWQ7XG4gICAgICAgIGxldCB0aW1lciA9IDA7XG4gICAgICAgIHRoaXMuX19pbnRlcnZhbF9jYWxsYmFja3MucHVzaCh7aWQsY2FsbGJhY2ssdGFyZ2V0LGRlbGF5LHRpbWVyfSk7XG4gICAgICAgIHJldHVybiBpZDtcbiAgICB9XG5cbiAgICBjbGVhclRpbWVvdXQoaWQpXG4gICAge1xuICAgICAgICB0aGlzLmNsZWFySW50ZXJ2YWwoaWQpXG4gICAgfVxuXG4gICAgaW52b2tlSW50ZXJ2YWxzKGR0KVxuICAgIHtcbiAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLl9faW50ZXJ2YWxfY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fX2ludGVydmFsX2NhbGxiYWNrc1tpXTtcbiAgICAgICAgICAgIGVsZW1lbnQudGltZXIgPSBlbGVtZW50LnRpbWVyICsgZHQ7XG4gICAgICAgICAgICBpZihlbGVtZW50LmludGVydmFsKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQudGltZXIgPj0gZWxlbWVudC5pbnRlcnZhbClcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQudGltZXIgPSAwO1xuICAgICAgICAgICAgICAgICAgICAvLyBjYWxsXG4gICAgICAgICAgICAgICAgICAgIGVsZW1lbnQuY2FsbGJhY2suY2FsbChlbGVtZW50LnRhcmdldClcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9ZWxzZSBpZihlbGVtZW50LmRlbGF5KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlmKGVsZW1lbnQudGltZXIgPj0gZWxlbWVudC5kZWxheSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIGNhbGxcbiAgICAgICAgICAgICAgICAgICAgZWxlbWVudC5jYWxsYmFjay5jYWxsKGVsZW1lbnQudGFyZ2V0KVxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9faW50ZXJ2YWxfY2FsbGJhY2tzLnNwbGljZShpKTtcbiAgICAgICAgICAgICAgICAgICAgaSAtLTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmNsYXNzIEN1c3RvbVN0YXRlIGV4dGVuZHMgU3RhdGVcbntcbiAgICBfX2VudGVyRnVuYzpGdW5jdGlvbjtcbiAgICBfX2V4aXRGdW5jOkZ1bmN0aW9uO1xuICAgIF9fdXBkYXRlRnVuYzpGdW5jdGlvbjtcbiAgICBfX3RhcmdldDphbnk7XG4gICAgY29uc3RydWN0b3IodGFyZ2V0LGlkLG5hbWUscGF0dGVybilcbiAgICB7XG4gICAgICAgIHN1cGVyKGlkLG5hbWUpO1xuICAgICAgICBsZXQgZW50ZXJOYW1lID0gY2MuanMuZm9ybWF0U3RyKHBhdHRlcm4sXCJvbkVudGVyXCIsdGhpcy5uYW1lKVxuICAgICAgICBsZXQgdXBkYXRlTmFtZSA9IGNjLmpzLmZvcm1hdFN0cihwYXR0ZXJuLFwib25VcGRhdGVcIix0aGlzLm5hbWUpXG4gICAgICAgIGxldCBleGl0TmFtZSA9IGNjLmpzLmZvcm1hdFN0cihwYXR0ZXJuLFwib25FeGl0XCIsdGhpcy5uYW1lKVxuICAgICAgICB0aGlzLl9fdGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLl9fZW50ZXJGdW5jID0gdGhpcy5fX3RhcmdldFtlbnRlck5hbWVdO1xuICAgICAgICB0aGlzLl9fdXBkYXRlRnVuYyA9IHRoaXMuX190YXJnZXRbdXBkYXRlTmFtZV07XG4gICAgICAgIHRoaXMuX19leGl0RnVuYyA9IHRoaXMuX190YXJnZXRbZXhpdE5hbWVdO1xuICAgICAgICBcbiAgICB9XG4gICAgb25FbnRlcihwYXJhbXMpe1xuICAgICAgICB0aGlzLmNsZWFySW50ZXJ2YWxzKCk7XG4gICAgICAgIGlmICh0aGlzLl9fZW50ZXJGdW5jKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLl9fZW50ZXJGdW5jLmNhbGwodGhpcy5fX3RhcmdldCx0aGlzLHBhcmFtcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25FeGl0KCl7XG4gICAgICAgIGlmICh0aGlzLl9fZXhpdEZ1bmMpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX19leGl0RnVuYy5jYWxsKHRoaXMuX190YXJnZXQsdGhpcyk7XG4gICAgICAgIH1cbiAgICB9XG4gICAgb25VcGRhdGUoZHQpe1xuICAgICAgICB0aGlzLmludm9rZUludGVydmFscyhkdCk7XG4gICAgICAgIGlmICh0aGlzLl9fdXBkYXRlRnVuYylcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5fX3VwZGF0ZUZ1bmMuY2FsbCh0aGlzLl9fdGFyZ2V0LHRoaXMsZHQpO1xuICAgICAgICB9XG4gICAgfVxuXG59XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZTTSBleHRlbmRzIGNjLkNvbXBvbmVudFxue1xuICAgIGM6U3RhdGU7XG4gICAgcDpTdGF0ZTtcbiAgICBfdGFyZ2V0OmFueTtcblxuICAgIHRpbWVFbGFwc2VkOm51bWJlciA9IDA7XG5cbiAgICBfc3RhdGVzOntbaW5kZXg6bnVtYmVyXTpTdGF0ZSB9ID0ge31cblxuICAgIF9pc1BhdXNlZCA9IGZhbHNlO1xuXG4gICAgbmFtZVBhdHRlcm46c3RyaW5nO1xuXG4gICAgbG9nOmJvb2xlYW4gPSBmYWxzZTtcblxuICAgIGdldCB0YXJnZXQoKTphbnlcbiAgICB7XG4gICAgICAgIHJldHVybiB0aGlzLl90YXJnZXQ7XG4gICAgfVxuXG4gICAgaW5pdCh0YXJnZXQ6YW55KVxuICAgIHtcbiAgICAgICAgdGhpcy5fdGFyZ2V0ID0gdGFyZ2V0O1xuICAgICAgICB0aGlzLnRpbWVFbGFwc2VkID0gMDtcbiAgICB9XG5cbiAgICBnZXRTdGF0ZShzdGF0ZUlkKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX3N0YXRlc1tzdGF0ZUlkXTtcbiAgICB9XG5cbiAgICBnZXRDdXJyZW50U3RhdGUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuY1xuICAgIH1cblxuICAgIGdldFByZXZpb3VzU3RhdGUoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMucDtcbiAgICB9XG5cblxuXG4gICAgYWRkU3RhdGVzKHN0YXRlczphbnksY2FsbGJhY2tOYW1lUGF0dGVybiA9IFwiJXNfJXNTdGF0ZVwiKVxuICAgIHtcbiAgICAgICAgbGV0IGtleXMgPSBPYmplY3Qua2V5cyhzdGF0ZXMpO1xuICAgICAgICBsZXQgZW51bUxlbiA9IChrZXlzLmxlbmd0aC8yKTtcbiAgICAgICAgdGhpcy5uYW1lUGF0dGVybiA9IGNhbGxiYWNrTmFtZVBhdHRlcm47XG4gICAgICAgIGZvcih2YXIgaSA9IDA7aSA8IGVudW1MZW47aSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQga2V5ID0ga2V5c1tpXVxuICAgICAgICAgICAgbGV0IHZhbHVlID0gc3RhdGVzW2tleV07XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuYWRkU3RhdGUoa2V5LHZhbHVlKVxuICAgICAgICB9XG4gICAgfVxuXG4gICAgYWRkU3RhdGUoaWQsbmFtZSxlbnRlckNhbGxiYWNrPyxleGl0Q2FsbGJhY2s/LHVwZGF0ZUNhbGxiYWNrPyx0YXJnZXQ/KVxuICAgIHtcbiAgICAgICAgaWYodGhpcy5sb2cpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIltGU01dXCIrdGhpcy50YXJnZXQuX19jbGFzc25hbWVfXyArIFwiKFwiKyB0aGlzLnRhcmdldC5uYW1lK1wiKVwiK1wiIEFkZCBTdGF0ZSA6XCIgLGlkLCBuYW1lKVxuICAgICAgICBsZXQgc3RhdGUgPSBuZXcgQ3VzdG9tU3RhdGUodGhpcy50YXJnZXQsaWQsbmFtZSx0aGlzLm5hbWVQYXR0ZXJuKTtcbiAgICAgICAgdGhpcy5fc3RhdGVzW2lkXSA9IHN0YXRlO1xuICAgICAgICBpZihlbnRlckNhbGxiYWNrKVxuICAgICAgICAgICAgc3RhdGUuX19lbnRlckZ1bmMgPSBlbnRlckNhbGxiYWNrO1xuICAgICAgICBpZihleGl0Q2FsbGJhY2spXG4gICAgICAgICAgICBzdGF0ZS5fX2V4aXRGdW5jID0gZXhpdENhbGxiYWNrO1xuICAgICAgICBpZih1cGRhdGVDYWxsYmFjaylcbiAgICAgICAgICAgIHN0YXRlLl9fdXBkYXRlRnVuYyA9IHVwZGF0ZUNhbGxiYWNrO1xuICAgICAgICBpZih0YXJnZXQpXG4gICAgICAgICAgICBzdGF0ZS5fX3RhcmdldCA9IHRhcmdldDtcbiAgICB9XG5cbiAgICAvKipcbiAgICAgKiBmaXJzdCBzdGF0ZSBcbiAgICAgKiBAcGFyYW06IHN0YXRlIGluZGV4IG9yIFN0YXRlXG4gICAgICovXG4gICAgZW50ZXJTdGF0ZShzdGF0ZUlkOm51bWJlcixwYXJhbXM/KVxuICAgIHtcbiAgICAgICAgdGhpcy50aW1lRWxhcHNlZCA9IDBcbiAgICAgICAgbGV0IHN0YXRlID0gdGhpcy5fc3RhdGVzW3N0YXRlSWRdXG4gICAgICAgIHRoaXMuYyA9IHN0YXRlO1xuICAgICAgICBzdGF0ZS5vbkVudGVyKHBhcmFtcyk7XG4gICAgICAgIGlmKHRoaXMubG9nKVxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJbRlNNXVwiK3RoaXMudGFyZ2V0Ll9fY2xhc3NuYW1lX18gK1wiIEZpcnN0IFN0YXRlOlwiICxzdGF0ZS5uYW1lKVxuICAgIH1cblxuICAgIHJldmVydFN0YXRlKClcbiAgICB7XG4gICAgXHR0aGlzLmNoYW5nZVN0YXRlKHRoaXMucC5pZCk7XG4gICAgfVxuXG5cbiAgICBwYXVzZSgpXG4gICAge1xuICAgICAgICB0aGlzLl9pc1BhdXNlZCA9IHRydWU7XG4gICAgfVxuXG4gICAgcmVzdW1lKClcbiAgICB7XG4gICAgICAgIHRoaXMuX2lzUGF1c2VkID0gZmFsc2U7XG4gICAgfVxuXG4gICAgcmVzZXRDdXJyZW50U3RhdGUoKVxuICAgIHtcbiAgICAgICAgdGhpcy50aW1lRWxhcHNlZCA9IDBcbiAgICAgICAgY29uc29sZS5sb2coY2MuanMuZm9ybWF0U3RyKFwiW0ZTTV0gJXMgcmVzZXQgY3VycmVudFN0YXRlXCIsdGhpcy50YXJnZXQuX19jbGFzc25hbWVfXykpXG4gICAgICAgIHRoaXMuYy5vbkV4aXQoKTtcbiAgICAgICAgdGhpcy5jLm9uRW50ZXIoKTtcbiAgICB9XG5cbiAgICBjaGFuZ2VTdGF0ZShzdGF0ZUlkOm51bWJlcixwYXJhbXM/KVxuICAgIHtcbiAgICAgICAgbGV0IHN0YXRlID0gdGhpcy5fc3RhdGVzW3N0YXRlSWRdXG4gICAgICAgIGlmKHN0YXRlID09IG51bGwpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGNvbnNvbGUud2FybihcIltGU01dIGludmFsaWQgc3RhdGUgZm9yIHN0YXRlSWQgXCIgKyBzdGF0ZUlkICtcIiBvZiA6IFwiICsgIHRoaXMudGFyZ2V0Ll9fY2xhc3NuYW1lX18pXG4gICAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgaWYodGhpcy5faXNQYXVzZWQpIFxuICAgICAgICB7XG4gICAgICAgICAgICBjb25zb2xlLndhcm4oXCJbRlNNXSBmc20gaXMgcGF1c2VkICEgXCIrdGhpcy50YXJnZXQuX19jbGFzc25hbWVfXytcIiBjaGFuZ2VTdGF0ZSB0byA8XCIrIHN0YXRlLm5hbWUgKyBcIj4gZmFpbGVkIVwiKVxuICAgICAgICAgICAgcmV0dXJuIFxuICAgICAgICB9XG4gICAgICAgIGlmKHN0YXRlSWQgPT0gdGhpcy5jLmlkKSByZXR1cm47XG4gICAgICAgIHRoaXMudGltZUVsYXBzZWQgPSAwXG4gICAgICAgIHRoaXMuYy5vbkV4aXQoKTtcbiAgICAgICAgdGhpcy5wID0gdGhpcy5jO1xuICAgICAgICB0aGlzLmMgPSBzdGF0ZTtcbiAgICAgICAgaWYodGhpcy5sb2cpXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhjYy5qcy5mb3JtYXRTdHIoXCJbRlNNXSAlcyAoJXMpOiAlcyAtPiAlc1wiLHRoaXMudGFyZ2V0Ll9fY2xhc3NuYW1lX18sdGhpcy5uYW1lLHRoaXMucC5uYW1lICwgc3RhdGUubmFtZSkpXG4gICAgICAgIHRoaXMuYy5vbkVudGVyKHBhcmFtcyk7XG4gICAgICAgIFxuICAgIH1cblxuICAgIGlzSW5TdGF0ZShzdGF0ZUlkKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuYyA9PSB0aGlzLl9zdGF0ZXNbc3RhdGVJZF1cbiAgICB9XG4gICAgc3RhdGljIGRlYnVnID0gZmFsc2U7XG4gICAgdXBkYXRlKGR0KVxuICAgIHtcbiAgICAgICAgaWYodGhpcy5faXNQYXVzZWQpIHJldHVybjtcbiAgICAgICAgaWYoRlNNLmRlYnVnKVxuICAgICAgICAgICAgZHQgPSAwLjAxNiA7IC8vIHVzZSByZWFsIGRldGFcbiAgICAgICAgdGhpcy50aW1lRWxhcHNlZCArPSBkdDtcbiAgICAgICAgaWYodGhpcy5jKVxuICAgICAgICAgICAgdGhpcy5jLm9uVXBkYXRlKGR0KTtcbiAgICB9XG5cbiAgICBcbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/ui/View.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'e1217OaHDFCEbPP4vjLJXLh', 'View');
// framework/plugin_boosts/ui/View.ts

Object.defineProperty(exports, "__esModule", { value: true });
var UIComponent_1 = require("./UIComponent");
var ViewManager_1 = require("./ViewManager");
var UIFunctions_1 = require("./UIFunctions");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var View = /** @class */ (function (_super) {
    __extends(View, _super);
    function View() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.isDialog = false;
        _this.hasWidget = false;
        _this.opacity = 160;
        _this.childrenAnimation = false;
        _this.touchBlocker = null;
        _this.touchBlockerComp = null;
        // @property
        // showAnimationName:string = "";
        // @property
        // hideAnimationName:string = "";
        // @property([cc.Component.EventHandler])
        // onShownEvents:cc.Component.EventHandler[] = [];
        // @property([cc.Component.EventHandler])
        // onHiddenEvents:cc.Component.EventHandler[] = [];
        _this.animations = [];
        _this._isHiding = false;
        return _this;
    }
    // isTouchEnabled: boolean = true;
    View.prototype.emit = function (event, msg) {
        event.emit(msg);
        // this.node.emit(msg);  
    };
    View.prototype.call = function (event, exp) {
        // eval(exp);
        //g.execScript(exp);
    };
    View.prototype.setDelegate = function (target) {
        this.target = target;
    };
    View.prototype.onLoad = function () {
        this.touchBlocker = new cc.Node();
        this.touchBlocker.name = "TouchBlocker";
        this.touchBlocker.width = 2000;
        this.touchBlocker.height = 2000;
        this.touchBlockerComp = this.touchBlocker.addComponent(cc.BlockInputEvents);
        this.node.addChild(this.touchBlocker, 1000);
        if (this.childrenAnimation) {
            this.animations = UIFunctions_1.default.getChildrenAnimations(this.node);
        }
        else {
            var anim = this.node.getComponent(cc.Animation);
            if (anim)
                this.animations.push(anim);
        }
        var components = this.getComponents(cc.Component);
        for (var i = 0; i < components.length; i++) {
            var comp = components[i];
            if (comp != this) {
                if (comp.onShown || comp.onHidden) {
                    this.target = comp;
                    break;
                }
            }
        }
    };
    View.prototype.start = function () {
        this.touchEnabled = true;
    };
    View.prototype.init = function (viewname) {
        this.name = viewname;
    };
    View.prototype.hideAnimationCallback = function () {
        this.node.active = this.visible;
        ViewManager_1.default.instance.checkViewStacks();
    };
    /**
     * //如果 实现了view的animation那么需要 animation 去做隐藏
     * 否则会不会有animtion ，系统 将直接 设置 active 为false
     */
    View.prototype.doHideAnimation = function () {
        // if (!this.isDialog)
        // {
        //todo is in hide animtion return ;
        // if(this.isInHideAnimation())return;
        this.node.active = true;
        this._isHiding = true;
        if (!UIFunctions_1.default.doHideAnimations(this.animations, this.hideAnimationCallback, this)) {
            this.node.active = false;
            this._isHiding = false;
        }
        console.log("[View] hide:", this.name);
        this._visibleDirty = false;
    };
    View.prototype.isInHideAnimation = function () {
        return this._isHiding;
    };
    View.prototype.onHidden = function () {
        this._visibleDirty = false;
        if (this.target && this.target.onHidden)
            this.target.onHidden();
        // cc.Component.EventHandler.emitEvents(this.onHiddenEvents,[params]);
    };
    View.prototype.hide = function (index) {
        if (index === void 0) { index = 0; }
        // super.hide()
        //ViewManager remove dd
        if (index == 1) {
            httpUtils.httpPost(consts.HTTP_RECORD_SERVER, { title: '返回界面', content: '点击关闭' }, function () { });
        }
        else if (index == 2) {
            httpUtils.httpPost(consts.HTTP_RECORD_SERVER, { title: '关卡选择界面', content: '点击关闭' }, function () { });
        }
        this.touchEnabled = false;
        ViewManager_1.default.instance.hide(this.node);
    };
    Object.defineProperty(View.prototype, "visible", {
        get: function () { return this._visibleDirty; },
        enumerable: false,
        configurable: true
    });
    View.prototype.showAnimationNextFrame = function (callback) {
        var _this = this;
        this.scheduleOnce(function (_) {
            UIFunctions_1.default.doShowAnimations(_this.animations, callback);
        }, 0);
    };
    Object.defineProperty(View.prototype, "touchEnabled", {
        get: function () {
            return !this.touchBlocker.active;
        },
        set: function (b) {
            this.touchBlocker.active = !b;
        },
        enumerable: false,
        configurable: true
    });
    // setTouchEnabled(bEnabled){
    //     this.touchBlockerComp.enabled = bEnabled;
    //     // UIFunctions.setTouchEnabled(this.node,bEnabled);
    // }
    View.prototype.show = function () {
        var _this = this;
        var params = [];
        for (var _i = 0; _i < arguments.length; _i++) {
            params[_i] = arguments[_i];
        }
        _super.prototype.show.call(this);
        console.log("[View] show:", this.name, params);
        UIFunctions_1.default.stopAnimations(this.animations);
        // call next frames 
        // this.showAnimationDelay()
        //确保在widget 更新结束后开始动画 ，
        return new Promise(function (resolve, reject) {
            var _a;
            var self = _this;
            var showFinishCallback = function () {
                if (!self.touchEnabled)
                    self.touchEnabled = true;
                resolve();
            };
            if (!_this.hasWidget) {
                UIFunctions_1.default.doShowAnimations(_this.animations, showFinishCallback);
            }
            else {
                _this.showAnimationNextFrame(showFinishCallback);
            }
            _this._visibleDirty = true;
            if (_this.target && _this.target.onShown) {
                (_a = _this.target).onShown.apply(_a, params);
            }
            // cc.Component.EventHandler.emitEvents(this.onShownEvents,[params]);
        });
    };
    __decorate([
        property
    ], View.prototype, "isDialog", void 0);
    __decorate([
        property
    ], View.prototype, "hasWidget", void 0);
    __decorate([
        property
    ], View.prototype, "opacity", void 0);
    __decorate([
        property
    ], View.prototype, "childrenAnimation", void 0);
    View = __decorate([
        ccclass
    ], View);
    return View;
}(UIComponent_1.default));
exports.default = View;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1aVxcVmlldy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsNkNBQXdDO0FBQ3hDLDZDQUF3QztBQUV4Qyw2Q0FBd0M7QUFHbEMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBa0Msd0JBQVc7SUFBN0M7UUFBQSxxRUErTUM7UUFyTUcsY0FBUSxHQUFXLEtBQUssQ0FBQztRQUd6QixlQUFTLEdBQVcsS0FBSyxDQUFDO1FBSzFCLGFBQU8sR0FBVSxHQUFHLENBQUM7UUFHckIsdUJBQWlCLEdBQVcsS0FBSyxDQUFDO1FBR2xDLGtCQUFZLEdBQVcsSUFBSSxDQUFDO1FBQzVCLHNCQUFnQixHQUF1QixJQUFJLENBQUM7UUFFNUMsWUFBWTtRQUNaLGlDQUFpQztRQUNqQyxZQUFZO1FBQ1osaUNBQWlDO1FBRWpDLHlDQUF5QztRQUN6QyxrREFBa0Q7UUFFbEQseUNBQXlDO1FBQ3pDLG1EQUFtRDtRQUVuRCxnQkFBVSxHQUFrQixFQUFFLENBQUM7UUErRC9CLGVBQVMsR0FBVyxLQUFLLENBQUM7O0lBMEc5QixDQUFDO0lBOU1HLGtDQUFrQztJQUNsQyxtQkFBSSxHQUFKLFVBQUssS0FBSyxFQUFDLEdBQUc7UUFFVixLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQ2pCLHlCQUF5QjtJQUMzQixDQUFDO0lBa0NELG1CQUFJLEdBQUosVUFBSyxLQUFLLEVBQUMsR0FBVTtRQUVqQixhQUFhO1FBQ2Isb0JBQW9CO0lBQ3hCLENBQUM7SUFFRCwwQkFBVyxHQUFYLFVBQVksTUFBTTtRQUVkLElBQUksQ0FBQyxNQUFNLEdBQUcsTUFBTSxDQUFDO0lBQ3pCLENBQUM7SUFFRCxxQkFBTSxHQUFOO1FBR0ksSUFBSSxDQUFDLFlBQVksR0FBRyxJQUFJLEVBQUUsQ0FBQyxJQUFJ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LE1BQU0sRUFBRTthQUNsQztZQUNELHFFQUFxRTtRQUN6RSxDQUFDLENBQUMsQ0FBQTtJQUNOLENBQUM7SUFwTUQ7UUFEQyxRQUFROzBDQUNnQjtJQUd6QjtRQURDLFFBQVE7MkNBQ2lCO0lBSzFCO1FBREMsUUFBUTt5Q0FDWTtJQUdyQjtRQURDLFFBQVE7bURBQ3lCO0lBckJqQixJQUFJO1FBRHhCLE9BQU87T0FDYSxJQUFJLENBK014QjtJQUFELFdBQUM7Q0EvTUQsQUErTUMsQ0EvTWlDLHFCQUFXLEdBK001QztrQkEvTW9CLElBQUkiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgVUlDb21wb25lbnQgZnJvbSBcIi4vVUlDb21wb25lbnRcIjtcbmltcG9ydCBWaWV3TWFuYWdlciBmcm9tIFwiLi9WaWV3TWFuYWdlclwiO1xuaW1wb3J0IHsgZXZlbnQgfSBmcm9tIFwiLi4vdXRpbHMvRXZlbnRNYW5hZ2VyXCI7XG5pbXBvcnQgVUlGdW5jdGlvbnMgZnJvbSBcIi4vVUlGdW5jdGlvbnNcIjtcbmltcG9ydCB7IFRvYXN0IH0gZnJvbSBcIi4vVG9hc3RNYW5hZ2VyXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgVmlldyBleHRlbmRzIFVJQ29tcG9uZW50IHtcbiAgICAvLyBpc1RvdWNoRW5hYmxlZDogYm9vbGVhbiA9IHRydWU7XG4gICAgZW1pdChldmVudCxtc2cpXG4gICAge1xuICAgICAgICBldmVudC5lbWl0KG1zZylcbiAgICAgIC8vIHRoaXMubm9kZS5lbWl0KG1zZyk7ICBcbiAgICB9XG5cbiAgICBuYW1lOnN0cmluZztcbiAgICBAcHJvcGVydHlcbiAgICBpc0RpYWxvZzpib29sZWFuID0gZmFsc2U7XG5cbiAgICBAcHJvcGVydHlcbiAgICBoYXNXaWRnZXQ6Ym9vbGVhbiA9IGZhbHNlO1xuXG4gICAgdGFyZ2V0OmFueTtcblxuICAgIEBwcm9wZXJ0eVxuICAgIG9wYWNpdHk6bnVtYmVyID0gMTYwO1xuXG4gICAgQHByb3BlcnR5XG4gICAgY2hpbGRyZW5BbmltYXRpb246Ym9vbGVhbiA9IGZhbHNlO1xuXG5cbiAgICB0b3VjaEJsb2NrZXI6Y2MuTm9kZSA9IG51bGw7XG4gICAgdG91Y2hCbG9ja2VyQ29tcDpjYy5CbG9ja0lucHV0RXZlbnRzID0gbnVsbDtcblxuICAgIC8vIEBwcm9wZXJ0eVxuICAgIC8vIHNob3dBbmltYXRpb25OYW1lOnN0cmluZyA9IFwiXCI7XG4gICAgLy8gQHByb3BlcnR5XG4gICAgLy8gaGlkZUFuaW1hdGlvbk5hbWU6c3RyaW5nID0gXCJcIjtcblxuICAgIC8vIEBwcm9wZXJ0eShbY2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlcl0pXG4gICAgLy8gb25TaG93bkV2ZW50czpjYy5Db21wb25lbnQuRXZlbnRIYW5kbGVyW10gPSBbXTtcblxuICAgIC8vIEBwcm9wZXJ0eShbY2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlcl0pXG4gICAgLy8gb25IaWRkZW5FdmVudHM6Y2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlcltdID0gW107XG5cbiAgICBhbmltYXRpb25zOmNjLkFuaW1hdGlvbltdID0gW107XG5cbiAgICBjYWxsKGV2ZW50LGV4cDpzdHJpbmcpXG4gICAge1xuICAgICAgICAvLyBldmFsKGV4cCk7XG4gICAgICAgIC8vZy5leGVjU2NyaXB0KGV4cCk7XG4gICAgfVxuXG4gICAgc2V0RGVsZWdhdGUodGFyZ2V0KVxuICAgIHtcbiAgICAgICAgdGhpcy50YXJnZXQgPSB0YXJnZXQ7XG4gICAgfVxuXG4gICAgb25Mb2FkKClcbiAgICB7XG5cbiAgICAgICAgdGhpcy50b3VjaEJsb2NrZXIgPSBuZXcgY2MuTm9kZSgpO1xuICAgICAgICB0aGlzLnRvdWNoQmxvY2tlci5uYW1lID0gXCJUb3VjaEJsb2NrZXJcIlxuICAgICAgICB0aGlzLnRvdWNoQmxvY2tlci53aWR0aCA9IDIwMDA7XG4gICAgICAgIHRoaXMudG91Y2hCbG9ja2VyLmhlaWdodCA9IDIwMDA7XG4gICAgICAgIHRoaXMudG91Y2hCbG9ja2VyQ29tcCA9IHRoaXMudG91Y2hCbG9ja2VyLmFkZENvbXBvbmVudChjYy5CbG9ja0lucHV0RXZlbnRzKVxuICAgICAgICB0aGlzLm5vZGUuYWRkQ2hpbGQodGhpcy50b3VjaEJsb2NrZXIsMTAwMClcbiAgICAgICAgXG4gICAgICAgIGlmKHRoaXMuY2hpbGRyZW5BbmltYXRpb24pXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuYW5pbWF0aW9ucyA9IFVJRnVuY3Rpb25zLmdldENoaWxkcmVuQW5pbWF0aW9ucyh0aGlzLm5vZGUpXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdmFyIGFuaW0gPSB0aGlzLm5vZGUuZ2V0Q29tcG9uZW50KGNjLkFuaW1hdGlvbilcbiAgICAgICAgICAgIGlmKGFuaW0pXG4gICAgICAgICAgICAgICAgdGhpcy5hbmltYXRpb25zLnB1c2goYW5pbSlcbiAgICAgICAgfVxuICAgICAgICBsZXQgY29tcG9uZW50cyA9IHRoaXMuZ2V0Q29tcG9uZW50cyhjYy5Db21wb25lbnQpO1xuICAgICAgICBmb3IodmFyIGkgPSAwOyBpIDwgY29tcG9uZW50cy5sZW5ndGg7aSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgY29tcDphbnkgPSBjb21wb25lbnRzW2ldXG4gICAgICAgICAgICBpZihjb21wICE9IHRoaXMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYoY29tcC5vblNob3dufHxjb21wLm9uSGlkZGVuKVxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy50YXJnZXQgPSBjb21wO1xuICAgICAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgIH1cblxuICAgIHN0YXJ0KClcbiAgICB7XG4gICAgICAgIHRoaXMudG91Y2hFbmFibGVkID0gdHJ1ZTtcbiAgICB9XG5cbiAgICBpbml0KHZpZXduYW1lKVxuICAgIHtcbiAgICAgICAgdGhpcy5uYW1lID0gdmlld25hbWU7XG4gICAgfVxuXG4gICAgaGlkZUFuaW1hdGlvbkNhbGxiYWNrKClcbiAgICB7XG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSB0aGlzLnZpc2libGU7XG4gICAgICAgIFZpZXdNYW5hZ2VyLmluc3RhbmNlLmNoZWNrVmlld1N0YWNrcygpO1xuICAgIH1cblxuICAgIF9pc0hpZGluZzpib29sZWFuID0gZmFsc2U7XG5cbiAgICAvKipcbiAgICAgKiAvL+WmguaenCDlrp7njrDkuoZ2aWV355qEYW5pbWF0aW9u6YKj5LmI6ZyA6KaBIGFuaW1hdGlvbiDljrvlgZrpmpDol49cbiAgICAgKiDlkKbliJnkvJrkuI3kvJrmnIlhbmltdGlvbiDvvIzns7vnu58g5bCG55u05o6lIOiuvue9riBhY3RpdmUg5Li6ZmFsc2VcbiAgICAgKi9cbiAgICBkb0hpZGVBbmltYXRpb24oKVxuICAgIHtcbiAgICAgICAgLy8gaWYgKCF0aGlzLmlzRGlhbG9nKVxuICAgICAgICAvLyB7XG4gICAgICAgIC8vdG9kbyBpcyBpbiBoaWRlIGFuaW10aW9uIHJldHVybiA7XG4gICAgICAgIC8vIGlmKHRoaXMuaXNJbkhpZGVBbmltYXRpb24oKSlyZXR1cm47XG4gICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSB0cnVlO1xuICAgICAgICB0aGlzLl9pc0hpZGluZyA9IHRydWU7XG4gICAgICAgIGlmKCFVSUZ1bmN0aW9ucy5kb0hpZGVBbmltYXRpb25zKHRoaXMuYW5pbWF0aW9ucyx0aGlzLmhpZGVBbmltYXRpb25DYWxsYmFjayx0aGlzKSlcbiAgICAgICAge1xuICAgICAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAgICAgdGhpcy5faXNIaWRpbmcgPSBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgICBjb25zb2xlLmxvZyhcIltWaWV3XSBoaWRlOlwiLHRoaXMubmFtZSk7XG4gICAgICAgIHRoaXMuX3Zpc2libGVEaXJ0eSA9IGZhbHNlO1xuICAgIH1cblxuICAgIGlzSW5IaWRlQW5pbWF0aW9uKCk6IGFueSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9pc0hpZGluZ1xuICAgIH1cbiAgICBcbiAgICBvbkhpZGRlbigpXG4gICAge1xuICAgICAgICB0aGlzLl92aXNpYmxlRGlydHkgPSBmYWxzZTtcbiAgICAgICAgaWYgKHRoaXMudGFyZ2V0ICYmIHRoaXMudGFyZ2V0Lm9uSGlkZGVuKVxuICAgICAgICAgICAgdGhpcy50YXJnZXQub25IaWRkZW4oKTtcbiAgICAgICAgLy8gY2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlci5lbWl0RXZlbnRzKHRoaXMub25IaWRkZW5FdmVudHMsW3BhcmFtc10pO1xuICAgIH1cblxuICAgIGhpZGUoaW5kZXg6bnVtYmVyID0gMCl7XG4gICAgICAgIC8vIHN1cGVyLmhpZGUoKVxuICAgICAgICAvL1ZpZXdNYW5hZ2VyIHJlbW92ZSBkZFxuICAgICAgICBpZihpbmRleD09MSl7XG4gICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+i/lOWbnueVjOmdoicsY29udGVudDon54K55Ye75YWz6ZetJ30sZnVuY3Rpb24oKXt9KTtcbiAgICAgICAgfWVsc2UgaWYoaW5kZXggPT0gMil7XG4gICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+WFs+WNoemAieaLqeeVjOmdoicsY29udGVudDon54K55Ye75YWz6ZetJ30sZnVuY3Rpb24oKXt9KTtcbiAgICAgICAgfVxuICAgICAgICB0aGlzLnRvdWNoRW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICBWaWV3TWFuYWdlci5pbnN0YW5jZS5oaWRlKHRoaXMubm9kZSk7XG4gICAgfVxuXG4gICAgX3Zpc2libGVEaXJ0eTpib29sZWFuO1xuICAgIFxuICAgIGdldCB2aXNpYmxlKCl7cmV0dXJuIHRoaXMuX3Zpc2libGVEaXJ0eTt9XG5cblxuICAgIHNob3dBbmltYXRpb25OZXh0RnJhbWUoY2FsbGJhY2spXG4gICAge1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZShfPT57XG4gICAgICAgICAgICBVSUZ1bmN0aW9ucy5kb1Nob3dBbmltYXRpb25zKHRoaXMuYW5pbWF0aW9ucyxjYWxsYmFjaylcbiAgICAgICAgfSwwKVxuICAgIH1cblxuICAgIGdldCB0b3VjaEVuYWJsZWQoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuICF0aGlzLnRvdWNoQmxvY2tlci5hY3RpdmVcbiAgICB9XG5cbiAgICBzZXQgdG91Y2hFbmFibGVkKGIpXG4gICAge1xuICAgICAgICB0aGlzLnRvdWNoQmxvY2tlci5hY3RpdmUgID0gIWJcbiAgICB9XG5cbiAgICAvLyBzZXRUb3VjaEVuYWJsZWQoYkVuYWJsZWQpe1xuICAgIC8vICAgICB0aGlzLnRvdWNoQmxvY2tlckNvbXAuZW5hYmxlZCA9IGJFbmFibGVkO1xuICAgIC8vICAgICAvLyBVSUZ1bmN0aW9ucy5zZXRUb3VjaEVuYWJsZWQodGhpcy5ub2RlLGJFbmFibGVkKTtcbiAgICAvLyB9XG5cbiAgICBzaG93KC4uLnBhcmFtcylcbiAgICB7XG4gICAgICAgIHN1cGVyLnNob3coKTtcbiAgICAgICAgY29uc29sZS5sb2coXCJbVmlld10gc2hvdzpcIix0aGlzLm5hbWUgLCBwYXJhbXMpO1xuICAgICAgICBVSUZ1bmN0aW9ucy5zdG9wQW5pbWF0aW9ucyh0aGlzLmFuaW1hdGlvbnMpO1xuICAgICAgIFxuICAgICAgICAvLyBjYWxsIG5leHQgZnJhbWVzIFxuICAgICAgICAvLyB0aGlzLnNob3dBbmltYXRpb25EZWxheSgpXG4gICAgICAgIC8v56Gu5L+d5Zyod2lkZ2V0IOabtOaWsOe7k+adn+WQjuW8gOWni+WKqOeUuyDvvIxcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlPHZvaWQ+KChyZXNvbHZlLHJlamVjdCk9PntcbiAgICAgICAgICAgIGxldCBzZWxmID0gdGhpcztcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgbGV0IHNob3dGaW5pc2hDYWxsYmFjayA9IGZ1bmN0aW9uKCkgXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYoIXNlbGYudG91Y2hFbmFibGVkKVxuICAgICAgICAgICAgICAgICAgICBzZWxmLnRvdWNoRW5hYmxlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgcmVzb2x2ZSgpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoIXRoaXMuaGFzV2lkZ2V0KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIFVJRnVuY3Rpb25zLmRvU2hvd0FuaW1hdGlvbnModGhpcy5hbmltYXRpb25zLHNob3dGaW5pc2hDYWxsYmFjaylcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0FuaW1hdGlvbk5leHRGcmFtZShzaG93RmluaXNoQ2FsbGJhY2spXG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLl92aXNpYmxlRGlydHkgPSB0cnVlO1xuICAgICAgICAgICAgaWYgKHRoaXMudGFyZ2V0ICYmIHRoaXMudGFyZ2V0Lm9uU2hvd24pXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy50YXJnZXQub25TaG93biguLi5wYXJhbXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gY2MuQ29tcG9uZW50LkV2ZW50SGFuZGxlci5lbWl0RXZlbnRzKHRoaXMub25TaG93bkV2ZW50cyxbcGFyYW1zXSk7XG4gICAgICAgIH0pXG4gICAgfVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/plugin_boosts/utils/Common.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd6d4aCOiTtJz6R1xuSQrtdC', 'Common');
// framework/plugin_boosts/utils/Common.ts

Object.defineProperty(exports, "__esModule", { value: true });
var SpriteFrameCache_1 = require("../misc/SpriteFrameCache");
var Common = /** @class */ (function () {
    function Common() {
    }
    Common.loadJson = function (path) {
        return new Promise(function (resolve, reject) {
            cc.loader.loadRes(path, cc.JsonAsset, function (errorcode, data) {
                resolve(data.json);
            });
        });
    };
    Common.sleep = function (timeout) {
        return new Promise(function (resolve, reject) {
            setTimeout(function () {
                resolve();
            }, timeout * 1000);
        });
    };
    Common.isGreaterDays = function (before, num) {
        if (num === void 0) { num = 7; }
        var now = new Date();
        var diff = now.getTime() - before;
        if (diff > 86400000 * num) // 24*60*60*1000
         {
            return true;
        }
    };
    Common.setDisplay = function (sp, url) {
        SpriteFrameCache_1.default.instance.getSpriteFrame(url).then(function (sf) { sp.spriteFrame = sf; });
    };
    Common.generate_action = function (params) {
        var scale_action = cc.scaleTo(params.time, params.scale_x, params.scale_y);
        return scale_action;
    };
    //弹性效果 果冻效果 
    Common.jellyJump = function (node) {
        var spawn_action1 = this.generate_action({ time: 0.06, scale_x: 0.7, scale_y: 0.7, scale_z: 1 });
        // let  spawn_action2 = this.generate_action({time : 0.12, scale_x : 1.3, scale_y  :1.3, scale_z :1})
        var spawn_action3 = this.generate_action({ time: 0.07, scale_x: 1, scale_y: 1.4, scale_z: 1 });
        // let  spawn_action4 = this.generate_action({time : 0.07, scale_x : 1.3, scale_y  :1.3, scale_z: 1})
        // let  spawn_action5 = this.generate_action({time : 0.07, scale_x : 1.2, scale_y : 1.2, scale_z : 1})
        var spawn_action5 = cc.scaleTo(0.8, 1.3).easing(cc.easeElasticOut(0.3));
        var seq_actions = cc.sequence(spawn_action1, 
        //  spawn_action2,
        spawn_action3, 
        // spawn_action4,
        spawn_action5);
        node.runAction(seq_actions);
    };
    Common.jellyJump2 = function (node, from, scale) {
        node.scale = from;
        var act = cc.scaleTo(0.8, scale, scale).easing(cc.easeElasticOut(0.3));
        node.runAction(act);
    };
    Common.moveBezier = function (prefab, from, to, callback, dur, delay) {
        if (callback === void 0) { callback = null; }
        if (dur === void 0) { dur = 1; }
        if (delay === void 0) { delay = 0; }
        var sprite = cc.instantiate(prefab);
        sprite.opacity = 255;
        sprite.setPosition(from);
        var bezier = [];
        var x = from.x, y = from.y;
        var ex = to.x, ey = to.y;
        bezier[0] = cc.v2(x, y);
        bezier[1] = cc.v2(x + Math.abs(ex - x + 100) * 0.5, y + Math.abs(ey - y + 100) * 0.5);
        bezier[2] = cc.v2(ex, ey);
        sprite.runAction(cc.sequence(cc.delayTime(delay), cc.bezierTo(dur, bezier), cc.fadeOut(0.3), cc.callFunc(callback)));
        return sprite;
    };
    return Common;
}());
exports.default = Common;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxwbHVnaW5fYm9vc3RzXFx1dGlsc1xcQ29tbW9uLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSw2REFBd0Q7QUFFeEQ7SUFBQTtJQWtGQSxDQUFDO0lBaEZVLGVBQVEsR0FBZixVQUFnQixJQUFJO1FBRWhCLE9BQU8sSUFBSSxPQUFPLENBQUMsVUFBQyxPQUFPLEVBQUMsTUFBTTtZQUM5QixFQUFFLENBQUMsTUFBTSxDQUFDLE9BQU8sQ0FBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLFNBQVMsRUFBQyxVQUFDLFNBQVMsRUFBQyxJQUFJO2dCQUNoRCxPQUFPLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFBO1lBQ3RCLENBQUMsQ0FBQyxDQUFBO1FBQ04sQ0FBQyxDQUFDLENBQUE7SUFDTixDQUFDO0lBRU0sWUFBSyxHQUFaLFVBQWEsT0FBTztRQUVoQixPQUFPLElBQUksT0FBTyxDQUFDLFVBQUMsT0FBTyxFQUFDLE1BQU07WUFDOUIsVUFBVSxDQUFDO2dCQUNQLE9BQU8sRUFBRSxDQUFBO1lBQ2IsQ0FBQyxFQUFFLE9BQU8sR0FBRyxJQUFJLENBQUMsQ0FBQTtRQUN0QixDQUFDLENBQUMsQ0FBQTtJQUVOLENBQUM7SUFFTSxvQkFBYSxHQUFwQixVQUFxQixNQUFNLEVBQUUsR0FBTztRQUFQLG9CQUFBLEVBQUEsT0FBTztRQUVoQyxJQUFJLEdBQUcsR0FBRyxJQUFJLElBQUksRUFBRSxDQUFDO1FBQ3JCLElBQUksSUFBSSxHQUFHLEdBQUcsQ0FBQyxPQUFPLEVBQUUsR0FBRyxNQUFNLENBQUE7UUFDakMsSUFBRyxJQUFJLEdBQUcsUUFBUSxHQUFHLEdBQUcsRUFBRSxnQkFBZ0I7U0FDMUM7WUFDSSxPQUFPLElBQUksQ0FBQztTQUNmO0lBQ0wsQ0FBQztJQUVNLGlCQUFVLEdBQWpCLFVBQWtCLEVBQUUsRUFBQyxHQUFHO1FBRXBCLDBCQUFnQixDQUFDLFFBQVEsQ0FBQyxjQUFjLENB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Q0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxHQUFHLENBQUMsR0FBQyxHQUFHLENBQUMsR0FBRyxHQUFHLENBQUMsQ0FBQTtRQUNsRixNQUFNLENBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQUUsQ0FBQyxFQUFFLEVBQUUsRUFBRSxDQUFDLENBQUE7UUFFekIsTUFBTSxDQUFDLFNBQVMsQ0FBQyxFQUFFLENBQUMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsS0FBSyxDQUFDLEVBQUMsRUFBRSxDQUFDLFFBQVEsQ0FBQyxHQUFHLEVBQUUsTUFBTSxDQUFDLEVBQUcsRUFBRSxDQUFDLE9BQU8sQ0FBQyxHQUFHLENBQUMsRUFBQyxFQUFFLENBQUMsUUFBUSxDQUFDLFFBQVEsQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUNuSCxPQUFPLE1BQU0sQ0FBQztJQUNsQixDQUFDO0lBRUwsYUFBQztBQUFELENBbEZBLEFBa0ZDLElBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgU3ByaXRlRnJhbWVDYWNoZSBmcm9tIFwiLi4vbWlzYy9TcHJpdGVGcmFtZUNhY2hlXCI7XG5cbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbW1vblxue1xuICAgIHN0YXRpYyBsb2FkSnNvbihwYXRoKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCk9PntcbiAgICAgICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKHBhdGggLGNjLkpzb25Bc3NldCwoZXJyb3Jjb2RlLGRhdGEpPT57XG4gICAgICAgICAgICAgICAgcmVzb2x2ZShkYXRhLmpzb24pXG4gICAgICAgICAgICB9KVxuICAgICAgICB9KVxuICAgIH1cblxuICAgIHN0YXRpYyBzbGVlcCh0aW1lb3V0KVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKChyZXNvbHZlLHJlamVjdCk9PntcbiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc29sdmUoKVxuICAgICAgICAgICAgfSwgdGltZW91dCAqIDEwMDApXG4gICAgICAgIH0pXG4gICAgICAgIFxuICAgIH1cblxuICAgIHN0YXRpYyBpc0dyZWF0ZXJEYXlzKGJlZm9yZSwgbnVtID0gNylcbiAgICB7XG4gICAgICAgIGxldCBub3cgPSBuZXcgRGF0ZSgpO1xuICAgICAgICB2YXIgZGlmZiA9IG5vdy5nZXRUaW1lKCkgLSBiZWZvcmVcbiAgICAgICAgaWYoZGlmZiA+IDg2NDAwMDAwICogbnVtKSAvLyAyNCo2MCo2MCoxMDAwXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgc3RhdGljIHNldERpc3BsYXkoc3AsdXJsKVxuICAgIHtcbiAgICAgICAgU3ByaXRlRnJhbWVDYWNoZS5pbnN0YW5jZS5nZXRTcHJpdGVGcmFtZSh1cmwpLnRoZW4oc2Y9PntzcC5zcHJpdGVGcmFtZSA9IHNmfSlcbiAgICB9XG5cblxuICAgIHN0YXRpYyBnZW5lcmF0ZV9hY3Rpb24ocGFyYW1zKXtcbiAgICAgICAgbGV0IHNjYWxlX2FjdGlvbiA9IGNjLnNjYWxlVG8ocGFyYW1zLnRpbWUsIHBhcmFtcy5zY2FsZV94LCBwYXJhbXMuc2NhbGVfeSlcbiAgICAgICAgcmV0dXJuIHNjYWxlX2FjdGlvblxuICAgIH1cblxuICAgIC8v5by55oCn5pWI5p6cIOaenOWGu+aViOaenCBcbiAgICBzdGF0aWMgIGplbGx5SnVtcChub2RlKVxuICAgIHtcbiAgICAgICAgbGV0ICBzcGF3bl9hY3Rpb24xID0gdGhpcy5nZW5lcmF0ZV9hY3Rpb24oe3RpbWUgOiAwLjA2LCBzY2FsZV94IDogMC43LCBzY2FsZV95IDogMC43LCBzY2FsZV96OiAxfSlcbiAgICAgICAgLy8gbGV0ICBzcGF3bl9hY3Rpb24yID0gdGhpcy5nZW5lcmF0ZV9hY3Rpb24oe3RpbWUgOiAwLjEyLCBzY2FsZV94IDogMS4zLCBzY2FsZV95ICA6MS4zLCBzY2FsZV96IDoxfSlcbiAgICAgICAgbGV0ICBzcGF3bl9hY3Rpb24zID0gdGhpcy5nZW5lcmF0ZV9hY3Rpb24oe3RpbWUgOiAwLjA3LCBzY2FsZV94IDogMSwgc2NhbGVfeSAgOjEuNCwgc2NhbGVfeiA6MX0pXG4gICAgICAgIC8vIGxldCAgc3Bhd25fYWN0aW9uNCA9IHRoaXMuZ2VuZXJhdGVfYWN0aW9uKHt0aW1lIDogMC4wNywgc2NhbGVfeCA6IDEuMywgc2NhbGVfeSAgOjEuMywgc2NhbGVfejogMX0pXG4gICAgICAgIC8vIGxldCAgc3Bhd25fYWN0aW9uNSA9IHRoaXMuZ2VuZXJhdGVfYWN0aW9uKHt0aW1lIDogMC4wNywgc2NhbGVfeCA6IDEuMiwgc2NhbGVfeSA6IDEuMiwgc2NhbGVfeiA6IDF9KVxuICAgICAgICBsZXQgc3Bhd25fYWN0aW9uNSA9IGNjLnNjYWxlVG8oMC44LCAxLjMpLmVhc2luZyhjYy5lYXNlRWxhc3RpY091dCgwLjMpKTtcbiAgICAgICAgbGV0ICBzZXFfYWN0aW9ucyA9IGNjLnNlcXVlbmNlKHNwYXduX2FjdGlvbjEsXG4gICAgICAgICAgICAvLyAgc3Bhd25fYWN0aW9uMixcbiAgICAgICAgICAgICAgICBzcGF3bl9hY3Rpb24zLFxuICAgICAgICAgICAgICAgIC8vIHNwYXduX2FjdGlvbjQsXG4gICAgICAgICAgICAgICAgc3Bhd25fYWN0aW9uNSlcbiAgICAgICAgbm9kZS5ydW5BY3Rpb24oc2VxX2FjdGlvbnMpO1xuICAgIH1cblxuICAgIHN0YXRpYyBqZWxseUp1bXAyKG5vZGUsZnJvbSxzY2FsZSlcbiAgICB7XG4gICAgICAgIG5vZGUuc2NhbGUgPSBmcm9tO1xuICAgICAgICBsZXQgYWN0ID0gY2Muc2NhbGVUbygwLjgsIHNjYWxlLHNjYWxlKS5lYXNpbmcoY2MuZWFzZUVsYXN0aWNPdXQoMC4zKSk7XG4gICAgICAgIG5vZGUucnVuQWN0aW9uKGFjdClcbiAgICB9XG5cbiAgICBzdGF0aWMgbW92ZUJlemllcihwcmVmYWIsZnJvbSx0byxjYWxsYmFjayA9IG51bGwsZHVyID0gMSxkZWxheSA9IDApe1xuICAgICAgICBsZXQgc3ByaXRlID0gY2MuaW5zdGFudGlhdGUocHJlZmFiKVxuICAgICAgICBzcHJpdGUub3BhY2l0eSA9IDI1NTtcbiAgICAgICAgc3ByaXRlLnNldFBvc2l0aW9uKGZyb20pXG5cbiAgICAgICAgbGV0IGJlemllciA9IFtdXG4gICAgICAgIGxldCB4ID0gZnJvbS54LCB5ID0gZnJvbS55XG4gICAgICAgIGxldCBleCA9IHRvLngsIGV5ID0gdG8ueTtcbiAgICAgICAgYmV6aWVyWzBdID0gY2MudjIoeCwgeSlcbiAgICAgICAgYmV6aWVyWzFdID0gY2MudjIoeCArIE1hdGguYWJzKGV4IC0geCsgMTAwKSAqIDAuNSwgeSArIE1hdGguYWJzKGV5IC0geSsxMDApICogMC41KVxuICAgICAgICBiZXppZXJbMl0gPSBjYy52MihleCwgZXkpXG5cbiAgICAgICAgc3ByaXRlLnJ1bkFjdGlvbihjYy5zZXF1ZW5jZShjYy5kZWxheVRpbWUoZGVsYXkpLGNjLmJlemllclRvKGR1ciwgYmV6aWVyKSAsIGNjLmZhZGVPdXQoMC4zKSxjYy5jYWxsRnVuYyhjYWxsYmFjaykpKVxuICAgICAgICByZXR1cm4gc3ByaXRlO1xuICAgIH1cblxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/result/revive.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ec134IHnxVI363+v185uOut', 'revive');
// gameComon/result/revive.js

"use strict";

var backBtnTimeOut;
var continueBtnTimeOut;
var countDownInterval;
cc.Class({
  "extends": cc.Component,
  properties: {
    reviveBtn: cc.Button,
    backBtn: cc.Button,
    clock: cc.Node,
    reviveBtnCallback: null,
    backBtnCallback: null
  },
  // LIFE-CYCLE CALLBACKS:
  onLoad: function onLoad() {
    this.reviveBtn.node.on(cc.Node.EventType.TOUCH_END, this.onReviveBtnClicked, this);
    this.backBtn.node.on(cc.Node.EventType.TOUCH_END, this.onBackBtnClicked, this);
  },
  start: function start() {},

  /**
   * @param opts
   * backCB 放弃按钮回调
   * reviveCB 复活按钮回调
   */
  show: function show(opts) {
    opts = opts || {};

    if (opts.reviveCB) {
      this.reviveBtnCallback = opts.reviveCB;
    }

    if (opts.backCB) {
      this.backBtnCallback = opts.backCB;
    }

    if (opts.config) {
      this.reviveConfig = opts.config;
    }

    this.refreshUI();
  },
  refreshUI: function refreshUI() {
    this._count = 0;
    this.clock.getComponent(cc.ProgressBar).progress = 1;

    if (this.reviveConfig.countdown) {
      this.updateTime(1, this.reviveConfig.countdown, this.reviveConfig.countdown);
    }

    if (this.reviveConfig.btn1) {
      this.reviveBtn.node.getChildByName('Background').getChildByName('New Label').getComponent(cc.Label).string = this.reviveConfig.btn1.name;
      this.reviveBtn.node.getChildByName('Background').getChildByName('icon').active = this.reviveConfig.btn1.icon;
      clearTimeout(continueBtnTimeOut);

      if (this.reviveConfig.btn1.delayTime >= 0) {
        continueBtnTimeOut = setTimeout(function () {
          this.reviveBtn.node.active = true;
        }.bind(this), this.reviveConfig.btn1.delayTime * 1000);
      }
    }

    if (this.reviveConfig.btn2) {
      this.backBtn.node.getChildByName('Background').getChildByName('New Label').getComponent(cc.Label).string = this.reviveConfig.btn2.name;
      this.backBtn.node.getChildByName('Background').getChildByName('icon').active = this.reviveConfig.btn2.icon;
      this.backBtn.node.active = false;
      clearTimeout(backBtnTimeOut);

      if (this.reviveConfig.btn2.delayTime >= 0) {
        backBtnTimeOut = setTimeout(function () {
          this.backBtn.node.active = true;
        }.bind(this), this.reviveConfig.btn2.delayTime * 1000);
      }
    }

    if (appGame.interstitialAd) {
      appGame.interstitialAd.playAd();
    }

    appGame.banner.playBanner(2);
    appGame.appBoxAd.playBox(true);
    appGame.blockAd.playBlockad(true, 4);
    httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
      title: '复活',
      content: '打开复活界面'
    }, function () {});
  },
  onReviveBtnClicked: function onReviveBtnClicked(event) {
    httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
      title: '复活',
      content: '复活',
      desc: '点击'
    }, function () {});
    var isPlayVideo = false;
    var isForce = true;

    if (this.reviveConfig) {
      isPlayVideo = this.reviveConfig.btn1.video;
      isForce = this.reviveConfig.btn1.force;
    }

    if (isPlayVideo) {
      appGame.videoBanner.playVideoAd(2, isForce, function (isSuc) {
        console.log("看视频成功");
        this.reviveBtnCallback && this.reviveBtnCallback();
        this.hide();
      }.bind(this));
    } else {
      this.reviveBtnCallback && this.reviveBtnCallback();
      this.hide();
    }
  },
  onBackBtnClicked: function onBackBtnClicked(event) {
    httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
      title: '复活',
      content: '返回',
      desc: '点击'
    }, function () {});
    var isPlayVideo = false;
    var isForce = true;

    if (this.reviveConfig) {
      isPlayVideo = this.reviveConfig.btn2.video;
      isForce = this.reviveConfig.btn2.force;
    }

    if (isPlayVideo) {
      //配置需要播放视频
      appGame.videoBanner.playVideoAd(2, isForce, function (isSuc) {
        console.log("看视频成功");
        this.backBtnCallback && this.backBtnCallback();
        this.hide();
      }.bind(this));
    } else {
      //不用播放视频
      this.backBtnCallback && this.backBtnCallback();
      this.hide();
    }
  },
  updateTime: function updateTime(type, count, totalcount) {
    if (type == 1) {
      //开始倒计时
      count = count * 1000;
      totalcount = totalcount * 1000;
      var durationtime = 100;
      this._count = count;

      if (this.clock) {
        this.clock.getComponent(cc.ProgressBar).progress = this._count / totalcount;
      }

      clearInterval(countDownInterval);
      countDownInterval = setInterval(function () {
        if (this._count > durationtime) {
          this._count -= durationtime;
        } else {
          this._count = 0;
          clearInterval(countDownInterval);
          this.backBtnCallback && this.backBtnCallback();
          this.hide();
        }

        if (this.clock) {
          this.clock.getComponent(cc.ProgressBar).progress = this._count / totalcount;
        }
      }.bind(this), durationtime);
    } else {
      //关闭倒计时
      clearInterval(countDownInterval);
    }
  },
  hide: function hide() {
    httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
      title: '复活',
      content: '关闭复活界面'
    }, function () {});
    appGame.banner.playBanner(3);
    appGame.appBoxAd.playBox(false);
    appGame.blockAd.playBlockad(false);
    clearInterval(countDownInterval);
    clearTimeout(backBtnTimeOut);
    clearTimeout(continueBtnTimeOut);
    this.node.removeFromParent();
  } // update (dt) {},

});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxyZXN1bHRcXHJldml2ZS5qcyJdLCJuYW1lcyI6WyJiYWNrQnRuVGltZU91dCIsImNvbnRpbnVlQnRuVGltZU91dCIsImNvdW50RG93bkludGVydmFsIiwiY2MiLCJDbGFzcyIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJyZXZpdmVCdG4iLCJCdXR0b24iLCJiYWNrQnRuIiwiY2xvY2siLCJOb2RlIiwicmV2aXZlQnRuQ2FsbGJhY2siLCJiYWNrQnRuQ2FsbGJhY2siLCJvbkxvYWQiLCJub2RlIiwib24iLCJFdmVudFR5cGUiLCJUT1VDSF9FTkQiLCJvblJldml2ZUJ0bkNsaWNrZWQiLCJvbkJhY2tCdG5DbGlja2VkIiwic3RhcnQiLCJzaG93Iiwib3B0cyIsInJldml2ZUNCIiwiYmFja0NCIiwiY29uZmlnIiwicmV2aXZlQ29uZmlnIiwicmVmcmVzaFVJIiwiX2NvdW50IiwiZ2V0Q29tcG9uZW50IiwiUHJvZ3Jlc3NCYXIiLCJwcm9ncmVzcyIsImNvdW50ZG93biIsInVwZGF0ZVRpbWUiLCJidG4xIiwiZ2V0Q2hpbGRCeU5hbWUiLCJMYWJlbCIsInN0cmluZyIsIm5hbWUiLCJhY3RpdmUiLCJpY29uIiwiY2xlYXJUaW1lb3V0IiwiZGVsYXlUaW1lIiwic2V0VGltZW91dCIsImJpbmQiLCJidG4yIiwiYXBwR2FtZSIsImludGVyc3RpdGlhbEFkIiwicGxheUFkIiwiYmFubmVyIiwicGxheUJhbm5lciIsImFwcEJveEFkIiwicGxheUJveCIsImJsb2NrQWQiLCJwbGF5QmxvY2thZCIsImh0dHBVdGlscyIsImh0dHBQb3N0IiwiY29uc3RzIiwiSFRUUF9SRUNPUkRfU0VSVkVSIiwidGl0bGUiLCJjb250ZW50IiwiZXZlbnQiLCJkZXNjIiwiaXNQbGF5VmlkZW8iLCJpc0ZvcmNlIiwidmlkZW8iLCJmb3JjZSIsInZpZGVvQmFubmVyIiwicGxheVZpZGVvQWQiLCJpc1N1YyIsImNvbnNvbGUiLCJsb2ciLCJoaWRlIiwidHlwZSIsImNvdW50IiwidG90YWxjb3VudCIsImR1cmF0aW9udGltZSIsImNsZWFySW50ZXJ2YWwiLCJzZXRJbnRlcnZhbCIsInJlbW92ZUZyb21QYXJlbnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsY0FBSjtBQUNBLElBQUlDLGtCQUFKO0FBQ0EsSUFBSUMsaUJBQUo7QUFDQUMsRUFBRSxDQUFDQyxLQUFILENBQVM7QUFDTCxhQUFTRCxFQUFFLENBQUNFLFNBRFA7QUFHTEMsRUFBQUEsVUFBVSxFQUFFO0FBQ1JDLElBQUFBLFNBQVMsRUFBQ0osRUFBRSxDQUFDSyxNQURMO0FBRVJDLElBQUFBLE9BQU8sRUFBQ04sRUFBRSxDQUFDSyxNQUZIO0FBR1JFLElBQUFBLEtBQUssRUFBQ1AsRUFBRSxDQUFDUSxJQUhEO0FBSVJDLElBQUFBLGlCQUFpQixFQUFFLElBSlg7QUFLUkMsSUFBQUEsZUFBZSxFQUFFO0FBTFQsR0FIUDtBQVdMO0FBRUFDLEVBQUFBLE1BYkssb0JBYUs7QUFDTixTQUFLUCxTQUFMLENBQWVRLElBQWYsQ0FBb0JDLEVBQXBCLENBQXVCYixFQUFFLENBQUNRLElBQUgsQ0FBUU0sU0FBUixDQUFrQkMsU0FBekMsRUFBbUQsS0FBS0Msa0JBQXhELEVBQTJFLElBQTNFO0FBQ0EsU0FBS1YsT0FBTCxDQUFhTSxJQUFiLENBQWtCQyxFQUFsQixDQUFxQmIsRUFBRSxDQUFDUSxJQUFILENBQVFNLFNBQVIsQ0FBa0JDLFNBQXZDLEVBQWlELEtBQUtFLGdCQUF0RCxFQUF1RSxJQUF2RTtBQUNILEdBaEJJO0FBa0JMQyxFQUFBQSxLQWxCSyxtQkFrQkksQ0FFUixDQXBCSTs7QUFxQkw7QUFDSjtBQUNBO0FBQ0E7QUFDQTtBQUNLQyxFQUFBQSxJQUFJLEVBQUUsY0FBVUMsSUFBVixFQUFnQjtBQUNuQkEsSUFBQUEsSUFBSSxHQUFHQSxJQUFJLElBQUksRUFBZjs7QUFDQSxRQUFHQSxJQUFJLENBQUNDLFFBQVIsRUFBaUI7QUFDYixXQUFLWixpQkFBTCxHQUF5QlcsSUFB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QUFMLENBQVdvQixZQUFYLENBQXdCM0IsRUFBRSxDQUFDNEIsV0FBM0IsRUFBd0NDLFFBQXhDLEdBQW1ELEtBQUtILE1BQUwsR0FBWStDLFVBQS9EO0FBQ0g7QUFDSixPQVorQixDQVk5Qi9CLElBWjhCLENBWXpCLElBWnlCLENBQUQsRUFZakJnQyxZQVppQixDQUEvQjtBQWFILEtBdEJELE1Bc0JLO0FBQUM7QUFDRkMsTUFBQUEsYUFBYSxDQUFDNUUsaUJBQUQsQ0FBYjtBQUNIO0FBQ0osR0FuSkk7QUFxSkx1RSxFQUFBQSxJQXJKSyxrQkFxSkM7QUFDRmpCLElBQUFBLFNBQVMsQ0FBQ0MsUUFBVixDQUFtQkMsTUFBTSxDQUFDQyxrQkFBMUIsRUFBNkM7QUFBQ0MsTUFBQUEsS0FBSyxFQUFDLElBQVA7QUFBWUMsTUFBQUEsT0FBTyxFQUFDO0FBQXBCLEtBQTdDLEVBQTJFLFlBQVUsQ0FDcEYsQ0FERDtBQUVBZCxJQUFBQSxPQUFPLENBQUNHLE1BQVIsQ0FBZUMsVUFBZixDQUEwQixDQUExQjtBQUNBSixJQUFBQSxPQUFPLENBQUNLLFFBQVIsQ0FBaUJDLE9BQWpCLENBQXlCLEtBQXpCO0FBQ0FOLElBQUFBLE9BQU8sQ0FBQ08sT0FBUixDQUFnQkMsV0FBaEIsQ0FBNEIsS0FBNUI7QUFDQXVCLElBQUFBLGFBQWEsQ0FBQzVFLGlCQUFELENBQWI7QUFDQXdDLElBQUFBLFlBQVksQ0FBQzFDLGNBQUQsQ0FBWjtBQUNBMEMsSUFBQUEsWUFBWSxDQUFDekMsa0JBQUQsQ0FBWjtBQUNBLFNBQUtjLElBQUwsQ0FBVWlFLGdCQUFWO0FBQ0gsR0EvSkksQ0FpS0w7O0FBaktLLENBQVQiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbInZhciBiYWNrQnRuVGltZU91dDtcclxudmFyIGNvbnRpbnVlQnRuVGltZU91dDtcclxudmFyIGNvdW50RG93bkludGVydmFsO1xyXG5jYy5DbGFzcyh7XHJcbiAgICBleHRlbmRzOiBjYy5Db21wb25lbnQsXHJcblxyXG4gICAgcHJvcGVydGllczoge1xyXG4gICAgICAgIHJldml2ZUJ0bjpjYy5CdXR0b24sXHJcbiAgICAgICAgYmFja0J0bjpjYy5CdXR0b24sXHJcbiAgICAgICAgY2xvY2s6Y2MuTm9kZSxcclxuICAgICAgICByZXZpdmVCdG5DYWxsYmFjazogbnVsbCxcclxuICAgICAgICBiYWNrQnRuQ2FsbGJhY2s6IG51bGxcclxuICAgIH0sXHJcblxyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcblxyXG4gICAgb25Mb2FkICgpIHtcclxuICAgICAgICB0aGlzLnJldml2ZUJ0bi5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCx0aGlzLm9uUmV2aXZlQnRuQ2xpY2tlZCx0aGlzKTtcclxuICAgICAgICB0aGlzLmJhY2tCdG4ubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsdGhpcy5vbkJhY2tCdG5DbGlja2VkLHRoaXMpO1xyXG4gICAgfSxcclxuXHJcbiAgICBzdGFydCAoKSB7XHJcblxyXG4gICAgfSxcclxuICAgIC8qKlxyXG4gICAgICogQHBhcmFtIG9wdHNcclxuICAgICAqIGJhY2tDQiDmlL7lvIPmjInpkq7lm57osINcclxuICAgICAqIHJldml2ZUNCIOWkjea0u+aMiemSruWbnuiwg1xyXG4gICAgICovXHJcbiAgICAgc2hvdzogZnVuY3Rpb24gKG9wdHMpIHtcclxuICAgICAgICBvcHRzID0gb3B0cyB8fCB7fTtcclxuICAgICAgICBpZihvcHRzLnJldml2ZUNCKXtcclxuICAgICAgICAgICAgdGhpcy5yZXZpdmVCdG5DYWxsYmFjayA9IG9wdHMucmV2aXZlQ0I7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKG9wdHMuYmFja0NCKXtcclxuICAgICAgICAgICAgdGhpcy5iYWNrQnRuQ2FsbGJhY2sgPSBvcHRzLmJhY2tDQjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYob3B0cy5jb25maWcpe1xyXG4gICAgICAgICAgICB0aGlzLnJldml2ZUNvbmZpZyA9IG9wdHMuY29uZmlnO1xyXG4gICAgICAgIH1cclxuICAgICAgICB0aGlzLnJlZnJlc2hVSSgpO1xyXG4gICAgfSxcclxuICAgIHJlZnJlc2hVSSgpe1xyXG4gICAgICAgIHRoaXMuX2NvdW50ID0gMDtcclxuICAgICAgICB0aGlzLmNsb2NrLmdldENvbXBvbmVudChjYy5Qcm9ncmVzc0JhcikucHJvZ3Jlc3MgPSAxO1xyXG4gICAgICAgIGlmKHRoaXMucmV2aXZlQ29uZmlnLmNvdW50ZG93bil7XHJcbiAgICAgICAgICAgIHRoaXMudXBkYXRlVGltZSgxLHRoaXMucmV2aXZlQ29uZmlnLmNvdW50ZG93bix0aGlzLnJldml2ZUNvbmZpZy5jb3VudGRvd24pO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLnJldml2ZUNvbmZpZy5idG4xKXtcclxuICAgICAgICAgICAgdGhpcy5yZXZpdmVCdG4ubm9kZS5nZXRDaGlsZEJ5TmFtZSgnQmFja2dyb3VuZCcpLmdldENoaWxkQnlOYW1lKCdOZXcgTGFiZWwnKS5nZXRDb21wb25lbnQoY2MuTGFiZWwpLnN0cmluZyA9IHRoaXMucmV2aXZlQ29uZmlnLmJ0bjEubmFtZTtcclxuICAgICAgICAgICAgdGhpcy5yZXZpdmVCdG4ubm9kZS5nZXRDaGlsZEJ5TmFtZSgnQmFja2dyb3VuZCcpLmdldENoaWxkQnlOYW1lKCdpY29uJykuYWN0aXZlID0gdGhpcy5yZXZpdmVDb25maWcuYnRuMS5pY29uO1xyXG4gICAgICAgICAgICBjbGVhclRpbWVvdXQoY29udGludWVCdG5UaW1lT3V0KTtcclxuICAgICAgICAgICAgaWYodGhpcy5yZXZpdmVDb25maWcuYnRuMS5kZWxheVRpbWU+PTApe1xyXG4gICAgICAgICAgICAgICAgY29udGludWVCdG5UaW1lT3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmV2aXZlQnRuLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSx0aGlzLnJldml2ZUNvbmZpZy5idG4xLmRlbGF5VGltZSoxMDAwKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYodGhpcy5yZXZpdmVDb25maWcuYnRuMil7XHJcbiAgICAgICAgICAgIHRoaXMuYmFja0J0bi5ub2RlLmdldENoaWxkQnlOYW1lKCdCYWNrZ3JvdW5kJykuZ2V0Q2hpbGRCeU5hbWUoJ05ldyBMYWJlbCcpLmdldENvbXBvbmVudChjYy5MYWJlbCkuc3RyaW5nID0gdGhpcy5yZXZpdmVDb25maWcuYnRuMi5uYW1lO1xyXG4gICAgICAgICAgICB0aGlzLmJhY2tCdG4ubm9kZS5nZXRDaGlsZEJ5TmFtZSgnQmFja2dyb3VuZCcpLmdldENoaWxkQnlOYW1lKCdpY29uJykuYWN0aXZlID0gdGhpcy5yZXZpdmVDb25maWcuYnRuMi5pY29uO1xyXG4gICAgICAgICAgICB0aGlzLmJhY2tCdG4ubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGJhY2tCdG5UaW1lT3V0KTtcclxuICAgICAgICAgICAgaWYodGhpcy5yZXZpdmVDb25maWcuYnRuMi5kZWxheVRpbWU+PTApe1xyXG4gICAgICAgICAgICBiYWNrQnRuVGltZU91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJhY2tCdG4ubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgfS5iaW5kKHRoaXMpLHRoaXMucmV2aXZlQ29uZmlnLmJ0bjIuZGVsYXlUaW1lKjEwMDApO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICAgIFxyXG4gICAgICAgIGlmKGFwcEdhbWUuaW50ZXJzdGl0aWFsQWQpe1xyXG4gICAgICAgICAgICBhcHBHYW1lLmludGVyc3RpdGlhbEFkLnBsYXlBZCgpO1xyXG4gICAgICAgIH1cclxuICAgICAgICBhcHBHYW1lLmJhbm5lci5wbGF5QmFubmVyKDIpO1xyXG4gICAgICAgIGFwcEdhbWUuYXBwQm94QWQucGxheUJveCh0cnVlKTtcclxuICAgICAgICBhcHBHYW1lLmJsb2NrQWQucGxheUJsb2NrYWQodHJ1ZSw0KTtcclxuICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+Wkjea0uycsY29udGVudDon5omT5byA5aSN5rS755WM6Z2iJ30sZnVuY3Rpb24oKXtcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcblxyXG4gICAgb25SZXZpdmVCdG5DbGlja2VkKGV2ZW50KXtcclxuICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+Wkjea0uycsY29udGVudDon5aSN5rS7JyxkZXNjOifngrnlh7snfSxmdW5jdGlvbigpe1xyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIGxldCBpc1BsYXlWaWRlbyA9IGZhbHNlO1xyXG4gICAgICAgIGxldCBpc0ZvcmNlID0gdHJ1ZTtcclxuICAgICAgICBpZih0aGlzLnJldml2ZUNvbmZpZyl7XHJcbiAgICAgICAgICAgIGlzUGxheVZpZGVvID0gdGhpcy5yZXZpdmVDb25maWcuYnRuMS52aWRlbztcclxuICAgICAgICAgICAgaXNGb3JjZSA9IHRoaXMucmV2aXZlQ29uZmlnLmJ0bjEuZm9yY2U7XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKGlzUGxheVZpZGVvKXtcclxuICAgICAgICAgICAgYXBwR2FtZS52aWRlb0Jhbm5lci5wbGF5VmlkZW9BZCgyLGlzRm9yY2UsZnVuY3Rpb24oaXNTdWMpe1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLnnIvop4bpopHmiJDlip9cIilcclxuICAgICAgICAgICAgICAgIHRoaXMucmV2aXZlQnRuQ2FsbGJhY2sgJiYgdGhpcy5yZXZpdmVCdG5DYWxsYmFjaygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMucmV2aXZlQnRuQ2FsbGJhY2sgJiYgdGhpcy5yZXZpdmVCdG5DYWxsYmFjaygpO1xyXG4gICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICB9XHJcbiAgICAgICAgXHJcbiAgICB9LFxyXG5cclxuICAgIG9uQmFja0J0bkNsaWNrZWQoZXZlbnQpe1xyXG4gICAgICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon5aSN5rS7Jyxjb250ZW50Oifov5Tlm54nLGRlc2M6J+eCueWHuyd9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgbGV0IGlzUGxheVZpZGVvID0gZmFsc2U7XHJcbiAgICAgICAgbGV0IGlzRm9yY2UgPSB0cnVlO1xyXG4gICAgICAgIGlmKHRoaXMucmV2aXZlQ29uZmlnKXtcclxuICAgICAgICAgICAgaXNQbGF5VmlkZW8gPSB0aGlzLnJldml2ZUNvbmZpZy5idG4yLnZpZGVvO1xyXG4gICAgICAgICAgICBpc0ZvcmNlID0gdGhpcy5yZXZpdmVDb25maWcuYnRuMi5mb3JjZTtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoaXNQbGF5VmlkZW8pey8v6YWN572u6ZyA6KaB5pKt5pS+6KeG6aKRXHJcbiAgICAgICAgICAgIGFwcEdhbWUudmlkZW9CYW5uZXIucGxheVZpZGVvQWQoMixpc0ZvcmNlLGZ1bmN0aW9uKGlzU3VjKXtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi55yL6KeG6aKR5oiQ5YqfXCIpXHJcbiAgICAgICAgICAgICAgICB0aGlzLmJhY2tCdG5DYWxsYmFjayAmJiB0aGlzLmJhY2tCdG5DYWxsYmFjaygpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfWVsc2V7Ly/kuI3nlKjmkq3mlL7op4bpopFcclxuICAgICAgICAgICAgdGhpcy5iYWNrQnRuQ2FsbGJhY2sgJiYgdGhpcy5iYWNrQnRuQ2FsbGJhY2soKTtcclxuICAgICAgICAgICAgdGhpcy5oaWRlKCk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICB1cGRhdGVUaW1lKHR5cGUsY291bnQsdG90YWxjb3VudCl7XHJcbiAgICAgICAgaWYodHlwZT09MSl7Ly/lvIDlp4vlgJLorqHml7ZcclxuICAgICAgICAgICAgY291bnQgPSBjb3VudCoxMDAwO1xyXG4gICAgICAgICAgICB0b3RhbGNvdW50ID0gdG90YWxjb3VudCoxMDAwO1xyXG4gICAgICAgICAgICBsZXQgZHVyYXRpb250aW1lID0gMTAwO1xyXG4gICAgICAgICAgICB0aGlzLl9jb3VudCA9IGNvdW50O1xyXG4gICAgICAgICAgICBpZih0aGlzLmNsb2NrKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvY2suZ2V0Q29tcG9uZW50KGNjLlByb2dyZXNzQmFyKS5wcm9ncmVzcyA9IHRoaXMuX2NvdW50L3RvdGFsY291bnQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjb3VudERvd25JbnRlcnZhbCk7XHJcbiAgICAgICAgICAgIGNvdW50RG93bkludGVydmFsID0gc2V0SW50ZXJ2YWwoZnVuY3Rpb24oKSB7XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLl9jb3VudD5kdXJhdGlvbnRpbWUpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuX2NvdW50LT1kdXJhdGlvbnRpbWU7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb3VudCA9IDA7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjb3VudERvd25JbnRlcnZhbCk7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5iYWNrQnRuQ2FsbGJhY2sgJiYgdGhpcy5iYWNrQnRuQ2FsbGJhY2soKTtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKHRoaXMuY2xvY2spe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuY2xvY2suZ2V0Q29tcG9uZW50KGNjLlByb2dyZXNzQmFyKS5wcm9ncmVzcyA9IHRoaXMuX2NvdW50L3RvdGFsY291bnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSwgZHVyYXRpb250aW1lKTtcclxuICAgICAgICB9ZWxzZXsvL+WFs+mXreWAkuiuoeaXtlxyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKGNvdW50RG93bkludGVydmFsKTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIGhpZGUoKXtcclxuICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+Wkjea0uycsY29udGVudDon5YWz6Zet5aSN5rS755WM6Z2iJ30sZnVuY3Rpb24oKXtcclxuICAgICAgICB9KTtcclxuICAgICAgICBhcHBHYW1lLmJhbm5lci5wbGF5QmFubmVyKDMpO1xyXG4gICAgICAgIGFwcEdhbWUuYXBwQm94QWQucGxheUJveChmYWxzZSk7XHJcbiAgICAgICAgYXBwR2FtZS5ibG9ja0FkLnBsYXlCbG9ja2FkKGZhbHNlKTtcclxuICAgICAgICBjbGVhckludGVydmFsKGNvdW50RG93bkludGVydmFsKTtcclxuICAgICAgICBjbGVhclRpbWVvdXQoYmFja0J0blRpbWVPdXQpO1xyXG4gICAgICAgIGNsZWFyVGltZW91dChjb250aW51ZUJ0blRpbWVPdXQpO1xyXG4gICAgICAgIHRoaXMubm9kZS5yZW1vdmVGcm9tUGFyZW50KCk7XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge30sXHJcbn0pO1xyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/screenRecord/screenrecordHand.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4bca2MgtetMQYn5yd8otlgf', 'screenrecordHand');
// gameComon/screenRecord/screenrecordHand.js

"use strict";

// Learn cc.Class:
//  - https://docs.cocos.com/creator/manual/en/scripting/class.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var recorder;
var videoPathGame;
var countDownTimeOut;
cc.Class({
  "extends": cc.Component,
  properties: {
    screenSprite: [cc.SpriteFrame]
  },
  // LIFE-CYCLE CALLBACKS:
  onLoad: function onLoad() {
    //true可点击   false不可点击
    this.isClick = true; //1 可以点击录屏   2 正在录屏中   3分享

    this.screenStatus = 1;
    this.node.on(cc.Node.EventType.TOUCH_END, this.screenBtnCallBack, this);
    this.initRefreshUI();

    if (cc.sys.platform == cc.sys.BYTEDANCE_GAME) {
      this.node.active = true;
    } else {
      this.node.active = false;
    }
  },
  onDestroy: function onDestroy() {
    clearTimeout(countDownTimeOut);
  },
  initRefreshUI: function initRefreshUI() {
    if (this.screenStatus == 3) {
      this.node.getChildByName('Background').getComponent(cc.Sprite).spriteFrame = this.screenSprite[2];
    } else if (this.screenStatus == 2) {
      this.node.getChildByName('Background').getComponent(cc.Sprite).spriteFrame = this.screenSprite[1];
    } else {
      this.node.getChildByName('Background').getComponent(cc.Sprite).spriteFrame = this.screenSprite[0];
    }
  },
  screenBtnCallBack: function screenBtnCallBack(event) {
    if (!this.isClick) {
      //录屏时间太短   不能点击
      appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_LOADTIP, {
        content: "录屏时间太短！！！"
      });
      return;
    }

    if (this.screenStatus == 1) {
      //点击录屏
      this.screenStatus = 2;
    } else if (this.screenStatus == 2) {
      //点击录屏中
      this.screenStatus = 3;
    } else if (this.screenStatus == 3) {
      //点击分享
      this.screenStatus = 1;
    }

    if (this.screenStatus == 2) {
      this.isClick = false;
    }

    countDownTimeOut = setTimeout(function () {
      this.isClick = true;
      clearTimeout(countDownTimeOut);
    }.bind(this), 5000);
    this.initRefreshUI();

    if (cc.sys.platform == cc.sys.BYTEDANCE_GAME) {
      //头条平台
      if (this.screenStatus == 1) {
        if (videoPathGame == null) {
          appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_LOADTIP, {
            content: "录屏时间太短！！！"
          });
          return;
        }

        if (cc.sys.platform == cc.sys.BYTEDANCE_GAME) {
          //头条平台
          tt.shareAppMessage({
            channel: 'video',
            title: consts.HTTP_RECORD_PACKAGENAME,
            imageUrl: '',
            query: '',
            extra: {
              videoPath: videoPathGame,
              // 可用录屏得到的视频地址
              videoTopics: ['大家一起来玩' + consts.HTTP_RECORD_PACKAGENAME + '！！！']
            },
            success: function success() {
              console.log('分享视频成功');
            },
            fail: function fail(e) {
              console.log('分享视频失败');
              appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_LOADTIP, {
                content: "分享视频失败"
              });
            }
          });
        }
      } else if (this.screenStatus == 2) {
        if (!recorder) recorder = tt.getGameRecorderManager();
        recorder.start({
          duration: 100000
        });
        recorder.onStart(function (res) {
          console.log('开始录屏');
        });
        recorder.onStop(function (res) {
          console.log(res.videoPath);
          videoPathGame = res.videoPath;
          console.log('录屏结束');
        });
      } else if (this.screenStatus == 3) {
        if (!recorder) recorder = tt.getGameRecorderManager();
        recorder.stop();
        recorder.onStop(function (res) {
          videoPathGame = res.videoPath;
          console.log('手动停止录屏===' + res.videoPath);
        });
      }
    }
  },
  start: function start() {} // update (dt) {},

});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JlZW5SZWNvcmRcXHNjcmVlbnJlY29yZEhhbmQuanMiXSwibmFtZXMiOlsicmVjb3JkZXIiLCJ2aWRlb1BhdGhHYW1lIiwiY291bnREb3duVGltZU91dCIsImNjIiwiQ2xhc3MiLCJDb21wb25lbnQiLCJwcm9wZXJ0aWVzIiwic2NyZWVuU3ByaXRlIiwiU3ByaXRlRnJhbWUiLCJvbkxvYWQiLCJpc0NsaWNrIiwic2NyZWVuU3RhdHVzIiwibm9kZSIsIm9uIiwiTm9kZSIsIkV2ZW50VHlwZSIsIlRPVUNIX0VORCIsInNjcmVlbkJ0bkNhbGxCYWNrIiwiaW5pdFJlZnJlc2hVSSIsInN5cyIsInBsYXRmb3JtIiwiQllURURBTkNFX0dBTUUiLCJhY3RpdmUiLCJvbkRlc3Ryb3kiLCJjbGVhclRpbWVvdXQiLCJnZXRDaGlsZEJ5TmFtZSIsImdldENvbXBvbmVudCIsIlNwcml0ZSIsInNwcml0ZUZyYW1lIiwiZXZlbnQiLCJhcHBHYW1lIiwiZW1pdHRlciIsImVtaXQiLCJjb25zdHMiLCJMT0NBTF9FVkVOVF9QT1BVUF9MT0FEVElQIiwiY29udGVudCIsInNldFRpbWVvdXQiLCJiaW5kIiwidHQiLCJzaGFyZUFwcE1lc3NhZ2UiLCJjaGFubmVsIiwidGl0bGUiLCJIVFRQX1JFQ09SRF9QQUNLQUdFTkFNRSIsImltYWdlVXJsIiwicXVlcnkiLCJleHRyYSIsInZpZGVvUGF0aCIsInZpZGVvVG9waWNzIiwic3VjY2VzcyIsImNvbnNvbGUiLCJsb2ciLCJmYWlsIiwiZSIsImdldEdhbWVSZWNvcmRlck1hbmFnZXIiLCJzdGFydCIsImR1cmF0aW9uIiwib25TdGFydCIsInJlcyIsIm9uU3RvcCIsInN0b3AiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsSUFBSUEsUUFBSjtBQUNBLElBQUlDLGFBQUo7QUFDQSxJQUFJQyxnQkFBSjtBQUNBQyxFQUFFLENBQUND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QUFySEssQ0FBVCIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLy8gTGVhcm4gY2MuQ2xhc3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2NsYXNzLmh0bWxcclxuLy8gTGVhcm4gQXR0cmlidXRlOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9yZWZlcmVuY2UvYXR0cmlidXRlcy5odG1sXHJcbi8vIExlYXJuIGxpZmUtY3ljbGUgY2FsbGJhY2tzOlxyXG4vLyAgLSBodHRwczovL2RvY3MuY29jb3MuY29tL2NyZWF0b3IvbWFudWFsL2VuL3NjcmlwdGluZy9saWZlLWN5Y2xlLWNhbGxiYWNrcy5odG1sXHJcbnZhciByZWNvcmRlcjtcclxudmFyIHZpZGVvUGF0aEdhbWU7XHJcbnZhciBjb3VudERvd25UaW1lT3V0O1xyXG5jYy5DbGFzcyh7XHJcbiAgICBleHRlbmRzOiBjYy5Db21wb25lbnQsXHJcblxyXG4gICAgcHJvcGVydGllczoge1xyXG4gICAgICAgIHNjcmVlblNwcml0ZTpbY2MuU3ByaXRlRnJhbWVdXHJcbiAgICB9LFxyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgIG9uTG9hZCAoKSB7XHJcbiAgICAgICAgLy90cnVl5Y+v54K55Ye7ICAgZmFsc2XkuI3lj6/ngrnlh7tcclxuICAgICAgICB0aGlzLmlzQ2xpY2sgPSB0cnVlO1xyXG4gICAgICAgIC8vMSDlj6/ku6Xngrnlh7vlvZXlsY8gICAyIOato+WcqOW9leWxj+S4rSAgIDPliIbkuqtcclxuICAgICAgICB0aGlzLnNjcmVlblN0YXR1cyA9IDE7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCx0aGlzLnNjcmVlbkJ0bkNhbGxCYWNrLHRoaXMpO1xyXG4gICAgICAgIHRoaXMuaW5pdFJlZnJlc2hVSSgpO1xyXG4gICAgICAgIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuQllURURBTkNFX0dBTUUpe1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gdHJ1ZTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgb25EZXN0cm95KCl7XHJcbiAgICAgICAgY2xlYXJUaW1lb3V0KGNvdW50RG93blRpbWVPdXQpO1xyXG4gICAgfSxcclxuXHJcbiAgICBpbml0UmVmcmVzaFVJKCl7XHJcbiAgICAgICAgaWYodGhpcy5zY3JlZW5TdGF0dXMgPT0zKXtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmdldENoaWxkQnlOYW1lKCdCYWNrZ3JvdW5kJykuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSkuc3ByaXRlRnJhbWUgPSB0aGlzLnNjcmVlblNwcml0ZVsyXTtcclxuICAgICAgICB9ZWxzZSBpZih0aGlzLnNjcmVlblN0YXR1cyA9PTIpe1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoJ0JhY2tncm91bmQnKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IHRoaXMuc2NyZWVuU3ByaXRlWzFdO1xyXG4gICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuZ2V0Q2hpbGRCeU5hbWUoJ0JhY2tncm91bmQnKS5nZXRDb21wb25lbnQoY2MuU3ByaXRlKS5zcHJpdGVGcmFtZSA9IHRoaXMuc2NyZWVuU3ByaXRlWzBdO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgc2NyZWVuQnRuQ2FsbEJhY2soZXZlbnQpe1xyXG4gICAgICAgIGlmKCF0aGlzLmlzQ2xpY2speyAvL+W9leWxj+aXtumXtOWkquefrSAgIOS4jeiDveeCueWHu1xyXG4gICAgICAgICAgICBhcHBHYW1lLmVtaXR0ZXIuZW1pdChjb25zdHMuTE9DQUxfRVZFTlRfUE9QVVBfTE9BRFRJUCwge1xyXG4gICAgICAgICAgICAgICAgY29udGVudDpcIuW9leWxj+aXtumXtOWkquefre+8ge+8ge+8gVwiXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXR1cm47XHJcbiAgICAgICAgfVxyXG4gICAgICAgIGlmKHRoaXMuc2NyZWVuU3RhdHVzID09IDEpey8v54K55Ye75b2V5bGPXHJcbiAgICAgICAgICAgIHRoaXMuc2NyZWVuU3RhdHVzID0gMjtcclxuICAgICAgICB9ZWxzZSBpZih0aGlzLnNjcmVlblN0YXR1cyA9PSAyKXsvL+eCueWHu+W9leWxj+S4rVxyXG4gICAgICAgICAgICB0aGlzLnNjcmVlblN0YXR1cyA9IDM7XHJcbiAgICAgICAgfWVsc2UgaWYodGhpcy5zY3JlZW5TdGF0dXMgPT0gMyl7Ly/ngrnlh7vliIbkuqtcclxuICAgICAgICAgICAgdGhpcy5zY3JlZW5TdGF0dXMgPSAxO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLnNjcmVlblN0YXR1cz09Mil7XHJcbiAgICAgICAgICAgIHRoaXMuaXNDbGljayA9IGZhbHNlO1xyXG4gICAgICAgIH1cclxuICAgICAgICBjb3VudERvd25UaW1lT3V0ID0gc2V0VGltZW91dChmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdGhpcy5pc0NsaWNrID0gdHJ1ZTtcclxuICAgICAgICAgICAgY2xlYXJUaW1lb3V0KGNvdW50RG93blRpbWVPdXQpO1xyXG4gICAgICAgIH0uYmluZCh0aGlzKSwgNTAwMCk7XHJcbiAgICAgICAgdGhpcy5pbml0UmVmcmVzaFVJKClcclxuICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLkJZVEVEQU5DRV9HQU1FKXsgLy/lpLTmnaHlubPlj7BcclxuICAgICAgICAgICAgaWYodGhpcy5zY3JlZW5TdGF0dXM9PTEpe1xyXG4gICAgICAgICAgICAgICAgaWYodmlkZW9QYXRoR2FtZT09bnVsbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwR2FtZS5lbWl0dGVyLmVtaXQoY29uc3RzLkxPQ0FMX0VWRU5UX1BPUFVQX0xPQURUSVAsIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCLlvZXlsY/ml7bpl7TlpKrnn63vvIHvvIHvvIFcIlxyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuQllURURBTkNFX0dBTUUpeyAvL+WktOadoeW5s+WPsFxyXG4gICAgICAgICAgICAgICAgICAgIHR0LnNoYXJlQXBwTWVzc2FnZSh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNoYW5uZWw6ICd2aWRlbycsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiBjb25zdHMuSFRUUF9SRUNPUkRfUEFDS0FHRU5BTUUsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGltYWdlVXJsOiAnJyxcclxuICAgICAgICAgICAgICAgICAgICAgICAgcXVlcnk6ICcnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmlkZW9QYXRoOiB2aWRlb1BhdGhHYW1lLCAvLyDlj6/nlKjlvZXlsY/lvpfliLDnmoTop4bpopHlnLDlnYBcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZpZGVvVG9waWNzOiBbJ+Wkp+WutuS4gOi1t+adpeeOqScrY29uc3RzLkhUVFBfUkVDT1JEX1BBQ0tBR0VOQU1FKyfvvIHvvIHvvIEnXVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKCkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+WIhuS6q+inhumikeaIkOWKnycpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmYWlsKGUpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCfliIbkuqvop4bpopHlpLHotKUnKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFwcEdhbWUuZW1pdHRlci5lbWl0KGNvbnN0cy5MT0NBTF9FVkVOVF9QT1BVUF9MT0FEVElQLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY29udGVudDogXCLliIbkuqvop4bpopHlpLHotKVcIlxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfWVsc2UgaWYodGhpcy5zY3JlZW5TdGF0dXM9PTIpe1xyXG4gICAgICAgICAgICAgICAgaWYoIXJlY29yZGVyKSByZWNvcmRlciA9IHR0LmdldEdhbWVSZWNvcmRlck1hbmFnZXIoKTtcclxuICAgICAgICAgICAgICAgIHJlY29yZGVyLnN0YXJ0KHtcclxuICAgICAgICAgICAgICAgICAgICBkdXJhdGlvbjogMTAwMDAwLFxyXG4gICAgICAgICAgICAgICAgfSk7XHJcblxyXG4gICAgICAgICAgICAgICAgcmVjb3JkZXIub25TdGFydChyZXMgPT57XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coJ+W8gOWni+W9leWxjycpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgICAgICAgICByZWNvcmRlci5vblN0b3AocmVzID0+e1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKHJlcy52aWRlb1BhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgIHZpZGVvUGF0aEdhbWUgPSByZXMudmlkZW9QYXRoO1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCflvZXlsY/nu5PmnZ8nKTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9ZWxzZSBpZih0aGlzLnNjcmVlblN0YXR1cz09Myl7XHJcbiAgICAgICAgICAgICAgICBpZighcmVjb3JkZXIpIHJlY29yZGVyID0gdHQuZ2V0R2FtZVJlY29yZGVyTWFuYWdlcigpO1xyXG4gICAgICAgICAgICAgICAgcmVjb3JkZXIuc3RvcCgpO1xyXG4gICAgICAgICAgICAgICAgcmVjb3JkZXIub25TdG9wKChyZXMpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICB2aWRlb1BhdGhHYW1lID0gcmVzLnZpZGVvUGF0aDtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5omL5Yqo5YGc5q2i5b2V5bGPPT09JysgcmVzLnZpZGVvUGF0aClcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBzdGFydCAoKSB7XHJcblxyXG4gICAgfSxcclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9LFxyXG59KTtcclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/platformFun.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '84833vJXhNMwZQ8web99yS6', 'platformFun');
// gameComon/scripts/platformFun.js

"use strict";

module.exports = {
  subscribeService: function subscribeService() {
    if (cc.sys.platform == cc.sys.BAIDU_GAME) {
      swan.subscribeService({
        templateId: '7519c8966fdd442d93cec1e0a30c3521',
        subscribeId: '1234',
        type: 'query',
        success: function success(res) {
          swan.showModal({
            title: 'success',
            content: JSON.stringify(res)
          });
        },
        fail: function fail(err) {
          swan.showModal({
            title: 'fail',
            content: JSON.stringify(err)
          });
        }
      });
    }
  }
};

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFxwbGF0Zm9ybUZ1bi5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwic3Vic2NyaWJlU2VydmljZSIsImNjIiwic3lzIiwicGxhdGZvcm0iLCJCQUlEVV9HQU1FIiwic3dhbiIsInRlbXBsYXRlSWQiLCJzdWJzY3JpYmVJZCIsInR5cGUiLCJzdWNjZXNzIiwicmVzIiwic2hvd01vZGFsIiwidGl0bGUiLCJjb250ZW50IiwiSlNPTiIsInN0cmluZ2lmeSIsImZhaWwiLCJlcnIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBR0FBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUNiQyxFQUFBQSxnQkFBZ0IsRUFBRSw0QkFBWTtBQUMxQixRQUFHQyxFQUFFLENBQUNDLEdBQUgsQ0FBT0MsUUFBUCxJQUFtQkYsRUFBRSxDQUFDQyxHQUFILENBQU9FLFVBQTdCLEVBQXdDO0FBQ3BDQyxNQUFBQSxJQUFJLENBQUNMLGdCQUFMLENBQXNCO0FBQ2xCTSxRQUFBQSxVQUFVLEVBQUUsa0NBRE07QUFFbEJDLFFBQUFBLFdBQVcsRUFBRSxNQUZLO0FBR2xCQyxRQUFBQSxJQUFJLEVBQUUsT0FIWTtBQUlsQkMsUUFBQUEsT0FKa0IsbUJBSVZDLEdBSlUsRUFJTDtBQUNUTCxVQUFBQSxJQUFJLENBQUNNLFNBQUwsQ0FBZTtBQUNYQyxZQUFBQSxLQUFLLEVBQUUsU0FESTtBQUVYQyxZQUFBQSxPQUFPLEVBQUVDLElBQUksQ0FBQ0MsU0FBTCxDQUFlTCxHQUFmO0FBRkUsV0FBZjtBQUlILFNBVGlCO0FBVWxCTSxRQUFBQSxJQVZrQixnQkFVYkMsR0FWYSxFQVVSO0FBQ05aLFVBQUFBLElBQUksQ0FBQ00sU0FBTCxDQUFlO0FBQ1hDLFlBQUFBLEtBQUssRUFBRSxNQURJO0FBRVhDLFlBQUFBLE9BQU8sRUFBRUMsSUFBSSxDQUFDQyxTQUFMLENBQWVFLEdBQWY7QUFGRSxXQUFmO0FBSUg7QUFmaUIsT0FBdEI7QUFpQkg7QUFDSjtBQXJCWSxDQUFqQiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiXHJcblxyXG5cclxubW9kdWxlLmV4cG9ydHMgPSB7XHJcbiAgICBzdWJzY3JpYmVTZXJ2aWNlOiBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgaWYoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5CQUlEVV9HQU1FKXtcclxuICAgICAgICAgICAgc3dhbi5zdWJzY3JpYmVTZXJ2aWNlKHtcclxuICAgICAgICAgICAgICAgIHRlbXBsYXRlSWQ6ICc3NTE5Yzg5NjZmZGQ0NDJkOTNjZWMxZTBhMzBjMzUyMScsXHJcbiAgICAgICAgICAgICAgICBzdWJzY3JpYmVJZDogJzEyMzQnLFxyXG4gICAgICAgICAgICAgICAgdHlwZTogJ3F1ZXJ5JyxcclxuICAgICAgICAgICAgICAgIHN1Y2Nlc3MocmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgc3dhbi5zaG93TW9kYWwoe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB0aXRsZTogJ3N1Y2Nlc3MnLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb250ZW50OiBKU09OLnN0cmluZ2lmeShyZXMpXHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZmFpbChlcnIpIHtcclxuICAgICAgICAgICAgICAgICAgICBzd2FuLnNob3dNb2RhbCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRpdGxlOiAnZmFpbCcsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IEpTT04uc3RyaW5naWZ5KGVycilcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/screenRecord/screenShareAuto.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3d67dGKle9P9Yia7x4UYtLi', 'screenShareAuto');
// gameComon/screenRecord/screenShareAuto.js

"use strict";

// Learn cc.Class:
//  - https://docs.cocos.com/creator/manual/en/scripting/class.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
var recorder;
var videoPathGame;
cc.Class({
  "extends": cc.Component,
  properties: {},
  // LIFE-CYCLE CALLBACKS:
  onLoad: function onLoad() {
    this.node.on(cc.Node.EventType.TOUCH_END, this.shareBtnCallBack, this);

    if (cc.sys.platform == cc.sys.BYTEDANCE_GAME) {
      this.node.active = true;
    } else {
      this.node.active = false;
    }
  },
  onDestroy: function onDestroy() {},
  shareBtnCallBack: function shareBtnCallBack(event) {
    console.log("appGame.isClick", appGame.isClick);

    if (appGame.screenPath == null || appGame.isClick == false) {
      appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_LOADTIP, {
        content: "录屏时间太短！！！"
      });
      return;
    }

    if (cc.sys.platform == cc.sys.BYTEDANCE_GAME) {
      //头条平台
      console.log("头条平台===", appGame.screenPath);
      tt.shareAppMessage({
        channel: 'video',
        title: consts.HTTP_RECORD_PACKAGENAME,
        imageUrl: '',
        query: '',
        extra: {
          videoPath: appGame.screenPath,
          // 可用录屏得到的视频地址
          videoTopics: ['大家一起来玩' + consts.HTTP_RECORD_PACKAGENAME + '！！！']
        },
        success: function success() {
          console.log('分享视频成功');
        },
        fail: function fail(e) {
          appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_LOADTIP, {
            content: "分享视频失败"
          });
        }
      });
    }
  },
  start: function start() {} // update (dt) {},

});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JlZW5SZWNvcmRcXHNjcmVlblNoYXJlQXV0by5qcyJdLCJuYW1lcyI6WyJyZWNvcmRlciIsInZpZGVvUGF0aEdhbWUiLCJjYyIsIkNsYXNzIiwiQ29tcG9uZW50IiwicHJvcGVydGllcyIsIm9uTG9hZCIsIm5vZGUiLCJvbiIsIk5vZGUiLCJFdmVudFR5cGUiLCJUT1VDSF9FTkQiLCJzaGFyZUJ0bkNhbGxCYWNrIiwic3lzIiwicGxhdGZvcm0iLCJCWVRFREFOQ0VfR0FNRSIsImFjdGl2ZSIsIm9uRGVzdHJveSIsImV2ZW50IiwiY29uc29sZSIsImxvZyIsImFwcEdhbWUiLCJpc0NsaWNrIiwic2NyZWVuUGF0aCIsImVtaXR0ZXIiLCJlbWl0IiwiY29uc3RzIiwiTE9DQUxfRVZFTlRfUE9QVVBfTE9BRFRJUCIsImNvbnRlbnQiLCJ0dCIsInNoYXJlQXBwTWVzc2FnZSIsImNoYW5uZWwiLCJ0aXRsZSIsIkhUVFBfUkVDT1JEX1BBQ0tBR0VOQU1FIiwiaW1hZ2VVcmwiLCJxdWVyeSIsImV4dHJhIiwidmlkZW9QYXRoIiwidmlkZW9Ub3BpY3MiLCJzdWNjZXNzIiwiZmFpbCIsImUiLCJzdGFydCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxJQUFJQSxRQUFKO0FBQ0EsSUFBSUMsYUFBSjtBQUNBQyxFQUFFLENBQUNDLEtBQUgsQ0FBUztBQUNMLGFBQVNELEVBQUUsQ0FBQ0UsU0FEUDtBQUdMQyxFQUFBQSxVQUFVLEVBQUUsRUFIUDtBQU1MO0FBRUFDLEVBQUFBLE1BUkssb0JBUUs7QUFDTixTQUFLQyxJQUFMLENBQVVDLEVBQVYsQ0FBYU4sRUFBRSxDQUFDTyxJQUFILENBQVFDLFNBQVIsQ0FBa0JDLFNBQS9CLEVBQXlDLEtBQUtDLGdCQUE5QyxFQUErRCxJQUEvRDs7QUFDQSxRQUFHVixFQUFFLENBQUNXLEdBQUgsQ0FBT0MsUUFBUCxJQUFtQlosRUFBRSxDQUFDVyxHQUFILENBQU9FLGNBQTdCLEVBQTRDO0FBQ3hDLFdBQUtSLElBQUwsQ0FBVVMsTUFBVixHQUFtQixJQUFuQjtBQUNILEtBRkQsTUFFSztBQUNELFdBQUtULElBQUwsQ0FBVVMsTUFBVixHQUFtQixLQUFuQjtBQUNIO0FBQ0osR0FmSTtBQWlCTEMsRUFBQUEsU0FqQkssdUJBaUJNLENBQ1YsQ0FsQkk7QUFvQkxMLEVBQUFBLGdCQXBCSyw0QkFvQllNLEtBcEJaLEVBb0JrQjtBQUNuQkMsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksaUJBQVosRUFBOEJDLE9BQU8sQ0FBQ0MsT0FBdEM7O0FBQ0EsUUFBR0QsT0FBTyxDQUFDRSxVQUFSLElBQW9CLElBQXBCLElBQTJCRixPQUFPLENBQUNDLE9BQVIsSUFBbUIsS0FBakQsRUFBdUQ7QUFFbkRELE1BQUFBLE9BQU8sQ0FBQ0csT0FBUixDQUFnQkMsSUFBaEIsQ0FBcUJDLE1BQU0sQ0FBQ0MseUJBQTVCLEVBQXVEO0FBQ25EQyxRQUFBQSxPQUFPLEVBQUU7QUFEMEMsT0FBdkQ7QUFHQTtBQUNIOztBQUNELFFBQUcxQixFQUFFLENBQUNXLEdBQUgsQ0FBT0MsUUFBUCxJQUFtQlosRUFBRSxDQUFDVyxHQUFILENBQU9FLGNBQTdCLEVBQTRDO0FBQUU7QUFDMUNJLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFNBQVosRUFBc0JDLE9BQU8sQ0FBQ0UsVUFBOUI7QUFDQU0sTUFBQUEsRUFBRSxDQUFDQyxlQUFILENBQW1CO0FBQ2ZDLFFBQUFBLE9BQU8sRUFBRSxPQURNO0FBRWZDLFFBQUFBLEtBQUssRUFBRU4sTUFBTSxDQUFDTyx1QkFGQztBQUdmQyxRQUFBQSxRQUFRLEVBQUUsRUFISztBQUlmQyxRQUFBQSxLQUFLLEVBQUUsRUFKUTtBQUtmQyxRQUFBQSxLQUFLLEVBQUU7QUFDUEMsVUFBQUEsU0FBUyxFQUFFaEIsT0FBTyxDQUFDRSxVQURaO0FBQ3dCO0FBQy9CZSxVQUFBQSxXQUFXLEVBQUUsQ0FBQyxXQUFTWixNQUFNLENBQUNPLHVCQUFoQixHQUF3QyxLQUF6QztBQUZOLFNBTFE7QUFTZk0sUUFBQUEsT0FUZSxxQkFTTDtBQUNOcEIsVUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksUUFBWjtBQUNILFNBWGM7QUFZZm9CLFFBQUFBLElBWmUsZ0JBWVZDLENBWlUsRUFZUDtBQUVKcEIsVUFBQUEsT0FBTyxDQUFDRyxPQUFSLENBQWdCQyxJQUFoQixDQUFxQkMsTUFBTSxDQUFDQyx5QkFBNUIsRUFBdUQ7QUFDbkRDLFlBQUFBLE9BQU8sRUFBRTtBQUQwQyxXQUF2RDtBQUdIO0FBakJjLE9BQW5CO0FBbUJIO0FBQ0osR0FuREk7QUFxRExjLEVBQUFBLEtBckRLLG1CQXFESSxDQUVSLENBdkRJLENBd0RMOztBQXhESyxDQUFUIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBjYy5DbGFzczpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvY2xhc3MuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxudmFyIHJlY29yZGVyO1xyXG52YXIgdmlkZW9QYXRoR2FtZTtcclxuY2MuQ2xhc3Moe1xyXG4gICAgZXh0ZW5kczogY2MuQ29tcG9uZW50LFxyXG5cclxuICAgIHByb3BlcnRpZXM6IHtcclxuICAgIH0sXHJcblxyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcblxyXG4gICAgb25Mb2FkICgpIHtcclxuICAgICAgICB0aGlzLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELHRoaXMuc2hhcmVCdG5DYWxsQmFjayx0aGlzKTtcclxuICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLkJZVEVEQU5DRV9HQU1FKXtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSBmYWxzZTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxuICAgIG9uRGVzdHJveSgpe1xyXG4gICAgfSxcclxuXHJcbiAgICBzaGFyZUJ0bkNhbGxCYWNrKGV2ZW50KXtcclxuICAgICAgICBjb25zb2xlLmxvZyhcImFwcEdhbWUuaXNDbGlja1wiLGFwcEdhbWUuaXNDbGljaylcclxuICAgICAgICBpZihhcHBHYW1lLnNjcmVlblBhdGg9PW51bGx8fCBhcHBHYW1lLmlzQ2xpY2sgPT0gZmFsc2Upe1xyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgYXBwR2FtZS5lbWl0dGVyLmVtaXQoY29uc3RzLkxPQ0FMX0VWRU5UX1BPUFVQX0xPQURUSVAsIHtcclxuICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwi5b2V5bGP5pe26Ze05aSq55+t77yB77yB77yBXCJcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5CWVRFREFOQ0VfR0FNRSl7IC8v5aS05p2h5bmz5Y+wXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5aS05p2h5bmz5Y+wPT09XCIsYXBwR2FtZS5zY3JlZW5QYXRoKVxyXG4gICAgICAgICAgICB0dC5zaGFyZUFwcE1lc3NhZ2Uoe1xyXG4gICAgICAgICAgICAgICAgY2hhbm5lbDogJ3ZpZGVvJyxcclxuICAgICAgICAgICAgICAgIHRpdGxlOiBjb25zdHMuSFRUUF9SRUNPUkRfUEFDS0FHRU5BTUUsXHJcbiAgICAgICAgICAgICAgICBpbWFnZVVybDogJycsXHJcbiAgICAgICAgICAgICAgICBxdWVyeTogJycsXHJcbiAgICAgICAgICAgICAgICBleHRyYToge1xyXG4gICAgICAgICAgICAgICAgdmlkZW9QYXRoOiBhcHBHYW1lLnNjcmVlblBhdGgsIC8vIOWPr+eUqOW9leWxj+W+l+WIsOeahOinhumikeWcsOWdgFxyXG4gICAgICAgICAgICAgICAgdmlkZW9Ub3BpY3M6IFsn5aSn5a625LiA6LW35p2l546pJytjb25zdHMuSFRUUF9SRUNPUkRfUEFDS0FHRU5BTUUrJ++8ge+8ge+8gSddXHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgc3VjY2VzcygpIHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygn5YiG5Lqr6KeG6aKR5oiQ5YqfJyk7XHJcbiAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgZmFpbChlKSB7XHJcbiAgICAgICAgICAgICAgIFxyXG4gICAgICAgICAgICAgICAgICAgIGFwcEdhbWUuZW1pdHRlci5lbWl0KGNvbnN0cy5MT0NBTF9FVkVOVF9QT1BVUF9MT0FEVElQLCB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRlbnQ6IFwi5YiG5Lqr6KeG6aKR5aSx6LSlXCJcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuXHJcbiAgICBzdGFydCAoKSB7XHJcblxyXG4gICAgfSxcclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9LFxyXG59KTtcclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/item.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '37e7b3Qh2JMQ5/8DSX2ow5C', 'item');
// gameComon/scripts/item.js

"use strict";

cc.Class({
  "extends": cc.Component,
  properties: {},
  // LIFE-CYCLE CALLBACKS:
  onLoad: function onLoad() {
    //cc.log("item onLoad")
    this.node.active = false;
  },
  start: function start() {},
  init: function init(id) {
    cc.log("item init");

    if (appGame.gameServerRoom.commonConfig && appGame.gameServerRoom.commonConfig.item) {
      underscore.each(appGame.gameServerRoom.commonConfig.item, function (key, value) {
        if (key.id == id) {
          util.loadBundleSprite(key.bundle, key.sprite, this.node.getComponent(cc.Sprite), function () {
            this.node.active = true;
          }.bind(this));
        }
      }.bind(this));
    }
  } // update (dt) {},

});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFxpdGVtLmpzIl0sIm5hbWVzIjpbImNjIiwiQ2xhc3MiLCJDb21wb25lbnQiLCJwcm9wZXJ0aWVzIiwib25Mb2FkIiwibm9kZSIsImFjdGl2ZSIsInN0YXJ0IiwiaW5pdCIsImlkIiwibG9nIiwiYXBwR2FtZSIsImdhbWVTZXJ2ZXJSb29tIiwiY29tbW9uQ29uZmlnIiwiaXRlbSIsInVuZGVyc2NvcmUiLCJlYWNoIiwia2V5IiwidmFsdWUiLCJ1dGlsIiwibG9hZEJ1bmRsZVNwcml0ZSIsImJ1bmRsZSIsInNwcml0ZSIsImdldENvbXBvbmVudCIsIlNwcml0ZSIsImJpbmQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUFBLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTO0FBQ0wsYUFBU0QsRUFBRSxDQUFDRSxTQURQO0FBR0xDLEVBQUFBLFVBQVUsRUFBRSxFQUhQO0FBT0w7QUFFQUMsRUFBQUEsTUFUSyxvQkFTSztBQUNOO0FBQ0EsU0FBS0MsSUFBTCxDQUFVQyxNQUFWLEdBQW1CLEtBQW5CO0FBQ0gsR0FaSTtBQWNMQyxFQUFBQSxLQWRLLG1CQWNJLENBRVIsQ0FoQkk7QUFpQkxDLEVBQUFBLElBakJLLGdCQWlCQUMsRUFqQkEsRUFpQkc7QUFDSlQsSUFBQUEsRUFBRSxDQUFDVSxHQUFILENBQU8sV0FBUDs7QUFDQSxRQUFHQyxPQUFPLENBQUNDLGNBQVIsQ0FBdUJDLFlBQXZCLElBQXVDRixPQUFPLENBQUNDLGNBQVIsQ0FBdUJDLFlBQXZCLENBQW9DQyxJQUE5RSxFQUFtRjtBQUMvRUMsTUFBQUEsVUFBVSxDQUFDQyxJQUFYLENBQWdCTCxPQUFPLENBQUNDLGNBQVIsQ0FBdUJDLFlBQXZCLENBQW9DQyxJQUFwRCxFQUF5RCxVQUFTRyxHQUFULEVBQWFDLEtBQWIsRUFBbUI7QUFDeEUsWUFBR0QsR0FBRyxDQUFDUixFQUFKLElBQVVBLEVBQWIsRUFBZ0I7QUFDWlUsVUFBQUEsSUFBSSxDQUFDQyxnQkFBTCxDQUFzQkgsR0FBRyxDQUFDSSxNQUExQixFQUFpQ0osR0FBRyxDQUFDSyxNQUFyQyxFQUE0QyxLQUFLakIsSUFBTCxDQUFVa0IsWUFBVixDQUF1QnZCLEVBQUUsQ0FBQ3dCLE1BQTFCLENBQTVDLEVBQThFLFlBQVU7QUFDcEYsaUJBQUtuQixJQUFMLENBQVVDLE1BQVYsR0FBbUIsSUFBbkI7QUFDSCxXQUY2RSxDQUU1RW1CLElBRjRFLENBRXZFLElBRnVFLENBQTlFO0FBR0g7QUFDSixPQU53RCxDQU12REEsSUFOdUQsQ0FNbEQsSUFOa0QsQ0FBekQ7QUFPSDtBQUNKLEdBNUJJLENBOEJMOztBQTlCSyxDQUFUIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJjYy5DbGFzcyh7XHJcbiAgICBleHRlbmRzOiBjYy5Db21wb25lbnQsXHJcblxyXG4gICAgcHJvcGVydGllczoge1xyXG5cclxuICAgIH0sXHJcblxyXG4gICAgLy8gTElGRS1DWUNMRSBDQUxMQkFDS1M6XHJcblxyXG4gICAgb25Mb2FkICgpIHtcclxuICAgICAgICAvL2NjLmxvZyhcIml0ZW0gb25Mb2FkXCIpXHJcbiAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xyXG4gICAgfSxcclxuXHJcbiAgICBzdGFydCAoKSB7XHJcbiAgICAgICAgXHJcbiAgICB9LFxyXG4gICAgaW5pdChpZCl7XHJcbiAgICAgICAgY2MubG9nKFwiaXRlbSBpbml0XCIpXHJcbiAgICAgICAgaWYoYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5jb21tb25Db25maWcgJiYgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5jb21tb25Db25maWcuaXRlbSl7XHJcbiAgICAgICAgICAgIHVuZGVyc2NvcmUuZWFjaChhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmNvbW1vbkNvbmZpZy5pdGVtLGZ1bmN0aW9uKGtleSx2YWx1ZSl7XHJcbiAgICAgICAgICAgICAgICBpZihrZXkuaWQgPT0gaWQpe1xyXG4gICAgICAgICAgICAgICAgICAgIHV0aWwubG9hZEJ1bmRsZVNwcml0ZShrZXkuYnVuZGxlLGtleS5zcHJpdGUsdGhpcy5ub2RlLmdldENvbXBvbmVudChjYy5TcHJpdGUpLGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubm9kZS5hY3RpdmUgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cclxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9LFxyXG59KTtcclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/loadTip.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'eec36KS2hZPVbBk7XsJ2C2d', 'loadTip');
// gameComon/scripts/loadTip.js

"use strict";

// Learn cc.Class:
//  - https://docs.cocos.com/creator/manual/en/scripting/class.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
cc.Class({
  "extends": cc.Component,
  properties: {
    // foo: {
    //     // ATTRIBUTES:
    //     default: null,        // The default value will be used only when the component attaching
    //                           // to a node for the first time
    //     type: cc.SpriteFrame, // optional, default is typeof default
    //     serializable: true,   // optional, default is true
    // },
    // bar: {
    //     get () {
    //         return this._bar;
    //     },
    //     set (value) {
    //         this._bar = value;
    //     }
    // },
    contentLabel: cc.Label
  },
  // LIFE-CYCLE CALLBACKS:
  onLoad: function onLoad() {
    this.contentLabel.string = '';
  },
  show: function show(opts) {
    opts = opts || {};

    if (opts.content) {
      this.node.active = true;
      this.contentLabel.string = opts.content;

      this.contentLabel._forceUpdateRenderData(true);

      var spaceWidth = this.contentLabel.node.getContentSize().width;
      var labelWidth = cc.view.getVisibleSize().width - 200;

      if (spaceWidth < labelWidth) {
        this.contentLabel.overflow = cc.Label.Overflow.NONE;
        this.contentLabel.node.width = spaceWidth;
        this.contentLabel.node.height = this.contentLabel.node.getContentSize().height;
        this.node.width = spaceWidth + 30;
        this.node.height = 80;
      } else {
        this.contentLabel.overflow = cc.Label.Overflow.CLAMP;
        this.contentLabel.enableWrapText = true;
        this.contentLabel.node.width = labelWidth;
        this.contentLabel.node.height = this.contentLabel.node.getContentSize().height + Math.floor(spaceWidth / labelWidth) * 40;
        this.node.width = labelWidth + 30;
        this.node.height = 80 + Math.floor(spaceWidth / labelWidth) * 50;
      }
    }

    this.node.opacity = 0;
    this.node.stopAllActions();
    this.node.runAction(cc.sequence(cc.fadeIn(0.5), cc.delayTime(1), cc.callFunc(function () {
      this.node.active = false;
    }.bind(this))));
  },
  start: function start() {} // update (dt) {},

});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFxsb2FkVGlwLmpzIl0sIm5hbWVzIjpbImNjIiwiQ2xhc3MiLCJDb21wb25lbnQiLCJwcm9wZXJ0aWVzIiwiY29udGVudExhYmVsIiwiTGFiZWwiLCJvbkxvYWQiLCJzdHJpbmciLCJzaG93Iiwib3B0cyIsImNvbnRlbnQiLCJub2RlIiwiYWN0aXZlIiwiX2ZvcmNlVXBkYXRlUmVuZGVyRGF0YSIsInNwYWNlV2lkdGgiLCJnZXRDb250ZW50U2l6ZSIsIndpZHRoIiwibGFiZWxXaWR0aCIsInZpZXciLCJnZXRWaXNpYmxlU2l6ZSIsIm92ZXJmbG93IiwiT3ZlcmZsb3ciLCJOT05FIiwiaGVpZ2h0IiwiQ0xBTVAiLCJlbmFibGVXcmFwVGV4dCIsIk1hdGgiLCJmbG9vciIsIm9wYWNpdHkiLCJzdG9wQWxsQWN0aW9ucyIsInJ1bkFjdGlvbiIsInNlcXVlbmNlIiwiZmFkZUluIiwiZGVsYXlUaW1lIiwiY2FsbEZ1bmMiLCJiaW5kIiwic3RhcnQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBRUFBLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTO0FBQ0wsYUFBU0QsRUFBRSxDQUFDRSxTQURQO0FBR0xDLEVBQUFBLFVBQVUsRUFBRTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBQyxJQUFBQSxZQUFZLEVBQUNKLEVBQUUsQ0FBQ0s7QUFoQlIsR0FIUDtBQXNCTDtBQUVBQyxFQUFBQSxNQXhCSyxvQkF3Qks7QUFDTixTQUFLRixZQUFMLENBQWtCRyxNQUFsQixHQUEyQixFQUEzQjtBQUNILEdBMUJJO0FBNEJMQyxFQUFBQSxJQTVCSyxnQkE0QkFDLElBNUJBLEVBNEJLO0FBQ05BLElBQUFBLElBQUksR0FBR0EsSUFBSSxJQUFJLEVBQWY7O0FBQ0EsUUFBSUEsSUFBSSxDQUFDQyxPQUFULEVBQWtCO0FBQ2QsV0FBS0MsSUFBTCxDQUFVQyxNQUFWLEdBQW1CLElBQW5CO0FBQ0EsV0FBS1IsWUFBTCxDQUFrQkcsTUFBbEIsR0FBMkJFLElBQUksQ0FBQ0MsT0FBaEM7O0FBQ0EsV0FBS04sWUFBTCxDQUFrQlMsc0JBQWxCLENBQXlDLElBQXpDOztBQUNBLFVBQUlDLFVBQVUsR0FBRyxLQUFLVixZQUFMLENBQWtCTyxJQUFsQixDQUF1QkksY0FBdkIsR0FBd0NDLEtBQXpEO0FBQ0EsVUFBSUMsVUFBVSxHQUFHakIsRUFBRSxDQUFDa0IsSUFBSCxDQUFRQyxjQUFSLEdBQXlCSCxLQUF6QixHQUErQixHQUFoRDs7QUFDQSxVQUFHRixVQUFVLEdBQUNHLFVBQWQsRUFBeUI7QUFDckIsYUFBS2IsWUFBTCxDQUFrQmdCLFFBQWxCLEdBQTZCcEIsRUFBRSxDQUFDSyxLQUFILENBQVNnQixRQUFULENBQWtCQyxJQUEvQztBQUNBLGFBQUtsQixZQUFMLENBQWtCTyxJQUFsQixDQUF1QkssS0FBdkIsR0FBK0JGLFVBQS9CO0FBQ0EsYUFBS1YsWUFBTCxDQUFrQk8sSUFBbEIsQ0FBdUJZLE1BQXZCLEdBQWdDLEtBQUtuQixZQUFMLENBQWtCTyxJQUFsQixDQUF1QkksY0FBdkIsR0FBd0NRLE1BQXhFO0FBQ0EsYUFBS1osSUFBTCxDQUFVSyxLQUFWLEdBQWtCRixVQUFVLEdBQUMsRUFBN0I7QUFDQSxhQUFLSCxJQUFMLENBQVVZLE1BQVYsR0FBbUIsRUFBbkI7QUFDSCxPQU5ELE1BTUs7QUFDRCxhQUFLbkIsWUFBTCxDQUFrQmdCLFFBQWxCLEdBQTZCcEIsRUFBRSxDQUFDSyxLQUFILENBQVNnQixRQUFULENBQWtCRyxLQUEvQztBQUNBLGFBQUtwQixZQUFMLENBQWtCcUIsY0FBbEIsR0FBbUMsSUFBbkM7QUFDQSxhQUFLckIsWUFBTCxDQUFrQk8sSUFBbEIsQ0FBdUJLLEtBQXZCLEdBQStCQyxVQUEvQjtBQUNBLGFBQUtiLFlBQUwsQ0FBa0JPLElBQWxCLENBQXVCWSxNQUF2QixHQUFnQyxLQUFLbkIsWUFBTCxDQUFrQk8sSUFBbEIsQ0FBdUJJLGNBQXZCLEdBQXdDUSxNQUF4QyxHQUErQ0csSUFBSSxDQUFDQyxLQUFMLENBQVdiLFVBQVUsR0FBQ0csVUFBdEIsSUFBa0MsRUFBakg7QUFDQSxhQUFLTixJQUFMLENBQVVLLEtBQVYsR0FBa0JDLFVBQVUsR0FBQyxFQUE3QjtBQUNBLGFBQUtOLElBQUwsQ0FBVVksTUFBVixHQUFtQixLQUFLRyxJQUFJLENBQUNDLEtBQUwsQ0FBV2IsVUFBVSxHQUFDRyxVQUF0QixJQUFrQyxFQUExRDtBQUNIO0FBQ0o7O0FBQ0QsU0FBS04sSUFBTCxDQUFVaUIsT0FBVixHQUFvQixDQUFwQjtBQUNBLFNBQUtqQixJQUFMLENBQVVrQixjQUFWO0FBQ0EsU0FBS2xCLElBQUwsQ0FBVW1CLFNBQVYsQ0FBb0I5QixFQUFFLENBQUMrQixRQUFILENBQVkvQixFQUFFLENBQUNnQyxNQUFILENBQVUsR0FBVixDQUFaLEVBQTJCaEMsRUFBRSxDQUFDaUMsU0FBSCxDQUFhLENBQWIsQ0FBM0IsRUFBMkNqQyxFQUFFLENBQUNrQyxRQUFILENBQVksWUFBVTtBQUNqRixXQUFLdkIsSUFBTCxDQUFVQyxNQUFWLEdBQW1CLEtBQW5CO0FBQ0gsS0FGMEUsQ0FFekV1QixJQUZ5RSxDQUVwRSxJQUZvRSxDQUFaLENBQTNDLENBQXBCO0FBR0gsR0F4REk7QUEwRExDLEVBQUFBLEtBMURLLG1CQTBESSxDQUVSLENBNURJLENBOERMOztBQTlESyxDQUFUIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBjYy5DbGFzczpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvY2xhc3MuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmNjLkNsYXNzKHtcclxuICAgIGV4dGVuZHM6IGNjLkNvbXBvbmVudCxcclxuXHJcbiAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAgLy8gZm9vOiB7XHJcbiAgICAgICAgLy8gICAgIC8vIEFUVFJJQlVURVM6XHJcbiAgICAgICAgLy8gICAgIGRlZmF1bHQ6IG51bGwsICAgICAgICAvLyBUaGUgZGVmYXVsdCB2YWx1ZSB3aWxsIGJlIHVzZWQgb25seSB3aGVuIHRoZSBjb21wb25lbnQgYXR0YWNoaW5nXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0byBhIG5vZGUgZm9yIHRoZSBmaXJzdCB0aW1lXHJcbiAgICAgICAgLy8gICAgIHR5cGU6IGNjLlNwcml0ZUZyYW1lLCAvLyBvcHRpb25hbCwgZGVmYXVsdCBpcyB0eXBlb2YgZGVmYXVsdFxyXG4gICAgICAgIC8vICAgICBzZXJpYWxpemFibGU6IHRydWUsICAgLy8gb3B0aW9uYWwsIGRlZmF1bHQgaXMgdHJ1ZVxyXG4gICAgICAgIC8vIH0sXHJcbiAgICAgICAgLy8gYmFyOiB7XHJcbiAgICAgICAgLy8gICAgIGdldCAoKSB7XHJcbiAgICAgICAgLy8gICAgICAgICByZXR1cm4gdGhpcy5fYmFyO1xyXG4gICAgICAgIC8vICAgICB9LFxyXG4gICAgICAgIC8vICAgICBzZXQgKHZhbHVlKSB7XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLl9iYXIgPSB2YWx1ZTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH0sXHJcbiAgICAgICAgY29udGVudExhYmVsOmNjLkxhYmVsLFxyXG4gICAgfSxcclxuXHJcbiAgICAvLyBMSUZFLUNZQ0xFIENBTExCQUNLUzpcclxuXHJcbiAgICBvbkxvYWQgKCkge1xyXG4gICAgICAgIHRoaXMuY29udGVudExhYmVsLnN0cmluZyA9ICcnO1xyXG4gICAgfSxcclxuXHJcbiAgICBzaG93KG9wdHMpe1xyXG4gICAgICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xyXG4gICAgICAgIGlmIChvcHRzLmNvbnRlbnQpIHtcclxuICAgICAgICAgICAgdGhpcy5ub2RlLmFjdGl2ZSA9IHRydWU7XHJcbiAgICAgICAgICAgIHRoaXMuY29udGVudExhYmVsLnN0cmluZyA9IG9wdHMuY29udGVudDtcclxuICAgICAgICAgICAgdGhpcy5jb250ZW50TGFiZWwuX2ZvcmNlVXBkYXRlUmVuZGVyRGF0YSh0cnVlKTtcclxuICAgICAgICAgICAgbGV0IHNwYWNlV2lkdGggPSB0aGlzLmNvbnRlbnRMYWJlbC5ub2RlLmdldENvbnRlbnRTaXplKCkud2lkdGg7XHJcbiAgICAgICAgICAgIGxldCBsYWJlbFdpZHRoID0gY2Mudmlldy5nZXRWaXNpYmxlU2l6ZSgpLndpZHRoLTIwMFxyXG4gICAgICAgICAgICBpZihzcGFjZVdpZHRoPGxhYmVsV2lkdGgpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50TGFiZWwub3ZlcmZsb3cgPSBjYy5MYWJlbC5PdmVyZmxvdy5OT05FO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5jb250ZW50TGFiZWwubm9kZS53aWR0aCA9IHNwYWNlV2lkdGg7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnRMYWJlbC5ub2RlLmhlaWdodCA9IHRoaXMuY29udGVudExhYmVsLm5vZGUuZ2V0Q29udGVudFNpemUoKS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGUud2lkdGggPSBzcGFjZVdpZHRoKzMwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlLmhlaWdodCA9IDgwO1xyXG4gICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudExhYmVsLm92ZXJmbG93ID0gY2MuTGFiZWwuT3ZlcmZsb3cuQ0xBTVA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnRMYWJlbC5lbmFibGVXcmFwVGV4dCA9IHRydWU7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmNvbnRlbnRMYWJlbC5ub2RlLndpZHRoID0gbGFiZWxXaWR0aDtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29udGVudExhYmVsLm5vZGUuaGVpZ2h0ID0gdGhpcy5jb250ZW50TGFiZWwubm9kZS5nZXRDb250ZW50U2l6ZSgpLmhlaWdodCtNYXRoLmZsb29yKHNwYWNlV2lkdGgvbGFiZWxXaWR0aCkqNDA7XHJcbiAgICAgICAgICAgICAgICB0aGlzLm5vZGUud2lkdGggPSBsYWJlbFdpZHRoKzMwO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5ub2RlLmhlaWdodCA9IDgwICsgTWF0aC5mbG9vcihzcGFjZVdpZHRoL2xhYmVsV2lkdGgpKjUwO1xyXG4gICAgICAgICAgICB9ICAgICAgICAgICAgXHJcbiAgICAgICAgfVxyXG4gICAgICAgIHRoaXMubm9kZS5vcGFjaXR5ID0gMDtcclxuICAgICAgICB0aGlzLm5vZGUuc3RvcEFsbEFjdGlvbnMoKTtcclxuICAgICAgICB0aGlzLm5vZGUucnVuQWN0aW9uKGNjLnNlcXVlbmNlKGNjLmZhZGVJbigwLjUpLGNjLmRlbGF5VGltZSgxKSxjYy5jYWxsRnVuYyhmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB0aGlzLm5vZGUuYWN0aXZlID0gZmFsc2U7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKSkpO1xyXG4gICAgfSxcclxuXHJcbiAgICBzdGFydCAoKSB7XHJcblxyXG4gICAgfSxcclxuXHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fSxcclxufSk7XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/horn.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '40fbfZFpRVEpo0R8nzzeIHb', 'horn');
// gameComon/scripts/horn.js

"use strict";

cc.Class({
  "extends": cc.Component,
  properties: {
    // foo: {
    //     // ATTRIBUTES:
    //     default: null,        // The default value will be used only when the component attaching
    //                           // to a node for the first time
    //     type: cc.SpriteFrame, // optional, default is typeof default
    //     serializable: true,   // optional, default is true
    // },
    // bar: {
    //     get () {
    //         return this._bar;
    //     },
    //     set (value) {
    //         this._bar = value;
    //     }
    // },
    sprite: [cc.SpriteFrame],
    bg: cc.Sprite
  },
  // LIFE-CYCLE CALLBACKS:
  onLoad: function onLoad() {
    this.node.on(cc.Node.EventType.TOUCH_END, this.onClickTouchEnd, this);
    appGame.audioMgr.getMusicStatus(function (onOff) {
      if (onOff) {
        this.bg.spriteFrame = this.sprite[0];
      } else {
        this.bg.spriteFrame = this.sprite[1];
      }
    }.bind(this));
  },
  start: function start() {},
  onClickTouchEnd: function onClickTouchEnd(event) {
    appGame.audioMgr.getMusicStatus(function (onOff) {
      appGame.audioMgr.setMusicOnOff(!onOff);

      if (!onOff) {
        this.bg.spriteFrame = this.sprite[0];
      } else {
        this.bg.spriteFrame = this.sprite[1];
      }
    }.bind(this));
  } // update (dt) {},

});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFxob3JuLmpzIl0sIm5hbWVzIjpbImNjIiwiQ2xhc3MiLCJDb21wb25lbnQiLCJwcm9wZXJ0aWVzIiwic3ByaXRlIiwiU3ByaXRlRnJhbWUiLCJiZyIsIlNwcml0ZSIsIm9uTG9hZCIsIm5vZGUiLCJvbiIsIk5vZGUiLCJFdmVudFR5cGUiLCJUT1VDSF9FTkQiLCJvbkNsaWNrVG91Y2hFbmQiLCJhcHBHYW1lIiwiYXVkaW9NZ3IiLCJnZXRNdXNpY1N0YXR1cyIsIm9uT2ZmIiwic3ByaXRlRnJhbWUiLCJiaW5kIiwic3RhcnQiLCJldmVudCIsInNldE11c2ljT25PZmYiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUFBLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTO0FBQ0wsYUFBU0QsRUFBRSxDQUFDRSxTQURQO0FBR0xDLEVBQUFBLFVBQVUsRUFBRTtBQUNSO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBQyxJQUFBQSxNQUFNLEVBQUMsQ0FBQ0osRUFBRSxDQUFDSyxXQUFKLENBaEJDO0FBaUJSQyxJQUFBQSxFQUFFLEVBQUNOLEVBQUUsQ0FBQ087QUFqQkUsR0FIUDtBQXVCTDtBQUVBQyxFQUFBQSxNQXpCSyxvQkF5Qks7QUFDTixTQUFLQyxJQUFMLENBQVVDLEVBQVYsQ0FBYVYsRUFBRSxDQUFDVyxJQUFILENBQVFDLFNBQVIsQ0FBa0JDLFNBQS9CLEVBQTBDLEtBQUtDLGVBQS9DLEVBQWdFLElBQWhFO0FBQ0FDLElBQUFBLE9BQU8sQ0FBQ0MsUUFBUixDQUFpQkMsY0FBakIsQ0FBZ0MsVUFBU0MsS0FBVCxFQUFlO0FBQzNDLFVBQUdBLEtBQUgsRUFBUztBQUNMLGFBQUtaLEVBQUwsQ0FBUWEsV0FBUixHQUFzQixLQUFLZixNQUFMLENBQVksQ0FBWixDQUF0QjtBQUNILE9BRkQsTUFFSztBQUNELGFBQUtFLEVBQUwsQ0FBUWEsV0FBUixHQUFzQixLQUFLZixNQUFMLENBQVksQ0FBWixDQUF0QjtBQUNIO0FBQ0osS0FOK0IsQ0FNOUJnQixJQU44QixDQU16QixJQU55QixDQUFoQztBQU9ILEdBbENJO0FBb0NMQyxFQUFBQSxLQXBDSyxtQkFvQ0ksQ0FFUixDQXRDSTtBQXdDTFAsRUFBQUEsZUF4Q0ssMkJBd0NXUSxLQXhDWCxFQXdDaUI7QUFDbEJQLElBQUFBLE9BQU8sQ0FBQ0MsUUFBUixDQUFpQkMsY0FBakIsQ0FBZ0MsVUFBU0MsS0FBVCxFQUFlO0FBQzNDSCxNQUFBQSxPQUFPLENBQUNDLFFBQVIsQ0FBaUJPLGFBQWpCLENBQStCLENBQUNMLEtBQWhDOztBQUNBLFVBQUcsQ0FBQ0EsS0FBSixFQUFVO0FBQ04sYUFBS1osRUFBTCxDQUFRYSxXQUFSLEdBQXNCLEtBQUtmLE1BQUwsQ0FBWSxDQUFaLENBQXRCO0FBQ0gsT0FGRCxNQUVLO0FBQ0QsYUFBS0UsRUFBTCxDQUFRYSxXQUFSLEdBQXNCLEtBQUtmLE1BQUwsQ0FBWSxDQUFaLENBQXRCO0FBQ0g7QUFDSixLQVArQixDQU85QmdCLElBUDhCLENBT3pCLElBUHlCLENBQWhDO0FBUUgsR0FqREksQ0FtREw7O0FBbkRLLENBQVQiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImNjLkNsYXNzKHtcclxuICAgIGV4dGVuZHM6IGNjLkNvbXBvbmVudCxcclxuXHJcbiAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAgLy8gZm9vOiB7XHJcbiAgICAgICAgLy8gICAgIC8vIEFUVFJJQlVURVM6XHJcbiAgICAgICAgLy8gICAgIGRlZmF1bHQ6IG51bGwsICAgICAgICAvLyBUaGUgZGVmYXVsdCB2YWx1ZSB3aWxsIGJlIHVzZWQgb25seSB3aGVuIHRoZSBjb21wb25lbnQgYXR0YWNoaW5nXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0byBhIG5vZGUgZm9yIHRoZSBmaXJzdCB0aW1lXHJcbiAgICAgICAgLy8gICAgIHR5cGU6IGNjLlNwcml0ZUZyYW1lLCAvLyBvcHRpb25hbCwgZGVmYXVsdCBpcyB0eXBlb2YgZGVmYXVsdFxyXG4gICAgICAgIC8vICAgICBzZXJpYWxpemFibGU6IHRydWUsICAgLy8gb3B0aW9uYWwsIGRlZmF1bHQgaXMgdHJ1ZVxyXG4gICAgICAgIC8vIH0sXHJcbiAgICAgICAgLy8gYmFyOiB7XHJcbiAgICAgICAgLy8gICAgIGdldCAoKSB7XHJcbiAgICAgICAgLy8gICAgICAgICByZXR1cm4gdGhpcy5fYmFyO1xyXG4gICAgICAgIC8vICAgICB9LFxyXG4gICAgICAgIC8vICAgICBzZXQgKHZhbHVlKSB7XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLl9iYXIgPSB2YWx1ZTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH0sXHJcbiAgICAgICAgc3ByaXRlOltjYy5TcHJpdGVGcmFtZV0sXHJcbiAgICAgICAgYmc6Y2MuU3ByaXRlXHJcbiAgICB9LFxyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgIG9uTG9hZCAoKSB7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgdGhpcy5vbkNsaWNrVG91Y2hFbmQsIHRoaXMpO1xyXG4gICAgICAgIGFwcEdhbWUuYXVkaW9NZ3IuZ2V0TXVzaWNTdGF0dXMoZnVuY3Rpb24ob25PZmYpe1xyXG4gICAgICAgICAgICBpZihvbk9mZil7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJnLnNwcml0ZUZyYW1lID0gdGhpcy5zcHJpdGVbMF07XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iZy5zcHJpdGVGcmFtZSA9IHRoaXMuc3ByaXRlWzFdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgIH0sXHJcblxyXG4gICAgc3RhcnQgKCkge1xyXG5cclxuICAgIH0sXHJcblxyXG4gICAgb25DbGlja1RvdWNoRW5kKGV2ZW50KXtcclxuICAgICAgICBhcHBHYW1lLmF1ZGlvTWdyLmdldE11c2ljU3RhdHVzKGZ1bmN0aW9uKG9uT2ZmKXtcclxuICAgICAgICAgICAgYXBwR2FtZS5hdWRpb01nci5zZXRNdXNpY09uT2ZmKCFvbk9mZik7XHJcbiAgICAgICAgICAgIGlmKCFvbk9mZil7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmJnLnNwcml0ZUZyYW1lID0gdGhpcy5zcHJpdGVbMF07XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgdGhpcy5iZy5zcHJpdGVGcmFtZSA9IHRoaXMuc3ByaXRlWzFdO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgIH1cclxuXHJcbiAgICAvLyB1cGRhdGUgKGR0KSB7fSxcclxufSk7XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/room.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '690ef7tcntLt4eCVVAMIQ0O', 'room');
// gameComon/scripts/room.js

"use strict";

/*中台配置文件获取*/
var Emitter = require('emitter');

var consts = require('./model/consts');

var Room = cc.Class({
  "extends": Emitter,
  initWithData: function initWithData(data) {
    this.adConfig = {};
    this.commonConfig = {};
    this.configSuccess1 = false;
    this.isHadWord = false;
    async.waterfall([function (cb) {
      var url = consts.HTTP_GET_PAAS_DATA_SERVER + "?gameId=" + consts.GAME_ID + "&plat=all" + "&version=all" + "&brand=" + '' + "&from=ad"; //url = 'https://cs.snmi.cn/game/GetGameValue?gameId=50&plat=baidu&version=1.0.0&brand=&from=ad'

      console.log("ad url===" + url);
      util.getUrlSerConfig(url, 'comJson', 'comAdConfig', function (data) {
        this.adConfig = data;
        console.log("ad ==" + JSON.stringify(this.adConfig));
        appGame.emitter.emit(consts.HTTP_EVENT_MIDDLE_DESK_CONFIG, {});
        cb(null);
      }.bind(this));
    }.bind(this), function (cb) {
      var url = consts.HTTP_GET_PAAS_DATA_SERVER + "?gameId=" + consts.GAME_ID + "&plat=all" + "&version=all" + "&brand=" + '' + "&from=MiddleDesk"; //url = 'https://cs.snmi.cn/game/GetGameValue?gameId=50&plat=baidu&version=1.0.0&brand=&from=MiddleDesk'
      //console.log("middledesk url==="+url)

      util.getUrlSerConfig(url, 'comJson', 'comConfig', function (data) {
        this.commonConfig = data; // console.log("MiddleDesk =="+JSON.stringify(this.commonConfig))

        var wordShow = 0;

        if (cc.sys.platform == cc.sys.BAIDU_GAME) {
          wordShow = this.commonConfig.word.baidu;
          this.getPlatformConfig('baidu');
        } else if (cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'WX') {
          wordShow = this.commonConfig.word.WX;
          this.getPlatformConfig('WX');
        } else if (cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'QQ') {
          wordShow = this.commonConfig.word.QQ;
          this.getPlatformConfig('QQ');
        } else if (cc.sys.platform == cc.sys.BYTEDANCE_GAME) {
          wordShow = this.commonConfig.word.toutiao;
          this.getPlatformConfig('toutiao');
        } else {
          this.getPlatformConfig('html5');
        }

        if (wordShow) {
          this.isHadWord = true;
          util.spreadWordFun();
        }

        this.configSuccess1 = true;

        if (this.configSuccess2 && this.configSuccess1) {
          appGame.gameServerRoom.emit(consts.CLIENT_GAME_START, {});
        }
      }.bind(this));
    }.bind(this)], function (err) {
      console.log("读取配置出错了!!");
    });
  },
  getPlatformConfig: function getPlatformConfig(plat) {
    this.commonConfig.sign = this.commonConfig.sign[plat];
    this.commonConfig.revive = this.commonConfig.revive[plat];
    this.commonConfig.result = this.commonConfig.result[plat];
    this.commonConfig.lucky = this.commonConfig.lucky[plat];
  }
});
module.exports = Room;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFxyb29tLmpzIl0sIm5hbWVzIjpbIkVtaXR0ZXIiLCJyZXF1aXJlIiwiY29uc3RzIiwiUm9vbSIsImNjIiwiQ2xhc3MiLCJpbml0V2l0aERhdGEiLCJkYXRhIiwiYWRDb25maWciLCJjb21tb25Db25maWciLCJjb25maWdTdWNjZXNzMSIsImlzSGFkV29yZCIsImFzeW5jIiwid2F0ZXJmYWxsIiwiY2IiLCJ1cmwiLCJIVFRQX0dFVF9QQUFTX0RBVEFfU0VSVkVSIiwiR0FNRV9JRCIsImNvbnNvbGUiLCJsb2ciLCJ1dGlsIiwiZ2V0VXJsU2VyQ29uZmlnIiwiSlNPTiIsInN0cmluZ2lmeSIsImFwcEdhbWUiLCJlbWl0dGVyIiwiZW1pdCIsIkhUVFBfRVZFTlRfTUlERExFX0RFU0tfQ09ORklHIiwiYmluZCIsIndvcmRTaG93Iiwic3lzIiwicGxhdGZvcm0iLCJCQUlEVV9HQU1FIiwid29yZCIsImJhaWR1IiwiZ2V0UGxhdGZvcm1Db25maWciLCJXRUNIQVRfR0FNRSIsIldYIiwiUVEiLCJCWVRFREFOQ0VfR0FNRSIsInRvdXRpYW8iLCJzcHJlYWRXb3JkRnVuIiwiY29uZmlnU3VjY2VzczIiLCJnYW1lU2VydmVyUm9vbSIsIkNMSUVOVF9HQU1FX1NUQVJUIiwiZXJyIiwicGxhdCIsInNpZ24iLCJyZXZpdmUiLCJyZXN1bHQiLCJsdWNreSIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQSxJQUFJQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXJCOztBQUNBLElBQU1DLE1BQU0sR0FBR0QsT0FBTyxDQUFDLGdCQUFELENBQXRCOztBQUNBLElBQUlFLElBQUksR0FBR0MsRUFBRSxDQUFDQyxLQUFILENBQVM7QUFDaEIsYUFBU0wsT0FETztBQUVoQk0sRUFBQUEsWUFBWSxFQUFFLHNCQUFVQyxJQUFWLEVBQWdCO0FBQzFCLFNBQUtDLFFBQUwsR0FB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O0FBQ0g7QUE1RGUsQ0FBVCxDQUFYO0FBK0RBSyxNQUFNLENBQUNDLE9BQVAsR0FBaUJqRCxJQUFqQiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLyrkuK3lj7DphY3nva7mlofku7bojrflj5YqL1xyXG52YXIgRW1pdHRlciA9IHJlcXVpcmUoJ2VtaXR0ZXInKTtcclxuY29uc3QgY29uc3RzID0gcmVxdWlyZSgnLi9tb2RlbC9jb25zdHMnKTtcclxudmFyIFJvb20gPSBjYy5DbGFzcyh7XHJcbiAgICBleHRlbmRzOiBFbWl0dGVyLFxyXG4gICAgaW5pdFdpdGhEYXRhOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIHRoaXMuYWRDb25maWcgPSB7fTtcclxuICAgICAgICB0aGlzLmNvbW1vbkNvbmZpZyA9IHt9O1xyXG4gICAgICAgIHRoaXMuY29uZmlnU3VjY2VzczEgPSBmYWxzZTtcclxuICAgICAgICB0aGlzLmlzSGFkV29yZCA9IGZhbHNlO1xyXG4gICAgICAgIGFzeW5jLndhdGVyZmFsbChbZnVuY3Rpb24oY2Ipe1xyXG4gICAgICAgICAgICBsZXQgdXJsID0gY29uc3RzLkhUVFBfR0VUX1BBQVNfREFUQV9TRVJWRVIrXCI/Z2FtZUlkPVwiK2NvbnN0cy5HQU1FX0lEK1wiJnBsYXQ9YWxsXCJcclxuICAgICAgICAgICArXCImdmVyc2lvbj1hbGxcIitcIiZicmFuZD1cIisnJytcIiZmcm9tPWFkXCI7XHJcbiAgICAgICAgICAgIC8vdXJsID0gJ2h0dHBzOi8vY3Muc25taS5jbi9nYW1lL0dldEdhbWVWYWx1ZT9nYW1lSWQ9NTAmcGxhdD1iYWlkdSZ2ZXJzaW9uPTEuMC4wJmJyYW5kPSZmcm9tPWFkJ1xyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcImFkIHVybD09PVwiK3VybClcclxuICAgICAgICAgICAgdXRpbC5nZXRVcmxTZXJDb25maWcodXJsLCdjb21Kc29uJywnY29tQWRDb25maWcnLGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZENvbmZpZyA9IGRhdGE7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImFkID09XCIrSlNPTi5zdHJpbmdpZnkodGhpcy5hZENvbmZpZykpXHJcbiAgICAgICAgICAgICAgICBhcHBHYW1lLmVtaXR0ZXIuZW1pdChjb25zdHMuSFRUUF9FVkVOVF9NSURETEVfREVTS19DT05GSUcse30pO1xyXG4gICAgICAgICAgICAgICAgY2IobnVsbCk7XHJcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSk7XHJcbiAgICAgICAgfS5iaW5kKHRoaXMpLGZ1bmN0aW9uKGNiKXtcclxuICAgICAgICAgICAgbGV0IHVybCA9IGNvbnN0cy5IVFRQX0dFVF9QQUFTX0RBVEFfU0VSVkVSK1wiP2dhbWVJZD1cIitjb25zdHMuR0FNRV9JRCtcIiZwbGF0PWFsbFwiXHJcbiAgICAgICAgICAgK1wiJnZlcnNpb249YWxsXCIrXCImYnJhbmQ9XCIrJycrXCImZnJvbT1NaWRkbGVEZXNrXCI7XHJcbiAgICAgICAgICAgIC8vdXJsID0gJ2h0dHBzOi8vY3Muc25taS5jbi9nYW1lL0dldEdhbWVWYWx1ZT9nYW1lSWQ9NTAmcGxhdD1iYWlkdSZ2ZXJzaW9uPTEuMC4wJmJyYW5kPSZmcm9tPU1pZGRsZURlc2snXHJcbiAgICAgICAgICAgIC8vY29uc29sZS5sb2coXCJtaWRkbGVkZXNrIHVybD09PVwiK3VybClcclxuICAgICAgICAgICAgdXRpbC5nZXRVcmxTZXJDb25maWcodXJsLCdjb21Kc29uJywnY29tQ29uZmlnJyxmdW5jdGlvbihkYXRhKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuY29tbW9uQ29uZmlnID0gZGF0YTtcclxuICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coXCJNaWRkbGVEZXNrID09XCIrSlNPTi5zdHJpbmdpZnkodGhpcy5jb21tb25Db25maWcpKVxyXG4gICAgICAgICAgICAgICAgbGV0IHdvcmRTaG93ID0gMDtcclxuICAgICAgICAgICAgICAgIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuQkFJRFVfR0FNRSl7XHJcbiAgICAgICAgICAgICAgICAgICAgd29yZFNob3cgPSB0aGlzLmNvbW1vbkNvbmZpZy53b3JkLmJhaWR1O1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0UGxhdGZvcm1Db25maWcoJ2JhaWR1Jyk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLldFQ0hBVF9HQU1FICYmIGFwcEdhbWUucGxhdGZvcm0gPT0gJ1dYJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgd29yZFNob3cgPSB0aGlzLmNvbW1vbkNvbmZpZy53b3JkLldYO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0UGxhdGZvcm1Db25maWcoJ1dYJyk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLldFQ0hBVF9HQU1FICYmIGFwcEdhbWUucGxhdGZvcm0gPT0gJ1FRJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgd29yZFNob3cgPSB0aGlzLmNvbW1vbkNvbmZpZy53b3JkLlFRO1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2V0UGxhdGZvcm1Db25maWcoJ1FRJyk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZSBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLkJZVEVEQU5DRV9HQU1FKXtcclxuICAgICAgICAgICAgICAgICAgICB3b3JkU2hvdyA9IHRoaXMuY29tbW9uQ29uZmlnLndvcmQudG91dGlhbztcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFBsYXRmb3JtQ29uZmlnKCd0b3V0aWFvJyk7XHJcbiAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdldFBsYXRmb3JtQ29uZmlnKCdodG1sNScpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgaWYod29yZFNob3cpe1xyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaXNIYWRXb3JkID0gdHJ1ZTtcclxuICAgICAgICAgICAgICAgICAgICB1dGlsLnNwcmVhZFdvcmRGdW4oKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuY29uZmlnU3VjY2VzczEgPSB0cnVlO1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5jb25maWdTdWNjZXNzMiAmJiB0aGlzLmNvbmZpZ1N1Y2Nlc3MxKXtcclxuICAgICAgICAgICAgICAgICAgICBhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmVtaXQoY29uc3RzLkNMSUVOVF9HQU1FX1NUQVJULHt9KTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfS5iaW5kKHRoaXMpKTtcclxuICAgICAgICB9LmJpbmQodGhpcyldLGZ1bmN0aW9uKGVycil7XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi6K+75Y+W6YWN572u5Ye66ZSZ5LqGISFcIilcclxuICAgICAgICB9KTtcclxuICAgIH0sXHJcbiAgICBnZXRQbGF0Zm9ybUNvbmZpZyhwbGF0KXtcclxuICAgICAgICB0aGlzLmNvbW1vbkNvbmZpZy5zaWduID0gdGhpcy5jb21tb25Db25maWcuc2lnbltwbGF0XTtcclxuICAgICAgICB0aGlzLmNvbW1vbkNvbmZpZy5yZXZpdmUgPSB0aGlzLmNvbW1vbkNvbmZpZy5yZXZpdmVbcGxhdF07XHJcbiAgICAgICAgdGhpcy5jb21tb25Db25maWcucmVzdWx0ID0gdGhpcy5jb21tb25Db25maWcucmVzdWx0W3BsYXRdO1xyXG4gICAgICAgIHRoaXMuY29tbW9uQ29uZmlnLmx1Y2t5ID0gdGhpcy5jb21tb25Db25maWcubHVja3lbcGxhdF07XHJcbiAgICB9LFxyXG59KTtcclxuXHJcbm1vZHVsZS5leHBvcnRzID0gUm9vbTtcclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/changeGame.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'afdd0LsL2lP35RKLODURjeW', 'changeGame');
// gameComon/scripts/changeGame.js

"use strict";

// Learn cc.Class:
//  - https://docs.cocos.com/creator/manual/en/scripting/class.html
// Learn Attribute:
//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html
// Learn life-cycle callbacks:
//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html
cc.Class({
  "extends": cc.Component,
  properties: {// foo: {
    //     // ATTRIBUTES:
    //     default: null,        // The default value will be used only when the component attaching
    //                           // to a node for the first time
    //     type: cc.SpriteFrame, // optional, default is typeof default
    //     serializable: true,   // optional, default is true
    // },
    // bar: {
    //     get () {
    //         return this._bar;
    //     },
    //     set (value) {
    //         this._bar = value;
    //     }
    // },
  },
  // LIFE-CYCLE CALLBACKS:
  onLoad: function onLoad() {
    this.node.on(cc.Node.EventType.TOUCH_END, this.onChangeGameBtnCallBack, this);
  },
  start: function start() {},
  onChangeGameBtnCallBack: function onChangeGameBtnCallBack(event) {
    if (cc.sys.platform == cc.sys.BYTEDANCE_GAME) {
      var systemInfo = tt.getSystemInfoSync(); // iOS 不支持，建议先检测再使用

      if (systemInfo.platform !== "ios") {
        // 打开互跳弹窗
        tt.showMoreGamesModal({
          appLaunchOptions: [{
            appId: "tt7fbb0906e080eb91",
            extraData: {}
          }, {
            appId: "tt71aa0717ee919412",
            extraData: {}
          }, {
            appId: "tt83a9f5141c9278e6",
            extraData: {}
          }, {
            appId: "tt1b516dec846adc47",
            extraData: {}
          }, {
            appId: "ttcf78b9c550430232",
            extraData: {}
          }, {
            appId: "tt62341489fd0f437a",
            extraData: {}
          }],
          success: function success(res) {
            console.log("success", res.errMsg);
          },
          fail: function fail(res) {
            console.log("fail", res.errMsg);
          }
        });
      }
    }
  } // update (dt) {},

});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFxjaGFuZ2VHYW1lLmpzIl0sIm5hbWVzIjpbImNjIiwiQ2xhc3MiLCJDb21wb25lbnQiLCJwcm9wZXJ0aWVzIiwib25Mb2FkIiwibm9kZSIsIm9uIiwiTm9kZSIsIkV2ZW50VHlwZSIsIlRPVUNIX0VORCIsIm9uQ2hhbmdlR2FtZUJ0bkNhbGxCYWNrIiwic3RhcnQiLCJldmVudCIsInN5cyIsInBsYXRmb3JtIiwiQllURURBTkNFX0dBTUUiLCJzeXN0ZW1JbmZvIiwidHQiLCJnZXRTeXN0ZW1JbmZvU3luYyIsInNob3dNb3JlR2FtZXNNb2RhbCIsImFwcExhdW5jaE9wdGlvbnMiLCJhcHBJZCIsImV4dHJhRGF0YSIsInN1Y2Nlc3MiLCJyZXMiLCJjb25zb2xlIiwibG9nIiwiZXJyTXNnIiwiZmFpbCJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFFQUEsRUFBRSxDQUFDQyxLQUFILENBQVM7QUFDTCxhQUFTRCxFQUFFLENBQUNFLFNBRFA7QUFHTEMsRUFBQUEsVUFBVSxFQUFFLENBQ1I7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBZlEsR0FIUDtBQXFCTDtBQUVBQyxFQUFBQSxNQXZCSyxvQkF1Qks7QUFDTixTQUFLQyxJQUFMLENBQVVDLEVBQVYsQ0FBYU4sRUFBRSxDQUFDTyxJQUFILENBQVFDLFNBQVIsQ0FBa0JDLFNBQS9CLEVBQTBDLEtBQUtDLHVCQUEvQyxFQUF3RSxJQUF4RTtBQUNILEdBekJJO0FBMkJMQyxFQUFBQSxLQTNCSyxtQkEyQkksQ0FFUixDQTdCSTtBQStCTEQsRUFBQUEsdUJBL0JLLG1DQStCbUJFLEtBL0JuQixFQStCeUI7QUFDMUIsUUFBR1osRUFBRSxDQUFDYSxHQUFILENBQU9DLFFBQVAsSUFBbUJkLEVBQUUsQ0FBQ2EsR0FBSCxDQUFPRSxjQUE3QixFQUE0QztBQUN4QyxVQUFNQyxVQUFVLEdBQUdDLEVBQUUsQ0FBQ0MsaUJBQUgsRUFBbkIsQ0FEd0MsQ0FFeEM7O0FBQ0EsVUFBSUYsVUFBVSxDQUFDRixRQUFYLEtBQXdCLEtBQTVCLEVBQW1DO0FBQy9CO0FBQ0FHLFFBQUFBLEVBQUUsQ0FBQ0Usa0JBQUgsQ0FBc0I7QUFDbEJDLFVBQUFBLGdCQUFnQixFQUFFLENBQ2xCO0FBQ0lDLFlBQUFBLEtBQUssRUFBRSxvQkFEWDtBQUVJQyxZQUFBQSxTQUFTLEVBQUU7QUFGZixXQURrQixFQUtsQjtBQUNJRCxZQUFBQSxLQUFLLEVBQUUsb0JBRFg7QUFFSUMsWUFBQUEsU0FBUyxFQUFFO0FBRmYsV0FMa0IsRUFTbEI7QUFDSUQsWUFBQUEsS0FBSyxFQUFFLG9CQURYO0FBRUlDLFlBQUFBLFNBQVMsRUFBRTtBQUZmLFdBVGtCLEVBYWxCO0FBQ0lELFlBQUFBLEtBQUssRUFBRSxvQkFEWDtBQUVJQyxZQUFBQSxTQUFTLEVBQUU7QUFGZixXQWJrQixFQWlCbEI7QUFDSUQsWUFBQUEsS0FBSyxFQUFFLG9CQURYO0FBRUlDLFlBQUFBLFNBQVMsRUFBRTtBQUZmLFdBakJrQixFQXFCbEI7QUFDSUQsWUFBQUEsS0FBSyxFQUFFLG9CQURYO0FBRUlDLFlBQUFBLFNBQVMsRUFBRTtBQUZmLFdBckJrQixDQURBO0FBMkJsQkMsVUFBQUEsT0EzQmtCLG1CQTJCVkMsR0EzQlUsRUEyQkw7QUFDYkMsWUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksU0FBWixFQUF1QkYsR0FBRyxDQUFDRyxNQUEzQjtBQUNDLFdBN0JpQjtBQThCbEJDLFVBQUFBLElBOUJrQixnQkE4QmJKLEdBOUJhLEVBOEJSO0FBQ1ZDLFlBQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLE1BQVosRUFBb0JGLEdBQUcsQ0FBQ0csTUFBeEI7QUFDQztBQWhDaUIsU0FBdEI7QUFrQ0g7QUFDSjtBQUNKLEdBekVJLENBMkVMOztBQTNFSyxDQUFUIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvLyBMZWFybiBjYy5DbGFzczpcclxuLy8gIC0gaHR0cHM6Ly9kb2NzLmNvY29zLmNvbS9jcmVhdG9yL21hbnVhbC9lbi9zY3JpcHRpbmcvY2xhc3MuaHRtbFxyXG4vLyBMZWFybiBBdHRyaWJ1dGU6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL3JlZmVyZW5jZS9hdHRyaWJ1dGVzLmh0bWxcclxuLy8gTGVhcm4gbGlmZS1jeWNsZSBjYWxsYmFja3M6XHJcbi8vICAtIGh0dHBzOi8vZG9jcy5jb2Nvcy5jb20vY3JlYXRvci9tYW51YWwvZW4vc2NyaXB0aW5nL2xpZmUtY3ljbGUtY2FsbGJhY2tzLmh0bWxcclxuXHJcbmNjLkNsYXNzKHtcclxuICAgIGV4dGVuZHM6IGNjLkNvbXBvbmVudCxcclxuXHJcbiAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICAgICAgLy8gZm9vOiB7XHJcbiAgICAgICAgLy8gICAgIC8vIEFUVFJJQlVURVM6XHJcbiAgICAgICAgLy8gICAgIGRlZmF1bHQ6IG51bGwsICAgICAgICAvLyBUaGUgZGVmYXVsdCB2YWx1ZSB3aWxsIGJlIHVzZWQgb25seSB3aGVuIHRoZSBjb21wb25lbnQgYXR0YWNoaW5nXHJcbiAgICAgICAgLy8gICAgICAgICAgICAgICAgICAgICAgICAgICAvLyB0byBhIG5vZGUgZm9yIHRoZSBmaXJzdCB0aW1lXHJcbiAgICAgICAgLy8gICAgIHR5cGU6IGNjLlNwcml0ZUZyYW1lLCAvLyBvcHRpb25hbCwgZGVmYXVsdCBpcyB0eXBlb2YgZGVmYXVsdFxyXG4gICAgICAgIC8vICAgICBzZXJpYWxpemFibGU6IHRydWUsICAgLy8gb3B0aW9uYWwsIGRlZmF1bHQgaXMgdHJ1ZVxyXG4gICAgICAgIC8vIH0sXHJcbiAgICAgICAgLy8gYmFyOiB7XHJcbiAgICAgICAgLy8gICAgIGdldCAoKSB7XHJcbiAgICAgICAgLy8gICAgICAgICByZXR1cm4gdGhpcy5fYmFyO1xyXG4gICAgICAgIC8vICAgICB9LFxyXG4gICAgICAgIC8vICAgICBzZXQgKHZhbHVlKSB7XHJcbiAgICAgICAgLy8gICAgICAgICB0aGlzLl9iYXIgPSB2YWx1ZTtcclxuICAgICAgICAvLyAgICAgfVxyXG4gICAgICAgIC8vIH0sXHJcbiAgICB9LFxyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgIG9uTG9hZCAoKSB7XHJcbiAgICAgICAgdGhpcy5ub2RlLm9uKGNjLk5vZGUuRXZlbnRUeXBlLlRPVUNIX0VORCwgdGhpcy5vbkNoYW5nZUdhbWVCdG5DYWxsQmFjaywgdGhpcyk7XHJcbiAgICB9LFxyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuXHJcbiAgICB9LFxyXG5cclxuICAgIG9uQ2hhbmdlR2FtZUJ0bkNhbGxCYWNrKGV2ZW50KXtcclxuICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLkJZVEVEQU5DRV9HQU1FKXtcclxuICAgICAgICAgICAgY29uc3Qgc3lzdGVtSW5mbyA9IHR0LmdldFN5c3RlbUluZm9TeW5jKCk7XHJcbiAgICAgICAgICAgIC8vIGlPUyDkuI3mlK/mjIHvvIzlu7rorq7lhYjmo4DmtYvlho3kvb/nlKhcclxuICAgICAgICAgICAgaWYgKHN5c3RlbUluZm8ucGxhdGZvcm0gIT09IFwiaW9zXCIpIHtcclxuICAgICAgICAgICAgICAgIC8vIOaJk+W8gOS6kui3s+W8ueeql1xyXG4gICAgICAgICAgICAgICAgdHQuc2hvd01vcmVHYW1lc01vZGFsKHtcclxuICAgICAgICAgICAgICAgICAgICBhcHBMYXVuY2hPcHRpb25zOiBbXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBJZDogXCJ0dDdmYmIwOTA2ZTA4MGViOTFcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFEYXRhOiB7fSxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwSWQ6IFwidHQ3MWFhMDcxN2VlOTE5NDEyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhRGF0YToge30sXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcElkOiBcInR0ODNhOWY1MTQxYzkyNzhlNlwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYURhdGE6IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBhcHBJZDogXCJ0dDFiNTE2ZGVjODQ2YWRjNDdcIixcclxuICAgICAgICAgICAgICAgICAgICAgICAgZXh0cmFEYXRhOiB7fSxcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgYXBwSWQ6IFwidHRjZjc4YjljNTUwNDMwMjMyXCIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGV4dHJhRGF0YToge30sXHJcbiAgICAgICAgICAgICAgICAgICAgfSxcclxuICAgICAgICAgICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFwcElkOiBcInR0NjIzNDE0ODlmZDBmNDM3YVwiLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBleHRyYURhdGE6IHt9LFxyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICAgICAgXSxcclxuICAgICAgICAgICAgICAgICAgICBzdWNjZXNzKHJlcykge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwic3VjY2Vzc1wiLCByZXMuZXJyTXNnKTtcclxuICAgICAgICAgICAgICAgICAgICB9LFxyXG4gICAgICAgICAgICAgICAgICAgIGZhaWwocmVzKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJmYWlsXCIsIHJlcy5lcnJNc2cpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0sXHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge30sXHJcbn0pO1xyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/roomGame.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'beb9925+ZFD6pMLNAwAhYoo', 'roomGame');
// gameComon/scripts/roomGame.js

"use strict";

/*游戏配置文件获取*/
var Room = require('room');

var consts = require('./model/consts');

var RoomGame = cc.Class({
  "extends": Room,
  statics: {
    create: function create(data) {
      var roomObj = new RoomGame();
      roomObj.initWithData(data);
      return roomObj;
    }
  },
  initWithData: function initWithData(data) {
    this._super(data.room); //录屏路径


    this.videoPath = ''; //获取录屏的系统时间

    this.screenTime = 0;
    this.gameConfigData = {};
    this.wordRid = '';
    this.configSuccess2 = false;
    var url = consts.HTTP_GET_PAAS_DATA_SERVER + "?gameId=" + consts.GAME_ID + "&plat=" + appGame.platform + "&version=" + appGame.packageVersion + "&brand=" + '' + "&from=game"; //url = 'https://cs.snmi.cn/game/GetGameValue?gameId=50&plat=baidu&version=1.0.0&brand=&from=game'

    console.log("ad url===" + url);
    util.getUrlSerConfig(url, 'json', 'game', function (data) {
      this.gameConfigData = data;
      console.log("game ==" + JSON.stringify(this.gameConfigData));
      this.configSuccess2 = true;

      if (this.configSuccess2 && this.configSuccess1) {
        appGame.gameServerRoom.emit(consts.CLIENT_GAME_START, {});
      }
    }.bind(this));
  }
});
module.exports = RoomGame;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFxyb29tR2FtZS5qcyJdLCJuYW1lcyI6WyJSb29tIiwicmVxdWlyZSIsImNvbnN0cyIsIlJvb21HYW1lIiwiY2MiLCJDbGFzcyIsInN0YXRpY3MiLCJjcmVhdGUiLCJkYXRhIiwicm9vbU9iaiIsImluaXRXaXRoRGF0YSIsIl9zdXBlciIsInJvb20iLCJ2aWRlb1BhdGgiLCJzY3JlZW5UaW1lIiwiZ2FtZUNvbmZpZ0RhdGEiLCJ3b3JkUmlkIiwiY29uZmlnU3VjY2VzczIiLCJ1cmwiLCJIVFRQX0dFVF9QQUFTX0RBVEFfU0VSVkVSIiwiR0FNRV9JRCIsImFwcEdhbWUiLCJwbGF0Zm9ybSIsInBhY2thZ2VWZXJzaW9uIiwiY29uc29sZSIsImxvZyIsInV0aWwiLCJnZXRVcmxTZXJDb25maWciLCJKU09OIiwic3RyaW5naWZ5IiwiY29uZmlnU3VjY2VzczEiLCJnYW1lU2VydmVyUm9vbSIsImVtaXQiLCJDTElFTlRfR0FNRV9TVEFSVCIsImJpbmQiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0EsSUFBSUEsSUFBSSxHQUFHQyxPQUFPLENBQUMsTUFBRCxDQUFsQjs7QUFDQSxJQUFNQyxNQUFNLEdBQUdELE9BQU8sQ0FBQyxnQkFBRCxDQUF0Qjs7QUFDQSxJQUFJRSxRQUFRLEdBQUdDLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTO0FBQ3BCLGFBQVNMLElBRFc7QUFHcEJNLEVBQUFBLE9BQU8sRUFBRTtBQUNMQyxJQUFBQSxNQUFNLEVBQUUsZ0JBQVVDLElBQVYsRUFBZ0I7QUFDcEIsVUFBSUMsT0FBTyxHQUFHLElBQUlOLFFBQUosRUFBZDtBQUNBTSxNQUFBQSxPQUFPLENBQUNDLFlBQVIsQ0FBcUJGLElBQXJCO0FBQ0EsYUFBT0MsT0FBUDtBQUNIO0FBTEksR0FIVztBQVVwQkMsRUFBQUEsWUFBWSxFQUFFLHNCQUFVRixJQUFWLEVBQWdCO0FBQzFCLFNBQUtHLE1BQUwsQ0FBWUgsSUFBSSxDQUFDSSxJQUFqQixFQUQwQixDQUUxQjs7O0FBQ0EsU0FBS0MsU0FBTCxHQUFpQixFQUFqQixDQUgwQixDQUkxQjs7QUFDQSxTQUFLQyxVQUFMLEdBQWtCLENBQWxCO0FBQ0EsU0FBS0MsY0FBTCxHQUFzQixFQUF0QjtBQUNBLFNBQUtDLE9BQUwsR0FBZSxFQUFmO0FBQ0EsU0FBS0MsY0FBTCxHQUFzQixLQUF0QjtBQUNBLFFBQUlDLEdBQUcsR0FBR2hCLE1BQU0sQ0FBQ2lCLHlCQUFQLEdBQWlDLFVBQWpDLEdBQTRDakIsTUFBTSxDQUFDa0IsT0FBbkQsR0FBMkQsUUFBM0QsR0FBb0VDLE9BQU8sQ0FBQ0MsUUFBNUUsR0FDTixXQURNLEdBQ01ELE9BQU8sQ0FBQ0UsY0FEZCxHQUM2QixTQUQ3QixHQUN1QyxFQUR2QyxHQUMwQyxZQURwRCxDQVQwQixDQVcxQjs7QUFDQUMsSUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksY0FBWVAsR0FBeEI7QUFDQVEsSUFBQUEsSUFBSSxDQUFDQyxlQUFMLENBQXFCVCxHQUFyQixFQUF5QixNQUF6QixFQUFnQyxNQUFoQyxFQUF1QyxVQUFTVixJQUFULEVBQWM7QUFDakQsV0FBS08sY0FBTCxHQUFzQlAsSUFBdEI7QUFDQWdCLE1BQUFBLE9BQU8sQ0FBQ0MsR0FBUixDQUFZLFlBQVVHLElBQUksQ0FBQ0MsU0FBTCxDQUFlLEtBQUtkLGNBQXBCLENBQXRCO0FBQ0EsV0FBS0UsY0FBTCxHQUFzQixJQUF0Qjs7QUFDQSxVQUFHLEtBQUtBLGNBQUwsSUFBdUIsS0FBS2EsY0FBL0IsRUFBOEM7QUFDMUNULFFBQUFBLE9BQU8sQ0FBQ1UsY0FBUixDQUF1QkMsSUFBdkIsQ0FBNEI5QixNQUFNLENBQUMrQixpQkFBbkMsRUFBcUQsRUFBckQ7QUFDSDtBQUNKLEtBUHNDLENBT3JDQyxJQVBxQyxDQU9oQyxJQVBnQyxDQUF2QztBQVFIO0FBL0JtQixDQUFULENBQWY7QUFrQ0FDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQmpDLFFBQWpCIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvKua4uOaIj+mFjee9ruaWh+S7tuiOt+WPliovXHJcbnZhciBSb29tID0gcmVxdWlyZSgncm9vbScpO1xyXG5jb25zdCBjb25zdHMgPSByZXF1aXJlKCcuL21vZGVsL2NvbnN0cycpO1xyXG52YXIgUm9vbUdhbWUgPSBjYy5DbGFzcyh7XHJcbiAgICBleHRlbmRzOiBSb29tLFxyXG5cclxuICAgIHN0YXRpY3M6IHtcclxuICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGxldCByb29tT2JqID0gbmV3IFJvb21HYW1lKCk7XHJcbiAgICAgICAgICAgIHJvb21PYmouaW5pdFdpdGhEYXRhKGRhdGEpO1xyXG4gICAgICAgICAgICByZXR1cm4gcm9vbU9iajtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaW5pdFdpdGhEYXRhOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIHRoaXMuX3N1cGVyKGRhdGEucm9vbSk7XHJcbiAgICAgICAgLy/lvZXlsY/ot6/lvoRcclxuICAgICAgICB0aGlzLnZpZGVvUGF0aCA9ICcnO1xyXG4gICAgICAgIC8v6I635Y+W5b2V5bGP55qE57O757uf5pe26Ze0XHJcbiAgICAgICAgdGhpcy5zY3JlZW5UaW1lID0gMDtcclxuICAgICAgICB0aGlzLmdhbWVDb25maWdEYXRhID0ge307XHJcbiAgICAgICAgdGhpcy53b3JkUmlkID0gJyc7XHJcbiAgICAgICAgdGhpcy5jb25maWdTdWNjZXNzMiA9IGZhbHNlO1xyXG4gICAgICAgIGxldCB1cmwgPSBjb25zdHMuSFRUUF9HRVRfUEFBU19EQVRBX1NFUlZFUitcIj9nYW1lSWQ9XCIrY29uc3RzLkdBTUVfSUQrXCImcGxhdD1cIithcHBHYW1lLnBsYXRmb3JtXHJcbiAgICAgICAgICAgK1wiJnZlcnNpb249XCIrYXBwR2FtZS5wYWNrYWdlVmVyc2lvbitcIiZicmFuZD1cIisnJytcIiZmcm9tPWdhbWVcIjtcclxuICAgICAgICAvL3VybCA9ICdodHRwczovL2NzLnNubWkuY24vZ2FtZS9HZXRHYW1lVmFsdWU/Z2FtZUlkPTUwJnBsYXQ9YmFpZHUmdmVyc2lvbj0xLjAuMCZicmFuZD0mZnJvbT1nYW1lJ1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwiYWQgdXJsPT09XCIrdXJsKVxyXG4gICAgICAgIHV0aWwuZ2V0VXJsU2VyQ29uZmlnKHVybCwnanNvbicsJ2dhbWUnLGZ1bmN0aW9uKGRhdGEpe1xyXG4gICAgICAgICAgICB0aGlzLmdhbWVDb25maWdEYXRhID0gZGF0YTtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJnYW1lID09XCIrSlNPTi5zdHJpbmdpZnkodGhpcy5nYW1lQ29uZmlnRGF0YSkpXHJcbiAgICAgICAgICAgIHRoaXMuY29uZmlnU3VjY2VzczIgPSB0cnVlO1xyXG4gICAgICAgICAgICBpZih0aGlzLmNvbmZpZ1N1Y2Nlc3MyICYmIHRoaXMuY29uZmlnU3VjY2VzczEpe1xyXG4gICAgICAgICAgICAgICAgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5lbWl0KGNvbnN0cy5DTElFTlRfR0FNRV9TVEFSVCx7fSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9LmJpbmQodGhpcykpO1xyXG4gICAgfSxcclxufSk7XHJcblxyXG5tb2R1bGUuZXhwb3J0cyA9IFJvb21HYW1lO1xyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/ad/interstitialAd.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '65bb3OPXhxMDIngU6dETA4S', 'interstitialAd');
// gameComon/scripts/ad/interstitialAd.js

"use strict";

var InterstitialAd = cc.Class({
  properties: {},
  ctor: function ctor() {
    this.instance = null;
  },
  statics: {
    create: function create(data) {
      if (!this.instance) {
        this.instance = new InterstitialAd();
        this.instance.initWithData(data);
        return this.instance;
      }
    }
  },
  initWithData: function initWithData(data) {
    this.adId = '';

    if (cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'QQ') {
      //qq
      this.adId = 'e93d7d4378e53c49b258b80960fb84c1';

      if (appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.interstitialId && appGame.gameServerRoom.adConfig.interstitialId.QQ) {
        this.adId = appGame.gameServerRoom.adConfig.interstitialId.QQ.adUnitId;
      }

      this.globalData = {
        interstitialAd: qq.createInterstitialAd({
          adUnitId: this.adId
        })
      };
      console.log("插屏广告==" + this.adId);
      httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
        title: '插屏广告',
        content: '创建成功',
        desc: this.adId
      }, function () {});
    } else if (cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'WX') {
      //微信
      this.adId = 'c5b484afd6953432';

      if (appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.interstitialId && appGame.gameServerRoom.adConfig.interstitialId.WX) {
        this.adId = appGame.gameServerRoom.adConfig.interstitialId.WX.adUnitId;
      }

      httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
        title: '插屏广告',
        content: '创建成功',
        desc: this.adId
      }, function () {});
    } else if (cc.sys.platform == cc.sys.BYTEDANCE_GAME) {
      //字节
      this.adId = '15c24vd9ppqti8jgb3';

      if (appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.interstitialId && appGame.gameServerRoom.adConfig.interstitialId.toutiao) {
        this.adId = appGame.gameServerRoom.adConfig.interstitialId.toutiao.adUnitId;
      }

      httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
        title: '插屏广告',
        content: '创建成功',
        desc: this.adId
      }, function () {});
    }
  },
  playAd: function playAd() {
    var _this = this;

    if (cc.sys.platform == cc.sys.BYTEDANCE_GAME && appGame.gameServerRoom.gameConfigData && appGame.gameServerRoom.gameConfigData.isbanner) {
      console.log("banner return");
      return;
    }

    console.log("播放插屏广告==");

    if (cc.sys.platform == cc.sys.BYTEDANCE_GAME) {
      //头条平台
      if (this.globalData && this.globalData.interstitialAd) {
        this.globalData.interstitialAd.destroy();
        this.globalData.interstitialAd = null;
      }

      this.globalData = {
        interstitialAd: tt.createInterstitialAd({
          adUnitId: this.adId
        })
      };
      httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
        title: '插屏广告',
        content: '创建成功',
        desc: this.adId
      }, function () {});
      this.globalData.interstitialAd.load().then(function () {
        console.log("插屏显示成功");
        httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
          title: '插屏广告',
          content: '显示成功',
          desc: _this.adId
        }, function () {});
        return _this.globalData.interstitialAd.show();
      })["catch"](function (err) {
        httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
          title: '插屏广告',
          content: '显示失败',
          desc: _this.adId
        }, function () {});
        console.log("插屏组件出现问题", err);
      });
      this.globalData.interstitialAd.onError(function (listener) {
        httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
          title: '插屏广告',
          content: _this.adId,
          desc: listener.errCode + listener.errMsg
        }, function () {});
      });
    } else if (cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'WX') {
      //微信平台
      if (this.globalData && this.globalData.interstitialAd) {
        this.globalData.interstitialAd.offError();
        this.globalData.interstitialAd.destroy();
        this.globalData.interstitialAd = null;
        console.log("销毁");
        httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
          title: '插屏广告',
          content: '销毁广告',
          desc: this.adId
        }, function () {});
      }

      this.globalData = {
        /* 建议放在onReady里执行，提前加载广告 */
        InterstitialAd: wx.createInterstitialAd({
          adUnitId: this.adId
        })
      };
      httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
        title: '插屏广告',
        content: '创建成功',
        desc: this.adId
      }, function () {});
      this.globalData.InterstitialAd.load()["catch"](function (err) {
        console.error('load', err);
      });
      this.globalData.InterstitialAd.onLoad(function () {
        console.log('onLoad event emit');

        _this.globalData.InterstitialAd.show()["catch"](function (err) {
          httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
            title: '插屏广告',
            content: '显示成功',
            desc: _this.adId
          }, function () {});
          console.error('show', err);
        });
      });
      this.globalData.InterstitialAd.onClose(function () {
        console.log('close event emit');
      });
      this.globalData.InterstitialAd.onError(function (listener) {
        httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
          title: '插屏广告',
          content: _this.adId,
          desc: listener.errCode + listener.errMsg
        }, function () {});
      });
      /* 建议放在需要展示插屏广告的时机执行 */
    } else {
      if (this.globalData && this.globalData.interstitialAd) {
        var interstitialAd = this.globalData.interstitialAd;
        interstitialAd.load().then(function () {
          console.log("插屏显示成功");
          httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
            title: '插屏广告',
            content: '显示成功',
            desc: _this.adId
          }, function () {});
          return interstitialAd.show();
        })["catch"](function (err) {
          httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
            title: '插屏广告',
            content: '显示失败',
            desc: _this.adId
          }, function () {});
          console.log("插屏组件出现问题", err);
        });
      }
    }
  }
});
module.exports = InterstitialAd;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFxhZFxcaW50ZXJzdGl0aWFsQWQuanMiXSwibmFtZXMiOlsiSW50ZXJzdGl0aWFsQWQiLCJjYyIsIkNsYXNzIiwicHJvcGVydGllcyIsImN0b3IiLCJpbnN0YW5jZSIsInN0YXRpY3MiLCJjcmVhdGUiLCJkYXRhIiwiaW5pdFdpdGhEYXRhIiwiYWRJZCIsInN5cyIsInBsYXRmb3JtIiwiV0VDSEFUX0dBTUUiLCJhcHBHYW1lIiwiZ2FtZVNlcnZlclJvb20iLCJhZENvbmZpZyIsImludGVyc3RpdGlhbElkIiwiUVEiLCJhZFVuaXRJZCIsImdsb2JhbERhdGEiLCJpbnRlcnN0aXRpYWxBZCIsInFxIiwiY3JlYXRlSW50ZXJzdGl0aWFsQWQiLCJjb25zb2xlIiwibG9nIiwiaHR0cFV0aWxzIiwiaHR0cFBvc3QiLCJjb25zdHMiLCJIVFRQX1JFQ09SRF9TRVJWRVIiLCJ0aXRsZSIsImNvbnRlbnQiLCJkZXNjIiwiV1giLCJCWVRFREFOQ0VfR0FNRSIsInRvdXRpYW8iLCJwbGF5QWQiLCJnYW1lQ29uZmlnRGF0YSIsImlzYmFubmVyIiwiZGVzdHJveSIsInR0IiwibG9hZCIsInRoZW4iLCJzaG93IiwiZXJyIiwib25FcnJvciIsImxpc3RlbmVyIiwiZXJyQ29kZSIsImVyck1zZyIsIm9mZkVycm9yIiwid3giLCJlcnJvciIsIm9uTG9hZCIsIm9uQ2xvc2UiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLGNBQWMsR0FBR0MsRUFBRSxDQUFDQyxLQUFILENBQVM7QUFDMUJDLEVBQUFBLFVBQVUsRUFBRSxFQURjO0FBRzFCQyxFQUFBQSxJQUgwQixrQkFHcEI7QUFDRixTQUFLQyxRQUFMLEdBQWdCLElBQWhCO0FBQ0gsR0FMeUI7QUFNMUJDLEVBQUFBLE9BQU8sRUFBRTtBQUNMQyxJQUFBQSxNQUFNLEVBQUUsZ0JBQVVDLElBQVYsRUFBZ0I7QUFDcEIsVUFB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LEtBQUksQ0FBQ3RCO0FBQXZDLFdBQTdDLEVBQTBGLFlBQVUsQ0FDbkcsQ0FERDtBQUVBYyxVQUFBQSxPQUFPLENBQUNDLEdBQVIsQ0FBWSxVQUFaLEVBQXdCbUIsR0FBeEI7QUFDSCxTQVpEO0FBYUg7QUFDSjtBQUNKO0FBeEl5QixDQUFULENBQXJCO0FBMElBVSxNQUFNLENBQUNDLE9BQVAsR0FBaUJ2RCxjQUFqQiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIEludGVyc3RpdGlhbEFkID0gY2MuQ2xhc3Moe1xyXG4gICAgcHJvcGVydGllczoge1xyXG4gICAgfSxcclxuICAgIGN0b3IoKXtcclxuICAgICAgICB0aGlzLmluc3RhbmNlID0gbnVsbDtcclxuICAgIH0sXHJcbiAgICBzdGF0aWNzOiB7XHJcbiAgICAgICAgY3JlYXRlOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICBpZighdGhpcy5pbnN0YW5jZSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluc3RhbmNlID0gbmV3IEludGVyc3RpdGlhbEFkKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluc3RhbmNlLmluaXRXaXRoRGF0YShkYXRhKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGluaXRXaXRoRGF0YTogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICB0aGlzLmFkSWQgPSAnJztcclxuICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLldFQ0hBVF9HQU1FICYmIGFwcEdhbWUucGxhdGZvcm0gPT0gJ1FRJyl7IC8vcXFcclxuICAgICAgICAgICAgdGhpcy5hZElkID0gJ2U5M2Q3ZDQzNzhlNTNjNDliMjU4YjgwOTYwZmI4NGMxJztcclxuICAgICAgICAgICAgaWYoYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZyAmJiBhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmFkQ29uZmlnLmludGVyc3RpdGlhbElkICYmIGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcuaW50ZXJzdGl0aWFsSWQuUVEpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZElkID0gYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy5pbnRlcnN0aXRpYWxJZC5RUS5hZFVuaXRJZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmdsb2JhbERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICBpbnRlcnN0aXRpYWxBZDogcXEuY3JlYXRlSW50ZXJzdGl0aWFsQWQoe1xyXG4gICAgICAgICAgICAgICAgICAgIGFkVW5pdElkOiB0aGlzLmFkSWRcclxuICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5o+S5bGP5bm/5ZGKPT1cIit0aGlzLmFkSWQpXHJcbiAgICAgICAgICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon5o+S5bGP5bm/5ZGKJyxjb250ZW50OifliJvlu7rmiJDlip8nLGRlc2M6dGhpcy5hZElkfSxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9ZWxzZSBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLldFQ0hBVF9HQU1FICYmIGFwcEdhbWUucGxhdGZvcm0gPT0gJ1dYJyl7IC8v5b6u5L+hXHJcbiAgICAgICAgICAgIHRoaXMuYWRJZCA9ICdjNWI0ODRhZmQ2OTUzNDMyJztcclxuICAgICAgICAgICAgaWYoYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZyAmJiBhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmFkQ29uZmlnLmludGVyc3RpdGlhbElkICYmIGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcuaW50ZXJzdGl0aWFsSWQuV1gpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZElkID0gYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy5pbnRlcnN0aXRpYWxJZC5XWC5hZFVuaXRJZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+aPkuWxj+W5v+WRiicsY29udGVudDon5Yib5bu65oiQ5YqfJyxkZXNjOnRoaXMuYWRJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfWVsc2UgaWYoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5CWVRFREFOQ0VfR0FNRSl7IC8v5a2X6IqCXHJcbiAgICAgICAgICAgIHRoaXMuYWRJZCA9ICcxNWMyNHZkOXBwcXRpOGpnYjMnO1xyXG4gICAgICAgICAgICBpZihhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmFkQ29uZmlnICYmIGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcuaW50ZXJzdGl0aWFsSWQgJiYgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy5pbnRlcnN0aXRpYWxJZC50b3V0aWFvKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuYWRJZCA9IGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcuaW50ZXJzdGl0aWFsSWQudG91dGlhby5hZFVuaXRJZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+aPkuWxj+W5v+WRiicsY29udGVudDon5Yib5bu65oiQ5YqfJyxkZXNjOnRoaXMuYWRJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHBsYXlBZDpmdW5jdGlvbigpIHtcclxuICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLkJZVEVEQU5DRV9HQU1FICYmIGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uZ2FtZUNvbmZpZ0RhdGEmJlxyXG4gICAgICAgICAgICBhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmdhbWVDb25maWdEYXRhLmlzYmFubmVyKXtcclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJiYW5uZXIgcmV0dXJuXCIpXHJcbiAgICAgICAgICAgIHJldHVybjtcclxuICAgICAgICB9XHJcbiAgICAgICAgY29uc29sZS5sb2coXCLmkq3mlL7mj5LlsY/lub/lkYo9PVwiKVxyXG4gICAgICAgIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuQllURURBTkNFX0dBTUUpeyAvL+WktOadoeW5s+WPsFxyXG4gICAgICAgICAgICBpZih0aGlzLmdsb2JhbERhdGEgJiYgdGhpcy5nbG9iYWxEYXRhLmludGVyc3RpdGlhbEFkKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsRGF0YS5pbnRlcnN0aXRpYWxBZC5kZXN0cm95KCk7IFxyXG4gICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhLmludGVyc3RpdGlhbEFkID0gbnVsbDsgXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgaW50ZXJzdGl0aWFsQWQ6IHR0LmNyZWF0ZUludGVyc3RpdGlhbEFkKHtcclxuICAgICAgICAgICAgICAgICAgICBhZFVuaXRJZDogdGhpcy5hZElkXHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+aPkuWxj+W5v+WRiicsY29udGVudDon5Yib5bu65oiQ5YqfJyxkZXNjOnRoaXMuYWRJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2xvYmFsRGF0YS5pbnRlcnN0aXRpYWxBZC5sb2FkKClcclxuICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLmj5LlsY/mmL7npLrmiJDlip9cIik7XHJcbiAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+aPkuWxj+W5v+WRiicsY29udGVudDon5pi+56S65oiQ5YqfJyxkZXNjOnRoaXMuYWRJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuZ2xvYmFsRGF0YS5pbnRlcnN0aXRpYWxBZC5zaG93KCk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+aPkuWxj+W5v+WRiicsY29udGVudDon5pi+56S65aSx6LSlJyxkZXNjOnRoaXMuYWRJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLmj5LlsY/nu4Tku7blh7rnjrDpl67pophcIiwgZXJyKTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2xvYmFsRGF0YS5pbnRlcnN0aXRpYWxBZC5vbkVycm9yKChsaXN0ZW5lcikgPT4ge1xyXG4gICAgICAgICAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOifmj5LlsY/lub/lkYonLGNvbnRlbnQ6dGhpcy5hZElkLGRlc2M6bGlzdGVuZXIuZXJyQ29kZStsaXN0ZW5lci5lcnJNc2d9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIFxyXG4gICAgICAgIH1lbHNlIGlmIChjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLldFQ0hBVF9HQU1FICYmIGFwcEdhbWUucGxhdGZvcm0gPT0gJ1dYJykgeyAvL+W+ruS/oeW5s+WPsFxyXG4gICAgICAgICAgICBpZiAodGhpcy5nbG9iYWxEYXRhICYmIHRoaXMuZ2xvYmFsRGF0YS5pbnRlcnN0aXRpYWxBZCkge1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhLmludGVyc3RpdGlhbEFkLm9mZkVycm9yKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbERhdGEuaW50ZXJzdGl0aWFsQWQuZGVzdHJveSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhLmludGVyc3RpdGlhbEFkID0gbnVsbDtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi6ZSA5q+BXCIpXHJcbiAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+aPkuWxj+W5v+WRiicsY29udGVudDon6ZSA5q+B5bm/5ZGKJyxkZXNjOnRoaXMuYWRJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZ2xvYmFsRGF0YSA9IHtcclxuICAgICAgICAgICAgICAgIC8qIOW7uuiuruaUvuWcqG9uUmVhZHnph4zmiafooYzvvIzmj5DliY3liqDovb3lub/lkYogKi9cclxuICAgICAgICAgICAgICAgIEludGVyc3RpdGlhbEFkIDp3eC5jcmVhdGVJbnRlcnN0aXRpYWxBZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRVbml0SWQ6IHRoaXMuYWRJZFxyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+aPkuWxj+W5v+WRiicsY29udGVudDon5Yib5bu65oiQ5YqfJyxkZXNjOnRoaXMuYWRJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIHRoaXMuZ2xvYmFsRGF0YS5JbnRlcnN0aXRpYWxBZC5sb2FkKCkuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignbG9hZCcsIGVycilcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhLkludGVyc3RpdGlhbEFkLm9uTG9hZCgoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnb25Mb2FkIGV2ZW50IGVtaXQnKVxyXG4gICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhLkludGVyc3RpdGlhbEFkLnNob3coKS5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOifmj5LlsY/lub/lkYonLGNvbnRlbnQ6J+aYvuekuuaIkOWKnycsZGVzYzp0aGlzLmFkSWR9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignc2hvdycsIGVycilcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIHRoaXMuZ2xvYmFsRGF0YS5JbnRlcnN0aXRpYWxBZC5vbkNsb3NlKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKCdjbG9zZSBldmVudCBlbWl0JylcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhLkludGVyc3RpdGlhbEFkLm9uRXJyb3IoKGxpc3RlbmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+aPkuWxj+W5v+WRiicsY29udGVudDp0aGlzLmFkSWQsZGVzYzpsaXN0ZW5lci5lcnJDb2RlK2xpc3RlbmVyLmVyck1zZ30sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAvKiDlu7rorq7mlL7lnKjpnIDopoHlsZXnpLrmj5LlsY/lub/lkYrnmoTml7bmnLrmiafooYwgKi9cclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgaWYodGhpcy5nbG9iYWxEYXRhICYmIHRoaXMuZ2xvYmFsRGF0YS5pbnRlcnN0aXRpYWxBZCl7XHJcbiAgICAgICAgICAgICAgICBsZXQgaW50ZXJzdGl0aWFsQWQgPSB0aGlzLmdsb2JhbERhdGEuaW50ZXJzdGl0aWFsQWQ7XHJcbiAgICAgICAgICAgICAgICBpbnRlcnN0aXRpYWxBZFxyXG4gICAgICAgICAgICAgICAgLmxvYWQoKVxyXG4gICAgICAgICAgICAgICAgLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5o+S5bGP5pi+56S65oiQ5YqfXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon5o+S5bGP5bm/5ZGKJyxjb250ZW50OifmmL7npLrmiJDlip8nLGRlc2M6dGhpcy5hZElkfSxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBpbnRlcnN0aXRpYWxBZC5zaG93KCk7XHJcbiAgICAgICAgICAgICAgICB9KVxyXG4gICAgICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+aPkuWxj+W5v+WRiicsY29udGVudDon5pi+56S65aSx6LSlJyxkZXNjOnRoaXMuYWRJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuaPkuWxj+e7hOS7tuWHuueOsOmXrumimFwiLCBlcnIpO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9XHJcbn0pO1xyXG5tb2R1bGUuZXhwb3J0cyA9IEludGVyc3RpdGlhbEFkO1xyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/updateTime.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4cc67JlC1xALoZNsT7RR3yO', 'updateTime');
// gameComon/scripts/updateTime.js

"use strict";

var countDownInterval;
cc.Class({
  "extends": cc.Component,
  properties: {
    clockNode: cc.Node
  },
  // LIFE-CYCLE CALLBACKS:
  onLoad: function onLoad() {
    //注册监听事件
    appGame.gameServerRoom.on("updateCompetitionTime", this.updateTime, this);
    this.clockNode.getComponent(cc.ProgressBar).progress = 1;
    this._count = 0;
  },
  onDestroy: function onDestroy() {
    //删除监听事件
    appGame.gameServerRoom.off("updateCompetitionTime", this.updateTime, this);
    clearInterval(countDownInterval);
  },
  start: function start() {},
  updateTime: function updateTime(type, count, totalcount) {
    if (type == 1) {
      //开始倒计时
      count = count * 1000;
      totalcount = totalcount * 1000;
      var durationtime = 100;
      this._count = count;

      if (this.clockNode) {
        this.clockNode.getComponent(cc.ProgressBar).progress = this._count / totalcount;
      }

      clearInterval(countDownInterval);
      countDownInterval = setInterval(function () {
        if (this._count > durationtime) {
          this._count -= durationtime;
        } else {
          this._count = 0;
          appGame.gameServerRoom.emit("competitionGameOver", 2);
          clearInterval(countDownInterval);
        }

        if (this.clockNode) {
          this.clockNode.getComponent(cc.ProgressBar).progress = this._count / totalcount;
        }
      }.bind(this), durationtime);
    } else {
      //关闭倒计时
      clearInterval(countDownInterval);
    }
  } // update (dt) {},

});

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFx1cGRhdGVUaW1lLmpzIl0sIm5hbWVzIjpbImNvdW50RG93bkludGVydmFsIiwiY2MiLCJDbGFzcyIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJjbG9ja05vZGUiLCJOb2RlIiwib25Mb2FkIiwiYXBwR2FtZSIsImdhbWVTZXJ2ZXJSb29tIiwib24iLCJ1cGRhdGVUaW1lIiwiZ2V0Q29tcG9uZW50IiwiUHJvZ3Jlc3NCYXIiLCJwcm9ncmVzcyIsIl9jb3VudCIsIm9uRGVzdHJveSIsIm9mZiIsImNsZWFySW50ZXJ2YWwiLCJzdGFydCIsInR5cGUiLCJjb3VudCIsInRvdGFsY291bnQiLCJkdXJhdGlvbnRpbWUiLCJzZXRJbnRlcnZhbCIsImVtaXQiLCJiaW5kIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLGlCQUFKO0FBQ0FDLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTO0FBQ0wsYUFBU0QsRUFBRSxDQUFDRSxTQURQO0FBR0xDLEVBQUFBLFVBQVUsRUFBRTtBQUNSQyxJQUFBQSxTQUFTLEVBQUNKLEVBQUUsQ0FBQ0s7QUFETCxHQUhQO0FBT0w7QUFFQUMsRUFBQUEsTUFUSyxvQkFTSztBQUNOO0FBQ0FDLElBQUFBLE9BQU8sQ0FBQ0MsY0FBUixDQUF1QkMsRUFBdkIsQ0FBMEIsdUJBQTFCLEVBQW1ELEtBQUtDLFVBQXhELEVBQW1FLElBQW5FO0FBQ0EsU0FBS04sU0FBTCxDQUFlTyxZQUFmLENBQTRCWCxFQUFFLENBQUNZLFdBQS9CLEVBQTRDQyxRQUE1QyxHQUF1RCxDQUF2RDtBQUNBLFNBQUtDLE1BQUwsR0FBYyxDQUFkO0FBQ0gsR0FkSTtBQWdCTEMsRUFBQUEsU0FoQkssdUJBZ0JRO0FBQ1Y7QUFDQVIsSUFBQUEsT0FBTyxDQUFDQyxjQUFSLENBQXVCUSxHQUF2QixDQUEyQix1QkFBM0IsRUFBb0QsS0FBS04sVUFBekQsRUFBb0UsSUFBcEU7QUFDQU8sSUFBQUEsYUFBYSxDQUFDbEIsaUJBQUQsQ0FBYjtBQUNGLEdBcEJJO0FBc0JMbUIsRUFBQUEsS0F0QkssbUJBc0JJLENBRVIsQ0F4Qkk7QUEwQkxSLEVBQUFBLFVBMUJLLHNCQTBCTVMsSUExQk4sRUEwQldDLEtBMUJYLEVBMEJpQkMsVUExQmpCLEVBMEI0QjtBQUM3QixRQUFHRixJQUFJLElBQUUsQ0FBVCxFQUFXO0FBQUM7QUFDUkMsTUFBQUEsS0FBSyxHQUFHQSxLQUFLLEdBQUMsSUFBZDtBQUNBQyxNQUFBQSxVQUFVLEdBQUdBLFVBQVUsR0FBQyxJQUF4QjtBQUNBLFVBQUlDLFlBQVksR0FBRyxHQUFuQjtBQUNBLFdBQUtSLE1BQUwsR0FBY00sS0FBZDs7QUFDQSxVQUFHLEtBQUtoQixTQUFSLEVBQWtCO0FBQ2QsYUFBS0EsU0FBTCxDQUFlTyxZQUFmLENBQTRCWCxFQUFFLENBQUNZLFdBQS9CLEVBQTRDQyxRQUE1QyxHQUF1RCxLQUFLQyxNQUFMLEdBQVlPLFVBQW5FO0FBQ0g7O0FBQ0RKLE1BQUFBLGFBQWEsQ0FBQ2xCLGlCQUFELENBQWI7QUFDQUEsTUFBQUEsaUJBQWlCLEdBQUd3QixXQUFXLENBQUMsWUFBVztBQUN2QyxZQUFHLEtBQUtULE1BQUwsR0FBWVEsWUFBZixFQUE0QjtBQUN4QixlQUFLUixNQUFMLElBQWFRLFlBQWI7QUFDSCxTQUZELE1BRUs7QUFDRCxlQUFLUixNQUFMLEdBQWMsQ0FBZDtBQUNBUCxVQUFBQSxPQUFPLENBQUNDLGNBQVIsQ0FBdUJnQixJQUF2QixDQUE0QixxQkFBNUIsRUFBbUQsQ0FBbkQ7QUFDQVAsVUFBQUEsYUFBYSxDQUFDbEIsaUJBQUQsQ0FBYjtBQUNIOztBQUNELFlBQUcsS0FBS0ssU0FBUixFQUFrQjtBQUNkLGVBQUtBLFNBQUwsQ0FBZU8sWUFBZixDQUE0QlgsRUFBRSxDQUFDWSxXQUEvQixFQUE0Q0MsUUFBNUMsR0FBdUQsS0FBS0MsTUFBTCxHQUFZTyxVQUFuRTtBQUNIO0FBQ0osT0FYK0IsQ0FXOUJJLElBWDhCLENBV3pCLElBWHlCLENBQUQsRUFXakJILFlBWGlCLENBQS9CO0FBWUgsS0FyQkQsTUFxQks7QUFBQztBQUNGTCxNQUFBQSxhQUFhLENBQUNsQixpQkFBRCxDQUFiO0FBQ0g7QUFDSixHQW5ESSxDQXFETDs7QUFyREssQ0FBVCIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGNvdW50RG93bkludGVydmFsO1xyXG5jYy5DbGFzcyh7XHJcbiAgICBleHRlbmRzOiBjYy5Db21wb25lbnQsXHJcblxyXG4gICAgcHJvcGVydGllczoge1xyXG4gICAgICAgIGNsb2NrTm9kZTpjYy5Ob2RlXHJcbiAgICB9LFxyXG5cclxuICAgIC8vIExJRkUtQ1lDTEUgQ0FMTEJBQ0tTOlxyXG5cclxuICAgIG9uTG9hZCAoKSB7XHJcbiAgICAgICAgLy/ms6jlhoznm5HlkKzkuovku7ZcclxuICAgICAgICBhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLm9uKFwidXBkYXRlQ29tcGV0aXRpb25UaW1lXCIsIHRoaXMudXBkYXRlVGltZSx0aGlzKTtcclxuICAgICAgICB0aGlzLmNsb2NrTm9kZS5nZXRDb21wb25lbnQoY2MuUHJvZ3Jlc3NCYXIpLnByb2dyZXNzID0gMTtcclxuICAgICAgICB0aGlzLl9jb3VudCA9IDA7XHJcbiAgICB9LFxyXG5cclxuICAgIG9uRGVzdHJveSAoKSB7XHJcbiAgICAgICAvL+WIoOmZpOebkeWQrOS6i+S7tlxyXG4gICAgICAgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5vZmYoXCJ1cGRhdGVDb21wZXRpdGlvblRpbWVcIiwgdGhpcy51cGRhdGVUaW1lLHRoaXMpO1xyXG4gICAgICAgY2xlYXJJbnRlcnZhbChjb3VudERvd25JbnRlcnZhbCk7XHJcbiAgICB9LFxyXG5cclxuICAgIHN0YXJ0ICgpIHtcclxuXHJcbiAgICB9LFxyXG5cclxuICAgIHVwZGF0ZVRpbWUodHlwZSxjb3VudCx0b3RhbGNvdW50KXtcclxuICAgICAgICBpZih0eXBlPT0xKXsvL+W8gOWni+WAkuiuoeaXtlxyXG4gICAgICAgICAgICBjb3VudCA9IGNvdW50KjEwMDA7XHJcbiAgICAgICAgICAgIHRvdGFsY291bnQgPSB0b3RhbGNvdW50KjEwMDA7XHJcbiAgICAgICAgICAgIGxldCBkdXJhdGlvbnRpbWUgPSAxMDA7XHJcbiAgICAgICAgICAgIHRoaXMuX2NvdW50ID0gY291bnQ7XHJcbiAgICAgICAgICAgIGlmKHRoaXMuY2xvY2tOb2RlKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuY2xvY2tOb2RlLmdldENvbXBvbmVudChjYy5Qcm9ncmVzc0JhcikucHJvZ3Jlc3MgPSB0aGlzLl9jb3VudC90b3RhbGNvdW50O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGNsZWFySW50ZXJ2YWwoY291bnREb3duSW50ZXJ2YWwpO1xyXG4gICAgICAgICAgICBjb3VudERvd25JbnRlcnZhbCA9IHNldEludGVydmFsKGZ1bmN0aW9uKCkge1xyXG4gICAgICAgICAgICAgICAgaWYodGhpcy5fY291bnQ+ZHVyYXRpb250aW1lKXtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLl9jb3VudC09ZHVyYXRpb250aW1lO1xyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5fY291bnQgPSAwO1xyXG4gICAgICAgICAgICAgICAgICAgIGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uZW1pdChcImNvbXBldGl0aW9uR2FtZU92ZXJcIiwgMik7XHJcbiAgICAgICAgICAgICAgICAgICAgY2xlYXJJbnRlcnZhbChjb3VudERvd25JbnRlcnZhbCk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBpZih0aGlzLmNsb2NrTm9kZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jbG9ja05vZGUuZ2V0Q29tcG9uZW50KGNjLlByb2dyZXNzQmFyKS5wcm9ncmVzcyA9IHRoaXMuX2NvdW50L3RvdGFsY291bnQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSwgZHVyYXRpb250aW1lKTtcclxuICAgICAgICB9ZWxzZXsvL+WFs+mXreWAkuiuoeaXtlxyXG4gICAgICAgICAgICBjbGVhckludGVydmFsKGNvdW50RG93bkludGVydmFsKTtcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgLy8gdXBkYXRlIChkdCkge30sXHJcbn0pO1xyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/ad/qqAppBox.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '7f232spqwBHIq9QaGgCxceY', 'qqAppBox');
// gameComon/scripts/ad/qqAppBox.js

"use strict";

var QQAppBOX = cc.Class({
  "extends": cc.Component,
  properties: {},
  ctor: function ctor() {
    this.instance = null;
  },
  statics: {
    create: function create(data) {
      if (!this.instance) {
        this.instance = new QQAppBOX();
        this.instance.initWithData(data);
        return this.instance;
      }
    }
  },
  initWithData: function initWithData(data) {
    this.boxId = '';

    if (cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'QQ') {
      //QQ  
      var res = qq.getSystemInfoSync();
      this.width = res.windowWidth;
      this.height = res.windowHeight; // var Version2 = util.compareVersion(res.SDKVersion,"1.7.1");
      // if(Version2 > 0){

      this.boxId = "686b9ffc40992b21d352e841f3bb2085";

      if (appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.boxId && appGame.gameServerRoom.adConfig.boxId.QQ) {
        this.boxId = appGame.gameServerRoom.adConfig.boxId.QQ.adUnitId;
      }

      this.globalData = {
        appbox: qq.createAppBox({
          adUnitId: this.boxId
        })
      };
      httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
        title: '广告盒子',
        content: '创建成功',
        desc: this.boxId
      }, function () {}); // }else{
      //     httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:'广告盒子',content:'基础库版本太低不创建广告盒子',desc:''},function(){})
      // }    
    }
  },
  playBox: function playBox(show) {
    var _this = this;

    if (this.globalData && this.globalData.appbox) {
      if (show) {
        this.globalData.appbox.load().then(function () {
          _this.globalData.appbox.show();

          httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
            title: '广告盒子',
            content: '展示成功',
            desc: _this.boxId
          }, function () {});
        });
      } else {
        this.globalData.appbox.destroy();
        httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
          title: '广告盒子',
          content: '隐藏',
          desc: this.boxId
        }, function () {});
      }
    }
  }
});
module.exports = QQAppBOX;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFxhZFxccXFBcHBCb3guanMiXSwibmFtZXMiOlsiUVFBcHBCT1giLCJjYyIsIkNsYXNzIiwiQ29tcG9uZW50IiwicHJvcGVydGllcyIsImN0b3IiLCJpbnN0YW5jZSIsInN0YXRpY3MiLCJjcmVhdGUiLCJkYXRhIiwiaW5pdFdpdGhEYXRhIiwiYm94SWQiLCJzeXMiLCJwbGF0Zm9ybSIsIldFQ0hBVF9HQU1FIiwiYXBwR2FtZSIsInJlcyIsInFxIiwiZ2V0U3lzdGVtSW5mb1N5bmMiLCJ3aWR0aCIsIndpbmRvd1dpZHRoIiwiaGVpZ2h0Iiwid2luZG93SGVpZ2h0IiwiZ2FtZVNlcnZlclJvb20iLCJhZENvbmZpZyIsIlFRIiwiYWRVbml0SWQiLCJnbG9iYWxEYXRhIiwiYXBwYm94IiwiY3JlYXRlQXBwQm94IiwiaHR0cFV0aWxzIiwiaHR0cFBvc3QiLCJjb25zdHMiLCJIVFRQX1JFQ09SRF9TRVJWRVIiLCJ0aXRsZSIsImNvbnRlbnQiLCJkZXNjIiwicGxheUJveCIsInNob3ciLCJsb2FkIiwidGhlbiIsImRlc3Ryb3kiLCJtb2R1bGUiLCJleHBvcnRzIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLFFBQVEsR0FBR0MsRUFBRSxDQUFDQyxLQUFILENBQVM7QUFDcEIsYUFBU0QsRUFBRSxDQUFDRSxTQURRO0FBR3BCQyxFQUFBQSxVQUFVLEVBQUUsRUFIUTtBQUtwQkMsRUFBQUEsSUFMb0Isa0JBS2Q7QUFDRixTQUFLQyxRQUFMLEdBQWdCLElBQWhCO0FBQ0gsR0FQbUI7QUFRcEJDLEVBQUFBLE9BQU8sRUFBRTtBQUNMQyxJQUFBQSxNQUFNLEVBQUUsZ0JBQVVDLElBQVYsRUFBZ0I7QUFDcEIsVUFBRyxDQUFDLEtBQUtILFFBQVQsRUFBa0I7QUFDZCxhQUFLQSxRQUFMLEdBQWdCLElBQUlOLFFBQUosRUFBaEI7QUFDQSxhQUFLTSxRQUFMLENBQWNJLFlBQWQsQ0FBMkJELElBQTNC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XHJcbiAgICBleHRlbmRzOiBjYy5Db21wb25lbnQsXHJcblxyXG4gICAgcHJvcGVydGllczoge1xyXG4gICAgfSxcclxuICAgIGN0b3IoKXtcclxuICAgICAgICB0aGlzLmluc3RhbmNlID0gbnVsbDtcclxuICAgIH0sXHJcbiAgICBzdGF0aWNzOiB7XHJcbiAgICAgICAgY3JlYXRlOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgICAgICBpZighdGhpcy5pbnN0YW5jZSl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluc3RhbmNlID0gbmV3IFFRQXBwQk9YKCk7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluc3RhbmNlLmluaXRXaXRoRGF0YShkYXRhKTtcclxuICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmluc3RhbmNlO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIGluaXRXaXRoRGF0YTogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICB0aGlzLmJveElkID0gJyc7XHJcbiAgICAgICAgaWYoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5XRUNIQVRfR0FNRSAmJmFwcEdhbWUucGxhdGZvcm0gPT0gJ1FRJyl7IC8vUVEgIFxyXG4gICAgICAgICAgICBjb25zdCByZXMgPSBxcS5nZXRTeXN0ZW1JbmZvU3luYygpO1xyXG4gICAgICAgICAgICB0aGlzLndpZHRoID0gcmVzLndpbmRvd1dpZHRoO1xyXG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IHJlcy53aW5kb3dIZWlnaHQ7XHJcbiAgICAgICAgICAgIC8vIHZhciBWZXJzaW9uMiA9IHV0aWwuY29tcGFyZVZlcnNpb24ocmVzLlNES1ZlcnNpb24sXCIxLjcuMVwiKTtcclxuICAgICAgICAgICAgLy8gaWYoVmVyc2lvbjIgPiAwKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuYm94SWQgPSBcIjY4NmI5ZmZjNDA5OTJiMjFkMzUyZTg0MWYzYmIyMDg1XCI7XHJcbiAgICAgICAgICAgICAgICBpZihhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmFkQ29uZmlnICYmIGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcuYm94SWQgJiYgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy5ib3hJZC5RUSl7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5ib3hJZCA9IGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcuYm94SWQuUVEuYWRVbml0SWQ7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICAgICAgYXBwYm94OnFxLmNyZWF0ZUFwcEJveCh7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGFkVW5pdElkOiB0aGlzLmJveElkXHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon5bm/5ZGK55uS5a2QJyxjb250ZW50OifliJvlu7rmiJDlip8nLGRlc2M6dGhpcy5ib3hJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAvLyB9ZWxzZXtcclxuICAgICAgICAgICAgLy8gICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon5bm/5ZGK55uS5a2QJyxjb250ZW50Oifln7rnoYDlupPniYjmnKzlpKrkvY7kuI3liJvlu7rlub/lkYrnm5LlrZAnLGRlc2M6Jyd9LGZ1bmN0aW9uKCl7fSlcclxuICAgICAgICAgICAgLy8gfSAgICBcclxuICAgICAgICB9ICAgICAgIFxyXG4gICAgfSxcclxuICAgIHBsYXlCb3g6ZnVuY3Rpb24oc2hvdyl7XHJcbiAgICAgICAgaWYodGhpcy5nbG9iYWxEYXRhICYmIHRoaXMuZ2xvYmFsRGF0YS5hcHBib3gpe1xyXG4gICAgICAgICAgICBpZihzaG93KXtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsRGF0YS5hcHBib3gubG9hZCgpLnRoZW4oKCk9PntcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbERhdGEuYXBwYm94LnNob3coKTtcclxuICAgICAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+W5v+WRiuebkuWtkCcsY29udGVudDon5bGV56S65oiQ5YqfJyxkZXNjOnRoaXMuYm94SWR9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbERhdGEuYXBwYm94LmRlc3Ryb3koKTtcclxuICAgICAgICAgICAgICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon5bm/5ZGK55uS5a2QJyxjb250ZW50OifpmpDol48nLGRlc2M6dGhpcy5ib3hJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG59KTtcclxubW9kdWxlLmV4cG9ydHMgPSBRUUFwcEJPWDsiXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/ad/wxgridAd.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '27d3buB6l5GlarYvR/+7For', 'wxgridAd');
// gameComon/scripts/ad/wxgridAd.js

"use strict";

var GridAd = cc.Class({
  properties: {},
  ctor: function ctor() {
    this.instance = null;
  },
  statics: {
    create: function create(data) {
      if (!this.instance) {
        this.instance = new GridAd();
        this.instance.initWithData(data);
        return this.instance;
      }
    }
  },
  initWithData: function initWithData(data) {
    this.targetBannerAdWidth = 200;

    if (cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'WX') {
      var _wx$getSystemInfoSync = wx.getSystemInfoSync(),
          windowWidth = _wx$getSystemInfoSync.windowWidth,
          windowHeight = _wx$getSystemInfoSync.windowHeight;

      this.width = windowWidth;
      this.height = windowHeight;
      this.adId = 'adunit-144bcfc4f8f3cefe';

      if (appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.gridId && appGame.gameServerRoom.adConfig.gridId.WX) {
        this.adId = appGame.gameServerRoom.adConfig.gridId.WX.adUnitId;
      }

      console.log("grid 第一次创建");
      this.globalData = {
        gridAd: wx.createGridAd({
          adUnitId: this.adId,
          adIntervals: 30,
          adTheme: 'white',
          gridCount: 5,
          style: {
            // left: 0,
            // top: 0,
            // width: 330,
            width: this.targetBannerAdWidth,
            top: 0,
            // 根据系统约定尺寸计算出广告高度
            left: (this.width - this.targetBannerAdWidth) / 2,
            opacity: 0.8
          }
        })
      };
      httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
        title: '格子广告',
        content: '创建成功',
        desc: this.adId
      }, function () {});
      this.refreshSize();
    }
  },
  playGridAd: function playGridAd(isShow) {
    var _this = this;

    if (this.globalData && this.globalData.gridAd) {
      if (isShow) {
        console.log("播放盒子广告");
        this.globalData.gridAd.show().then(function () {
          console.log("盒子广告展示成功");
          httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
            title: '格子广告',
            content: '展示成功',
            desc: _this.adId
          }, function () {});
        });
      } else {
        httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
          title: '格子广告',
          content: '隐藏',
          desc: this.adId
        }, function () {});
        this.globalData.gridAd.hide();
      }
    }
  },
  refreshSize: function refreshSize() {
    var _this2 = this;

    // 尺寸调整时会触发回调，通过回调拿到的广告真实宽高再进行定位适配处理
    // 注意：如果在回调里再次调整尺寸，要确保不要触发死循环！！！
    if (this.globalData && this.globalData.gridAd) {
      if (cc.sys.platform == cc.sys.WECHAT_GAME) {
        //头条平台
        this.globalData.gridAd.onResize(function (size) {
          console.log("grid shezhi大小" + _this2.height + "   " + _this2.width);
          _this2.globalData.gridAd.style.top = 0;
          _this2.globalData.gridAd.style.left = (_this2.width - size.width) / 2;
        });
      }

      this.globalData.gridAd.onError(function (listener) {
        console.log("盒子广告出错");
        httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
          title: '格子广告',
          content: _this2.adId,
          desc: listener.errCode + listener.errMsg
        }, function () {});
      });
    }
  }
});
module.exports = GridAd;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFxhZFxcd3hncmlkQWQuanMiXSwibmFtZXMiOlsiR3JpZEFkIiwiY2MiLCJDbGFzcyIsInByb3BlcnRpZXMiLCJjdG9yIiwiaW5zdGFuY2UiLCJzdGF0aWNzIiwiY3JlYXRlIiwiZGF0YSIsImluaXRXaXRoRGF0YSIsInRhcmdldEJhbm5lckFkV2lkdGgiLCJzeXMiLCJwbGF0Zm9ybSIsIldFQ0hBVF9HQU1FIiwiYXBwR2FtZSIsInd4IiwiZ2V0U3lzdGVtSW5mb1N5bmMiLCJ3aW5kb3dXaWR0aCIsIndpbmRvd0hlaWdodCIsIndpZHRoIiwiaGVpZ2h0IiwiYWRJZCIsImdhbWVTZXJ2ZXJSb29tIiwiYWRDb25maWciLCJncmlkSWQiLCJXWCIsImFkVW5pdElkIiwiY29uc29sZSIsImxvZyIsImdsb2JhbERhdGEiLCJncmlkQWQiLCJjcmVhdGVHcmlkQWQiLCJhZEludGVydmFscyIsImFkVGhlbWUiLCJncmlkQ291bnQiLCJzdHlsZSIsInRvcCIsImxlZnQiLCJvcGFjaXR5IiwiaHR0cFV0aWxzIiwiaHR0cFBvc3QiLCJjb25zdHMiLCJIVFRQX1JFQ09SRF9TRVJWRVIiLCJ0aXRsZSIsImNvbnRlbnQiLCJkZXNjIiwicmVmcmVzaFNpemUiLCJwbGF5R3JpZEFkIiwiaXNTaG93Iiwic2hvdyIsInRoZW4iLCJoaWRlIiwib25SZXNpemUiLCJzaXplIiwib25FcnJvciIsImxpc3RlbmVyIiwiZXJyQ29kZSIsImVyck1zZyIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsTUFBTSxHQUFHQyxFQUFFLENBQUNDLEtBQUgsQ0FBUztBQUNsQkMsRUFBQUEsVUFBVSxFQUFFLEVBRE07QUFHbEJDLEVBQUFBLElBSGtCLGtCQUdYO0FBQ0gsU0FBS0MsUUFBTCxHQUFnQixJQUFoQjtBQUNILEdBTGlCO0FBTWxCQyxFQUFBQSxPQUFPLEVBQUU7QUFDTEMsSUFBQUEs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QUksQ0FBQ2xCLEtBQUwsR0FBYWtDLElBQUksQ0FBQ2xDLEtBQW5CLElBQTRCLENBQWhFO0FBQ0gsU0FKRDtBQUtIOztBQUNELFdBQUtVLFVBQUwsQ0FBZ0JDLE1BQWhCLENBQXVCd0IsT0FBdkIsQ0FBK0IsVUFBQ0MsUUFBRCxFQUFjO0FBQ3pDNUIsUUFBQUEsT0FBTyxDQUFDQyxHQUFSLENBQVksUUFBWjtBQUNBVyxRQUFBQSxTQUFTLENBQUNDLFFBQVYsQ0FBbUJDLE1BQU0sQ0FBQ0Msa0JBQTFCLEVBQTZDO0FBQUNDLFVBQUFBLEtBQUssRUFBQyxNQUFQO0FBQWNDLFVBQUFBLE9BQU8sRUFBQyxNQUFJLENBQUN2QixJQUEzQjtBQUFnQ3dCLFVBQUFBLElBQUksRUFBQ1UsUUFBUSxDQUFDQyxPQUFULEdBQWlCRCxRQUFRLENBQUNFO0FBQS9ELFNBQTdDLEVBQW9ILFlBQVUsQ0FDN0gsQ0FERDtBQUVILE9BSkQ7QUFLSDtBQUNKO0FBakZpQixDQUFULENBQWI7QUFvRkFDLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjNELE1BQWpCIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgR3JpZEFkID0gY2MuQ2xhc3Moe1xyXG4gICAgcHJvcGVydGllczoge1xyXG4gICAgfSxcclxuICAgIGN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG51bGw7XHJcbiAgICB9LFxyXG4gICAgc3RhdGljczoge1xyXG4gICAgICAgIGNyZWF0ZTogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluc3RhbmNlID0gbmV3IEdyaWRBZCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5pbml0V2l0aERhdGEoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBpbml0V2l0aERhdGE6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy50YXJnZXRCYW5uZXJBZFdpZHRoID0gMjAwO1xyXG4gICAgICAgIGlmIChjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLldFQ0hBVF9HQU1FICYmIGFwcEdhbWUucGxhdGZvcm0gPT0gJ1dYJykge1xyXG4gICAgICAgICAgICBjb25zdCB7IHdpbmRvd1dpZHRoLCB3aW5kb3dIZWlnaHQgfSA9IHd4LmdldFN5c3RlbUluZm9TeW5jKCk7XHJcbiAgICAgICAgICAgIHRoaXMud2lkdGggPSB3aW5kb3dXaWR0aDtcclxuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSB3aW5kb3dIZWlnaHQ7XHJcbiAgICAgICAgICAgIHRoaXMuYWRJZCA9ICdhZHVuaXQtMTQ0YmNmYzRmOGYzY2VmZSc7XHJcbiAgICAgICAgICAgIGlmKGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcgJiYgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy5ncmlkSWQgJiYgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy5ncmlkSWQuV1gpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZElkID0gYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy5ncmlkSWQuV1guYWRVbml0SWQ7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc29sZS5sb2coXCJncmlkIOesrOS4gOasoeWIm+W7ulwiKVxyXG4gICAgICAgICAgICB0aGlzLmdsb2JhbERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICBncmlkQWQ6IHd4LmNyZWF0ZUdyaWRBZCh7XHJcbiAgICAgICAgICAgICAgICAgICAgYWRVbml0SWQ6IHRoaXMuYWRJZCxcclxuICAgICAgICAgICAgICAgICAgICBhZEludGVydmFsczozMCxcclxuICAgICAgICAgICAgICAgICAgICBhZFRoZW1lOiAnd2hpdGUnLFxyXG4gICAgICAgICAgICAgICAgICAgIGdyaWRDb3VudDogNSxcclxuICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyBsZWZ0OiAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0b3A6IDAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIHdpZHRoOiAzMzAsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdpZHRoOiB0aGlzLnRhcmdldEJhbm5lckFkV2lkdGgsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRvcDogMCwgLy8g5qC55o2u57O757uf57qm5a6a5bC65a+46K6h566X5Ye65bm/5ZGK6auY5bqmXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGxlZnQ6ICh0aGlzLndpZHRoIC0gdGhpcy50YXJnZXRCYW5uZXJBZFdpZHRoKSAvIDIsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG9wYWNpdHk6IDAuOFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon5qC85a2Q5bm/5ZGKJyxjb250ZW50OifliJvlu7rmiJDlip8nLGRlc2M6dGhpcy5hZElkfSxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgdGhpcy5yZWZyZXNoU2l6ZSgpO1xyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBwbGF5R3JpZEFkOiBmdW5jdGlvbiAoaXNTaG93KSB7XHJcbiAgICAgICAgaWYgKHRoaXMuZ2xvYmFsRGF0YSAmJiB0aGlzLmdsb2JhbERhdGEuZ3JpZEFkKSB7XHJcbiAgICAgICAgICAgIGlmKGlzU2hvdyl7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuaSreaUvuebkuWtkOW5v+WRilwiKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsRGF0YS5ncmlkQWQuc2hvdygpLnRoZW4oKCkgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi55uS5a2Q5bm/5ZGK5bGV56S65oiQ5YqfXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon5qC85a2Q5bm/5ZGKJyxjb250ZW50OiflsZXnpLrmiJDlip8nLGRlc2M6dGhpcy5hZElkfSxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOifmoLzlrZDlub/lkYonLGNvbnRlbnQ6J+makOiXjycsZGVzYzp0aGlzLmFkSWR9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsRGF0YS5ncmlkQWQuaGlkZSgpO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxuICAgIHJlZnJlc2hTaXplKCl7XHJcbiAgICAgICAgLy8g5bC65a+46LCD5pW05pe25Lya6Kem5Y+R5Zue6LCD77yM6YCa6L+H5Zue6LCD5ou/5Yiw55qE5bm/5ZGK55yf5a6e5a696auY5YaN6L+b6KGM5a6a5L2N6YCC6YWN5aSE55CGXHJcbiAgICAgICAgLy8g5rOo5oSP77ya5aaC5p6c5Zyo5Zue6LCD6YeM5YaN5qyh6LCD5pW05bC65a+477yM6KaB56Gu5L+d5LiN6KaB6Kem5Y+R5q275b6q546v77yB77yB77yBXHJcbiAgICAgICAgaWYodGhpcy5nbG9iYWxEYXRhICYmIHRoaXMuZ2xvYmFsRGF0YS5ncmlkQWQpe1xyXG4gICAgICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLldFQ0hBVF9HQU1FKXsgLy/lpLTmnaHlubPlj7BcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsRGF0YS5ncmlkQWQub25SZXNpemUoKHNpemUpID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcImdyaWQgc2hlemhp5aSn5bCPXCIrdGhpcy5oZWlnaHQrXCIgICBcIit0aGlzLndpZHRoKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsRGF0YS5ncmlkQWQuc3R5bGUudG9wID0gMDtcclxuICAgICAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbERhdGEuZ3JpZEFkLnN0eWxlLmxlZnQgPSAodGhpcy53aWR0aCAtIHNpemUud2lkdGgpIC8gMjtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIHRoaXMuZ2xvYmFsRGF0YS5ncmlkQWQub25FcnJvcigobGlzdGVuZXIpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi55uS5a2Q5bm/5ZGK5Ye66ZSZXCIpXHJcbiAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+agvOWtkOW5v+WRiicsY29udGVudDp0aGlzLmFkSWQsZGVzYzpsaXN0ZW5lci5lcnJDb2RlK2xpc3RlbmVyLmVyck1zZ30sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICB9LFxyXG5cclxufSk7XHJcbm1vZHVsZS5leHBvcnRzID0gR3JpZEFkO1xyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/dialogBox.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'b7b24I8RWhMxIogfhVLnP+c', 'dialogBox');
// gameComon/scripts/dialogBox.js

"use strict";

/**
 * 弹出对话框。为了避免逻辑相互影响，对话框消失即remove，不持续存在于scene。
 */
var DialogBox = cc.Class({
  "extends": cc.Component,
  properties: {
    titleLabel: cc.Label,
    contentLabel: cc.Label,
    confirmButton: cc.Button,
    cancelButton: cc.Button,
    okButton: cc.Button,
    confirmLabel: cc.Label,
    cancelLabel: cc.Label,
    okLabel: cc.Label,
    confirmCallback: null,
    cancelCallback: null
  },
  onLoad: function onLoad() {
    this.confirmButton.node.active = false;
    this.okButton.node.active = false;
    this.cancelButton.node.active = false;
    this.confirmButton.node.on(cc.Node.EventType.TOUCH_END, this.onConfirmBtnClicked, this);
    this.cancelButton.node.on(cc.Node.EventType.TOUCH_END, this.onCancelBtnClicked, this);
    this.okButton.node.on(cc.Node.EventType.TOUCH_END, this.onOkBtnClicked, this);
  },
  onConfirmBtnClicked: function onConfirmBtnClicked() {
    this.confirmCallback && this.confirmCallback();
    this.hide();
  },
  onCancelBtnClicked: function onCancelBtnClicked() {
    this.cancelCallback && this.cancelCallback();
    this.hide();
  },
  onOkBtnClicked: function onOkBtnClicked() {
    this.onConfirmBtnClicked();
    this.hide();
  },

  /**
   * @param opts
   * title(可选):标题
   * content:内容
   * confirmCB(可选):确定回调，和cancelCB必并存
   * cancelCB(可选):取消回调，和confirmCB必并存
   * okCB(可选):确定回调，和confirmCB及cancelCB不并存。根据是否传入okCB隐藏或显示三个按钮
   */
  show: function show(opts) {
    opts = opts || {}; //if (opts.title) {
    //    this.titleLabel.string = opts.title;
    //}

    if (opts.content) {
      this.contentLabel.string = opts.content;
    }

    this.confirmLabel.string = opts.confirmLabel || '';
    this.cancelLabel.string = opts.cancelLabel || '';
    this.okLabel.string = opts.okLabel || '';
    this.confirmCallback = opts.confirmCB || opts.okCB;
    this.cancelCallback = opts.cancelCB;
    this.okButton.node.active = !!opts.okCB;
    this.confirmButton.node.active = !opts.okCB;
    this.cancelButton.node.active = !opts.okCB;
  },
  hide: function hide() {
    this.node.removeFromParent();
  }
});
module.exports = DialogBox;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFxkaWFsb2dCb3guanMiXSwibmFtZXMiOlsiRGlhbG9nQm94IiwiY2MiLCJDbGFzcyIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJ0aXRsZUxhYmVsIiwiTGFiZWwiLCJjb250ZW50TGFiZWwiLCJjb25maXJtQnV0dG9uIiwiQnV0dG9uIiwiY2FuY2VsQnV0dG9uIiwib2tCdXR0b24iLCJjb25maXJtTGFiZWwiLCJjYW5jZWxMYWJlbCIsIm9rTGFiZWwiLCJjb25maXJtQ2FsbGJhY2siLCJjYW5jZWxDYWxsYmFjayIsIm9uTG9hZCIsIm5vZGUiLCJhY3RpdmUiLCJvbiIsIk5vZGUiLCJFdmVudFR5cGUiLCJUT1VDSF9FTkQiLCJvbkNvbmZpcm1CdG5DbGlja2VkIiwib25DYW5jZWxCdG5DbGlja2VkIiwib25Pa0J0bkNsaWNrZWQiLCJoaWRlIiwic2hvdyIsIm9wdHMiLCJjb250ZW50Iiwic3RyaW5nIiwiY29uZmlybUNCIiwib2tDQiIsImNhbmNlbENCIiwicmVtb3ZlRnJvbVBhcmVudCIsIm1vZHVsZSIsImV4cG9ydHMiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7QUFDQTtBQUNBO0FBQ0EsSUFBSUEsU0FBUyxHQUFHQyxFQUFFLENBQUNDLEtBQUgsQ0FBUztBQUNyQixhQUFTRCxFQUFFLENBQUNFLFNBRFM7QUFHckJDLEVBQUFBLFVBQVUsRUFBRTtBQUNSQyxJQUFBQSxVQUFVLEVBQUVKLEVBQUUsQ0FBQ0ssS0FEUDtBQUVSQyxJQUFBQSxZQUFZLEVBQUVOLEVBQUUsQ0FBQ0ssS0FGVDtBQUdSRSxJQUFBQSxhQUFhLEVBQUVQLEVBQUUsQ0FBQ1EsTUFIVjtBQUlSQyxJQUFBQSxZQUFZLEVBQUVULEVBQUUsQ0FBQ1EsTUFKVDtBQUtSRSxJQUFBQSxRQUFRLEVBQUVWLEVBQUUsQ0FBQ1EsTUFMTDtBQU1SRyxJQUFBQSxZQUFZLEVBQUNYLEVBQUUsQ0FBQ0ssS0FOUjtBQU9STyxJQUFB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ckVvQixDQUFULENBQWhCO0FBd0VBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJyQyxTQUFqQiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiDlvLnlh7rlr7nor53moYbjgILkuLrkuobpgb/lhY3pgLvovpHnm7jkupLlvbHlk43vvIzlr7nor53moYbmtojlpLHljbNyZW1vdmXvvIzkuI3mjIHnu63lrZjlnKjkuo5zY2VuZeOAglxuICovXG52YXIgRGlhbG9nQm94ID0gY2MuQ2xhc3Moe1xuICAgIGV4dGVuZHM6IGNjLkNvbXBvbmVudCxcblxuICAgIHByb3BlcnRpZXM6IHtcbiAgICAgICAgdGl0bGVMYWJlbDogY2MuTGFiZWwsXG4gICAgICAgIGNvbnRlbnRMYWJlbDogY2MuTGFiZWwsXG4gICAgICAgIGNvbmZpcm1CdXR0b246IGNjLkJ1dHRvbixcbiAgICAgICAgY2FuY2VsQnV0dG9uOiBjYy5CdXR0b24sXG4gICAgICAgIG9rQnV0dG9uOiBjYy5CdXR0b24sXG4gICAgICAgIGNvbmZpcm1MYWJlbDpjYy5MYWJlbCxcbiAgICAgICAgY2FuY2VsTGFiZWw6Y2MuTGFiZWwsXG4gICAgICAgIG9rTGFiZWw6Y2MuTGFiZWwsXG4gICAgICAgIGNvbmZpcm1DYWxsYmFjazogbnVsbCxcbiAgICAgICAgY2FuY2VsQ2FsbGJhY2s6IG51bGxcbiAgICB9LFxuXG4gICAgb25Mb2FkKCl7XG4gICAgICAgIHRoaXMuY29uZmlybUJ1dHRvbi5ub2RlLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICB0aGlzLm9rQnV0dG9uLm5vZGUuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgIHRoaXMuY2FuY2VsQnV0dG9uLm5vZGUuYWN0aXZlID0gZmFsc2U7XG5cbiAgICAgICAgdGhpcy5jb25maXJtQnV0dG9uLm5vZGUub24oY2MuTm9kZS5FdmVudFR5cGUuVE9VQ0hfRU5ELHRoaXMub25Db25maXJtQnRuQ2xpY2tlZCx0aGlzKTtcbiAgICAgICAgdGhpcy5jYW5jZWxCdXR0b24ubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsdGhpcy5vbkNhbmNlbEJ0bkNsaWNrZWQsdGhpcyk7XG4gICAgICAgIHRoaXMub2tCdXR0b24ubm9kZS5vbihjYy5Ob2RlLkV2ZW50VHlwZS5UT1VDSF9FTkQsdGhpcy5vbk9rQnRuQ2xpY2tlZCx0aGlzKTtcbiAgICB9LFxuXG4gICAgb25Db25maXJtQnRuQ2xpY2tlZDogZnVuY3Rpb24gKCkge1xuICAgICAgICB0aGlzLmNvbmZpcm1DYWxsYmFjayAmJiB0aGlzLmNvbmZpcm1DYWxsYmFjaygpO1xuICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICB9LFxuXG4gICAgb25DYW5jZWxCdG5DbGlja2VkOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIHRoaXMuY2FuY2VsQ2FsbGJhY2sgJiYgdGhpcy5jYW5jZWxDYWxsYmFjaygpO1xuICAgICAgICB0aGlzLmhpZGUoKTtcbiAgICB9LFxuXG4gICAgb25Pa0J0bkNsaWNrZWQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5vbkNvbmZpcm1CdG5DbGlja2VkKCk7XG4gICAgICAgIHRoaXMuaGlkZSgpO1xuICAgIH0sXG5cbiAgICAvKipcbiAgICAgKiBAcGFyYW0gb3B0c1xuICAgICAqIHRpdGxlKOWPr+mAiSk65qCH6aKYXG4gICAgICogY29udGVudDrlhoXlrrlcbiAgICAgKiBjb25maXJtQ0Io5Y+v6YCJKTrnoa7lrprlm57osIPvvIzlkoxjYW5jZWxDQuW/heW5tuWtmFxuICAgICAqIGNhbmNlbENCKOWPr+mAiSk65Y+W5raI5Zue6LCD77yM5ZKMY29uZmlybUNC5b+F5bm25a2YXG4gICAgICogb2tDQijlj6/pgIkpOuehruWumuWbnuiwg++8jOWSjGNvbmZpcm1DQuWPimNhbmNlbENC5LiN5bm25a2Y44CC5qC55o2u5piv5ZCm5Lyg5YWlb2tDQumakOiXj+aIluaYvuekuuS4ieS4quaMiemSrlxuICAgICAqL1xuICAgIHNob3c6IGZ1bmN0aW9uIChvcHRzKSB7XG4gICAgICAgIG9wdHMgPSBvcHRzIHx8IHt9O1xuICAgICAgICAvL2lmIChvcHRzLnRpdGxlKSB7XG4gICAgICAgIC8vICAgIHRoaXMudGl0bGVMYWJlbC5zdHJpbmcgPSBvcHRzLnRpdGxlO1xuICAgICAgICAvL31cbiAgICAgICAgaWYgKG9wdHMuY29udGVudCkge1xuICAgICAgICAgICAgdGhpcy5jb250ZW50TGFiZWwuc3RyaW5nID0gb3B0cy5jb250ZW50O1xuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29uZmlybUxhYmVsLnN0cmluZyA9IG9wdHMuY29uZmlybUxhYmVsfHwnJztcbiAgICAgICAgdGhpcy5jYW5jZWxMYWJlbC5zdHJpbmcgPSBvcHRzLmNhbmNlbExhYmVsfHwnJztcbiAgICAgICAgdGhpcy5va0xhYmVsLnN0cmluZyA9IG9wdHMub2tMYWJlbHx8Jyc7XG4gICAgICAgIHRoaXMuY29uZmlybUNhbGxiYWNrID0gb3B0cy5jb25maXJtQ0IgfHwgb3B0cy5va0NCO1xuICAgICAgICB0aGlzLmNhbmNlbENhbGxiYWNrID0gb3B0cy5jYW5jZWxDQjtcbiAgICAgICAgdGhpcy5va0J1dHRvbi5ub2RlLmFjdGl2ZSA9ICEhb3B0cy5va0NCO1xuICAgICAgICB0aGlzLmNvbmZpcm1CdXR0b24ubm9kZS5hY3RpdmUgPSAhb3B0cy5va0NCO1xuICAgICAgICB0aGlzLmNhbmNlbEJ1dHRvbi5ub2RlLmFjdGl2ZSA9ICFvcHRzLm9rQ0I7XG4gICAgfSxcblxuICAgIGhpZGU6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgdGhpcy5ub2RlLnJlbW92ZUZyb21QYXJlbnQoKTtcbiAgICB9XG59KTtcblxubW9kdWxlLmV4cG9ydHMgPSBEaWFsb2dCb3g7Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/model/async.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}(function (process,global){
"use strict";
cc._RF.push(module, '35852wUtjRNI6/OdR5fjH33', 'async');
// gameComon/scripts/model/async.js

"use strict";

/*!
 * async
 * https://github.com/caolan/async
 *
 * Copyright 2010-2014 Caolan McMahon
 * Released under the MIT license
 */
(function () {
  var async = {};

  function noop() {} // global on the server, window in the browser


  var root, previous_async;

  if (typeof window == 'object' && this === window) {
    root = window;
  } else if (typeof global == 'object' && this === global) {
    root = global;
  } else {
    root = this;
  }

  if (root != null) {
    previous_async = root.async;
  }

  async.noConflict = function () {
    root.async = previous_async;
    return async;
  };

  function only_once(fn) {
    var called = false;
    return function () {
      if (called) throw new Error("Callback was already called.");
      called = true;
      fn.apply(this, arguments);
    };
  }

  function _once(fn) {
    var called = false;
    return function () {
      if (called) return;
      called = true;
      fn.apply(this, arguments);
    };
  } //// cross-browser compatiblity functions ////


  var _toString = Object.prototype.toString;

  var _isArray = Array.isArray || function (obj) {
    return _toString.call(obj) === '[object Array]';
  };

  function _isArrayLike(arr) {
    return _isArray(arr) || // has a positive integer length property
    typeof arr.length === "number" && arr.length >= 0 && arr.length % 1 === 0;
  }

  function _each(coll, iterator) {
    return _isArrayLike(coll) ? _arrayEach(coll, iterator) : _forEachOf(coll, iterator);
  }

  function _arrayEach(arr, iterator) {
    var index = -1,
        length = arr.length;

    while (++index < length) {
      iterator(arr[index], index, arr);
    }
  }

  function _map(arr, iterator) {
    var index = -1,
        length = arr.length,
        result = Array(length);

    while (++index < length) {
      result[index] = iterator(arr[index], index, arr);
    }

    return result;
  }

  function _range(count) {
    return _map(Array(count), function (v, i) {
      return i;
    });
  }

  function _reduce(arr, iterator, memo) {
    _arrayEach(arr, function (x, i, a) {
      memo = iterator(memo, x, i, a);
    });

    return memo;
  }

  function _forEachOf(object, iterator) {
    _arrayEach(_keys(object), function (key) {
      iterator(object[key], key);
    });
  }

  var _keys = Object.keys || function (obj) {
    var keys = [];

    for (var k in obj) {
      if (obj.hasOwnProperty(k)) {
        keys.push(k);
      }
    }

    return keys;
  };

  function _keyIterator(coll) {
    var i = -1;
    var len;
    var keys;

    if (_isArrayLike(coll)) {
      len = coll.length;
      return function next() {
        i++;
        return i < len ? i : null;
      };
    } else {
      keys = _keys(coll);
      len = keys.length;
      return function next() {
        i++;
        return i < len ? keys[i] : null;
      };
    }
  }

  function _baseSlice(arr, start) {
    start = start || 0;
    var index = -1;
    var length = arr.length;

    if (start) {
      length -= start;
      length = length < 0 ? 0 : length;
    }

    var result = Array(length);

    while (++index < length) {
      result[index] = arr[index + start];
    }

    return result;
  }

  function _withoutIndex(iterator) {
    return function (value, index, callback) {
      return iterator(value, callback);
    };
  } //// exported async module functions ////
  //// nextTick implementation with browser-compatible fallback ////
  // capture the global reference to guard against fakeTimer mocks


  var _setImmediate;

  if (typeof setImmediate === 'function') {
    _setImmediate = setImmediate;
  }

  if (typeof process === 'undefined' || !process.nextTick) {
    if (_setImmediate) {
      async.nextTick = function (fn) {
        // not a direct alias for IE10 compatibility
        _setImmediate(fn);
      };

      async.setImmediate = async.nextTick;
    } else {
      async.nextTick = function (fn) {
        setTimeout(fn, 0);
      };

      async.setImmediate = async.nextTick;
    }
  } else {
    async.nextTick = process.nextTick;

    if (_setImmediate) {
      async.setImmediate = function (fn) {
        // not a direct alias for IE10 compatibility
        _setImmediate(fn);
      };
    } else {
      async.setImmediate = async.nextTick;
    }
  }

  async.forEach = async.each = function (arr, iterator, callback) {
    return async.eachOf(arr, _withoutIndex(iterator), callback);
  };

  async.forEachSeries = async.eachSeries = function (arr, iterator, callback) {
    return async.eachOfSeries(arr, _withoutIndex(iterator), callback);
  };

  async.forEachLimit = async.eachLimit = function (arr, limit, iterator, callback) {
    return _eachOfLimit(limit)(arr, _withoutIndex(iterator), callback);
  };

  async.forEachOf = async.eachOf = function (object, iterator, callback) {
    callback = _once(callback || noop);
    object = object || [];
    var size = _isArrayLike(object) ? object.length : _keys(object).length;
    var completed = 0;

    if (!size) {
      return callback(null);
    }

    _each(object, function (value, key) {
      iterator(object[key], key, only_once(done));
    });

    function done(err) {
      if (err) {
        callback(err);
      } else {
        completed += 1;

        if (completed >= size) {
          callback(null);
        }
      }
    }
  };

  async.forEachOfSeries = async.eachOfSeries = function (obj, iterator, callback) {
    callback = _once(callback || noop);
    obj = obj || [];

    var nextKey = _keyIterator(obj);

    var key = nextKey();

    function iterate() {
      var sync = true;

      if (key === null) {
        return callback(null);
      }

      iterator(obj[key], key, only_once(function (err) {
        if (err) {
          callback(err);
        } else {
          key = nextKey();

          if (key === null) {
            return callback(null);
          } else {
            if (sync) {
              async.nextTick(iterate);
            } else {
              iterate();
            }
          }
        }
      }));
      sync = false;
    }

    iterate();
  };

  async.forEachOfLimit = async.eachOfLimit = function (obj, limit, iterator, callback) {
    _eachOfLimit(limit)(obj, iterator, callback);
  };

  function _eachOfLimit(limit) {
    return function (obj, iterator, callback) {
      callback = _once(callback || noop);
      obj = obj || [];

      var nextKey = _keyIterator(obj);

      if (limit <= 0) {
        return callback(null);
      }

      var done = false;
      var running = 0;
      var errored = false;

      (function replenish() {
        if (done && running <= 0) {
          return callback(null);
        }

        while (running < limit && !errored) {
          var key = nextKey();

          if (key === null) {
            done = true;

            if (running <= 0) {
              callback(null);
            }

            return;
          }

          running += 1;
          iterator(obj[key], key, only_once(function (err) {
            running -= 1;

            if (err) {
              callback(err);
              errored = true;
            } else {
              replenish();
            }
          }));
        }
      })();
    };
  }

  function doParallel(fn) {
    return function (obj, iterator, callback) {
      return fn(async.eachOf, obj, iterator, callback);
    };
  }

  function doParallelLimit(limit, fn) {
    return function (obj, iterator, callback) {
      return fn(_eachOfLimit(limit), obj, iterator, callback);
    };
  }

  function doSeries(fn) {
    return function (obj, iterator, callback) {
      return fn(async.eachOfSeries, obj, iterator, callback);
    };
  }

  function _asyncMap(eachfn, arr, iterator, callback) {
    callback = _once(callback || noop);
    var results = [];
    eachfn(arr, function (value, index, callback) {
      iterator(value, function (err, v) {
        results[index] = v;
        callback(err);
      });
    }, function (err) {
      callback(err, results);
    });
  }

  async.map = doParallel(_asyncMap);
  async.mapSeries = doSeries(_asyncMap);

  async.mapLimit = function (arr, limit, iterator, callback) {
    return _mapLimit(limit)(arr, iterator, callback);
  };

  function _mapLimit(limit) {
    return doParallelLimit(limit, _asyncMap);
  } // reduce only has a series version, as doing reduce in parallel won't
  // work in many situations.


  async.inject = async.foldl = async.reduce = function (arr, memo, iterator, callback) {
    async.eachOfSeries(arr, function (x, i, callback) {
      iterator(memo, x, function (err, v) {
        memo = v;
        callback(err);
      });
    }, function (err) {
      callback(err || null, memo);
    });
  };

  async.foldr = async.reduceRight = function (arr, memo, iterator, callback) {
    var reversed = _map(arr, function (x) {
      return x;
    }).reverse();

    async.reduce(reversed, memo, iterator, callback);
  };

  function _filter(eachfn, arr, iterator, callback) {
    var results = [];
    arr = _map(arr, function (x, i) {
      return {
        index: i,
        value: x
      };
    });
    eachfn(arr, function (x, index, callback) {
      iterator(x.value, function (v) {
        if (v) {
          results.push(x);
        }

        callback();
      });
    }, function () {
      callback(_map(results.sort(function (a, b) {
        return a.index - b.index;
      }), function (x) {
        return x.value;
      }));
    });
  }

  async.select = async.filter = doParallel(_filter);
  async.selectSeries = async.filterSeries = doSeries(_filter);

  function _reject(eachfn, arr, iterator, callback) {
    var results = [];
    arr = _map(arr, function (x, i) {
      return {
        index: i,
        value: x
      };
    });
    eachfn(arr, function (x, index, callback) {
      iterator(x.value, function (v) {
        if (!v) {
          results.push(x);
        }

        callback();
      });
    }, function () {
      callback(_map(results.sort(function (a, b) {
        return a.index - b.index;
      }), function (x) {
        return x.value;
      }));
    });
  }

  async.reject = doParallel(_reject);
  async.rejectSeries = doSeries(_reject);

  function _detect(eachfn, arr, iterator, main_callback) {
    eachfn(arr, function (x, index, callback) {
      iterator(x, function (result) {
        if (result) {
          main_callback(x);
          main_callback = noop;
        } else {
          callback();
        }
      });
    }, function () {
      main_callback();
    });
  }

  async.detect = doParallel(_detect);
  async.detectSeries = doSeries(_detect);

  async.any = async.some = function (arr, iterator, main_callback) {
    async.eachOf(arr, function (x, _, callback) {
      iterator(x, function (v) {
        if (v) {
          main_callback(true);
          main_callback = noop;
        }

        callback();
      });
    }, function () {
      main_callback(false);
    });
  };

  async.all = async.every = function (arr, iterator, main_callback) {
    async.eachOf(arr, function (x, _, callback) {
      iterator(x, function (v) {
        if (!v) {
          main_callback(false);
          main_callback = noop;
        }

        callback();
      });
    }, function () {
      main_callback(true);
    });
  };

  async.sortBy = function (arr, iterator, callback) {
    async.map(arr, function (x, callback) {
      iterator(x, function (err, criteria) {
        if (err) {
          callback(err);
        } else {
          callback(null, {
            value: x,
            criteria: criteria
          });
        }
      });
    }, function (err, results) {
      if (err) {
        return callback(err);
      } else {
        callback(null, _map(results.sort(comparator), function (x) {
          return x.value;
        }));
      }
    });

    function comparator(left, right) {
      var a = left.criteria,
          b = right.criteria;
      return a < b ? -1 : a > b ? 1 : 0;
    }
  };

  async.auto = function (tasks, callback) {
    callback = _once(callback || noop);

    var keys = _keys(tasks);

    var remainingTasks = keys.length;

    if (!remainingTasks) {
      return callback(null);
    }

    var results = {};
    var listeners = [];

    function addListener(fn) {
      listeners.unshift(fn);
    }

    function removeListener(fn) {
      for (var i = 0; i < listeners.length; i += 1) {
        if (listeners[i] === fn) {
          listeners.splice(i, 1);
          return;
        }
      }
    }

    function taskComplete() {
      remainingTasks--;

      _arrayEach(listeners.slice(0), function (fn) {
        fn();
      });
    }

    addListener(function () {
      if (!remainingTasks) {
        callback(null, results);
      }
    });

    _arrayEach(keys, function (k) {
      var task = _isArray(tasks[k]) ? tasks[k] : [tasks[k]];

      function taskCallback(err) {
        var args = _baseSlice(arguments, 1);

        if (args.length <= 1) {
          args = args[0];
        }

        if (err) {
          var safeResults = {};

          _arrayEach(_keys(results), function (rkey) {
            safeResults[rkey] = results[rkey];
          });

          safeResults[k] = args;
          callback(err, safeResults);
        } else {
          results[k] = args;
          async.setImmediate(taskComplete);
        }
      }

      var requires = task.slice(0, Math.abs(task.length - 1)) || []; // prevent dead-locks

      var len = requires.length;
      var dep;

      while (len--) {
        if (!(dep = tasks[requires[len]])) {
          throw new Error('Has inexistant dependency');
        }

        if (_isArray(dep) && !!~dep.indexOf(k)) {
          throw new Error('Has cyclic dependencies');
        }
      }

      function ready() {
        return _reduce(requires, function (a, x) {
          return a && results.hasOwnProperty(x);
        }, true) && !results.hasOwnProperty(k);
      }

      if (ready()) {
        task[task.length - 1](taskCallback, results);
      } else {
        addListener(listener);
      }

      function listener() {
        if (ready()) {
          removeListener(listener);
          task[task.length - 1](taskCallback, results);
        }
      }
    });
  };

  async.retry = function (times, task, callback) {
    var DEFAULT_TIMES = 5;
    var attempts = []; // Use defaults if times not passed

    if (typeof times === 'function') {
      callback = task;
      task = times;
      times = DEFAULT_TIMES;
    } // Make sure times is a number


    times = parseInt(times, 10) || DEFAULT_TIMES;

    function wrappedTask(wrappedCallback, wrappedResults) {
      function retryAttempt(task, finalAttempt) {
        return function (seriesCallback) {
          task(function (err, result) {
            seriesCallback(!err || finalAttempt, {
              err: err,
              result: result
            });
          }, wrappedResults);
        };
      }

      while (times) {
        attempts.push(retryAttempt(task, !(times -= 1)));
      }

      async.series(attempts, function (done, data) {
        data = data[data.length - 1];
        (wrappedCallback || callback)(data.err, data.result);
      });
    } // If a callback is passed, run this as a controll flow


    return callback ? wrappedTask() : wrappedTask;
  };

  async.waterfall = function (tasks, callback) {
    callback = _once(callback || noop);

    if (!_isArray(tasks)) {
      var err = new Error('First argument to waterfall must be an array of functions');
      return callback(err);
    }

    if (!tasks.length) {
      return callback();
    }

    function wrapIterator(iterator) {
      return function (err) {
        if (err) {
          callback.apply(null, arguments);
        } else {
          var args = _baseSlice(arguments, 1);

          var next = iterator.next();

          if (next) {
            args.push(wrapIterator(next));
          } else {
            args.push(callback);
          }

          ensureAsync(iterator).apply(null, args);
        }
      };
    }

    wrapIterator(async.iterator(tasks))();
  };

  function _parallel(eachfn, tasks, callback) {
    callback = callback || noop;
    var results = _isArrayLike(tasks) ? [] : {};
    eachfn(tasks, function (task, key, callback) {
      task(function (err) {
        var args = _baseSlice(arguments, 1);

        if (args.length <= 1) {
          args = args[0];
        }

        results[key] = args;
        callback(err);
      });
    }, function (err) {
      callback(err, results);
    });
  }

  async.parallel = function (tasks, callback) {
    _parallel(async.eachOf, tasks, callback);
  };

  async.parallelLimit = function (tasks, limit, callback) {
    _parallel(_eachOfLimit(limit), tasks, callback);
  };

  async.series = function (tasks, callback) {
    callback = callback || noop;
    var results = _isArrayLike(tasks) ? [] : {};
    async.eachOfSeries(tasks, function (task, key, callback) {
      task(function (err) {
        var args = _baseSlice(arguments, 1);

        if (args.length <= 1) {
          args = args[0];
        }

        results[key] = args;
        callback(err);
      });
    }, function (err) {
      callback(err, results);
    });
  };

  async.iterator = function (tasks) {
    function makeCallback(index) {
      function fn() {
        if (tasks.length) {
          tasks[index].apply(null, arguments);
        }

        return fn.next();
      }

      fn.next = function () {
        return index < tasks.length - 1 ? makeCallback(index + 1) : null;
      };

      return fn;
    }

    return makeCallback(0);
  };

  async.apply = function (fn) {
    var args = _baseSlice(arguments, 1);

    return function () {
      return fn.apply(null, args.concat(_baseSlice(arguments)));
    };
  };

  function _concat(eachfn, arr, fn, callback) {
    var result = [];
    eachfn(arr, function (x, index, cb) {
      fn(x, function (err, y) {
        result = result.concat(y || []);
        cb(err);
      });
    }, function (err) {
      callback(err, result);
    });
  }

  async.concat = doParallel(_concat);
  async.concatSeries = doSeries(_concat);

  async.whilst = function (test, iterator, callback) {
    if (test()) {
      iterator(function (err) {
        if (err) {
          return callback(err);
        }

        async.whilst(test, iterator, callback);
      });
    } else {
      callback(null);
    }
  };

  async.doWhilst = function (iterator, test, callback) {
    iterator(function (err) {
      if (err) {
        return callback(err);
      }

      var args = _baseSlice(arguments, 1);

      if (test.apply(null, args)) {
        async.doWhilst(iterator, test, callback);
      } else {
        callback(null);
      }
    });
  };

  async.until = function (test, iterator, callback) {
    if (!test()) {
      iterator(function (err) {
        if (err) {
          return callback(err);
        }

        async.until(test, iterator, callback);
      });
    } else {
      callback(null);
    }
  };

  async.doUntil = function (iterator, test, callback) {
    iterator(function (err) {
      if (err) {
        return callback(err);
      }

      var args = _baseSlice(arguments, 1);

      if (!test.apply(null, args)) {
        async.doUntil(iterator, test, callback);
      } else {
        callback(null);
      }
    });
  };

  function _queue(worker, concurrency, payload) {
    if (concurrency == null) {
      concurrency = 1;
    } else if (concurrency === 0) {
      throw new Error('Concurrency must not be zero');
    }

    function _insert(q, data, pos, callback) {
      if (callback != null && typeof callback !== "function") {
        throw new Error("task callback must be a function");
      }

      q.started = true;

      if (!_isArray(data)) {
        data = [data];
      }

      if (data.length === 0 && q.idle()) {
        // call drain immediately if there are no tasks
        return async.setImmediate(function () {
          q.drain();
        });
      }

      _arrayEach(data, function (task) {
        var item = {
          data: task,
          callback: callback || noop
        };

        if (pos) {
          q.tasks.unshift(item);
        } else {
          q.tasks.push(item);
        }

        if (q.tasks.length === q.concurrency) {
          q.saturated();
        }
      });

      async.setImmediate(q.process);
    }

    function _next(q, tasks) {
      return function () {
        workers -= 1;
        var args = arguments;

        _arrayEach(tasks, function (task) {
          task.callback.apply(task, args);
        });

        if (q.tasks.length + workers === 0) {
          q.drain();
        }

        q.process();
      };
    }

    var workers = 0;
    var q = {
      tasks: [],
      concurrency: concurrency,
      saturated: noop,
      empty: noop,
      drain: noop,
      started: false,
      paused: false,
      push: function push(data, callback) {
        _insert(q, data, false, callback);
      },
      kill: function kill() {
        q.drain = noop;
        q.tasks = [];
      },
      unshift: function unshift(data, callback) {
        _insert(q, data, true, callback);
      },
      process: function process() {
        if (!q.paused && workers < q.concurrency && q.tasks.length) {
          while (workers < q.concurrency && q.tasks.length) {
            var tasks = payload ? q.tasks.splice(0, payload) : q.tasks.splice(0, q.tasks.length);

            var data = _map(tasks, function (task) {
              return task.data;
            });

            if (q.tasks.length === 0) {
              q.empty();
            }

            workers += 1;
            var cb = only_once(_next(q, tasks));
            worker(data, cb);
          }
        }
      },
      length: function length() {
        return q.tasks.length;
      },
      running: function running() {
        return workers;
      },
      idle: function idle() {
        return q.tasks.length + workers === 0;
      },
      pause: function pause() {
        q.paused = true;
      },
      resume: function resume() {
        if (q.paused === false) {
          return;
        }

        q.paused = false;
        var resumeCount = Math.min(q.concurrency, q.tasks.length); // Need to call q.process once per concurrent
        // worker to preserve full concurrency after pause

        for (var w = 1; w <= resumeCount; w++) {
          async.setImmediate(q.process);
        }
      }
    };
    return q;
  }

  async.queue = function (worker, concurrency) {
    var q = _queue(function (items, cb) {
      worker(items[0], cb);
    }, concurrency, 1);

    return q;
  };

  async.priorityQueue = function (worker, concurrency) {
    function _compareTasks(a, b) {
      return a.priority - b.priority;
    }

    function _binarySearch(sequence, item, compare) {
      var beg = -1,
          end = sequence.length - 1;

      while (beg < end) {
        var mid = beg + (end - beg + 1 >>> 1);

        if (compare(item, sequence[mid]) >= 0) {
          beg = mid;
        } else {
          end = mid - 1;
        }
      }

      return beg;
    }

    function _insert(q, data, priority, callback) {
      if (callback != null && typeof callback !== "function") {
        throw new Error("task callback must be a function");
      }

      q.started = true;

      if (!_isArray(data)) {
        data = [data];
      }

      if (data.length === 0) {
        // call drain immediately if there are no tasks
        return async.setImmediate(function () {
          q.drain();
        });
      }

      _arrayEach(data, function (task) {
        var item = {
          data: task,
          priority: priority,
          callback: typeof callback === 'function' ? callback : noop
        };
        q.tasks.splice(_binarySearch(q.tasks, item, _compareTasks) + 1, 0, item);

        if (q.tasks.length === q.concurrency) {
          q.saturated();
        }

        async.setImmediate(q.process);
      });
    } // Start with a normal queue


    var q = async.queue(worker, concurrency); // Override push to accept second parameter representing priority

    q.push = function (data, priority, callback) {
      _insert(q, data, priority, callback);
    }; // Remove unshift function


    delete q.unshift;
    return q;
  };

  async.cargo = function (worker, payload) {
    return _queue(worker, 1, payload);
  };

  function _console_fn(name) {
    return function (fn) {
      var args = _baseSlice(arguments, 1);

      fn.apply(null, args.concat([function (err) {
        var args = _baseSlice(arguments, 1);

        if (typeof console !== 'undefined') {
          if (err) {
            if (console.error) {
              console.error(err);
            }
          } else if (console[name]) {
            _arrayEach(args, function (x) {
              console[name](x);
            });
          }
        }
      }]));
    };
  }

  async.log = _console_fn('log');
  async.dir = _console_fn('dir');
  /*async.info = _console_fn('info');
  async.warn = _console_fn('warn');
  async.error = _console_fn('error');*/

  async.memoize = function (fn, hasher) {
    var memo = {};
    var queues = {};

    hasher = hasher || function (x) {
      return x;
    };

    function memoized() {
      var args = _baseSlice(arguments);

      var callback = args.pop();
      var key = hasher.apply(null, args);

      if (key in memo) {
        async.nextTick(function () {
          callback.apply(null, memo[key]);
        });
      } else if (key in queues) {
        queues[key].push(callback);
      } else {
        queues[key] = [callback];
        fn.apply(null, args.concat([function () {
          memo[key] = _baseSlice(arguments);
          var q = queues[key];
          delete queues[key];

          for (var i = 0, l = q.length; i < l; i++) {
            q[i].apply(null, arguments);
          }
        }]));
      }
    }

    memoized.memo = memo;
    memoized.unmemoized = fn;
    return memoized;
  };

  async.unmemoize = function (fn) {
    return function () {
      return (fn.unmemoized || fn).apply(null, arguments);
    };
  };

  function _times(mapper) {
    return function (count, iterator, callback) {
      mapper(_range(count), iterator, callback);
    };
  }

  async.times = _times(async.map);
  async.timesSeries = _times(async.mapSeries);

  async.timesLimit = function (count, limit, iterator, callback) {
    return async.mapLimit(_range(count), limit, iterator, callback);
  };

  async.seq = function ()
  /* functions... */
  {
    var fns = arguments;
    return function () {
      var that = this;

      var args = _baseSlice(arguments);

      var callback = args.slice(-1)[0];

      if (typeof callback == 'function') {
        args.pop();
      } else {
        callback = noop;
      }

      async.reduce(fns, args, function (newargs, fn, cb) {
        fn.apply(that, newargs.concat([function () {
          var err = arguments[0];

          var nextargs = _baseSlice(arguments, 1);

          cb(err, nextargs);
        }]));
      }, function (err, results) {
        callback.apply(that, [err].concat(results));
      });
    };
  };

  async.compose = function ()
  /* functions... */
  {
    return async.seq.apply(null, Array.prototype.reverse.call(arguments));
  };

  function _applyEach(eachfn, fns
  /*args...*/
  ) {
    function go() {
      var that = this;

      var args = _baseSlice(arguments);

      var callback = args.pop();
      return eachfn(fns, function (fn, _, cb) {
        fn.apply(that, args.concat([cb]));
      }, callback);
    }

    if (arguments.length > 2) {
      var args = _baseSlice(arguments, 2);

      return go.apply(this, args);
    } else {
      return go;
    }
  }

  async.applyEach = function ()
  /*fns, args...*/
  {
    var args = _baseSlice(arguments);

    return _applyEach.apply(null, [async.eachOf].concat(args));
  };

  async.applyEachSeries = function ()
  /*fns, args...*/
  {
    var args = _baseSlice(arguments);

    return _applyEach.apply(null, [async.eachOfSeries].concat(args));
  };

  async.forever = function (fn, callback) {
    var done = only_once(callback || noop);
    var task = ensureAsync(fn);

    function next(err) {
      if (err) {
        return done(err);
      }

      task(next);
    }

    next();
  };

  function ensureAsync(fn) {
    return function ()
    /*...args, callback*/
    {
      var args = _baseSlice(arguments);

      var callback = args.pop();
      args.push(function () {
        var innerArgs = arguments;

        if (sync) {
          async.setImmediate(function () {
            callback.apply(null, innerArgs);
          });
        } else {
          callback.apply(null, innerArgs);
        }
      });
      var sync = true;
      fn.apply(this, args);
      sync = false;
    };
  }

  async.ensureAsync = ensureAsync; // Node.js

  if (typeof module !== 'undefined' && module.exports) {
    module.exports = async;
  } // AMD / RequireJS
  else if (typeof define !== 'undefined' && define.amd) {
      define([], function () {
        return async;
      });
    } // included directly via <script> tag
    else {
        root.async = async;
      }
})();

cc._RF.pop();

}).call(this,require("C:/CocosDashboard_1.0.12/resources/.editors/Creator/2.4.4/resources/app.asar/node_modules/process/browser.js"),typeof global !== "undefined" ? global : typeof self !== "undefined" ? self : typeof window !== "undefined" ? window : {})
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9hc3NldHNcXGdhbWVDb21vblxcc2NyaXB0c1xcbW9kZWxcXGFzeW5jLmpzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0MsYUFBWTtBQUVULE1BQUksS0FBSyxHQUFHLEVBQVo7O0FBQ0EsV0FBUyxJQUFULEdBQWdCLENBQUUsQ0FIVCxDQUtUOzs7QUFDQSxNQUFJLElBQUosRUFBVSxjQUFWOztBQUVBLE1BQUksT0FBTyxNQUFQLElBQWlCLFFBQWpCLElBQTZCLFNBQVMsTUFBMUMsRUFBa0Q7QUFDOUMsSUFBQSxJQUFJLEdBQUcsTUFBUDtBQUNILEdBRkQsTUFHSyxJQUFJLE9BQU8sTUFBUCxJQUFpQixRQUFqQixJQUE2QixTQUFTLE1BQTFDLEVBQWtEO0FBQ25ELElBQUEsSUFBSSxHQUFHLE1BQVA7QUFDSCxHQUZJLE1BR0E7QUFDRCxJQUFBLElBQUksR0FBRyxJQUFQO0FBQ0g7O0FBRUQsTUFBSSxJQUFJLElBQUksSUFBWixFQUFrQjtBQUNoQixJQUFBLGNBQWMsR0FBRyxJQUFJLENBQUMsS0FBdEI7QUFDRDs7QUFFRCxFQUFBLEtBQUssQ0FBQyxVQUFOLEdBQW1CLFlBQVk7QUFDM0IsSUFBQSxJQUFJLENBQUMsS0FBTCxHQUFhLGNBQWI7QUFDQSxXQUFPLEtBQVA7QUFDSCxHQUhEOztBQUtBLFdBQVMsU0FBVCxDQUFtQixFQUFuQixFQUF1QjtBQUNuQixRQUFJLE1BQU0sR0FBRyxLQUFiO0FBQ0EsV0FBTyxZQUFXO0FBQ2QsVUFBSSxNQUFKLEVBQVksTUFBTSxJQUFJLEtBQUosQ0FBVSw4QkFBVixDQUFOO0FBQ1osTUFBQSxNQUFNLEdBQUcsSUFBVDtBQUNBLE1BQUEsRUFBRSxDQUFDLEtBQUgsQ0FBUyxJQUFULEVBQWUsU0FBZjtBQUNILEtBSkQ7QUFLSDs7QUFFRCxXQUFTLEtBQVQsQ0FBZSxFQUFmLEVBQW1CO0FBQ2YsUUFBSSxNQUFNLEdBQUcs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QUFDcEMsUUFBSSxJQUFJLEdBQUcsU0FBUyxDQUFDLFFBQVEsSUFBSSxJQUFiLENBQXBCO0FBQ0EsUUFBSSxJQUFJLEdBQUcsV0FBVyxDQUFDLEVBQUQsQ0FBdEI7O0FBQ0EsYUFBUyxJQUFULENBQWMsR0FBZCxFQUFtQjtBQUNmLFVBQUksR0FBSixFQUFTO0FBQ0wsZUFBTyxJQUFJLENBQUMsR0FBRCxDQUFYO0FBQ0g7O0FBQ0QsTUFBQSxJQUFJLENBQUMsSUFBRCxDQUFKO0FBQ0g7O0FBQ0QsSUFBQSxJQUFJO0FBQ1AsR0FWRDs7QUFZQSxXQUFTLFdBQVQsQ0FBcUIsRUFBckIsRUFBeUI7QUFDckIsV0FBTztBQUFVO0FBQXVCO0FBQ3BDLFVBQUksSUFBSSxHQUFHLFVBQVUsQ0FBQyxTQUFELENBQXJCOztBQUNBLFVBQUksUUFBUSxHQUFHLElBQUksQ0FBQyxHQUFMLEVBQWY7QUFDQSxNQUFBLElBQUksQ0FBQyxJQUFMLENBQVUsWUFBWTtBQUNsQixZQUFJLFNBQVMsR0FBRyxTQUFoQjs7QUFDQSxZQUFJLElBQUosRUFBVTtBQUNOLFVBQUEsS0FBSyxDQUFDLFlBQU4sQ0FBbUIsWUFBWTtBQUMzQixZQUFBLFFBQVEsQ0FBQyxLQUFULENBQWUsSUFBZixFQUFxQixTQUFyQjtBQUNILFdBRkQ7QUFHSCxTQUpELE1BSU87QUFDSCxVQUFBLFFBQVEsQ0FBQyxLQUFULENBQWUsSUFBZixFQUFxQixTQUFyQjtBQUNIO0FBQ0osT0FURDtBQVVBLFVBQUksSUFBSSxHQUFHLElBQVg7QUFDQSxNQUFBLEVBQUUsQ0FBQyxLQUFILENBQVMsSUFBVCxFQUFlLElBQWY7QUFDQSxNQUFBLElBQUksR0FBRyxLQUFQO0FBQ0gsS0FoQkQ7QUFpQkg7O0FBRUQsRUFBQSxLQUFLLENBQUMsV0FBTixHQUFvQixXQUFwQixDQTlvQ1MsQ0FncENUOztBQUNBLE1BQUksT0FBTyxNQUFQLEtBQWtCLFdBQWxCLElBQWlDLE1BQU0sQ0FBQyxPQUE1QyxFQUFxRDtBQUNqRCxJQUFBLE1BQU0sQ0FBQyxPQUFQLEdBQWlCLEtBQWpCO0FBQ0gsR0FGRCxDQUdBO0FBSEEsT0FJSyxJQUFJLE9BQU8sTUFBUCxLQUFrQixXQUFsQixJQUFpQyxNQUFNLENBQUMsR0FBNUMsRUFBaUQ7QUFDbEQsTUFBQSxNQUFNLENBQUMsRUFBRCxFQUFLLFlBQVk7QUFDbkIsZUFBTyxLQUFQO0FBQ0gsT0FGSyxDQUFOO0FBR0gsS0FKSSxDQUtMO0FBTEssU0FNQTtBQUNELFFBQUEsSUFBSSxDQUFDLEtBQUwsR0FBYSxLQUFiO0FBQ0g7QUFFSixDQS9wQ0EsR0FBRCIsImZpbGUiOiJnZW5lcmF0ZWQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlc0NvbnRlbnQiOltudWxsXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/model/consts.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f36fcCR/lBD/qmR2CZ3f4L4', 'consts');
// gameComon/scripts/model/consts.js

"use strict";

var consts = {
  CLIENT_GAME_START: "client.onGameStart",
  LOCAL_EVENT_POPUP_LOADTIP: "localEventPopupLoadTip",
  //提示框,
  LOCAL_EVENT_POPUP_DIALOG: "localEventPopupDialog",
  //对话框,
  LOCAL_EVENT_POPUP_GAME_COMMON: "localEventPopupGameCommon",
  //公用prefab
  LOCAL_GAME_RESULT_NATIVE_AD: "client.onResultNativeAD",
  //原生广告
  CLIENT_GAME_VIDEO_SHOW: "client.onGameShowVideo",
  CLIENT_GAME_RESULT_VIDEO_SHOW: "client.onGameResultShowVideo",
  CLIENT_GAME_PLAY_VIDEO: "client.onGamePlayVideo",
  HTTP_RECORD_SERVER: "https://l.h5120.com/te/tk/gameapplist",
  HTTP_EVENT_MIDDLE_DESK_CONFIG: "client.onGameMiddleDeskConfig",
  //获取配置

  /*需要修改的配置*/
  HTTP_RECORD_PACKAGE: 'com.snmi.crazyremove',
  //包名
  HTTP_RECORD_PACKAGENAME: '疯狂消消消',
  //游戏名
  GAME_ID: 15,
  HTTP_GET_PAAS_DATA_SERVER: 'https://cs.snmi.cn/game/GetGameValue',
  //获取中台服务器配置
  HTTP_GET_GAME_DATA_SERVER: 'https://cs.snmi.cn/switch/GetGameValue',
  //获取游戏服务器配置

  /*不需要修改的配置*/
  HTTP_SPREAD_WORD: "https://s.snmi.cn/game/kl",
  HTTP_SPREAD_REPORT: "https://t.h5data.com/d/gkl?",
  HTTP_SPREAD_CLOSE: "https://t.h5data.com/d/gclose?rid=" // https://l.h5120.com  //打点
  // https://cs.snmi.cn   //互跳
  // https://t.h5data.com  //互跳
  // https://s.snmi.cn   //配置
  // https://st.h5120.com  //下载

};
module.exports = consts;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFxtb2RlbFxcY29uc3RzLmpzIl0sIm5hbWVzIjpbImNvbnN0cyIsIkNMSUVOVF9HQU1FX1NUQVJUIiwiTE9DQUxfRVZFTlRfUE9QVVBfTE9BRFRJUCIsIkxPQ0FMX0VWRU5UX1BPUFVQX0RJQUxPRyIsIkxPQ0FMX0VWRU5UX1BPUFVQX0dBTUVfQ09NTU9OIiwiTE9DQUxfR0FNRV9SRVNVTFRfTkFUSVZFX0FEIiwiQ0xJRU5UX0dBTUVfVklERU9fU0hPVyIsIkNMSUVOVF9HQU1FX1JFU1VMVF9WSURFT19TSE9XIiwiQ0xJRU5UX0dBTUVfUExBWV9WSURFTyIsIkhUVFBfUkVDT1JEX1NFUlZFUiIsIkhUVFBfRVZFTlRfTUlERExFX0RFU0tfQ09ORklHIiwiSFRUUF9SRUNPUkRfUEFDS0FHRSIsIkhUVFBfUkVDT1JEX1BBQ0tBR0VOQU1FIiwiR0FNRV9JRCIsIkhUVFBfR0VUX1BBQVNfREFUQV9TRVJWRVIiLCJIVFRQX0dFVF9HQU1FX0RBVEFfU0VSVkVSIiwiSFRUUF9TUFJFQURfV09SRCIsIkhUVFBfU1BSRUFEX1JFUE9SVCIsIkhUVFBfU1BSRUFEX0NMT1NFIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxNQUFNLEdBQUc7QUFDVEMsRUFBQUEsaUJBQWlCLEVBQUMsb0JBRFQ7QUFFVEMsRUFBQUEseUJBQXlCLEVBQUMsd0JBRmpCO0FBRTJDO0FBQ3BEQyxFQUFBQSx3QkFBd0IsRUFBRSx1QkFIakI7QUFHMEM7QUFDbkRDLEVBQUFBLDZCQUE2QixFQUFFLDJCQUp0QjtBQUltRDtBQUM1REMsRUFBQUEsMkJBQTJCLEVBQUUseUJBTHBCO0FBSytDO0FBQ3hEQyxFQUFBQSxzQkFBc0IsRUFBQyx3QkFOZDtBQU9UQyxFQUFBQSw2QkFBNkIsRUFBQyw4QkFQckI7QUFRVEMsRUFBQUEsc0JBQXNCLEVBQUMsd0JBUmQ7QUFTVEMsRUFBQUEsa0JBQWtCLEVBQUMsdUNBVFY7QUFVVEMsRUFBQUEsNkJBQTZCLEVBQUMsK0JBVnJCO0FBVXNEOztBQUUvRDtBQUNBQyxFQUFBQSxtQkFBbUIsRUFBQyxzQkFiWDtBQWFtQztBQUM1Q0MsRUFBQUEsdUJBQXVCLEVBQUMsT0FkZjtBQWN3QjtBQUNqQ0MsRUFBQUEsT0FBTyxFQUFDLEVBZkM7QUFnQlRDLEVBQUFBLHlCQUF5QixFQUFDLHNDQWhCakI7QUFnQndEO0FBQ2pFQyxFQUFBQSx5QkFBeUIsRUFBQyx3Q0FqQmpCO0FBaUIwRDs7QUFDbkU7QUFDQUMsRUFBQUEsZ0JBQWdCLEVBQUMsMkJBbkJSO0FBb0JUQyxFQUFBQSxrQkFBa0IsRUFBQyw2QkFwQlY7QUFxQlRDLEVBQUFBLGlCQUFpQixFQUFDLG9DQXJCVCxDQXVCVDtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQTNCUyxDQUFiO0FBOEJBQyxNQUFNLENBQUNDLE9BQVAsR0FBaUJwQixNQUFqQiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGNvbnN0cyA9IHtcbiAgICBDTElFTlRfR0FNRV9TVEFSVDpcImNsaWVudC5vbkdhbWVTdGFydFwiLFxuICAgIExPQ0FMX0VWRU5UX1BPUFVQX0xPQURUSVA6XCJsb2NhbEV2ZW50UG9wdXBMb2FkVGlwXCIsIC8v5o+Q56S65qGGLFxuICAgIExPQ0FMX0VWRU5UX1BPUFVQX0RJQUxPRzogXCJsb2NhbEV2ZW50UG9wdXBEaWFsb2dcIiwgLy/lr7nor53moYYsXG4gICAgTE9DQUxfRVZFTlRfUE9QVVBfR0FNRV9DT01NT046IFwibG9jYWxFdmVudFBvcHVwR2FtZUNvbW1vblwiLCAvL+WFrOeUqHByZWZhYlxuICAgIExPQ0FMX0dBTUVfUkVTVUxUX05BVElWRV9BRDogXCJjbGllbnQub25SZXN1bHROYXRpdmVBRFwiLCAvL+WOn+eUn+W5v+WRilxuICAgIENMSUVOVF9HQU1FX1ZJREVPX1NIT1c6XCJjbGllbnQub25HYW1lU2hvd1ZpZGVvXCIsXG4gICAgQ0xJRU5UX0dBTUVfUkVTVUxUX1ZJREVPX1NIT1c6XCJjbGllbnQub25HYW1lUmVzdWx0U2hvd1ZpZGVvXCIsXG4gICAgQ0xJRU5UX0dBTUVfUExBWV9WSURFTzpcImNsaWVudC5vbkdhbWVQbGF5VmlkZW9cIixcbiAgICBIVFRQX1JFQ09SRF9TRVJWRVI6XCJodHRwczovL2wuaDUxMjAuY29tL3RlL3RrL2dhbWVhcHBsaXN0XCIsXG4gICAgSFRUUF9FVkVOVF9NSURETEVfREVTS19DT05GSUc6XCJjbGllbnQub25HYW1lTWlkZGxlRGVza0NvbmZpZ1wiLCAvL+iOt+WPlumFjee9rlxuXG4gICAgLyrpnIDopoHkv67mlLnnmoTphY3nva4qL1xuICAgIEhUVFBfUkVDT1JEX1BBQ0tBR0U6J2NvbS5zbm1pLmNyYXp5cmVtb3ZlJywgLy/ljIXlkI1cbiAgICBIVFRQX1JFQ09SRF9QQUNLQUdFTkFNRTon55av54uC5raI5raI5raIJywgLy/muLjmiI/lkI1cbiAgICBHQU1FX0lEOjE1LFxuICAgIEhUVFBfR0VUX1BBQVNfREFUQV9TRVJWRVI6J2h0dHBzOi8vY3Muc25taS5jbi9nYW1lL0dldEdhbWVWYWx1ZScsLy/ojrflj5bkuK3lj7DmnI3liqHlmajphY3nva5cbiAgICBIVFRQX0dFVF9HQU1FX0RBVEFfU0VSVkVSOidodHRwczovL2NzLnNubWkuY24vc3dpdGNoL0dldEdhbWVWYWx1ZScsLy/ojrflj5bmuLjmiI/mnI3liqHlmajphY3nva5cbiAgICAvKuS4jemcgOimgeS/ruaUueeahOmFjee9riovXG4gICAgSFRUUF9TUFJFQURfV09SRDpcImh0dHBzOi8vcy5zbm1pLmNuL2dhbWUva2xcIixcbiAgICBIVFRQX1NQUkVBRF9SRVBPUlQ6XCJodHRwczovL3QuaDVkYXRhLmNvbS9kL2drbD9cIixcbiAgICBIVFRQX1NQUkVBRF9DTE9TRTpcImh0dHBzOi8vdC5oNWRhdGEuY29tL2QvZ2Nsb3NlP3JpZD1cIixcblxuICAgIC8vIGh0dHBzOi8vbC5oNTEyMC5jb20gIC8v5omT54K5XG4gICAgLy8gaHR0cHM6Ly9jcy5zbm1pLmNuICAgLy/kupLot7NcbiAgICAvLyBodHRwczovL3QuaDVkYXRhLmNvbSAgLy/kupLot7NcbiAgICAvLyBodHRwczovL3Muc25taS5jbiAgIC8v6YWN572uXG4gICAgLy8gaHR0cHM6Ly9zdC5oNTEyMC5jb20gIC8v5LiL6L29XG59O1xuXG5tb2R1bGUuZXhwb3J0cyA9IGNvbnN0cztcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/ad/wxnativeAd.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '9a169f/Cs9NFp08r0mXOa8e', 'wxnativeAd');
// gameComon/scripts/ad/wxnativeAd.js

"use strict";

var WXNativeAd = cc.Class({
  properties: {},
  ctor: function ctor() {
    this.instance = null;
  },
  statics: {
    create: function create(data) {
      if (!this.instance) {
        this.instance = new WXNativeAd();
        this.instance.initWithData(data);
        return this.instance;
      }
    }
  },
  initWithData: function initWithData(data) {
    this.targetBannerAdWidth = 200;

    if (cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'WX') {
      //微信平台 
      var _wx$getSystemInfoSync = wx.getSystemInfoSync(),
          windowWidth = _wx$getSystemInfoSync.windowWidth,
          windowHeight = _wx$getSystemInfoSync.windowHeight;

      this.width = windowWidth;
      this.height = windowHeight;
      this.adId = 'adunit-48fb335e928d3b4d';

      if (appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.gridId && appGame.gameServerRoom.adConfig.nativeId.WX) {
        this.adId = appGame.gameServerRoom.adConfig.nativeId.WX.adUnitId;
      }

      this.globalData = {
        nativeAd: wx.createCustomAd({
          adUnitId: this.adId,
          adIntervals: 30,
          style: {
            left: 20,
            top: this.height - this.targetBannerAdWidth / 16 * 9
          }
        })
      };
      httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
        title: '原生广告',
        content: '创建成功',
        desc: this.adId
      }, function () {});
    }

    this.refreshSize();
  },
  playNativeAd: function playNativeAd(isShow) {
    var _this = this;

    if (cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'WX') {
      if (this.globalData && this.globalData.nativeAd) {
        if (isShow) {
          this.globalData.nativeAd.show();
        } else {
          this.globalData.nativeAd.hide();
        }
      }
    } else {
      if (this.globalData && this.globalData.nativeAd) {
        var nativeAd = this.globalData.nativeAd;
        nativeAd.load().then(function () {
          console.log("原生广告显示成功");
          httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
            title: '原生广告',
            content: '展示成功',
            desc: _this.adId
          }, function () {});
        })["catch"](function (err) {
          console.log("原生广告出现问题", err);
          httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
            title: '原生广告',
            content: '展示失败',
            desc: _this.adId
          }, function () {});
        });
        nativeAd.onLoad(function (res) {
          console.log("\u52A0\u8F7D\u539F\u751F\u5E7F\u544A\u6210\u529F", "\uFF1A" + JSON.stringify(res)); //res.adList && res.adList.length > 0 && (appGame.nativeAdData = res.adList[0])
        });
      }
    }
  },
  refreshSize: function refreshSize() {
    var _this2 = this;

    // 尺寸调整时会触发回调，通过回调拿到的广告真实宽高再进行定位适配处理
    // 注意：如果在回调里再次调整尺寸，要确保不要触发死循环！！！
    if (this.globalData && this.globalData.nativeAd) {
      this.globalData.nativeAd.onError(function (listener) {
        console.log("原生广告出错");
        httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
          title: '原生广告',
          content: _this2.adId,
          desc: listener.errCode + listener.errMsg
        }, function () {});
      });
    }
  }
});
module.exports = WXNativeAd;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFxhZFxcd3huYXRpdmVBZC5qcyJdLCJuYW1lcyI6WyJXWE5hdGl2ZUFkIiwiY2MiLCJDbGFzcyIsInByb3BlcnRpZXMiLCJjdG9yIiwiaW5zdGFuY2UiLCJzdGF0aWNzIiwiY3JlYXRlIiwiZGF0YSIsImluaXRXaXRoRGF0YSIsInRhcmdldEJhbm5lckFkV2lkdGgiLCJzeXMiLCJwbGF0Zm9ybSIsIldFQ0hBVF9HQU1FIiwiYXBwR2FtZSIsInd4IiwiZ2V0U3lzdGVtSW5mb1N5bmMiLCJ3aW5kb3dXaWR0aCIsIndpbmRvd0hlaWdodCIsIndpZHRoIiwiaGVpZ2h0IiwiYWRJZCIsImdhbWVTZXJ2ZXJSb29tIiwiYWRDb25maWciLCJncmlkSWQiLCJuYXRpdmVJZCIsIldYIiwiYWRVbml0SWQiLCJnbG9iYWxEYXRhIiwibmF0aXZlQWQiLCJjcmVhdGVDdXN0b21BZCIsImFkSW50ZXJ2YWxzIiwic3R5bGUiLCJsZWZ0IiwidG9wIiwiaHR0cFV0aWxzIiwiaHR0cFBvc3QiLCJjb25zdHMiLCJIVFRQX1JFQ09SRF9TRVJWRVIiLCJ0aXRsZSIsImNvbnRlbnQiLCJkZXNjIiwicmVmcmVzaFNpemUiLCJwbGF5TmF0aXZlQWQiLCJpc1Nob3ciLCJzaG93IiwiaGlkZSIsImxvYWQiLCJ0aGVuIiwiY29uc29sZSIsImxvZyIsImVyciIsIm9uTG9hZCIsInJlcyIsIkpTT04iLCJzdHJpbmdpZnkiLCJvbkVycm9yIiwibGlzdGVuZXIiLCJlcnJDb2RlIiwiZXJyTXNnIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxVQUFVLEdBQUdDLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTO0FBQ3RCQyxFQUFBQSxVQUFVLEVBQUUsRUFEVTtBQUd0QkMsRUFBQUEsSUFIc0Isa0JBR2Y7QUFDSCxTQUFLQyxRQUFMLEdBQWdCLElBQWhCO0FBQ0gsR0FMcUI7QUFNdEJDLEVBQUFBLE9B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QyxHQUFSLENBQVksUUFBWjtBQUNBZixRQUFBQSxTQUFTLENBQUNDLFFBQVYsQ0FBbUJDLE1BQU0sQ0FBQ0Msa0JBQTFCLEVBQTZDO0FBQUNDLFVBQUFBLEtBQUssRUFBQyxNQUFQO0FBQWNDLFVBQUFBLE9BQU8sRUFBQyxNQUFJLENBQUNuQixJQUEzQjtBQUFnQ29CLFVBQUFBLElBQUksRUFBQ2dCLFFBQVEsQ0FBQ0MsT0FBVCxHQUFpQkQsUUFBUSxDQUFDRTtBQUEvRCxTQUE3QyxFQUFvSCxZQUFVLENBQzdILENBREQ7QUFFSCxPQUpEO0FBS0g7QUFDSjtBQWpGcUIsQ0FBVCxDQUFqQjtBQW1GQUMsTUFBTSxDQUFDQyxPQUFQLEdBQWlCN0QsVUFBakIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbInZhciBXWE5hdGl2ZUFkID0gY2MuQ2xhc3Moe1xyXG4gICAgcHJvcGVydGllczoge1xyXG4gICAgfSxcclxuICAgIGN0b3IoKSB7XHJcbiAgICAgICAgdGhpcy5pbnN0YW5jZSA9IG51bGw7XHJcbiAgICB9LFxyXG4gICAgc3RhdGljczoge1xyXG4gICAgICAgIGNyZWF0ZTogZnVuY3Rpb24gKGRhdGEpIHtcclxuICAgICAgICAgICAgaWYgKCF0aGlzLmluc3RhbmNlKSB7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmluc3RhbmNlID0gbmV3IFdYTmF0aXZlQWQoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UuaW5pdFdpdGhEYXRhKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaW5pdFdpdGhEYXRhOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIHRoaXMudGFyZ2V0QmFubmVyQWRXaWR0aCA9IDIwMDtcclxuICAgICAgICBpZiAoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5XRUNIQVRfR0FNRSAmJiBhcHBHYW1lLnBsYXRmb3JtID09ICdXWCcpIHsgLy/lvq7kv6HlubPlj7AgXHJcbiAgICAgICAgICAgIGNvbnN0IHsgd2luZG93V2lkdGgsIHdpbmRvd0hlaWdodCB9ID0gd3guZ2V0U3lzdGVtSW5mb1N5bmMoKTtcclxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHdpbmRvd1dpZHRoO1xyXG4gICAgICAgICAgICB0aGlzLmhlaWdodCA9IHdpbmRvd0hlaWdodDtcclxuICAgICAgICAgICAgdGhpcy5hZElkID0gJ2FkdW5pdC00OGZiMzM1ZTkyOGQzYjRkJ1xyXG4gICAgICAgICAgICBpZihhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmFkQ29uZmlnICYmIGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcuZ3JpZElkICYmIGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcubmF0aXZlSWQuV1gpe1xyXG4gICAgICAgICAgICAgICAgdGhpcy5hZElkID0gYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy5uYXRpdmVJZC5XWC5hZFVuaXRJZDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB0aGlzLmdsb2JhbERhdGEgPSB7XHJcbiAgICAgICAgICAgICAgICBuYXRpdmVBZDogd3guY3JlYXRlQ3VzdG9tQWQoe1xyXG4gICAgICAgICAgICAgICAgICAgIGFkVW5pdElkOiB0aGlzLmFkSWQsXHJcbiAgICAgICAgICAgICAgICAgICAgYWRJbnRlcnZhbHM6MzAsXHJcbiAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbGVmdDoyMCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgdG9wOiB0aGlzLmhlaWdodCAtICh0aGlzLnRhcmdldEJhbm5lckFkV2lkdGggLyAxNikgKiA5LFxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pLFxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon5Y6f55Sf5bm/5ZGKJyxjb250ZW50OifliJvlu7rmiJDlip8nLGRlc2M6dGhpcy5hZElkfSxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcbiAgICAgICAgdGhpcy5yZWZyZXNoU2l6ZSgpO1xyXG4gICAgfSxcclxuICAgIHBsYXlOYXRpdmVBZDogZnVuY3Rpb24gKGlzU2hvdykge1xyXG4gICAgICAgIGlmICgoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5XRUNIQVRfR0FNRSAmJiBhcHBHYW1lLnBsYXRmb3JtID09ICdXWCcpKSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdsb2JhbERhdGEgJiYgdGhpcy5nbG9iYWxEYXRhLm5hdGl2ZUFkKSB7XHJcbiAgICAgICAgICAgICAgICBpZiAoaXNTaG93KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhLm5hdGl2ZUFkLnNob3coKTtcclxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhLm5hdGl2ZUFkLmhpZGUoKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgIGlmICh0aGlzLmdsb2JhbERhdGEgJiYgdGhpcy5nbG9iYWxEYXRhLm5hdGl2ZUFkKSB7XHJcbiAgICAgICAgICAgICAgICBsZXQgbmF0aXZlQWQgPSB0aGlzLmdsb2JhbERhdGEubmF0aXZlQWQ7XHJcbiAgICAgICAgICAgICAgICBuYXRpdmVBZFxyXG4gICAgICAgICAgICAgICAgICAgIC5sb2FkKClcclxuICAgICAgICAgICAgICAgICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5Y6f55Sf5bm/5ZGK5pi+56S65oiQ5YqfXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+WOn+eUn+W5v+WRiicsY29udGVudDon5bGV56S65oiQ5YqfJyxkZXNjOnRoaXMuYWRJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgICAgICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuWOn+eUn+W5v+WRiuWHuueOsOmXrumimFwiLCBlcnIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+WOn+eUn+W5v+WRiicsY29udGVudDon5bGV56S65aSx6LSlJyxkZXNjOnRoaXMuYWRJZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICBuYXRpdmVBZC5vbkxvYWQocmVzID0+IHtcclxuICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhg5Yqg6L295Y6f55Sf5bm/5ZGK5oiQ5YqfYCwgYO+8miR7SlNPTi5zdHJpbmdpZnkocmVzKX1gKVxyXG4gICAgICAgICAgICAgICAgICAgIC8vcmVzLmFkTGlzdCAmJiByZXMuYWRMaXN0Lmxlbmd0aCA+IDAgJiYgKGFwcEdhbWUubmF0aXZlQWREYXRhID0gcmVzLmFkTGlzdFswXSlcclxuICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgcmVmcmVzaFNpemUoKXtcclxuICAgICAgICAvLyDlsLrlr7josIPmlbTml7bkvJrop6blj5Hlm57osIPvvIzpgJrov4flm57osIPmi7/liLDnmoTlub/lkYrnnJ/lrp7lrr3pq5jlho3ov5vooYzlrprkvY3pgILphY3lpITnkIZcclxuICAgICAgICAvLyDms6jmhI/vvJrlpoLmnpzlnKjlm57osIPph4zlho3mrKHosIPmlbTlsLrlr7jvvIzopoHnoa7kv53kuI3opoHop6blj5Hmrbvlvqrnjq/vvIHvvIHvvIFcclxuICAgICAgICBpZih0aGlzLmdsb2JhbERhdGEgJiYgdGhpcy5nbG9iYWxEYXRhLm5hdGl2ZUFkKXtcclxuICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhLm5hdGl2ZUFkLm9uRXJyb3IoKGxpc3RlbmVyKSA9PiB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmxvZyhcIuWOn+eUn+W5v+WRiuWHuumUmVwiKVxyXG4gICAgICAgICAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOifljp/nlJ/lub/lkYonLGNvbnRlbnQ6dGhpcy5hZElkLGRlc2M6bGlzdGVuZXIuZXJyQ29kZStsaXN0ZW5lci5lcnJNc2d9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgfVxyXG4gICAgfSxcclxufSk7XHJcbm1vZHVsZS5leHBvcnRzID0gV1hOYXRpdmVBZDtcclxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/model/httpUtils.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1c82dl9OYBOLaaJO15Yt8bQ', 'httpUtils');
// gameComon/scripts/model/httpUtils.js

"use strict";

module.exports = {
  onLoad: function onLoad() {},
  httpGet: function httpGet(url, cb) {
    var xhr = cc.loader.getXMLHttpRequest();

    xhr.onreadystatechange = function () {
      if (xhr.readyState === 4 && xhr.status >= 200 && xhr.status < 300) {
        var respone = xhr.responseText;
        cb && cb(null, respone);
      } else if (xhr.readyState === 4 && (xhr.status > 400 || xhr.status == 0)) {
        cb && cb(xhr.status);
      }
    };

    xhr.onerror = function (error) {
      cc.log('httpUtils onreadystatechange  onerror====' + xhr.readyState + '===' + xhr.status);

      if (xhr.readyState == 4 && xhr.status == 0 || xhr.readyState == 1 && xhr.status == 0) {
        cb && cb(503); //503   （服务不可用） 服务器目前无法使用（由于超载或停机维护）
      }
    };

    if (cc.sys.isNative) {
      xhr.setRequestHeader("Accept-Encoding", "gzip,deflate");
    }

    xhr.open("GET", url, true);
    xhr.timeout = 5000; // 5 seconds for timeout

    xhr.send();
  },
  httpGets: function httpGets(url, callback) {
    cc.log("url==" + url);
    var xhr = cc.loader.getXMLHttpRequest();
    var timedout = false;
    var timer = setTimeout(function () {
      timedout = true;
      xhr.abort();
      callback();
    }, 2000);

    xhr.onreadystatechange = function () {
      if (xhr.readyState == 4) {
        if (timedout) {
          return;
        }

        clearTimeout(timer);

        if (xhr.status >= 200 && xhr.status < 300) {
          var respone = xhr.responseText;

          if (respone) {
            callback(respone);
          }
        } else if (xhr.status > 400 || xhr.status == 0) {
          callback("false");
        }
      }
    };

    xhr.open("GET", url, true);
    xhr.setRequestHeader("Content-Type", "text/plain;charset=UTF-8");

    if (cc.sys.isNative) {
      xhr.setRequestHeader("Accept-Encoding", "gzip,deflate");
    }

    xhr.send();
  },
  httpPost: function httpPost(url, params, callback) {
    var query = [];
    var snmiguid = cc.sys.localStorage.getItem('snmi_guid');
    query['snmi'] = encodeURIComponent(JSON.stringify(snmiguid));
    query['deviceInfo'] = encodeURIComponent(JSON.stringify(appGame.deviceInfo));
    query['timestamp'] = new Date().getTime();
    var info = {
      'package': consts.HTTP_RECORD_PACKAGE,
      'packageName': consts.HTTP_RECORD_PACKAGENAME,
      'packageVersion': appGame.packageVersion,
      'versionCode': '1',
      'platfrom': appGame.platform
    };
    query['manifest'] = encodeURIComponent(JSON.stringify(info));
    query['title'] = encodeURIComponent(params.title);
    query['content'] = encodeURIComponent(params.content);

    if (params.desc) {
      query['desc'] = encodeURIComponent(params.desc);
    } else {
      query['desc'] = encodeURIComponent('');
    }

    var xhr = cc.loader.getXMLHttpRequest();

    xhr.onreadystatechange = function () {
      if (xhr.readyState === 4 && xhr.status >= 200 && xhr.status < 300) {
        var respone = xhr.responseText;

        if (respone) {
          callback(respone);
        }
      } else {
        callback(-1);
      }
    }; //xhr.open("POST", url, true);
    //xhr.send(params);  decodeURIComponent


    var geturl = url + "?" + Object.keys(query).map(function (key) {
      return key + "=" + query[key];
    }).join('&'); //cc.log("geturl===="+geturl)

    xhr.open("GET", geturl, true);
    xhr.send();
  },
  httpSendRequest: function httpSendRequest(url, callback) {
    //cc.log("url==="+url)
    var xhr = cc.loader.getXMLHttpRequest();
    var timedout = false;
    var timer = setTimeout(function () {
      timedout = true;
      xhr.abort();
      callback(-1);
    }, 2000);

    xhr.onreadystatechange = function () {
      if (xhr.readyState == 4) {
        if (timedout) {
          return;
        }

        clearTimeout(timer);

        if (xhr.status >= 200 && xhr.status < 300) {
          var respone = xhr.responseText;

          if (respone) {
            var respones = JSON.parse(respone);
            callback(respones);
          } else {
            callback(1);
          }
        } else if (xhr.status > 400 || xhr.status == 0) {
          callback(-1);
        }
      }
    };

    xhr.open("POST", url, true);
    xhr.send(); //xhr.open("POST", url, true);
    //xhr.send(params);
  },
  httpPostParam: function httpPostParam(url, params, callback) {
    var xhr = cc.loader.getXMLHttpRequest();

    xhr.onreadystatechange = function () {
      console.log('xhr.readyState=' + xhr.readyState + '  xhr.status=' + xhr.status);

      if (xhr.readyState === 4 && xhr.status >= 200 && xhr.status < 300) {
        var respone = xhr.responseText;

        if (respone) {
          var pars = JSON.parse(respone);
          callback(pars);
        }
      } else {
        callback(-1);
      }
    };

    xhr.open("POST", url, true); //xhr.setRequestHeader('Access-Control-Allow-Origin', '*'); 
    //xhr.setRequestHeader('content-type', 'application/json')

    xhr.timeout = 5000; // 5 seconds for timeout  

    var payload = JSON.stringify(params);
    xhr.send(payload);
  },
  loadNetToNativeImg: function loadNetToNativeImg(url, callback) {
    var dirpath = jsb.fileUtils.getWritablePath() + 'img/';
    var filepath = dirpath + MD5(url) + '.png';

    function loadEnd() {
      cc.loader.load(filepath, function (err, tex) {
        if (err) {
          cc.error(err);
        } else {
          var spriteFrame = new cc.SpriteFrame(tex);

          if (spriteFrame) {
            spriteFrame.retain();
            callback(spriteFrame);
          }
        }
      });
    }

    if (jsb.fileUtils.isFileExist(filepath)) {
      cc.log('Remote is find' + filepath);
      loadEnd();
      return;
    }

    var saveFile = function saveFile(data) {
      if (typeof data !== 'undefined') {
        if (!jsb.fileUtils.isDirectoryExist(dirpath)) {
          jsb.fileUtils.createDirectory(dirpath);
        }

        if (jsb.fileUtils.writeDataToFile(new Uint8Array(data), filepath)) {
          cc.log('Remote write file succeed.');
          loadEnd();
        } else {
          cc.log('Remote write file failed.');
        }
      } else {
        cc.log('Remote download file failed.');
      }
    };

    var xhr = new XMLHttpRequest();

    xhr.onreadystatechange = function () {
      cc.log("xhr.readyState  " + xhr.readyState);
      cc.log("xhr.status  " + xhr.status);

      if (xhr.readyState === 4) {
        if (xhr.status === 200) {
          xhr.responseType = 'arraybuffer';
          saveFile(xhr.response);
        } else {
          saveFile(null);
        }
      }
    }.bind(this);

    xhr.open("GET", url, true);
    xhr.send();
  }
};

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFxtb2RlbFxcaHR0cFV0aWxzLmpzIl0sIm5hbWVzIjpbIm1vZHVsZSIsImV4cG9ydHMiLCJvbkxvYWQiLCJodHRwR2V0IiwidXJsIiwiY2IiLCJ4aHIiLCJjYyIsImxvYWRlciIsImdldFhNTEh0dHBSZXF1ZXN0Iiwib25yZWFkeXN0YXRlY2hhbmdlIiwicmVhZHlTdGF0ZSIsInN0YXR1cyIsInJlc3BvbmUiLCJyZXNwb25zZVRleHQiLCJvbmVycm9yIiwiZXJyb3IiLCJsb2ciLCJzeXMiLCJpc05hdGl2ZSIsInNldFJlcXVlc3RIZWFkZXIiLCJvcGVuIiwidGltZW91dCIsInNlbmQiLCJodHRwR2V0cyIsImNhbGxiYWNrIiwidGltZWRvdXQiLCJ0aW1lciIsInNldFRpbWVvdXQiLCJhYm9ydCIsImNsZWFyVGltZW91dCIsImh0dHBQb3N0IiwicGFyYW1zIiwicXVlcnkiLCJzbm1pZ3VpZCIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJlbmNvZGVVUklDb21wb25lbnQiLCJKU09OIiwic3RyaW5naWZ5IiwiYXBwR2FtZSIsImRldmljZUluZm8iLCJEYXRlIiwiZ2V0VGltZSIsImluZm8iLCJjb25zdHMiLCJIVFRQX1JFQ09SRF9QQUNLQUdFIiwiSFRUUF9SRUNPUkRfUEFDS0FHRU5BTUUiLCJwYWNrYWdlVmVyc2lvbiIsInBsYXRmb3JtIiwidGl0bGUiLCJjb250ZW50IiwiZGVzYyIsImdldHVybCIsIk9iamVjdCIsImtleXMiLCJtYXAiLCJrZXkiLCJqb2luIiwiaHR0cFNlbmRSZXF1ZXN0IiwicmVzcG9uZXMiLCJwYXJzZSIsImh0dHBQb3N0UGFyYW0iLCJjb25zb2xlIiwicGFycyIsInBheWxvYWQiLCJsb2FkTmV0VG9OYXRpdmVJbWciLCJkaXJwYXRoIiwianNiIiwiZmlsZVV0aWxzIiwiZ2V0V3JpdGFibGVQYXRoIiwiZmlsZXBhdGgiLCJNRDUiLCJsb2FkRW5kIiwibG9hZCIsImVyciIsInRleCIsInNwcml0ZUZyYW1lIiwiU3ByaXRlRnJhbWUiLCJyZXRhaW4iLCJpc0ZpbGVFeGlzdCIsInNhdmVGaWxlIiwiZGF0YSIsImlzRGlyZWN0b3J5RXhpc3QiLCJjcmVhdGVEaXJlY3RvcnkiLCJ3cml0ZURhdGFUb0ZpbGUiLCJVaW50OEFycmF5IiwiWE1MSHR0cFJlcXVlc3QiLCJyZXNwb25zZVR5cGUiLCJyZXNwb25zZSIsImJpbmQiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUFBLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQjtBQUViQyxFQUFBQSxNQUFNLEVBQUUsa0JBQVksQ0FDbkIsQ0FIWTtBQUtiQyxFQUFBQSxPQUFPLEVBQUUsaUJBQVNDLEdBQVQsRUFBY0MsRUFBZCxFQUFrQjtBQUN2QixRQUFJQyxHQUFHLEdBQUdDLEVBQUUsQ0FBQ0MsTUFBSCxDQUFVQyxpQkFBVixFQUFWOztBQUNBSCxJQUFBQSxHQUFHLENBQUNJLGtCQUFKLEdBQXlCLFlBQVk7QUFDakMsVUFBSUosR0FBRyxDQUFDSyxVQUFKLEtBQW1CLENBQW5CLElBQXlCTCxHQUFHLENBQUNNLE1BQUosSUFBYyxHQUFkLElBQXFCTixHQUFHLENBQUNNLE1BQUosR0FBYSxHQUEvRCxFQUFxRTtBQUNqRSxZQUFJQyxPQUFPLEdBQUdQLEdBQUcsQ0FBQ1EsWUFBbEI7QUFDQVQsUUFBQUEsRUFBRSxJQUFJQSxFQUFFLENBQUMsSUFBRCxFQUFPUSxPQUFQLENBQVI7QUFDSCxPQUhELE1BSUssSUFBR1AsR0FBRyxDQUFDSyxVQUFKLEtBQW1CLENBQW5CLEtBQXdCTCxHQUFHLENBQUNNLE1BQUosR0FBYSxHQUFiLElBQWtCTixHQUFHLENBQUNNLE1BQUosSUFBYSxDQUF2RCxDQUFILEVBQThEO0FBQy9EUCxRQUFBQSxFQUFFLElBQUlBLEVBQUUsQ0FBQ0MsR0FBRyxDQUFDTSxNQUFMLENBQVI7QUFDSDtBQUNKLEtBUkQ7O0FBU0FOLElBQUFBLEdBQUcsQ0FBQ1MsT0FBSixHQUFjLFVBQVVDLEtBQVYsRUFBaUI7QUFDM0JULE1BQUFB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VixTQUhELE1BR0s7QUFDRGxFLFVBQUFBLEVBQUUsQ0FBQ1UsR0FBSCxDQUFPLDJCQUFQO0FBQ0g7QUFDSixPQVZELE1BVUs7QUFDRFYsUUFBQUEsRUFBRSxDQUFDVSxHQUFILENBQU8sOEJBQVA7QUFDSDtBQUNKLEtBZEQ7O0FBZUEsUUFBSVgsR0FBRyxHQUFHLElBQUlpRixjQUFKLEVBQVY7O0FBRUFqRixJQUFBQSxHQUFHLENBQUNJLGtCQUFKLEdBQXlCLFlBQVk7QUFDakNILE1BQUFBLEVBQUUsQ0FBQ1UsR0FBSCxDQUFPLHFCQUFvQlgsR0FBRyxDQUFDSyxVQUEvQjtBQUNBSixNQUFBQSxFQUFFLENBQUNVLEdBQUgsQ0FBTyxpQkFBZ0JYLEdBQUcsQ0FBQ00sTUFBM0I7O0FBQ0EsVUFBSU4sR0FBRyxDQUFDSyxVQUFKLEtBQW1CLENBQXZCLEVBQTBCO0FBQ3RCLFlBQUdMLEdBQUcsQ0FBQ00sTUFBSixLQUFlLEdBQWxCLEVBQXNCO0FBQ2xCTixVQUFBQSxHQUFHLENBQUNrRixZQUFKLEdBQW1CLGFBQW5CO0FBQ0FQLFVBQUFBLFFBQVEsQ0FBQzNFLEdBQUcsQ0FBQ21GLFFBQUwsQ0FBUjtBQUNILFNBSEQsTUFHSztBQUNEUixVQUFBQSxRQUFRLENBQUMsSUFBRCxDQUFSO0FBQ0g7QUFDSjtBQUNKLEtBWHdCLENBV3ZCUyxJQVh1QixDQVdsQixJQVhrQixDQUF6Qjs7QUFZQXBGLElBQUFBLEdBQUcsQ0FBQ2UsSUFBSixDQUFTLEtBQVQsRUFBZ0JqQixHQUFoQixFQUFxQixJQUFyQjtBQUNBRSxJQUFBQSxHQUFHLENBQUNpQixJQUFKO0FBQ0g7QUFuTlksQ0FBakIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIm1vZHVsZS5leHBvcnRzID0ge1xuICBcbiAgICBvbkxvYWQ6IGZ1bmN0aW9uICgpIHsgIFxuICAgIH0sXG5cbiAgICBodHRwR2V0OiBmdW5jdGlvbih1cmwsIGNiKSB7XG4gICAgICAgIHZhciB4aHIgPSBjYy5sb2FkZXIuZ2V0WE1MSHR0cFJlcXVlc3QoKTtcbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICh4aHIucmVhZHlTdGF0ZSA9PT0gNCAmJiAoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDMwMCkpIHtcbiAgICAgICAgICAgICAgICB2YXIgcmVzcG9uZSA9IHhoci5yZXNwb25zZVRleHQ7XG4gICAgICAgICAgICAgICAgY2IgJiYgY2IobnVsbCwgcmVzcG9uZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBlbHNlIGlmKHhoci5yZWFkeVN0YXRlID09PSA0JiYgKHhoci5zdGF0dXMgPiA0MDB8fHhoci5zdGF0dXMgPT0wKSApe1xuICAgICAgICAgICAgICAgIGNiICYmIGNiKHhoci5zdGF0dXMpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICB4aHIub25lcnJvciA9IGZ1bmN0aW9uIChlcnJvcikge1xuICAgICAgICAgICAgY2MubG9nKCdodHRwVXRpbHMgb25yZWFkeXN0YXRlY2hhbmdlICBvbmVycm9yPT09PScreGhyLnJlYWR5U3RhdGUrJz09PScreGhyLnN0YXR1cyk7XG4gICAgICAgICAgICBpZiAoKHhoci5yZWFkeVN0YXRlID09IDQgJiYgeGhyLnN0YXR1cyA9PSAwKXx8KHhoci5yZWFkeVN0YXRlID09IDEgJiYgeGhyLnN0YXR1cyA9PSAwKSkge1xuICAgICAgICAgICAgICAgIGNiICYmIGNiKDUwMyk7IC8vNTAzICAg77yI5pyN5Yqh5LiN5Y+v55So77yJIOacjeWKoeWZqOebruWJjeaXoOazleS9v+eUqO+8iOeUseS6jui2hei9veaIluWBnOacuue7tOaKpO+8iVxuICAgICAgICAgICAgfVxuICAgICAgICB9O1xuICAgICAgICBpZiAoY2Muc3lzLmlzTmF0aXZlKSB7XG4gICAgICAgICAgICB4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkFjY2VwdC1FbmNvZGluZ1wiLCBcImd6aXAsZGVmbGF0ZVwiKTtcbiAgICAgICAgfVxuICAgICAgICB4aHIub3BlbihcIkdFVFwiLCB1cmwsIHRydWUpO1xuICAgICAgICB4aHIudGltZW91dCA9IDUwMDA7Ly8gNSBzZWNvbmRzIGZvciB0aW1lb3V0XG4gICAgICAgIHhoci5zZW5kKCk7XG4gICAgfSxcbiAgXG4gICAgaHR0cEdldHM6IGZ1bmN0aW9uICh1cmwsIGNhbGxiYWNrKSB7ICBcbiAgICAgICAgY2MubG9nKFwidXJsPT1cIit1cmwpXG4gICAgICAgIHZhciB4aHIgPSBjYy5sb2FkZXIuZ2V0WE1MSHR0cFJlcXVlc3QoKTsgIFxuICAgICAgICB2YXIgdGltZWRvdXQgPWZhbHNlO1xuICAgICAgICB2YXIgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aW1lZG91dCA9dHJ1ZTtcbiAgICAgICAgICAgIHhoci5hYm9ydCgpO1xuICAgICAgICAgICAgY2FsbGJhY2soKTtcbiAgICAgICAgfSwyMDAwKTtcbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHsgIFxuICAgICAgICAgICAgaWYoeGhyLnJlYWR5U3RhdGUgPT0gNCl7XG4gICAgICAgICAgICAgICAgaWYodGltZWRvdXQpe3JldHVybjt9XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDMwMCkgeyAgXG4gICAgICAgICAgICAgICAgICAgIHZhciByZXNwb25lID0geGhyLnJlc3BvbnNlVGV4dDsgIFxuICAgICAgICAgICAgICAgICAgICBpZihyZXNwb25lKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJlc3BvbmUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSBcbiAgICAgICAgICAgICAgICBlbHNlIGlmKHhoci5zdGF0dXMgPiA0MDB8fHhoci5zdGF0dXMgPT0wKXtcbiAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soXCJmYWxzZVwiKTsgIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTsgIFxuICAgICAgICB4aHIub3BlbihcIkdFVFwiLCB1cmwsIHRydWUpOyAgXG4gICAgICAgIHhoci5zZXRSZXF1ZXN0SGVhZGVyKFwiQ29udGVudC1UeXBlXCIsXCJ0ZXh0L3BsYWluO2NoYXJzZXQ9VVRGLThcIik7XG4gICAgICAgIGlmIChjYy5zeXMuaXNOYXRpdmUpIHsgIFxuICAgICAgICAgICAgeGhyLnNldFJlcXVlc3RIZWFkZXIoXCJBY2NlcHQtRW5jb2RpbmdcIiwgXCJnemlwLGRlZmxhdGVcIik7ICBcbiAgICAgICAgfSAgIFxuICAgICAgICB4aHIuc2VuZCgpOyAgXG4gICAgfSwgIFxuICBcbiAgICBodHRwUG9zdDogZnVuY3Rpb24gKHVybCwgcGFyYW1zLCBjYWxsYmFjaykgeyBcbiAgICAgICAgbGV0IHF1ZXJ5ID0gW107XG4gICAgICAgIGxldCBzbm1pZ3VpZCA9IGNjLnN5cy5sb2NhbFN0b3JhZ2UuZ2V0SXRlbSgnc25taV9ndWlkJylcbiAgICAgICAgcXVlcnlbJ3NubWknXSA9IGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzbm1pZ3VpZCkpO1xuICAgICAgICBxdWVyeVsnZGV2aWNlSW5mbyddID0gZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KGFwcEdhbWUuZGV2aWNlSW5mbykpOyBcbiAgICAgICAgcXVlcnlbJ3RpbWVzdGFtcCddID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIGxldCBpbmZvID0ge1xuICAgICAgICAgICAgJ3BhY2thZ2UnOmNvbnN0cy5IVFRQX1JFQ09SRF9QQUNLQUdFLFxuICAgICAgICAgICAgJ3BhY2thZ2VOYW1lJzpjb25zdHMuSFRUUF9SRUNPUkRfUEFDS0FHRU5BTUUsXG4gICAgICAgICAgICAncGFja2FnZVZlcnNpb24nOmFwcEdhbWUucGFja2FnZVZlcnNpb24sXG4gICAgICAgICAgICAndmVyc2lvbkNvZGUnOiAnMScsXG4gICAgICAgICAgICAncGxhdGZyb20nOmFwcEdhbWUucGxhdGZvcm1cbiAgICAgICAgfVxuICAgICAgICBxdWVyeVsnbWFuaWZlc3QnXSA9IGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShpbmZvKSk7XG4gICAgICAgIHF1ZXJ5Wyd0aXRsZSddID0gZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtcy50aXRsZSk7XG4gICAgICAgIHF1ZXJ5Wydjb250ZW50J10gPSBlbmNvZGVVUklDb21wb25lbnQocGFyYW1zLmNvbnRlbnQpO1xuICAgICAgICBpZihwYXJhbXMuZGVzYyl7XG4gICAgICAgICAgICBxdWVyeVsnZGVzYyddID0gZW5jb2RlVVJJQ29tcG9uZW50KHBhcmFtcy5kZXNjKTtcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBxdWVyeVsnZGVzYyddID0gZW5jb2RlVVJJQ29tcG9uZW50KCcnKTtcbiAgICAgICAgfVxuICAgICAgICB2YXIgeGhyID0gY2MubG9hZGVyLmdldFhNTEh0dHBSZXF1ZXN0KCk7ICBcbiAgICAgICAgeGhyLm9ucmVhZHlzdGF0ZWNoYW5nZSA9IGZ1bmN0aW9uICgpIHsgIFxuICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0ICYmICh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzAwKSkgeyAgXG4gICAgICAgICAgICAgICAgdmFyIHJlc3BvbmUgPSB4aHIucmVzcG9uc2VUZXh0OyAgXG4gICAgICAgICAgICAgICAgaWYocmVzcG9uZSl7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKHJlc3BvbmUpOyBcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9ZWxzZXsgIFxuICAgICAgICAgICAgICAgIGNhbGxiYWNrKC0xKTsgIFxuICAgICAgICAgICAgfSAgXG4gICAgICAgIH07ICBcbiAgICAgICAgLy94aHIub3BlbihcIlBPU1RcIiwgdXJsLCB0cnVlKTtcbiAgICAgICAgLy94aHIuc2VuZChwYXJhbXMpOyAgZGVjb2RlVVJJQ29tcG9uZW50XG4gICAgICAgIGxldCBnZXR1cmwgPSBgJHt1cmx9PyR7T2JqZWN0LmtleXMocXVlcnkpLm1hcChrZXk9PiBgJHtrZXl9PSR7cXVlcnlba2V5XX1gKS5qb2luKCcmJyl9YFxuICAgICAgICAvL2NjLmxvZyhcImdldHVybD09PT1cIitnZXR1cmwpXG4gICAgICAgIHhoci5vcGVuKFwiR0VUXCIsIGdldHVybCwgdHJ1ZSk7XG4gICAgICAgIHhoci5zZW5kKCk7IFxuICAgIH0sXG4gICAgXG4gICAgaHR0cFNlbmRSZXF1ZXN0OiBmdW5jdGlvbiAodXJsLCBjYWxsYmFjaykge1xuICAgICAgICAvL2NjLmxvZyhcInVybD09PVwiK3VybClcbiAgICAgICAgbGV0IHhociA9IGNjLmxvYWRlci5nZXRYTUxIdHRwUmVxdWVzdCgpO1xuICAgICAgICBsZXQgdGltZWRvdXQgPWZhbHNlO1xuICAgICAgICBsZXQgdGltZXIgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICB0aW1lZG91dCA9dHJ1ZTtcbiAgICAgICAgICAgIHhoci5hYm9ydCgpO1xuICAgICAgICAgICAgY2FsbGJhY2soLTEpO1xuICAgICAgICB9LDIwMDApO1xuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgaWYoeGhyLnJlYWR5U3RhdGUgPT0gNCl7XG4gICAgICAgICAgICAgICAgaWYodGltZWRvdXQpe3JldHVybjt9XG4gICAgICAgICAgICAgICAgY2xlYXJUaW1lb3V0KHRpbWVyKTtcbiAgICAgICAgICAgICAgICBpZiAoeGhyLnN0YXR1cyA+PSAyMDAgJiYgeGhyLnN0YXR1cyA8IDMwMCkgeyAgXG4gICAgICAgICAgICAgICAgICAgIGxldCByZXNwb25lID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgICAgICAgICAgICAgaWYocmVzcG9uZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICBsZXQgcmVzcG9uZXMgPSBKU09OLnBhcnNlKHJlc3BvbmUpXG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhyZXNwb25lcyk7ICBcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygxKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gXG4gICAgICAgICAgICAgICAgZWxzZSBpZih4aHIuc3RhdHVzID4gNDAwfHx4aHIuc3RhdHVzID09MCl7XG4gICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKC0xKTsgIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfTsgIFxuICAgICAgICB4aHIub3BlbihcIlBPU1RcIiwgdXJsLCB0cnVlKTtcbiAgICAgICAgeGhyLnNlbmQoKTtcbiAgICAgICAgLy94aHIub3BlbihcIlBPU1RcIiwgdXJsLCB0cnVlKTtcbiAgICAgICAgLy94aHIuc2VuZChwYXJhbXMpO1xuICAgIH0sXG5cbiAgICBodHRwUG9zdFBhcmFtOiBmdW5jdGlvbiAodXJsLCBwYXJhbXMsIGNhbGxiYWNrKSB7ICBcbiAgICAgICAgdmFyIHhociA9IGNjLmxvYWRlci5nZXRYTUxIdHRwUmVxdWVzdCgpOyAgXG4gICAgICAgIHhoci5vbnJlYWR5c3RhdGVjaGFuZ2UgPSBmdW5jdGlvbiAoKSB7ICBcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKCd4aHIucmVhZHlTdGF0ZT0nK3hoci5yZWFkeVN0YXRlKycgIHhoci5zdGF0dXM9Jyt4aHIuc3RhdHVzKTsgIFxuICAgICAgICAgICAgaWYgKHhoci5yZWFkeVN0YXRlID09PSA0ICYmICh4aHIuc3RhdHVzID49IDIwMCAmJiB4aHIuc3RhdHVzIDwgMzAwKSkge1xuICAgICAgICAgICAgICAgIHZhciByZXNwb25lID0geGhyLnJlc3BvbnNlVGV4dDtcbiAgICAgICAgICAgICAgICBpZihyZXNwb25lKXtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBhcnMgPSAgSlNPTi5wYXJzZShyZXNwb25lKVxuICAgICAgICAgICAgICAgICAgICBjYWxsYmFjayhwYXJzKTsgIFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1lbHNleyAgXG4gICAgICAgICAgICAgICAgY2FsbGJhY2soLTEpOyAgXG4gICAgICAgICAgICB9ICBcbiAgICAgICAgfTsgIFxuICAgICAgICB4aHIub3BlbihcIlBPU1RcIiwgdXJsLCB0cnVlKTsgXG4gICAgICAgIC8veGhyLnNldFJlcXVlc3RIZWFkZXIoJ0FjY2Vzcy1Db250cm9sLUFsbG93LU9yaWdpbicsICcqJyk7IFxuICAgICAgICAvL3hoci5zZXRSZXF1ZXN0SGVhZGVyKCdjb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24vanNvbicpXG4gICAgICAgIHhoci50aW1lb3V0ID0gNTAwMDsvLyA1IHNlY29uZHMgZm9yIHRpbWVvdXQgIFxuICAgICAgICBsZXQgcGF5bG9hZCA9IEpTT04uc3RyaW5naWZ5KHBhcmFtcyk7XG4gICAgICAgIHhoci5zZW5kKHBheWxvYWQpOyAgXG4gICAgfSxcblxuICAgIGxvYWROZXRUb05hdGl2ZUltZyA6IGZ1bmN0aW9uKHVybCwgY2FsbGJhY2spe1xuICAgICAgICB2YXIgZGlycGF0aCA9ICBqc2IuZmlsZVV0aWxzLmdldFdyaXRhYmxlUGF0aCgpICsgJ2ltZy8nO1xuICAgICAgICB2YXIgZmlsZXBhdGggPSBkaXJwYXRoICsgTUQ1KHVybCkgKyAnLnBuZyc7XG5cbiAgICAgICAgZnVuY3Rpb24gbG9hZEVuZCgpe1xuICAgICAgICAgICAgY2MubG9hZGVyLmxvYWQoZmlsZXBhdGgsIGZ1bmN0aW9uKGVyciwgdGV4KXtcbiAgICAgICAgICAgICAgICBpZiggZXJyICl7XG4gICAgICAgICAgICAgICAgICAgIGNjLmVycm9yKGVycik7XG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHZhciBzcHJpdGVGcmFtZSA9IG5ldyBjYy5TcHJpdGVGcmFtZSh0ZXgpO1xuICAgICAgICAgICAgICAgICAgICBpZiggc3ByaXRlRnJhbWUgKXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHNwcml0ZUZyYW1lLnJldGFpbigpO1xuICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soc3ByaXRlRnJhbWUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgIH1cblxuICAgICAgICBpZigganNiLmZpbGVVdGlscy5pc0ZpbGVFeGlzdChmaWxlcGF0aCkgKXtcbiAgICAgICAgICAgIGNjLmxvZygnUmVtb3RlIGlzIGZpbmQnICsgZmlsZXBhdGgpO1xuICAgICAgICAgICAgbG9hZEVuZCgpO1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzYXZlRmlsZSA9IGZ1bmN0aW9uKGRhdGEpe1xuICAgICAgICAgICAgaWYoIHR5cGVvZiBkYXRhICE9PSAndW5kZWZpbmVkJyApe1xuICAgICAgICAgICAgICAgIGlmKCAhanNiLmZpbGVVdGlscy5pc0RpcmVjdG9yeUV4aXN0KGRpcnBhdGgpICl7XG4gICAgICAgICAgICAgICAgICAgIGpzYi5maWxlVXRpbHMuY3JlYXRlRGlyZWN0b3J5KGRpcnBhdGgpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZigganNiLmZpbGVVdGlscy53cml0ZURhdGFUb0ZpbGUoICBuZXcgVWludDhBcnJheShkYXRhKSAsIGZpbGVwYXRoKSApe1xuICAgICAgICAgICAgICAgICAgICBjYy5sb2coJ1JlbW90ZSB3cml0ZSBmaWxlIHN1Y2NlZWQuJyk7XG4gICAgICAgICAgICAgICAgICAgIGxvYWRFbmQoKTtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgY2MubG9nKCdSZW1vdGUgd3JpdGUgZmlsZSBmYWlsZWQuJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgY2MubG9nKCdSZW1vdGUgZG93bmxvYWQgZmlsZSBmYWlsZWQuJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH07XG4gICAgICAgIHZhciB4aHIgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcblxuICAgICAgICB4aHIub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24gKCkge1xuICAgICAgICAgICAgY2MubG9nKFwieGhyLnJlYWR5U3RhdGUgIFwiICt4aHIucmVhZHlTdGF0ZSk7XG4gICAgICAgICAgICBjYy5sb2coXCJ4aHIuc3RhdHVzICBcIiAreGhyLnN0YXR1cyk7XG4gICAgICAgICAgICBpZiAoeGhyLnJlYWR5U3RhdGUgPT09IDQpIHtcbiAgICAgICAgICAgICAgICBpZih4aHIuc3RhdHVzID09PSAyMDApe1xuICAgICAgICAgICAgICAgICAgICB4aHIucmVzcG9uc2VUeXBlID0gJ2FycmF5YnVmZmVyJztcbiAgICAgICAgICAgICAgICAgICAgc2F2ZUZpbGUoeGhyLnJlc3BvbnNlKTtcbiAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgc2F2ZUZpbGUobnVsbCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9LmJpbmQodGhpcyk7XG4gICAgICAgIHhoci5vcGVuKFwiR0VUXCIsIHVybCwgdHJ1ZSk7XG4gICAgICAgIHhoci5zZW5kKCk7XG4gICAgfVxuXG59OyAgXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/model/emitter.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'bebe1jW6dZFa5TewiY9r4WZ', 'emitter');
// gameComon/scripts/model/emitter.js

"use strict";

/**
 * Expose `Emitter`.
 */
module.exports = Emitter;
window.EventEmitter = Emitter;
/**
 * Initialize a new `Emitter`.
 *
 * @api public
 */

function Emitter(obj) {
  if (obj) return mixin(obj);
}

;
/**
 * Mixin the emitter properties.
 *
 * @param {Object} obj
 * @return {Object}
 * @api private
 */

function mixin(obj) {
  for (var key in Emitter.prototype) {
    obj[key] = Emitter.prototype[key];
  }

  return obj;
}
/**
 * Listen on the given `event` with `fn`.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */


Emitter.prototype.on = Emitter.prototype.addEventListener = function (event, fn, obj) {
  var fun = null;

  if (fn && obj) {
    fun = fn.bind(obj);
    fun.fn = fn;
  } else {
    fun = fn;
  }

  this._callbacks = this._callbacks || {};
  (this._callbacks[event] = this._callbacks[event] || []).push(fun);
  return this;
};
/**
 * Adds an `event` listener that will be invoked a single
 * time then automatically removed.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */


Emitter.prototype.once = function (event, fn, obj) {
  var self = this;
  this._callbacks = this._callbacks || {};

  function on() {
    self.off(event, on);
    fn.apply(obj || this, arguments);
  }

  on.fn = fn;
  this._callbacks = this._callbacks || {};
  (this._callbacks[event] = this._callbacks[event] || []).push(on); //this.on(event, on);

  return this;
};
/**
 * Remove the given callback for `event` or all
 * registered callbacks.
 *
 * @param {String} event
 * @param {Function} fn
 * @return {Emitter}
 * @api public
 */


Emitter.prototype.off = Emitter.prototype.removeListener = //Emitter.prototype.removeAllListeners =
Emitter.prototype.removeEventListener = function (event, fn) {
  this._callbacks = this._callbacks || {}; // all

  if (0 == arguments.length) {
    this._callbacks = {};
    return this;
  } // specific event


  var callbacks = this._callbacks[event];
  if (!callbacks) return this; // remove all handlers

  if (1 == arguments.length) {
    delete this._callbacks[event];
    return this;
  } // remove specific handler


  var cb;

  for (var i = 0; i < callbacks.length; i++) {
    cb = callbacks[i];

    if (cb === fn || cb.fn === fn) {
      callbacks.splice(i, 1);
      break;
    }
  }

  return this;
};
/**
 * Emit `event` with the given args.
 *
 * @param {String} event
 * @param {Mixed} ...
 * @return {Emitter}
 */


Emitter.prototype.emit = function (event) {
  this._callbacks = this._callbacks || {};
  var args = [].slice.call(arguments, 1),
      callbacks = this._callbacks[event];

  if (callbacks) {
    callbacks = callbacks.slice(0);

    for (var i = 0, len = callbacks.length; i < len; ++i) {
      callbacks[i].apply(this, args);
    }
  }

  return this;
};
/**
 * Return array of callbacks for `event`.
 *
 * @param {String} event
 * @return {Array}
 * @api public
 */


Emitter.prototype.listeners = function (event) {
  this._callbacks = this._callbacks || {};
  return this._callbacks[event] || [];
};
/**
 * Check if this emitter has `event` handlers.
 *
 * @param {String} event
 * @return {Boolean}
 * @api public
 */


Emitter.prototype.hasListeners = function (event) {
  return !!this.listeners(event).length;
};

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFxtb2RlbFxcZW1pdHRlci5qcyJdLCJuYW1lcyI6WyJtb2R1bGUiLCJleHBvcnRzIiwiRW1pdHRlciIsIndpbmRvdyIsIkV2ZW50RW1pdHRlciIsIm9iaiIsIm1peGluIiwia2V5IiwicHJvdG90eXBlIiwib24iLCJhZGRFdmVudExpc3RlbmVyIiwiZXZlbnQiLCJmbiIsImZ1biIsImJpbmQiLCJfY2FsbGJhY2tzIiwicHVzaCIsIm9uY2UiLCJzZWxmIiwib2ZmIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJyZW1vdmVMaXN0ZW5lciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJsZW5ndGgiLCJjYWxsYmFja3MiLCJjYiIsImkiLCJzcGxpY2UiLCJlbWl0IiwiYXJncyIsInNsaWNlIiwiY2FsbCIsImxlbiIsImxpc3RlbmVycyIsImhhc0xpc3RlbmVycyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFDQTtBQUNBO0FBQ0E7QUFFQUEsTUFBTSxDQUFDQyxPQUFQLEdBQWlCQyxPQUFqQjtBQUVBQyxNQUFNLENBQUNDLFlBQVAsR0FBc0JGLE9BQXRCO0FBRUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7QUFFQSxTQUFTQSxPQUFULENBQWlCRyxHQUFqQixFQUFzQjtBQUNwQixNQUFJQSxHQUFKLEVBQVMsT0FBT0MsS0FBSyxDQUFDRCxHQUFELENBQVo7QUFDVjs7QUFBQTtBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOztBQUVBLFNBQVNDLEtBQVQsQ0FBZUQsR0FBZixFQUFvQjtBQUNsQixPQUFLLElBQUlFLEdBQVQsSUFBZ0JMLE9BQU8sQ0FBQ00sU0FBeEIsRUFBbUM7QUFDakNILElBQUFBLEdBQUcsQ0FBQ0UsR0FBRCxDQUFILEdBQVdMLE9BQU8sQ0FBQ00sU0FBUixDQUFrQkQsR0FBbEIsQ0FBWDtBQUNEOztBQUNELFNBQU9GLEdBQVA7QUFDRDtBQUVEO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7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LEtBQWhCLEtBQTBCLEVBQWpDO0FBQ0QsQ0FIRDtBQUtBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBOzs7QUFFQVQsT0FBTyxDQUFDTSxTQUFSLENBQWtCMkIsWUFBbEIsR0FBaUMsVUFBU3hCLEtBQVQsRUFBZTtBQUM5QyxTQUFPLENBQUMsQ0FBRSxLQUFLdUIsU0FBTCxDQUFldkIsS0FBZixFQUFzQmEsTUFBaEM7QUFDRCxDQUZEIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcbi8qKlxuICogRXhwb3NlIGBFbWl0dGVyYC5cbiAqL1xuXG5tb2R1bGUuZXhwb3J0cyA9IEVtaXR0ZXI7XG5cbndpbmRvdy5FdmVudEVtaXR0ZXIgPSBFbWl0dGVyO1xuXG4vKipcbiAqIEluaXRpYWxpemUgYSBuZXcgYEVtaXR0ZXJgLlxuICpcbiAqIEBhcGkgcHVibGljXG4gKi9cblxuZnVuY3Rpb24gRW1pdHRlcihvYmopIHtcbiAgaWYgKG9iaikgcmV0dXJuIG1peGluKG9iaik7XG59O1xuXG4vKipcbiAqIE1peGluIHRoZSBlbWl0dGVyIHByb3BlcnRpZXMuXG4gKlxuICogQHBhcmFtIHtPYmplY3R9IG9ialxuICogQHJldHVybiB7T2JqZWN0fVxuICogQGFwaSBwcml2YXRlXG4gKi9cblxuZnVuY3Rpb24gbWl4aW4ob2JqKSB7XG4gIGZvciAodmFyIGtleSBpbiBFbWl0dGVyLnByb3RvdHlwZSkge1xuICAgIG9ialtrZXldID0gRW1pdHRlci5wcm90b3R5cGVba2V5XTtcbiAgfVxuICByZXR1cm4gb2JqO1xufVxuXG4vKipcbiAqIExpc3RlbiBvbiB0aGUgZ2l2ZW4gYGV2ZW50YCB3aXRoIGBmbmAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHJldHVybiB7RW1pdHRlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuRW1pdHRlci5wcm90b3R5cGUub24gPVxuRW1pdHRlci5wcm90b3R5cGUuYWRkRXZlbnRMaXN0ZW5lciA9IGZ1bmN0aW9uKGV2ZW50LCBmbiwgb2JqKXtcbiAgdmFyIGZ1biA9IG51bGw7XG4gIGlmIChmbiAmJiBvYmopIHtcbiAgICBmdW4gPSBmbi5iaW5kKG9iaik7XG4gICAgZnVuLmZuID0gZm47XG4gIH0gZWxzZSB7XG4gICAgZnVuID0gZm47XG4gIH1cbiAgdGhpcy5fY2FsbGJhY2tzID0gdGhpcy5fY2FsbGJhY2tzIHx8IHt9O1xuICAodGhpcy5fY2FsbGJhY2tzW2V2ZW50XSA9IHRoaXMuX2NhbGxiYWNrc1tldmVudF0gfHwgW10pXG4gICAgLnB1c2goZnVuKTtcbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEFkZHMgYW4gYGV2ZW50YCBsaXN0ZW5lciB0aGF0IHdpbGwgYmUgaW52b2tlZCBhIHNpbmdsZVxuICogdGltZSB0aGVuIGF1dG9tYXRpY2FsbHkgcmVtb3ZlZC5cbiAqXG4gKiBAcGFyYW0ge1N0cmluZ30gZXZlbnRcbiAqIEBwYXJhbSB7RnVuY3Rpb259IGZuXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5FbWl0dGVyLnByb3RvdHlwZS5vbmNlID0gZnVuY3Rpb24oZXZlbnQsIGZuLCBvYmope1xuICB2YXIgc2VsZiA9IHRoaXM7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcblxuICBmdW5jdGlvbiBvbigpIHtcbiAgICBzZWxmLm9mZihldmVudCwgb24pO1xuICAgIGZuLmFwcGx5KG9iaiB8fCB0aGlzLCBhcmd1bWVudHMpO1xuICB9XG5cbiAgb24uZm4gPSBmbjtcblxuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XG4gICh0aGlzLl9jYWxsYmFja3NbZXZlbnRdID0gdGhpcy5fY2FsbGJhY2tzW2V2ZW50XSB8fCBbXSlcbiAgICAgIC5wdXNoKG9uKTtcbiAgLy90aGlzLm9uKGV2ZW50LCBvbik7XG4gIHJldHVybiB0aGlzO1xufTtcblxuLyoqXG4gKiBSZW1vdmUgdGhlIGdpdmVuIGNhbGxiYWNrIGZvciBgZXZlbnRgIG9yIGFsbFxuICogcmVnaXN0ZXJlZCBjYWxsYmFja3MuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmblxuICogQHJldHVybiB7RW1pdHRlcn1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuRW1pdHRlci5wcm90b3R5cGUub2ZmID1cbkVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUxpc3RlbmVyID1cbi8vRW1pdHRlci5wcm90b3R5cGUucmVtb3ZlQWxsTGlzdGVuZXJzID1cbkVtaXR0ZXIucHJvdG90eXBlLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbihldmVudCwgZm4pe1xuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XG5cbiAgLy8gYWxsXG4gIGlmICgwID09IGFyZ3VtZW50cy5sZW5ndGgpIHtcbiAgICB0aGlzLl9jYWxsYmFja3MgPSB7fTtcbiAgICByZXR1cm4gdGhpcztcbiAgfVxuXG4gIC8vIHNwZWNpZmljIGV2ZW50XG4gIHZhciBjYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3NbZXZlbnRdO1xuICBpZiAoIWNhbGxiYWNrcykgcmV0dXJuIHRoaXM7XG5cbiAgLy8gcmVtb3ZlIGFsbCBoYW5kbGVyc1xuICBpZiAoMSA9PSBhcmd1bWVudHMubGVuZ3RoKSB7XG4gICAgZGVsZXRlIHRoaXMuX2NhbGxiYWNrc1tldmVudF07XG4gICAgcmV0dXJuIHRoaXM7XG4gIH1cblxuICAvLyByZW1vdmUgc3BlY2lmaWMgaGFuZGxlclxuICB2YXIgY2I7XG4gIGZvciAodmFyIGkgPSAwOyBpIDwgY2FsbGJhY2tzLmxlbmd0aDsgaSsrKSB7XG4gICAgY2IgPSBjYWxsYmFja3NbaV07XG4gICAgaWYgKGNiID09PSBmbiB8fCBjYi5mbiA9PT0gZm4pIHtcbiAgICAgIGNhbGxiYWNrcy5zcGxpY2UoaSwgMSk7XG4gICAgICBicmVhaztcbiAgICB9XG4gIH1cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIEVtaXQgYGV2ZW50YCB3aXRoIHRoZSBnaXZlbiBhcmdzLlxuICpcbiAqIEBwYXJhbSB7U3RyaW5nfSBldmVudFxuICogQHBhcmFtIHtNaXhlZH0gLi4uXG4gKiBAcmV0dXJuIHtFbWl0dGVyfVxuICovXG5cbkVtaXR0ZXIucHJvdG90eXBlLmVtaXQgPSBmdW5jdGlvbihldmVudCl7XG4gIHRoaXMuX2NhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrcyB8fCB7fTtcbiAgdmFyIGFyZ3MgPSBbXS5zbGljZS5jYWxsKGFyZ3VtZW50cywgMSlcbiAgICAsIGNhbGxiYWNrcyA9IHRoaXMuX2NhbGxiYWNrc1tldmVudF07XG5cbiAgaWYgKGNhbGxiYWNrcykge1xuICAgIGNhbGxiYWNrcyA9IGNhbGxiYWNrcy5zbGljZSgwKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuID0gY2FsbGJhY2tzLmxlbmd0aDsgaSA8IGxlbjsgKytpKSB7XG4gICAgICBjYWxsYmFja3NbaV0uYXBwbHkodGhpcywgYXJncyk7XG4gICAgfVxuICB9XG5cbiAgcmV0dXJuIHRoaXM7XG59O1xuXG4vKipcbiAqIFJldHVybiBhcnJheSBvZiBjYWxsYmFja3MgZm9yIGBldmVudGAuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gKiBAcmV0dXJuIHtBcnJheX1cbiAqIEBhcGkgcHVibGljXG4gKi9cblxuRW1pdHRlci5wcm90b3R5cGUubGlzdGVuZXJzID0gZnVuY3Rpb24oZXZlbnQpe1xuICB0aGlzLl9jYWxsYmFja3MgPSB0aGlzLl9jYWxsYmFja3MgfHwge307XG4gIHJldHVybiB0aGlzLl9jYWxsYmFja3NbZXZlbnRdIHx8IFtdO1xufTtcblxuLyoqXG4gKiBDaGVjayBpZiB0aGlzIGVtaXR0ZXIgaGFzIGBldmVudGAgaGFuZGxlcnMuXG4gKlxuICogQHBhcmFtIHtTdHJpbmd9IGV2ZW50XG4gKiBAcmV0dXJuIHtCb29sZWFufVxuICogQGFwaSBwdWJsaWNcbiAqL1xuXG5FbWl0dGVyLnByb3RvdHlwZS5oYXNMaXN0ZW5lcnMgPSBmdW5jdGlvbihldmVudCl7XG4gIHJldHVybiAhISB0aGlzLmxpc3RlbmVycyhldmVudCkubGVuZ3RoO1xufTtcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/ad/qqBlockAd.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '59fb8mIHidNo75VI5Kyxo8X', 'qqBlockAd');
// gameComon/scripts/ad/qqBlockAd.js

"use strict";

var videoId = '';
var BlockAd = cc.Class({
  "extends": cc.Component,
  properties: {},
  ctor: function ctor() {
    this.instance = null;
  },
  statics: {
    create: function create(data) {
      if (!this.instance) {
        this.instance = new BlockAd();
        this.instance.initWithData(data);
        return this.instance;
      }
    }
  },
  initWithData: function initWithData(data) {
    this.targetBannerAdWidth = 200;
  },
  playBlockad: function playBlockad(show, count) {
    var _this = this;

    if (count === void 0) {
      count = 4;
    }

    if (cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'QQ') {
      //QQ
      if (show) {
        if (this.globalData && this.globalData.blockAd) {
          this.globalData.blockAd.destroy();
        }

        var res = qq.getSystemInfoSync();
        this.width = res.windowWidth;
        this.height = res.windowHeight;
        var Version2 = util.compareVersion(res.SDKVersion, "1.15.0"); //if(Version2 > 0){

        videoId = "672c9551ab8b8b8284a73dde8cf1406a";

        if (appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.blockId && appGame.gameServerRoom.adConfig.blockId.QQ) {
          videoId = appGame.gameServerRoom.adConfig.blockId.QQ.adUnitId;
        }

        this.globalData = {
          blockAd: qq.createBlockAd({
            adUnitId: videoId,
            size: count,
            orientation: 'landscape',
            style: {
              //left: 16,
              //top: this.height - (this.targetBannerAdWidth / 16) * 9, // 根据系统约定尺寸计算出广告高度,
              // width: this.targetBannerAdWidth,
              left: 16,
              top: 100
            }
          })
        };
        httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
          title: '积木广告',
          content: '创建成功',
          desc: videoId
        }, function () {}); //this.refreshSize();

        this.globalData.blockAd.onError(function (res) {
          httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
            title: '积木广告',
            content: videoId,
            desc: listener.errCode + listener.errMsg
          }, function () {});
        });
        this.globalData.blockAd.onLoad(function (res) {
          console.log('globalData blockAd onLoad', res);

          _this.globalData.blockAd.show().then(function () {
            httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
              title: '积木广告',
              content: '展示成功',
              desc: videoId
            }, function () {});
          })["catch"](function (res) {
            httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
              title: '积木广告',
              content: '展示失败',
              desc: videoId
            }, function () {});
          });
        });
      } else {
        if (this.globalData && this.globalData.blockAd) {
          this.globalData.blockAd.destroy();
          httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
            title: '积木广告',
            content: '隐藏',
            desc: videoId
          }, function () {});
        }
      }
    }
  },
  refreshSize: function refreshSize() {
    var _this2 = this;

    if (this.globalData && this.globalData.bannerAd) {
      if (cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'QQ') {
        //QQ
        this.globalData.blockAd.onResize(function (size) {
          console.log("积木广告 shezhi大小" + _this2.height + "   " + _this2.width);
          _this2.globalData.blockAd.style.top = _this2.height - size.height;
          _this2.globalData.blockAd.style.left = (_this2.width - size.width) / 2;
        });
      }
    }
  }
});
module.exports = BlockAd;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFxhZFxccXFCbG9ja0FkLmpzIl0sIm5hbWVzIjpbInZpZGVvSWQiLCJCbG9ja0FkIiwiY2MiLCJDbGFzcyIsIkNvbXBvbmVudCIsInByb3BlcnRpZXMiLCJjdG9yIiwiaW5zdGFuY2UiLCJzdGF0aWNzIiwiY3JlYXRlIiwiZGF0YSIsImluaXRXaXRoRGF0YSIsInRhcmdldEJhbm5lckFkV2lkdGgiLCJwbGF5QmxvY2thZCIsInNob3ciLCJjb3VudCIsInN5cyIsInBsYXRmb3JtIiwiV0VDSEFUX0dBTUUiLCJhcHBHYW1lIiwiZ2xvYmFsRGF0YSIsImJsb2NrQWQiLCJkZXN0cm95IiwicmVzIiwicXEiLCJnZXRTeXN0ZW1JbmZvU3luYyIsIndpZHRoIiwid2luZG93V2lkdGgiLCJoZWlnaHQiLCJ3aW5kb3dIZWlnaHQiLCJWZXJzaW9uMiIsInV0aWwiLCJjb21wYXJlVmVyc2lvbiIsIlNES1ZlcnNpb24iLCJnYW1lU2VydmVyUm9vbSIsImFkQ29uZmlnIiwiYmxvY2tJZCIsIlFRIiwiYWRVbml0SWQiLCJjcmVhdGVCbG9ja0FkIiwic2l6ZSIsIm9yaWVudGF0aW9uIiwic3R5bGUiLCJsZWZ0IiwidG9wIiwiaHR0cFV0aWxzIiwiaHR0cFBvc3QiLCJjb25zdHMiLCJIVFRQX1JFQ09SRF9TRVJWRVIiLCJ0aXRsZSIsImNvbnRlbnQiLCJkZXNjIiwib25FcnJvciIsImxpc3RlbmVyIiwiZXJyQ29kZSIsImVyck1zZyIsIm9uTG9hZCIsImNvbnNvbGUiLCJsb2ciLCJ0aGVuIiwicmVmcmVzaFNpemUiLCJiYW5uZXJBZCIsIm9uUmVzaXplIiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxPQUFPLEdBQUcsRUFBZDtBQUNBLElBQUlDLE9BQU8sR0FBR0MsRUFBRSxDQUFDQyxLQUFILENBQVM7QUFDbkIsYUFBU0QsRUFBRSxDQUFDRSxTQURPO0FBR25CQyxF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LE9BQWpCIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgdmlkZW9JZCA9ICcnO1xyXG52YXIgQmxvY2tBZCA9IGNjLkNsYXNzKHtcclxuICAgIGV4dGVuZHM6IGNjLkNvbXBvbmVudCxcclxuXHJcbiAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICB9LFxyXG4gICAgY3Rvcigpe1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBudWxsO1xyXG4gICAgfSxcclxuICAgIHN0YXRpY3M6IHtcclxuICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmKCF0aGlzLmluc3RhbmNlKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UgPSBuZXcgQmxvY2tBZCgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5pbnN0YW5jZS5pbml0V2l0aERhdGEoZGF0YSk7XHJcbiAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5pbnN0YW5jZTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH0sXHJcbiAgICBpbml0V2l0aERhdGE6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgdGhpcy50YXJnZXRCYW5uZXJBZFdpZHRoID0gMjAwOyAgXHJcbiAgICB9LFxyXG4gICAgcGxheUJsb2NrYWQ6ZnVuY3Rpb24oc2hvdyxjb3VudCA9IDQpe1xyXG4gICAgICAgIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuV0VDSEFUX0dBTUUgJiZhcHBHYW1lLnBsYXRmb3JtID09ICdRUScpeyAvL1FRXHJcbiAgICAgICAgICBpZihzaG93KXtcclxuICAgICAgICAgICAgaWYodGhpcy5nbG9iYWxEYXRhICYmIHRoaXMuZ2xvYmFsRGF0YS5ibG9ja0FkKXtcclxuICAgICAgICAgICAgICB0aGlzLmdsb2JhbERhdGEuYmxvY2tBZC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgY29uc3QgcmVzID0gcXEuZ2V0U3lzdGVtSW5mb1N5bmMoKTtcclxuICAgICAgICAgICAgdGhpcy53aWR0aCA9IHJlcy53aW5kb3dXaWR0aDtcclxuICAgICAgICAgICAgdGhpcy5oZWlnaHQgPSByZXMud2luZG93SGVpZ2h0O1xyXG4gICAgICAgICAgICB2YXIgVmVyc2lvbjIgPSB1dGlsLmNvbXBhcmVWZXJzaW9uKHJlcy5TREtWZXJzaW9uLFwiMS4xNS4wXCIpO1xyXG4gICAgICAgICAgICAvL2lmKFZlcnNpb24yID4gMCl7XHJcbiAgICAgICAgICAgICAgICB2aWRlb0lkID0gXCI2NzJjOTU1MWFiOGI4YjgyODRhNzNkZGU4Y2YxNDA2YVwiO1xyXG4gICAgICAgICAgICAgICAgaWYoYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZyAmJiBhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmFkQ29uZmlnLmJsb2NrSWQgJiYgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5hZENvbmZpZy5ibG9ja0lkLlFRKXtcclxuICAgICAgICAgICAgICAgICAgdmlkZW9JZCA9IGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uYWRDb25maWcuYmxvY2tJZC5RUS5hZFVuaXRJZDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsRGF0YSA9IHtcclxuICAgICAgICAgICAgICAgICAgICBibG9ja0FkOiBxcS5jcmVhdGVCbG9ja0FkKHtcclxuICAgICAgICAgICAgICAgICAgICAgIGFkVW5pdElkOiB2aWRlb0lkLFxyXG4gICAgICAgICAgICAgICAgICAgICAgc2l6ZTogY291bnQsXHJcbiAgICAgICAgICAgICAgICAgICAgICBvcmllbnRhdGlvbjogJ2xhbmRzY2FwZScsXHJcbiAgICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL2xlZnQ6IDE2LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL3RvcDogdGhpcy5oZWlnaHQgLSAodGhpcy50YXJnZXRCYW5uZXJBZFdpZHRoIC8gMTYpICogOSwgLy8g5qC55o2u57O757uf57qm5a6a5bC65a+46K6h566X5Ye65bm/5ZGK6auY5bqmLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB3aWR0aDogdGhpcy50YXJnZXRCYW5uZXJBZFdpZHRoLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBsZWZ0OjE2LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0b3A6MTAwLFxyXG4gICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+enr+acqOW5v+WRiicsY29udGVudDon5Yib5bu65oiQ5YqfJyxkZXNjOnZpZGVvSWR9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIC8vdGhpcy5yZWZyZXNoU2l6ZSgpO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhLmJsb2NrQWQub25FcnJvcihyZXM9PntcclxuICAgICAgICAgICAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOifnp6/mnKjlub/lkYonLGNvbnRlbnQ6dmlkZW9JZCxkZXNjOmxpc3RlbmVyLmVyckNvZGUrbGlzdGVuZXIuZXJyTXNnfSxmdW5jdGlvbigpe1xyXG4gICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhLmJsb2NrQWQub25Mb2FkKHJlcz0+e1xyXG4gICAgICAgICAgICAgICAgICBjb25zb2xlLmxvZygnZ2xvYmFsRGF0YSBibG9ja0FkIG9uTG9hZCcscmVzKVxyXG4gICAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbERhdGEuYmxvY2tBZC5zaG93KCkudGhlbigoKT0+e1xyXG4gICAgICAgICAgICAgICAgICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon56ev5pyo5bm/5ZGKJyxjb250ZW50OiflsZXnpLrmiJDlip8nLGRlc2M6dmlkZW9JZH0sZnVuY3Rpb24oKXtcclxuICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgfSkuY2F0Y2goKHJlcyk9PntcclxuICAgICAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+enr+acqOW5v+WRiicsY29udGVudDon5bGV56S65aSx6LSlJyxkZXNjOnZpZGVvSWR9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgfSlcclxuICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgIGlmKHRoaXMuZ2xvYmFsRGF0YSAmJiB0aGlzLmdsb2JhbERhdGEuYmxvY2tBZCl7XHJcbiAgICAgICAgICAgICAgICB0aGlzLmdsb2JhbERhdGEuYmxvY2tBZC5kZXN0cm95KCk7XHJcbiAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+enr+acqOW5v+WRiicsY29udGVudDon6ZqQ6JePJyxkZXNjOnZpZGVvSWR9LGZ1bmN0aW9uKCl7XHJcbiAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICB9ICBcclxuICAgICAgICAgIH1cclxuICAgICAgfSxcclxuICAgICAgcmVmcmVzaFNpemUoKXtcclxuICAgICAgICBpZih0aGlzLmdsb2JhbERhdGEgJiYgdGhpcy5nbG9iYWxEYXRhLmJhbm5lckFkKXtcclxuICAgICAgICAgICAgaWYoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5XRUNIQVRfR0FNRSAmJmFwcEdhbWUucGxhdGZvcm0gPT0gJ1FRJyl7IC8vUVFcclxuICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsRGF0YS5ibG9ja0FkLm9uUmVzaXplKChzaXplKSA9PiB7XHJcbiAgICAgICAgICAgICAgICAgICAgY29uc29sZS5sb2coXCLnp6/mnKjlub/lkYogc2hlemhp5aSn5bCPXCIrdGhpcy5oZWlnaHQrXCIgICBcIit0aGlzLndpZHRoKVxyXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZ2xvYmFsRGF0YS5ibG9ja0FkLnN0eWxlLnRvcCA9IHRoaXMuaGVpZ2h0IC0gc2l6ZS5oZWlnaHQ7XHJcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhLmJsb2NrQWQuc3R5bGUubGVmdCA9ICh0aGlzLndpZHRoIC0gc2l6ZS53aWR0aCkgLyAyO1xyXG4gICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG59KTtcclxubW9kdWxlLmV4cG9ydHMgPSBCbG9ja0FkO1xyXG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/model/appGame.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ed2f8mb9M5M3JYlDEliFk1E', 'appGame');
// gameComon/scripts/model/appGame.js

"use strict";

/**
 * 模型层根节点
 */
var Emitter = require('emitter');

var AppGame = cc.Class({
  properties: {},
  ctor: function ctor() {
    cc.log('create new AppGame start');
    var self = this;
    this.gameServerRoom = {};
    this.videoBanner = {}; //激励视频

    this.interstitialAd = {}; //插屏广告

    this.banner = {}; //banner广告

    this.nativeAd = {}; //原生广告

    this.appBoxAd = {}; //盒子广告

    this.blockAd = {}; //积木广告

    this.gridAd = {};
    this.deviceInfo = ""; //设备信息

    this.userId = ""; //本地生成的玩家userId

    this.nativeAdData = null;
    this.visibleSize = cc.view.getVisibleSize();
    this.platform = ''; //平台

    this.screenAuto = {}; //录屏

    this.appStartTime = 0;
    this.appFinishTime = 0;
    this.isClick = false; //录屏时常判断

    if (cc.sys.platform == cc.sys.BYTEDANCE_GAME) {
      //字节
      this.packageVersion = "1.0.0";
      this.platform = 'toutiao';
    } else if (cc.sys.platform == cc.sys.WECHAT_GAME) {
      //微信  QQ   WX
      this.packageVersion = "1.0.0";
      this.platform = 'QQ';
    } else if (cc.sys.platform == cc.sys.BAIDU_GAME) {
      //百度
      this.packageVersion = "1.0.0";
      this.platform = 'baidu';
    } else if (cc.sys.platform == cc.sys.OPPO_GAME) {
      //oppo
      this.packageVersion = "1.0.0";
      this.platform = 'oppo';
    } else if (cc.sys.platform == cc.sys.XIAOMI_GAME) {
      //小米
      this.packageVersion = "1.0.0";
      this.platform = 'xiaomi';
    } else if (cc.sys.platform == cc.sys.VIVO_GAME) {
      //vivo
      this.packageVersion = "1.0.0";
      this.platform = 'vivo';
    } else if (cc.sys.platform == cc.sys.ANDROID) {
      this.packageVersion = "1.0.0";
      this.platform = 'android';
    } else {
      this.packageVersion = "1.0.0";
      this.platform = 'QQ';
    }

    var createObj = function createObj(className) {
      var ctorFun = require(className);

      var obj = new ctorFun(self);
      cc.log('初始化AppGame时已创建%s', className);
      return obj;
    };

    this.audioMgr = createObj('audioMgr'); //音效

    this.emitter = new AppEmitter(this); //弹窗、跑马灯等公用事件的注册和触发工具

    cc.log('create new AppGame end');
    this.show2Hide();
  },
  statics: {
    init: function init() {
      if (!window.appGame) {
        cc.log('have no window.AppGame');
        window.consts = require('consts');
        window.httpUtils = require('httpUtils');
        window.async = require('async');
        window.underscore = require('underscore');
        window.util = require('util');
        window.platformFun = require('platformFun');

        if (cc.sys.os == cc.sys.OS_ANDROID) {
          window.androidHelper = require('androidHelper');
        }

        window.appGame = new AppGame();
      } else {
        cc.log('have window.app, so do nothing');
      }
    }
  },
  show2Hide: function show2Hide() {
    /* 游戏进入前台 */
    cc.game.on(cc.game.EVENT_SHOW, function () {
      if (appGame.interstitialAd && appGame.gameServerRoom.gameConfigData && !appGame.gameServerRoom.gameConfigData.isbanner) {
        appGame.interstitialAd.playAd();
      }

      if (appGame.gameServerRoom && appGame.gameServerRoom.isHadWord) {
        util.spreadWordFun();
      }

      console.log('game enter fore on');
    });
    /* 游戏进入后台 */

    cc.game.on(cc.game.EVENT_HIDE, function () {
      console.log('game enter back on');

      if (appGame.gameServerRoom && appGame.gameServerRoom.wordRid) {
        util.spreadClose(appGame.gameServerRoom.wordRid);
      }

      if (appGame.appStartTime != 0) {
        //超过10分钟的话不用打点
        appGame.appFinishTime = new Date().getTime() - appGame.appStartTime;
        appGame.appFinishTime = util.timeConvertInt(appGame.appFinishTime);
        httpUtils.httpPost(consts.HTTP_RECORD_SERVER, {
          title: '关闭APP',
          content: 'APP停留时长',
          desc: appGame.appFinishTime
        }, function () {});
      }
    });
  }
});
module.exports = AppGame;

var AppEmitter = function AppEmitter(app) {
  var addEventListener = this.addEventListener;

  this.on = this.addEventListener = function (event, fn, obj) {
    //cc.log('添加app本地事件，%s', event);
    addEventListener.call(this, event, fn, obj);
  };

  var removeEventListener = this.removeEventListener;

  this.off = this.removeEventListener = function (event, fn) {
    //cc.log('删除app本地事件，%s', event);
    removeEventListener.call(this, event, fn);
  };
};

AppEmitter.prototype = new EventEmitter();

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFxtb2RlbFxcYXBwR2FtZS5qcyJdLCJuYW1lcyI6WyJFbWl0dGVyIiwicmVxdWlyZSIsIkFwcEdhbWUiLCJjYyIsIkNsYXNzIiwicHJvcGVydGllcyIsImN0b3IiLCJsb2ciLCJzZWxmIiwiZ2FtZVNlcnZlclJvb20iLCJ2aWRlb0Jhbm5lciIsImludGVyc3RpdGlhbEFkIiwiYmFubmVyIiwibmF0aXZlQWQiLCJhcHBCb3hBZCIsImJsb2NrQWQiLCJncmlkQWQiLCJkZXZpY2VJbmZvIiwidXNlcklkIiwibmF0aXZlQWREYXRhIiwidmlzaWJsZVNpemUiLCJ2aWV3IiwiZ2V0VmlzaWJsZVNpemUiLCJwbGF0Zm9ybSIsInNjcmVlbkF1dG8iLCJhcHBTdGFydFRpbWUiLCJhcHBGaW5pc2hUaW1lIiwiaXNDbGljayIsInN5cyIsIkJZVEVEQU5DRV9HQU1FIiwicGFja2FnZVZlcnNpb24iLCJXRUNIQVRfR0FNRSIsIkJBSURVX0dBTUUiLCJPUFBPX0dBTUUiLCJYSUFPTUlfR0FNRSIsIlZJVk9fR0FNRSIsIkFORFJPSUQiLCJjcmVhdGVPYmoiLCJjbGFzc05hbWUiLCJjdG9yRnVuIiwib2JqIiwiYXVkaW9NZ3IiLCJlbWl0dGVyIiwiQXBwRW1pdHRlciIsInNob3cySGlkZSIsInN0YXRpY3MiLCJpbml0Iiwid2luZG93IiwiYXBwR2FtZSIsImNvbnN0cyIsImh0dHBVdGlscyIsImFzeW5jIiwidW5kZXJzY29yZSIsInV0aWwiLCJwbGF0Zm9ybUZ1biIsIm9zIiwiT1NfQU5EUk9JRCIsImFuZHJvaWRIZWxwZXIiLCJnYW1lIiwib24iLCJFVkVOVF9TSE9XIiwiZ2FtZUNvbmZpZ0RhdGEiLCJpc2Jhbm5lciIsInBsYXlBZCIsImlzSGFkV29yZCIsInNwcmVhZFdvcmRGdW4iLCJjb25zb2xlIiwiRVZFTlRfSElERSIsIndvcmRSaWQiLCJzcHJlYWRDbG9zZSIsIkRhdGUiLCJnZXRUaW1lIiwidGltZUNvbnZlcnRJbnQiLCJodHRwUG9zdCIsIkhUVFBfUkVDT1JEX1NFUlZFUiIsInRpdGxlIiwiY29udGVudCIsImRlc2MiLCJtb2R1bGUiLCJleHBvcnRzIiwiYXBwIiwiYWRkRXZlbnRMaXN0ZW5lciIsImV2ZW50IiwiZm4iLCJjYWxsIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsIm9mZiIsInByb3RvdHlwZSIsIkV2ZW50RW1pdHRlciJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQSxJQUFJQSxPQUFPLEdBQUdDLE9BQU8sQ0FBQyxTQUFELENBQXJCOztBQUNBLElBQUlDLE9BQU8sR0FBR0MsRUFBRSxDQUFDQyxLQUFILENBQVM7QUFDbkJDLEVBQUFBLFVBQVUsRUFBRSxFQURPO0FBSW5CQyxFQUFBQSxJQUFJLEVBQUUsZ0JBQVk7QUFDZEgsSUFBQUEsRUFBRSxDQUFDSSxHQUFILENBQU8sMEJBQVA7QUFDQSxRQUFJQyxJQUFJLEdBQUcsSUFBWDtBQUNBLFNBQUtDLGNBQUwsR0FBc0IsRUFBdEI7QUFDQSxTQUFLQyxXQUFMLEdBQW1CLEVBQW5CLENBSmMsQ0FJUzs7QUFDdkIsU0FBS0MsY0FBTCxHQUFzQixFQUF0QixDQUxjLENBS1k7O0FBQzFCLFNBQUtDLE1BQUwsR0FBYyxFQUFkLENBTmMsQ0FNSTs7QUFDbEIsU0FBS0MsUUFBTCxHQUFnQixFQUFoQixDQVBjLENBT007O0FBQ3BCLFNBQUtDLFFBQUwsR0FBZ0IsRUFBaEIsQ0FSYyxDQVFNOztBQUNwQixTQUFLQyxPQUFMLEdBQWUsRUFBZixDQVRjLENBU0s7O0FBQ25CLFNBQUtDLE1BQUwsR0FBYyxFQUFkO0FBQ0EsU0FBS0MsVUFBTCxHQUFrQixFQUFsQixDQVhjLENBV1E7O0FBQ3RCLFNBQUtDLE1BQUwsR0FBYyxFQUFkLENBWmMsQ0FZSzs7QUFDbkIsU0FBS0MsWUFBTCxHQUFvQixJQUFwQjtBQUNBLFNBQUtDLFdBQUwsR0FBbUJqQixFQUFFLENBQUNrQixJQUFILENBQVFDLGNBQVIsRUFBbkI7QUFDQSxTQUFLQyxRQUFM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Q3RCO0FBQTlDLFNBQTdDLEVBQTBHLFlBQVUsQ0FDbkgsQ0FERDtBQUVIO0FBQ0osS0FYRDtBQVlIO0FBM0drQixDQUFULENBQWQ7QUE4R0FvRCxNQUFNLENBQUNDLE9BQVAsR0FBaUI3RSxPQUFqQjs7QUFFQSxJQUFJeUMsVUFBVSxHQUFHLFNBQWJBLFVBQWEsQ0FBVXFDLEdBQVYsRUFBZTtBQUM1QixNQUFJQyxnQkFBZ0IsR0FBRyxLQUFLQSxnQkFBNUI7O0FBQ0EsT0FBS3RCLEVBQUwsR0FDSSxLQUFLc0IsZ0JBQUwsR0FBd0IsVUFBVUMsS0FBVixFQUFpQkMsRUFBakIsRUFBcUIzQyxHQUFyQixFQUEwQjtBQUM5QztBQUNBeUMsSUFBQUEsZ0JBQWdCLENBQUNHLElBQWpCLENBQXNCLElBQXRCLEVBQTRCRixLQUE1QixFQUFtQ0MsRUFBbkMsRUFBdUMzQyxHQUF2QztBQUNILEdBSkw7O0FBS0EsTUFBSTZDLG1CQUFtQixHQUFHLEtBQUtBLG1CQUEvQjs7QUFDQSxPQUFLQyxHQUFMLEdBQ0ksS0FBS0QsbUJBQUwsR0FBMkIsVUFBVUgsS0FBVixFQUFpQkMsRUFBakIsRUFBcUI7QUFDNUM7QUFDQUUsSUFBQUEsbUJBQW1CLENBQUNELElBQXBCLENBQXlCLElBQXpCLEVBQStCRixLQUEvQixFQUFzQ0MsRUFBdEM7QUFDSCxHQUpMO0FBS0gsQ0FiRDs7QUFlQXhDLFVBQVUsQ0FBQzRDLFNBQVgsR0FBdUIsSUFBSUMsWUFBSixFQUF2QiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiLyoqXG4gKiDmqKHlnovlsYLmoLnoioLngrlcbiAqL1xudmFyIEVtaXR0ZXIgPSByZXF1aXJlKCdlbWl0dGVyJyk7XG52YXIgQXBwR2FtZSA9IGNjLkNsYXNzKHtcbiAgICBwcm9wZXJ0aWVzOiB7XG4gICAgfSxcblxuICAgIGN0b3I6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgY2MubG9nKCdjcmVhdGUgbmV3IEFwcEdhbWUgc3RhcnQnKTtcbiAgICAgICAgdmFyIHNlbGYgPSB0aGlzO1xuICAgICAgICB0aGlzLmdhbWVTZXJ2ZXJSb29tID0ge307XG4gICAgICAgIHRoaXMudmlkZW9CYW5uZXIgPSB7fTsgLy/mv4DlirHop4bpopFcbiAgICAgICAgdGhpcy5pbnRlcnN0aXRpYWxBZCA9IHt9OyAvL+aPkuWxj+W5v+WRilxuICAgICAgICB0aGlzLmJhbm5lciA9IHt9OyAvL2Jhbm5lcuW5v+WRilxuICAgICAgICB0aGlzLm5hdGl2ZUFkID0ge307IC8v5Y6f55Sf5bm/5ZGKXG4gICAgICAgIHRoaXMuYXBwQm94QWQgPSB7fTsgLy/nm5LlrZDlub/lkYpcbiAgICAgICAgdGhpcy5ibG9ja0FkID0ge307IC8v56ev5pyo5bm/5ZGKXG4gICAgICAgIHRoaXMuZ3JpZEFkID0ge307XG4gICAgICAgIHRoaXMuZGV2aWNlSW5mbyA9IFwiXCI7IC8v6K6+5aSH5L+h5oGvXG4gICAgICAgIHRoaXMudXNlcklkID0gXCJcIjsgIC8v5pys5Zyw55Sf5oiQ55qE546p5a62dXNlcklkXG4gICAgICAgIHRoaXMubmF0aXZlQWREYXRhID0gbnVsbDtcbiAgICAgICAgdGhpcy52aXNpYmxlU2l6ZSA9IGNjLnZpZXcuZ2V0VmlzaWJsZVNpemUoKTtcbiAgICAgICAgdGhpcy5wbGF0Zm9ybSA9ICcnOyAvL+W5s+WPsFxuICAgICAgICB0aGlzLnNjcmVlbkF1dG89e307Ly/lvZXlsY9cbiAgICAgICAgdGhpcy5hcHBTdGFydFRpbWUgPSAwO1xuICAgICAgICB0aGlzLmFwcEZpbmlzaFRpbWUgPSAwO1xuICAgICAgICB0aGlzLmlzQ2xpY2sgPSBmYWxzZTsgIC8v5b2V5bGP5pe25bi45Yik5patXG5cblxuICAgICAgICBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLkJZVEVEQU5DRV9HQU1FKXsgLy/lrZfoioJcbiAgICAgICAgICAgIHRoaXMucGFja2FnZVZlcnNpb24gPSBcIjEuMC4wXCI7XG4gICAgICAgICAgICB0aGlzLnBsYXRmb3JtID0gJ3RvdXRpYW8nO1xuICAgICAgICB9ZWxzZSBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLldFQ0hBVF9HQU1FKXsgLy/lvq7kv6EgIFFRICAgV1hcbiAgICAgICAgICAgIHRoaXMucGFja2FnZVZlcnNpb24gPSBcIjEuMC4wXCI7XG4gICAgICAgICAgICB0aGlzLnBsYXRmb3JtID0gJ1FRJztcbiAgICAgICAgfWVsc2UgaWYoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5CQUlEVV9HQU1FKXsgLy/nmb7luqZcbiAgICAgICAgICAgIHRoaXMucGFja2FnZVZlcnNpb24gPSBcIjEuMC4wXCI7XG4gICAgICAgICAgICB0aGlzLnBsYXRmb3JtID0gJ2JhaWR1JztcbiAgICAgICAgfWVsc2UgaWYoY2Muc3lzLnBsYXRmb3JtID09IGNjLnN5cy5PUFBPX0dBTUUpeyAvL29wcG9cbiAgICAgICAgICAgIHRoaXMucGFja2FnZVZlcnNpb24gPSBcIjEuMC4wXCI7XG4gICAgICAgICAgICB0aGlzLnBsYXRmb3JtID0gJ29wcG8nO1xuICAgICAgICB9ZWxzZSBpZihjYy5zeXMucGxhdGZvcm0gPT0gY2Muc3lzLlhJQU9NSV9HQU1FKXsgLy/lsI/nsbNcbiAgICAgICAgICAgIHRoaXMucGFja2FnZVZlcnNpb24gPSBcIjEuMC4wXCI7XG4gICAgICAgICAgICB0aGlzLnBsYXRmb3JtID0gJ3hpYW9taSc7XG4gICAgICAgIH1lbHNlIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuVklWT19HQU1FKXsgIC8vdml2b1xuICAgICAgICAgICAgdGhpcy5wYWNrYWdlVmVyc2lvbiA9IFwiMS4wLjBcIjtcbiAgICAgICAgICAgIHRoaXMucGxhdGZvcm0gPSAndml2byc7XG4gICAgICAgIH1lbHNlIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuQU5EUk9JRCl7XG4gICAgICAgICAgICB0aGlzLnBhY2thZ2VWZXJzaW9uID0gXCIxLjAuMFwiO1xuICAgICAgICAgICAgdGhpcy5wbGF0Zm9ybSA9ICdhbmRyb2lkJztcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLnBhY2thZ2VWZXJzaW9uID0gXCIxLjAuMFwiO1xuICAgICAgICAgICAgdGhpcy5wbGF0Zm9ybSA9ICdRUSc7XG4gICAgICAgIH1cblxuICAgICAgICB2YXIgY3JlYXRlT2JqID0gZnVuY3Rpb24gKGNsYXNzTmFtZSkge1xuICAgICAgICAgICAgdmFyIGN0b3JGdW4gPSByZXF1aXJlKGNsYXNzTmFtZSk7XG4gICAgICAgICAgICB2YXIgb2JqID0gbmV3IGN0b3JGdW4oc2VsZik7XG4gICAgICAgICAgICBjYy5sb2coJ+WIneWni+WMlkFwcEdhbWXml7blt7LliJvlu7olcycsIGNsYXNzTmFtZSk7XG4gICAgICAgICAgICByZXR1cm4gb2JqO1xuICAgICAgICB9O1xuICAgICAgICB0aGlzLmF1ZGlvTWdyID0gY3JlYXRlT2JqKCdhdWRpb01ncicpOyAvL+mfs+aViFxuICAgICAgICB0aGlzLmVtaXR0ZXIgPSBuZXcgQXBwRW1pdHRlcih0aGlzKTsgLy/lvLnnqpfjgIHot5Hpqaznga/nrYnlhaznlKjkuovku7bnmoTms6jlhozlkozop6blj5Hlt6XlhbdcbiAgICAgICAgY2MubG9nKCdjcmVhdGUgbmV3IEFwcEdhbWUgZW5kJyk7XG4gICAgICAgIHRoaXMuc2hvdzJIaWRlKCk7XG4gICAgfSxcbiAgICBzdGF0aWNzOiB7XG4gICAgICAgIGluaXQ6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgIGlmICghd2luZG93LmFwcEdhbWUpIHtcbiAgICAgICAgICAgICAgICBjYy5sb2coJ2hhdmUgbm8gd2luZG93LkFwcEdhbWUnKTtcbiAgICAgICAgICAgICAgICB3aW5kb3cuY29uc3RzID0gcmVxdWlyZSgnY29uc3RzJyk7XG4gICAgICAgICAgICAgICAgd2luZG93Lmh0dHBVdGlscyA9IHJlcXVpcmUoJ2h0dHBVdGlscycpO1xuICAgICAgICAgICAgICAgIHdpbmRvdy5hc3luYyA9IHJlcXVpcmUoJ2FzeW5jJyk7XG4gICAgICAgICAgICAgICAgd2luZG93LnVuZGVyc2NvcmUgPSByZXF1aXJlKCd1bmRlcnNjb3JlJyk7XG4gICAgICAgICAgICAgICAgd2luZG93LnV0aWwgPSByZXF1aXJlKCd1dGlsJyk7XG4gICAgICAgICAgICAgICAgd2luZG93LnBsYXRmb3JtRnVuID0gcmVxdWlyZSgncGxhdGZvcm1GdW4nKTtcbiAgICAgICAgICAgICAgICBpZihjYy5zeXMub3MgPT0gY2Muc3lzLk9TX0FORFJPSUQpIHtcbiAgICAgICAgICAgICAgICAgICAgd2luZG93LmFuZHJvaWRIZWxwZXIgPSByZXF1aXJlKCdhbmRyb2lkSGVscGVyJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHdpbmRvdy5hcHBHYW1lID0gbmV3IEFwcEdhbWUoKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2MubG9nKCdoYXZlIHdpbmRvdy5hcHAsIHNvIGRvIG5vdGhpbmcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH0sXG5cbiAgICBzaG93MkhpZGUoKXtcbiAgICAgICAgLyog5ri45oiP6L+b5YWl5YmN5Y+wICovXG4gICAgICAgIGNjLmdhbWUub24oY2MuZ2FtZS5FVkVOVF9TSE9XLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBpZihhcHBHYW1lLmludGVyc3RpdGlhbEFkJiZhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmdhbWVDb25maWdEYXRhJiYhYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5nYW1lQ29uZmlnRGF0YS5pc2Jhbm5lcil7XG4gICAgICAgICAgICAgICAgYXBwR2FtZS5pbnRlcnN0aXRpYWxBZC5wbGF5QWQoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmKGFwcEdhbWUuZ2FtZVNlcnZlclJvb20gJiYgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5pc0hhZFdvcmQpe1xuICAgICAgICAgICAgICAgIHV0aWwuc3ByZWFkV29yZEZ1bigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29uc29sZS5sb2coJ2dhbWUgZW50ZXIgZm9yZSBvbicpO1xuICAgICAgICB9KTtcbiAgICAgICAgLyog5ri45oiP6L+b5YWl5ZCO5Y+wICovXG4gICAgICAgIGNjLmdhbWUub24oY2MuZ2FtZS5FVkVOVF9ISURFLCBmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZygnZ2FtZSBlbnRlciBiYWNrIG9uJyk7XG4gICAgICAgICAgICBpZihhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tICYmIGFwcEdhbWUuZ2FtZVNlcnZlclJvb20ud29yZFJpZCl7XG4gICAgICAgICAgICAgICAgdXRpbC5zcHJlYWRDbG9zZShhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLndvcmRSaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoYXBwR2FtZS5hcHBTdGFydFRpbWUhPTApey8v6LaF6L+HMTDliIbpkp/nmoTor53kuI3nlKjmiZPngrlcbiAgICAgICAgICAgICAgICBhcHBHYW1lLmFwcEZpbmlzaFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKSAtIGFwcEdhbWUuYXBwU3RhcnRUaW1lO1xuICAgICAgICAgICAgICAgIGFwcEdhbWUuYXBwRmluaXNoVGltZSA9IHV0aWwudGltZUNvbnZlcnRJbnQoYXBwR2FtZS5hcHBGaW5pc2hUaW1lKTtcbiAgICAgICAgICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+WFs+mXrUFQUCcsY29udGVudDonQVBQ5YGc55WZ5pe26ZW/JyxkZXNjOmFwcEdhbWUuYXBwRmluaXNoVGltZX0sZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfSxcbn0pO1xuXG5tb2R1bGUuZXhwb3J0cyA9IEFwcEdhbWU7XG5cbnZhciBBcHBFbWl0dGVyID0gZnVuY3Rpb24gKGFwcCkge1xuICAgIHZhciBhZGRFdmVudExpc3RlbmVyID0gdGhpcy5hZGRFdmVudExpc3RlbmVyO1xuICAgIHRoaXMub24gPVxuICAgICAgICB0aGlzLmFkZEV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnQsIGZuLCBvYmopIHtcbiAgICAgICAgICAgIC8vY2MubG9nKCfmt7vliqBhcHDmnKzlnLDkuovku7bvvIwlcycsIGV2ZW50KTtcbiAgICAgICAgICAgIGFkZEV2ZW50TGlzdGVuZXIuY2FsbCh0aGlzLCBldmVudCwgZm4sIG9iaik7XG4gICAgICAgIH07XG4gICAgdmFyIHJlbW92ZUV2ZW50TGlzdGVuZXIgPSB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXI7XG4gICAgdGhpcy5vZmYgPVxuICAgICAgICB0aGlzLnJlbW92ZUV2ZW50TGlzdGVuZXIgPSBmdW5jdGlvbiAoZXZlbnQsIGZuKSB7XG4gICAgICAgICAgICAvL2NjLmxvZygn5Yig6ZmkYXBw5pys5Zyw5LqL5Lu277yMJXMnLCBldmVudCk7XG4gICAgICAgICAgICByZW1vdmVFdmVudExpc3RlbmVyLmNhbGwodGhpcywgZXZlbnQsIGZuKTtcbiAgICAgICAgfTtcbn07XG5cbkFwcEVtaXR0ZXIucHJvdG90eXBlID0gbmV3IEV2ZW50RW1pdHRlcigpOyJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/ad/nativeAd.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '798f3uehO1CeqnH/lESNu8/', 'nativeAd');
// gameComon/scripts/ad/nativeAd.js

"use strict";

var NativeAd = cc.Class({
  properties: {},
  ctor: function ctor() {
    this.instance = null;
  },
  statics: {
    create: function create(data) {
      if (!this.instance) {
        this.instance = new NativeAd();
        this.instance.initWithData(data);
        return this.instance;
      }
    }
  },
  initWithData: function initWithData(data) {
    if (cc.sys.platform == cc.sys.OPPO_GAME) {
      //oppo
      this.globalData = {
        nativeAd: qg.createNativeAd({
          adUnitId: '226783'
        })
      };
    }

    if (this.globalData && this.globalData.nativeAd) {
      // 设置原生广告加载成功回调
      this.globalData.nativeAd.onLoad(function (res) {
        cc.log("\u52A0\u8F7D\u539F\u751F\u5E7F\u544A\u6210\u529F", "\uFF1A" + JSON.stringify(res));
        res.adList && res.adList.length > 0 && (appGame.nativeAdData = res.adList[0]);
        appGame.gameServerRoom.emit(consts.LOCAL_GAME_RESULT_NATIVE_AD, {});
      }); // 设置原生广告出错回调

      this.globalData.nativeAd.onError(function (err) {
        cc.log("\u8BBE\u7F6E\u539F\u751F\u5E7F\u544A\u51FA\u9519\uFF1A" + JSON.stringify(err));
      });
    }
  },
  playAd: function playAd() {
    console.log("播放原生广告==");

    if (this.globalData && this.globalData.nativeAd) {
      var nativeAd = this.globalData.nativeAd;
      nativeAd.load().then(function () {
        console.log("原生广告显示成功");
        return nativeAd.show();
      })["catch"](function (err) {
        console.log("原生广告出现问题", err);
      });
    }
  }
});
module.exports = NativeAd;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFxhZFxcbmF0aXZlQWQuanMiXSwibmFtZXMiOlsiTmF0aXZlQWQiLCJjYyIsIkNsYXNzIiwicHJvcGVydGllcyIsImN0b3IiLCJpbnN0YW5jZSIsInN0YXRpY3MiLCJjcmVhdGUiLCJkYXRhIiwiaW5pdFdpdGhEYXRhIiwic3lzIiwicGxhdGZvcm0iLCJPUFBPX0dBTUUiLCJnbG9iYWxEYXRhIiwibmF0aXZlQWQiLCJxZyIsImNyZWF0ZU5hdGl2ZUFkIiwiYWRVbml0SWQiLCJvbkxvYWQiLCJyZXMiLCJsb2ciLCJKU09OIiwic3RyaW5naWZ5IiwiYWRMaXN0IiwibGVuZ3RoIiwiYXBwR2FtZSIsIm5hdGl2ZUFkRGF0YSIsImdhbWVTZXJ2ZXJSb29tIiwiZW1pdCIsImNvbnN0cyIsIkxPQ0FMX0dBTUVfUkVTVUxUX05BVElWRV9BRCIsIm9uRXJyb3IiLCJlcnIiLCJwbGF5QWQiLCJjb25zb2xlIiwibG9hZCIsInRoZW4iLCJzaG93IiwibW9kdWxlIiwiZXhwb3J0cyJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxJQUFJQSxRQUFRLEdBQUdDLEVBQUUsQ0FBQ0MsS0FBSCxDQUFTO0FBQ3BCQyxFQUFBQSxVQUFVLEVBQUUsRUFEUTtBQUdwQkMsRUFBQUEsSUFIb0Isa0JBR2Q7QUFDRixTQUFLQyxRQUFMLEdBQWdCLElBQWhCO0FBQ0gsR0FMbUI7QUFNcEJDLEVBQUFBLE9BQU8sRUFBRTtBQUNMQyxJQUFBQSxNQUFNLEVBQUUsZ0JBQVVDLElBQVYsRUFBZ0I7QUFDcEIsVUFBRyxDQUFDLEtBQUtILFFBQVQsRUFBa0I7QUFDZCxhQUFLQSxRQUFMLEdBQWdCLElBQUlMLFFBQUosRUFBaEI7QUFDQSxhQUFLSyxRQUFMLENBQWNJLFlBQWQsQ0FBMkJELElBQTNCO0FBQ0EsZUFBTyxLQUFLSCxRQUFaO0FBQ0g7QUFDSjtBQVBJLEdBTlc7QUFlcEJJLEVBQUFBLFlBQVksRUFBRSxzQkFBVUQsSUFBVixFQUFnQjtBQUMxQixRQUFHUCxFQUFFLENBQUNTLEdBQUgsQ0FBT0MsUUFBUCxJQUFtQlYsRUFBRSxDQUFDUyxHQUFILENBQU9FLFNBQTdCLEVBQXVDO0FBQUM7QUFDcEMsV0FBS0MsVUFBTCxHQUFrQjtBQUNkQyxRQUFBQSxRQUFRLEVBQUVDLEVBQUUsQ0FBQ0MsY0FBSCxDQUFrQjtBQUN4QkMsVUFBQUEsUUFBUSxFQUFFO0FBRGMsU0FBbEI7QUFESSxPQUFsQjtBQUtIOztBQUNELFFBQUcsS0FBS0osVUFBTCxJQUFtQixLQUFLQSxVQUFMLENBQWdCQyxRQUF0QyxFQUErQztBQUMzQztBQUNBLFdBQUtELFVBQUwsQ0FBZ0JDLFFBQWhCLENBQXlCSSxNQUF6QixDQUFnQyxVQUFBQyxHQUFHLEVBQUk7QUFDbkNsQixRQUFBQSxFQUFFLENBQUNtQixHQUFILGdFQUF1QkMsSUFBSSxDQUFDQyxTQUFMLENBQWVILEdBQWYsQ0FBdkI7QUFDQUEsUUFBQUEsR0FBRyxDQUFDSSxNQUFKLElBQWNKLEdBQUcsQ0FBQ0ksTUFBSixDQUFXQyxNQUFYLEdBQW9CLENBQWxDLEtBQXdDQyxPQUFPLENBQUNDLFlBQVIsR0FBdUJQLEdBQUcsQ0FBQ0ksTUFBSixDQUFXLENBQVgsQ0FBL0Q7QUFDQUUsUUFBQUEsT0FBTyxDQUFDRSxjQUFSLENBQXVCQyxJQUF2QixDQUE0QkMsTUFBTSxDQUFDQywyQkFBbkMsRUFBK0QsRUFBL0Q7QUFDSCxPQUpELEVBRjJDLENBTzNDOztBQUNBLFdBQUtqQixVQUFMLENBQWdCQyxRQUFoQixDQUF5QmlCLE9BQXpCLENBQWlDLFVBQUFDLEdBQUcsRUFBSTtBQUNwQy9CLFFBQUFBLEVBQUUsQ0FBQ21CLEdBQUgsNERBQW1CQyxJQUFJLENBQUNDLFNBQUwsQ0FBZVUsR0FBZixDQUFuQjtBQUNILE9BRkQ7QUFHSDtBQUVKLEdBcENtQjtBQXFDcEJDLEVBQUFBLE1BQU0sRUFBRSxrQkFBVztBQUNmQyxJQUFBQSxPQUFPLENBQUNkLEdBQVIsQ0FBWSxVQUFaOztBQUNBLFFBQUcsS0FBS1AsVUFBTCxJQUFtQixLQUFLQSxVQUFMLENBQWdCQyxRQUF0QyxFQUErQztBQUMzQyxVQUFJQSxRQUFRLEdBQUcsS0FBS0QsVUFBTCxDQUFnQkMsUUFBL0I7QUFDQUEsTUFBQUEsUUFBUSxDQUNQcUIsSUFERCxHQUVDQyxJQUZELENBRU0sWUFBTTtBQUNSRixRQUFBQSxPQUFPLENBQUNkLEdBQVIsQ0FBWSxVQUFaO0FBQ0EsZUFBT04sUUFBUSxDQUFDdUIsSUFBVCxFQUFQO0FBQ0gsT0FMRCxXQU1PLFVBQUNMLEdBQUQsRUFBUztBQUNaRSxRQUFBQSxPQUFPLENBQUNkLEdBQVIsQ0FBWSxVQUFaLEVBQXdCWSxHQUF4QjtBQUNILE9BUkQ7QUFTSDtBQUNKO0FBbkRtQixDQUFULENBQWY7QUFxREFNLE1BQU0sQ0FBQ0MsT0FBUCxHQUFpQnZDLFFBQWpCIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgTmF0aXZlQWQgPSBjYy5DbGFzcyh7XHJcbiAgICBwcm9wZXJ0aWVzOiB7XHJcbiAgICB9LFxyXG4gICAgY3Rvcigpe1xyXG4gICAgICAgIHRoaXMuaW5zdGFuY2UgPSBudWxsO1xyXG4gICAgfSxcclxuICAgIHN0YXRpY3M6IHtcclxuICAgICAgICBjcmVhdGU6IGZ1bmN0aW9uIChkYXRhKSB7XHJcbiAgICAgICAgICAgIGlmKCF0aGlzLmluc3RhbmNlKXtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UgPSBuZXcgTmF0aXZlQWQoKTtcclxuICAgICAgICAgICAgICAgIHRoaXMuaW5zdGFuY2UuaW5pdFdpdGhEYXRhKGRhdGEpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMuaW5zdGFuY2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9LFxyXG4gICAgaW5pdFdpdGhEYXRhOiBmdW5jdGlvbiAoZGF0YSkge1xyXG4gICAgICAgIGlmKGNjLnN5cy5wbGF0Zm9ybSA9PSBjYy5zeXMuT1BQT19HQU1FKXsvL29wcG9cclxuICAgICAgICAgICAgdGhpcy5nbG9iYWxEYXRhID0ge1xyXG4gICAgICAgICAgICAgICAgbmF0aXZlQWQ6IHFnLmNyZWF0ZU5hdGl2ZUFkKHtcclxuICAgICAgICAgICAgICAgICAgICBhZFVuaXRJZDogJzIyNjc4MycsXHJcbiAgICAgICAgICAgICAgICB9KSxcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgICAgICBpZih0aGlzLmdsb2JhbERhdGEgJiYgdGhpcy5nbG9iYWxEYXRhLm5hdGl2ZUFkKXtcclxuICAgICAgICAgICAgLy8g6K6+572u5Y6f55Sf5bm/5ZGK5Yqg6L295oiQ5Yqf5Zue6LCDXHJcbiAgICAgICAgICAgIHRoaXMuZ2xvYmFsRGF0YS5uYXRpdmVBZC5vbkxvYWQocmVzID0+IHtcclxuICAgICAgICAgICAgICAgIGNjLmxvZyhg5Yqg6L295Y6f55Sf5bm/5ZGK5oiQ5YqfYCwgYO+8miR7SlNPTi5zdHJpbmdpZnkocmVzKX1gKVxyXG4gICAgICAgICAgICAgICAgcmVzLmFkTGlzdCAmJiByZXMuYWRMaXN0Lmxlbmd0aCA+IDAgJiYgKGFwcEdhbWUubmF0aXZlQWREYXRhID0gcmVzLmFkTGlzdFswXSlcclxuICAgICAgICAgICAgICAgIGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uZW1pdChjb25zdHMuTE9DQUxfR0FNRV9SRVNVTFRfTkFUSVZFX0FELHt9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLy8g6K6+572u5Y6f55Sf5bm/5ZGK5Ye66ZSZ5Zue6LCDXHJcbiAgICAgICAgICAgIHRoaXMuZ2xvYmFsRGF0YS5uYXRpdmVBZC5vbkVycm9yKGVyciA9PiB7XHJcbiAgICAgICAgICAgICAgICBjYy5sb2coYOiuvue9ruWOn+eUn+W5v+WRiuWHuumUme+8miR7SlNPTi5zdHJpbmdpZnkoZXJyKX1gKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgIH1cclxuICAgICAgICBcclxuICAgIH0sXHJcbiAgICBwbGF5QWQ6IGZ1bmN0aW9uKCkge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKFwi5pKt5pS+5Y6f55Sf5bm/5ZGKPT1cIilcclxuICAgICAgICBpZih0aGlzLmdsb2JhbERhdGEgJiYgdGhpcy5nbG9iYWxEYXRhLm5hdGl2ZUFkKXtcclxuICAgICAgICAgICAgbGV0IG5hdGl2ZUFkID0gdGhpcy5nbG9iYWxEYXRhLm5hdGl2ZUFkO1xyXG4gICAgICAgICAgICBuYXRpdmVBZFxyXG4gICAgICAgICAgICAubG9hZCgpXHJcbiAgICAgICAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5Y6f55Sf5bm/5ZGK5pi+56S65oiQ5YqfXCIpO1xyXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5hdGl2ZUFkLnNob3coKTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi5Y6f55Sf5bm/5ZGK5Ye6546w6Zeu6aKYXCIsIGVycik7XHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuICAgIH1cclxufSk7XHJcbm1vZHVsZS5leHBvcnRzID0gTmF0aXZlQWQ7XHJcbiJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/hex-lines-game/Game.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4c9b5SEXlhDAqXGat0NcWmI', 'Game');
// Game/Scripts/hex-lines-game/Game.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Res_1 = require("./Res");
var HexonTile_1 = require("./HexonTile");
var GridManager_1 = require("./GridManager");
var InputSystem_1 = require("../../../framework/plugin_boosts/misc/InputSystem");
var Info_1 = require("../Info");
var Animal_1 = require("./Animal");
var ViewManager_1 = require("../../../framework/plugin_boosts/ui/ViewManager");
var ToastManager_1 = require("../../../framework/plugin_boosts/ui/ToastManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var LineGame = /** @class */ (function (_super) {
    __extends(LineGame, _super);
    function LineGame() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._isGameOver = false;
        _this._moveCount = 0;
        _this._playTime = 0;
        _this._colCount = 6;
        _this._rowCount = 7;
        _this._pickedTile = null;
        _this.tileLayer = null;
        _this.levelLabel = null;
        _this.timeLabel = null;
        _this.stepLabel = null;
        _this.focusNode = null;
        _this._figureList = [];
        _this.perfectMoveCount = 0;
        return _this;
    }
    LineGame_1 = LineGame;
    LineGame.prototype.get_isGameOver = function () {
        return this._isGameOver;
    };
    LineGame.prototype.get_minCol = function () {
        return this._levelData.mincol;
    };
    LineGame.prototype.get_moveCount = function () {
        return this._moveCount;
    };
    LineGame.prototype.loadLevel = function (t) {
        //test :
        t = Math.min(t, Res_1.R.levelJson.json.levels.length - 1);
        this._levelData = Res_1.R.levelJson.json.levels[t];
        this.levelLabel.string = t + "";
        if (t == 1) {
            this.scheduleOnce(this.openGuide, 0.1);
        }
    };
    LineGame.prototype.openGuide = function () {
        ViewManager_1.default.instance.show("Game/OpenGuide");
    };
    LineGame.prototype.onLoad = function () {
        var _this = this;
        var t = this;
        LineGame_1.instance = this;
        this.loadLevel(Info_1.UserInfo.currentLevel);
        //this.loadLevel(75)
        this.hideFocus();
        this._tileList = [];
        this._rowCount = this._levelData.size;
        this._colCount -= 1;
        appGame.gameServerRoom.on(consts.CLIENT_GAME_START, this.onGameStart, this);
        for (var e = 0, n = this._rowCount; n > e;) {
            var i, s = e++;
            var tmplist = [];
            i = s <= this._rowCount / 2 ? this._levelData.mincol + s : this._levelData.mincol - 1 + this._rowCount - s;
            for (var r = 0; i > r;) {
                var o = r++;
                var node = cc.instantiate(Res_1.R.TilePrefab);
                var tile = node.getComponent(HexonTile_1.default);
                node.parent = this.tileLayer;
                node.zIndex = this._rowCount - s;
                // this._tileLayer.addChild((new g).add(node))
                tile.set_row(s);
                tile.set_col(o);
                //------------------------------------------------------------------------------//
                var shadowNode = cc.instantiate(Res_1.R.TileShadow);
                var shadow = shadowNode.getComponent(HexonTile_1.default);
                shadow.set_row(s);
                shadow.set_col(o);
                shadowNode.y -= 3;
                shadowNode.parent = this.tileLayer;
                shadowNode.zIndex = 0;
                //------------------------------------------------------------------------------//
                tmplist.push(tile);
            }
            this._tileList.push(tmplist);
        }
        this._gridManager = this.tileLayer.addComponent(GridManager_1.default);
        this._gridManager.init(this._levelData.mincol);
        // this._lineLayer = (new g).add(this._gridManager),
        // this.owner.addChild(this._lineLayer),
        this.setFigure();
        this.addComponent(InputSystem_1.InputSystem);
        // this._uiLayer = new g,
        // this._uiManager = new ni(this._stageIndex + 1),
        // this.owner.addChild(this._uiLayer.add(this._uiManager))
        if (appGame.platform == 'toutiao') {
            appGame.screenAuto.playScreenCap(true);
        }
        Info_1.UserInfo.timePassed = 0;
        Info_1.UserInfo.stepUsed = 0;
        this.schedule(function (_) {
            Info_1.UserInfo.timePassed += 1;
            _this.timeLabel.string = Info_1.UserInfo.timePassed + "s";
            _this.stepLabel.string = Info_1.UserInfo.stepUsed + "步";
        }, 1);
    };
    LineGame.prototype.onDestroy = function () {
        appGame.gameServerRoom.off(consts.CLIENT_GAME_START, this.onGameStart, this);
    };
    LineGame.prototype.onGameStart = function () {
        appGame.banner.playBanner(2);
        //插屏广告
        this.schedule(function () {
            console.log("插屏广告==");
            if (appGame.interstitialAd) {
                appGame.interstitialAd.playAd("插屏");
            }
        }, 60);
        //积木广告
        this.schedule(function () {
            console.log("积木广告==");
            if (appGame.qqblockad) {
                appGame.qqblockad.playBlockad(true);
            }
        }, 30);
    };
    LineGame.prototype.onTouchBegan = function (e) {
        var t = this;
        if (!t._isGameOver) {
            // var n = t.touchXtoScreenX(e.viewX)
            // var e = t.touchYtoScreenY(e.viewY)
            // var i = t.findTileByPos(n, e)
            var p = e.currentTouch.getLocation();
            p = this.node.convertToNodeSpaceAR(p);
            var i = t.findTileByPos(p.x, p.y);
            if (null != i && 0 != i.get_animal()) {
                cc.audioEngine.playEffect(Res_1.R.audio_down, false);
                // jn.playSound(0)
                t._pickedTile = i;
                t.removeGridFromTile(t._pickedTile);
                t._pickedTile.connect(null);
                if (null != t._pickedTile.targetTile) {
                    t.removeGridFromTile(t._pickedTile.targetTile);
                    t._pickedTile.targetTile.connect(null);
                    t._pickedTile.targetTile.set_isConnecting(false);
                }
                t._pickedTile.set_isConnecting(!0);
                i = t._pickedTile.getHead();
                for (; null != i;)
                    i.set_isConnecting(!0),
                        i = i.connectedTile;
                // t._uiManager.showFocus(t._pickedTile.get_animal()),
                this.showFocus(t._pickedTile.get_animal());
                // t._uiManager.moveFocus(n, e)
                this.moveFocus(p);
            }
            this.checkCompelete();
            // 1 ==  ? 1 == t.checkFillAll() ? t._uiManager.hideFillAllPopup() : t._uiManager.showFillAllPopup() : t._uiManager.hideFillAllPopup()
        }
    };
    LineGame.prototype.checkCompelete = function () {
        if (this.checkConnectedAll()) {
            if (this.checkFillAll()) {
                // t._uiManager.hideFillAllPopup()
            }
            else {
                //  t._uiManager.showFillAllPopup()
            }
        }
        else {
            // _uiManager.hideFillAllPopup()
        }
    };
    LineGame.prototype.isTileConnected = function (t, e) {
        var n, i = t._row;
        n = t._col + (i <= this._rowCount / 2 ? 0 : t._row - (this._rowCount / 2 | 0));
        var s, a = e._row;
        return s = e._col + (a <= this._rowCount / 2 ? 0 : e._row - (this._rowCount / 2 | 0)),
            i - 1 == a && n - 1 == s || i - 1 == a && n == s || i == a && n - 1 == s || i == a && n + 1 == s || i + 1 == a && n == s || i + 1 == a && n + 1 == s ? true : false;
    };
    LineGame.prototype.onTouchMoved = function (e) {
        var t = this;
        if (!t._isGameOver) {
            var p = e.currentTouch.getLocation();
            p = this.node.convertToNodeSpaceAR(p);
            var i = t.findTileByPos(p.x, p.y);
            if (null != t._pickedTile && null != i)
                if (t.isTileConnected(t._pickedTile, i)) {
                    if (0 == i.get_animal())
                        (null == t._pickedTile.targetTile || null == t._pickedTile.reverseConnectedTile) && (t._gridManager.setState(t._pickedTile.get_row(), t._pickedTile.get_col(), i.get_row(), i.get_col(), !0), t._pickedTile.connect(i), t._pickedTile = i, t._pickedTile.set_isConnecting(!0));
                    else if (i.get_animal() == t._pickedTile.get_animal())
                        if (false == i.isChangable && !i.equals(t._pickedTile.getHead()))
                            null == i.reverseConnectedTile && (t._gridManager.setState(t._pickedTile.get_row(), t._pickedTile.get_col(), i.get_row(), i.get_col(), !0), t._pickedTile.connect(i), t._pickedTile = i);
                        else {
                            for (t._pickedTile = i, i = t._pickedTile; null != i && null != i.connectedTile;)
                                t._gridManager.setState(i.get_row(), i.get_col(), i.connectedTile.get_row(), i.connectedTile.get_col(), !1),
                                    i = i.connectedTile;
                            t._pickedTile.connect(null);
                        }
                }
                else if (i.get_animal() == t._pickedTile.get_animal() && !i.equals(t._pickedTile) && null != i.connectedTile) {
                    for (t._pickedTile = i, i = t._pickedTile; null != i && null != i.connectedTile;)
                        t._gridManager.setState(i.get_row(), i.get_col(), i.connectedTile.get_row(), i.connectedTile.get_col(), !1),
                            i = i.connectedTile;
                    t._pickedTile.connect(null);
                }
            this.moveFocus(p);
            // t._uiManager.moveFocus(n, e),
            //this.checkCompelete()
        }
    };
    LineGame.prototype.onTouchEnded = function () {
        var t = this;
        var e = false;
        if (!t._isGameOver) {
            if (null != t._pickedTile) {
                var n = t._pickedTile.getHead();
                for (null != t._pickedTile.animalSprite && null != n && null != n.animalSprite && (e = true, t._pickedTile.animalSprite.connected(), n.animalSprite.connected()); null != n;)
                    n.set_isConnecting(false),
                        n = n.connectedTile;
                t._moveCount++;
                Info_1.UserInfo.stepUsed++;
            }
            t._pickedTile = null;
            // t._uiManager.hideFocus(),
            this.hideFocus();
            if (t.checkConnectedAll()) {
                if (t.checkFillAll()) {
                    // t._uiManager.hideFillAllPopup()
                    t._isGameOver = true;
                    // t._uiManager.showClearPopup(t._moveCount, t.perfectMoveCount)
                    t.danceAll();
                }
                else {
                    //  t._uiManager.showFillAllPopup()
                    ToastManager_1.Toast.make("必须填满所有格子");
                }
            }
            else {
                // _uiManager.hideFillAllPopup()
            }
            if (e == true && !t._isGameOver) {
                // jn.playSound(1)
                cc.audioEngine.playEffect(Res_1.R.audio_link, false);
            }
            // 1 == e && 0 == t._isGameOver && jn.playSound(1)
        }
    };
    LineGame.prototype.showFocus = function (animal) {
        console.log(animal);
        this.focusNode.active = true;
        this.focusNode.zIndex = 100;
        this.focusNode.color = Res_1.R.colors[animal].clone();
    };
    LineGame.prototype.moveFocus = function (p) {
        this.focusNode.position = p;
    };
    LineGame.prototype.hideFocus = function () {
        this.focusNode.active = false;
    };
    LineGame.prototype.danceAll = function () {
        // jn.playSound(3);
        cc.audioEngine.playEffect(Res_1.R.audio_win, false);
        for (var t = 0, e = this._tileList; t < e.length;) {
            var n = e[t];
            ++t;
            for (var i = 0; i < n.length;) {
                var s = n[i];
                ++i,
                    null != s.animalSprite && s.animalSprite.loopJump(1);
            }
        }
        this.scheduleOnce(this.showWinDialog, 1);
    };
    LineGame.prototype.showWinDialog = function () {
        ViewManager_1.default.instance.show("Game/WinDialog");
    };
    LineGame.prototype.click_pause = function () {
        httpUtils.httpPost(consts.HTTP_RECORD_SERVER, { title: '游戏界面', content: '点击返回' }, function () { });
        ViewManager_1.default.instance.show("Game/PauseDialog");
    };
    LineGame.prototype.click_share = function () {
    };
    LineGame.prototype.setFigure = function () {
        // this._figureLayer = new g,
        this._figureList = [];
        // this.owner.addChild(this._figureLayer);
        for (var t = [], e = 0; 10 > e;)
            e++, t.push(null);
        for (var e = 0, n = this._levelData.figure; e < n.length;) {
            var i = n[e];
            ++e;
            var s = this._tileList[i[0]][i[1]];
            var a = s.get_borderPosition();
            // s.animalSprite = new $n(i[2], a.get_x(), a.get_y())
            // this.owner.addChild((new g).add(s.animalSprite))
            var type = i[2];
            var node = cc.instantiate(Res_1.R.animalPrefabs[type - 1]);
            s.animalSprite = node.getComponent(Animal_1.default);
            // s.animalSprite.type = type;
            node.setPosition(a.x, a.y);
            node.parent = this.tileLayer;
            node.zIndex = 110;
            // animal.type = type; 
            // animal.tx = a.x ; 
            s.set_animal(i[2]);
            s.isChangable = false;
            this._figureList.push(s);
            null == t[i[2]] ? t[i[2]] = s : (s.targetTile = t[i[2]], t[i[2]].targetTile = s);
        }
        this.perfectMoveCount = this._figureList.length / 2 | 0;
    };
    LineGame.prototype.findTileByPos = function (x, y) {
        var n = null;
        var i = 1e6;
        var s = cc.v2(x, y);
        var r = this._tileList;
        for (var a = 0; a < r.length; ++a) {
            var o = r[a];
            for (var _ = 0; _ < o.length; ++_) {
                var l = o[_];
                var tp = o[_].node.position;
                var h = s.sub(tp).mag();
                if (h < 50 && h < i) {
                    i = h;
                    n = l;
                }
                // 40 > h && i > h && (i = h, n = l)
            }
        }
        return n;
    };
    LineGame.prototype.removeGridFromTile = function (t) {
        for (; null != t && null != t.connectedTile;)
            this._gridManager.setState(t.get_row(), t.get_col(), t.connectedTile.get_row(), t.connectedTile.get_col(), !1), t = t.connectedTile;
    };
    LineGame.prototype.checkFillAll = function () {
        for (var t = 0, e = this._tileList; t < e.length;) {
            var n = e[t];
            ++t;
            for (var i = 0; i < n.length;) {
                var s = n[i];
                if (++i, 0 == s.get_animal())
                    return !1;
            }
        }
        return !0;
    };
    LineGame.prototype.checkConnectedAll = function () {
        for (var t = 0, e = this._tileList; t < e.length;) {
            var n = e[t];
            ++t;
            for (var i = 0; i < n.length;) {
                var s = n[i];
                if (++i, null != s.targetTile) {
                    var a = s.getHead(), r = s.getTail();
                    if (0 == s.targetTile.equals(a) && 0 == s.targetTile.equals(r))
                        return !1;
                }
            }
        }
        return !0;
    };
    var LineGame_1;
    LineGame.instance = null;
    __decorate([
        property(cc.Node)
    ], LineGame.prototype, "tileLayer", void 0);
    __decorate([
        property(cc.Label)
    ], LineGame.prototype, "levelLabel", void 0);
    __decorate([
        property(cc.Label)
    ], LineGame.prototype, "timeLabel", void 0);
    __decorate([
        property(cc.Label)
    ], LineGame.prototype, "stepLabel", void 0);
    __decorate([
        property(cc.Node)
    ], LineGame.prototype, "focusNode", void 0);
    LineGame = LineGame_1 = __decorate([
        ccclass
    ], LineGame);
    return LineGame;
}(cc.Component));
exports.default = LineGame;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcaGV4LWxpbmVzLWdhbWVcXEdhbWUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDZCQUEwQjtBQUMxQix5Q0FBb0M7QUFDcEMsNkNBQXdDO0FBQ3hDLGlGQUF1RjtBQUN2RixnQ0FBbUM7QUFDbkMsbUNBQThCO0FBQzlCLCtFQUEwRTtBQUUxRSxpRkFBeUU7QUFHbkUsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBc0MsNEJBQVk7SUFBbEQ7UUFBQSxxRUF5WkM7UUFwWkcsaUJBQVcsR0FBVyxLQUFLLENBQUM7UUFDNUIsZ0JBQVUsR0FBVSxDQUFDLENBQUM7UUFFdEIsZUFBUyxHQUFHLENBQUMsQ0FBQztRQUNkLGVBQVMsR0FBRyxDQUFDLENBQUM7UUFDZCxlQUFTLEdBQUcsQ0FBQyxDQUFDO1FBRWQsaUJBQVcsR0FBYSxJQUFJLENBQUM7UUFLN0IsZUFBUyxHQUFXLElBQUksQ0FBQztRQUd6QixnQkFBVSxHQUFZLElBQUksQ0FBQztRQUczQixlQUFTLEdBQVksSUFBSSxDQUFDO1FBRzFCLGVBQVMsR0FBWSxJQUFJLENBQUM7UUFHMUIsZUFBUyxHQUFXLElBQUksQ0FBQztRQUV6QixpQkFBVyxHQUFHLEVBQUUsQ0FBQTtRQUVoQixzQkFBZ0IsR0FBRyxDQUFDLENBQUM7O0lBd1h6QixDQUFDO2lCQXpab0IsUUFBUTtJQXFDekIsaUNBQWMsR0FBZDtRQUNJLE9BQU8sSUFBSSxDQUFDLFdBQVcsQ0FBQTtJQUMzQixDQUFDO0lBQ0QsNkJBQVUsR0FBVjtRQUNJLE9BQU8sSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLENBQUE7SUFDakMsQ0FBQztJQUNELGdDQUFhLEdBQWI7UUFDSSxPQUFPLElBQUksQ0FBQyxVQUFVLENBQUE7SUFDMUIsQ0FBQztJQUVELDRCQUFTLEdBQVQsVUFBVSxDQUFDO1FB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L1Jlc1wiO1xuaW1wb3J0IEhleG9uVGlsZSBmcm9tIFwiLi9IZXhvblRpbGVcIjtcbmltcG9ydCBHcmlkTWFuYWdlciBmcm9tIFwiLi9HcmlkTWFuYWdlclwiO1xuaW1wb3J0IHsgSW5wdXQsIElucHV0U3lzdGVtIH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL21pc2MvSW5wdXRTeXN0ZW1cIjtcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4uL0luZm9cIjtcbmltcG9ydCBBbmltYWwgZnJvbSBcIi4vQW5pbWFsXCI7XG5pbXBvcnQgVmlld01hbmFnZXIgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL3VpL1ZpZXdNYW5hZ2VyXCI7XG5cbmltcG9ydCB7IFRvYXN0IH0gZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL3VpL1RvYXN0TWFuYWdlclwiO1xuXG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgTGluZUdhbWUgZXh0ZW5kcyBjYy5Db21wb25lbnRcbntcbiAgICBfbGV2ZWxEYXRhOmFueTtcbiAgICBfdGlsZUxpc3Q6YW55O1xuXG4gICAgX2lzR2FtZU92ZXI6Ym9vbGVhbiA9IGZhbHNlOyBcbiAgICBfbW92ZUNvdW50Om51bWJlciA9IDA7XG5cbiAgICBfcGxheVRpbWUgPSAwO1xuICAgIF9jb2xDb3VudCA9IDY7XG4gICAgX3Jvd0NvdW50ID0gNztcblxuICAgIF9waWNrZWRUaWxlOkhleG9uVGlsZSA9IG51bGw7XG4gICAgXG4gICAgc3RhdGljIGluc3RhbmNlOkxpbmVHYW1lID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxuICAgIHRpbGVMYXllcjpjYy5Ob2RlID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcbiAgICBsZXZlbExhYmVsOmNjLkxhYmVsID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcbiAgICB0aW1lTGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxuICAgIHN0ZXBMYWJlbDpjYy5MYWJlbCA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICBmb2N1c05vZGU6Y2MuTm9kZSA9IG51bGw7XG5cbiAgICBfZmlndXJlTGlzdCA9IFtdXG5cbiAgICBwZXJmZWN0TW92ZUNvdW50ID0gMDtcblxuICAgIF9ncmlkTWFuYWdlcjpHcmlkTWFuYWdlcjtcblxuICAgIGdldF9pc0dhbWVPdmVyKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNHYW1lT3ZlclxuICAgIH1cbiAgICBnZXRfbWluQ29sKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbGV2ZWxEYXRhLm1pbmNvbFxuICAgIH1cbiAgICBnZXRfbW92ZUNvdW50KCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fbW92ZUNvdW50XG4gICAgfVxuXG4gICAgbG9hZExldmVsKHQpIHtcbiAgICAgICAgLy90ZXN0IDpcbiAgICAgICAgdCA9IE1hdGgubWluKHQsIFIubGV2ZWxKc29uLmpzb24ubGV2ZWxzLmxlbmd0aC0xKVxuICAgICAgICB0aGlzLl9sZXZlbERhdGEgPSBSLmxldmVsSnNvbi5qc29uLmxldmVsc1t0XTtcbiAgICAgICAgdGhpcy5sZXZlbExhYmVsLnN0cmluZyA9IHQgK1wiXCJcbiAgICAgICAgaWYodCA9PSAxKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSh0aGlzLm9wZW5HdWlkZSwwLjEpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBvcGVuR3VpZGUoKVxuICAgIHtcbiAgICAgICAgVmlld01hbmFnZXIuaW5zdGFuY2Uuc2hvdyhcIkdhbWUvT3Blbkd1aWRlXCIpXG4gICAgfVxuXG4gICAgb25Mb2FkKCkge1xuICAgICAgICB2YXIgdCA9IHRoaXM7XG4gICAgICAgIExpbmVHYW1lLmluc3RhbmNlID0gdGhpcztcbiAgICAgICAgdGhpcy5sb2FkTGV2ZWwoVXNlckluZm8uY3VycmVudExldmVsKVxuICAgICAgICAvL3RoaXMubG9hZExldmVsKDc1KVxuICAgICAgICB0aGlzLmhpZGVGb2N1cygpO1xuICAgICAgICB0aGlzLl90aWxlTGlzdCA9IFtdXG4gICAgICAgIHRoaXMuX3Jvd0NvdW50ID0gdGhpcy5fbGV2ZWxEYXRhLnNpemVcbiAgICAgICAgdGhpcy5fY29sQ291bnQgLT0gMTtcbiAgICAgICAgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5vbihjb25zdHMuQ0xJRU5UX0dBTUVfU1RBUlQsIHRoaXMub25HYW1lU3RhcnQsdGhpcyk7XG4gICAgICAgIGZvciAodmFyIGUgPSAwLCBuID0gdGhpcy5fcm93Q291bnQ7IG4gPiBlOykge1xuICAgICAgICAgICAgdmFyIGksIHMgPSBlKysgXG4gICAgICAgICAgICBsZXQgdG1wbGlzdCA9IFtdO1xuICAgICAgICAgICAgaSA9IHMgPD0gdGhpcy5fcm93Q291bnQgLyAyID8gdGhpcy5fbGV2ZWxEYXRhLm1pbmNvbCArIHMgOiB0aGlzLl9sZXZlbERhdGEubWluY29sIC0gMSArIHRoaXMuX3Jvd0NvdW50IC0gcztcbiAgICAgICAgICAgIGZvciAodmFyIHIgPSAwOyBpID4gcjspIHtcbiAgICAgICAgICAgICAgICB2YXIgbyA9IHIgKytcbiAgICAgICAgICAgICAgICBsZXQgbm9kZSA9IGNjLmluc3RhbnRpYXRlKFIuVGlsZVByZWZhYilcbiAgICAgICAgICAgICAgICBsZXQgdGlsZSA9IG5vZGUuZ2V0Q29tcG9uZW50KEhleG9uVGlsZSk7XG4gICAgICAgICAgICAgICAgbm9kZS5wYXJlbnQgPSB0aGlzLnRpbGVMYXllcjtcbiAgICAgICAgICAgICAgICBub2RlLnpJbmRleCA9IHRoaXMuX3Jvd0NvdW50IC0gcztcbiAgICAgICAgICAgICAgICAvLyB0aGlzLl90aWxlTGF5ZXIuYWRkQ2hpbGQoKG5ldyBnKS5hZGQobm9kZSkpXG4gICAgICAgICAgICAgICAgdGlsZS5zZXRfcm93KHMpXG4gICAgICAgICAgICAgICAgdGlsZS5zZXRfY29sKG8pXG5cbiAgICAgICAgICAgICAgICAvLy0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS8vXG4gICAgICAgICAgICAgICAgbGV0IHNoYWRvd05vZGUgPSBjYy5pbnN0YW50aWF0ZShSLlRpbGVTaGFkb3cpXG4gICAgICAgICAgICAgICAgbGV0IHNoYWRvdyA9IHNoYWRvd05vZGUuZ2V0Q29tcG9uZW50KEhleG9uVGlsZSk7XG4gICAgICAgICAgICAgICAgc2hhZG93LnNldF9yb3cocylcbiAgICAgICAgICAgICAgICBzaGFkb3cuc2V0X2NvbChvKVxuICAgICAgICAgICAgICAgIHNoYWRvd05vZGUueSAtPSAzO1xuICAgICAgICAgICAgICAgIHNoYWRvd05vZGUucGFyZW50ID0gdGhpcy50aWxlTGF5ZXI7XG4gICAgICAgICAgICAgICAgc2hhZG93Tm9kZS56SW5kZXggPSAwO1xuICAgICAgICAgICAgICAgIC8vLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLy9cbiAgICAgICAgICAgICAgICB0bXBsaXN0LnB1c2godGlsZSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMuX3RpbGVMaXN0LnB1c2godG1wbGlzdClcbiAgICAgICAgfVxuICAgICAgICBcbiAgICAgICAgdGhpcy5fZ3JpZE1hbmFnZXIgPSB0aGlzLnRpbGVMYXllci5hZGRDb21wb25lbnQoR3JpZE1hbmFnZXIpXG4gICAgICAgIHRoaXMuX2dyaWRNYW5hZ2VyLmluaXQodGhpcy5fbGV2ZWxEYXRhLm1pbmNvbCk7XG4gICAgICAgIC8vIHRoaXMuX2xpbmVMYXllciA9IChuZXcgZykuYWRkKHRoaXMuX2dyaWRNYW5hZ2VyKSxcbiAgICAgICAgLy8gdGhpcy5vd25lci5hZGRDaGlsZCh0aGlzLl9saW5lTGF5ZXIpLFxuICAgICAgICB0aGlzLnNldEZpZ3VyZSgpXG5cbiAgICAgICAgdGhpcy5hZGRDb21wb25lbnQoSW5wdXRTeXN0ZW0pO1xuXG5cbiAgICAgICAgLy8gdGhpcy5fdWlMYXllciA9IG5ldyBnLFxuICAgICAgICAvLyB0aGlzLl91aU1hbmFnZXIgPSBuZXcgbmkodGhpcy5fc3RhZ2VJbmRleCArIDEpLFxuICAgICAgICAvLyB0aGlzLm93bmVyLmFkZENoaWxkKHRoaXMuX3VpTGF5ZXIuYWRkKHRoaXMuX3VpTWFuYWdlcikpXG4gICAgICAgIGlmKGFwcEdhbWUucGxhdGZvcm0gPT0gJ3RvdXRpYW8nKXtcbiAgICAgICAgICAgIGFwcEdhbWUuc2NyZWVuQXV0by5wbGF5U2NyZWVuQ2FwKHRydWUpXG4gICAgICAgIH1cbiAgICAgICAgVXNlckluZm8udGltZVBhc3NlZCA9IDA7XG4gICAgICAgIFVzZXJJbmZvLnN0ZXBVc2VkID0gMDtcbiAgICAgICAgdGhpcy5zY2hlZHVsZShfPT57XG4gICAgICAgICAgICBVc2VySW5mby50aW1lUGFzc2VkICs9IDFcbiAgICAgICAgICAgIHRoaXMudGltZUxhYmVsLnN0cmluZyA9IFVzZXJJbmZvLnRpbWVQYXNzZWQgKyBcInNcIjtcbiAgICAgICAgICAgIHRoaXMuc3RlcExhYmVsLnN0cmluZyA9IFVzZXJJbmZvLnN0ZXBVc2VkICtcIuatpVwiXG4gICAgICAgIH0sMSlcbiAgICB9XG5cbiAgICBvbkRlc3Ryb3koKXtcbiAgICAgICAgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5vZmYoY29uc3RzLkNMSUVOVF9HQU1FX1NUQVJULCB0aGlzLm9uR2FtZVN0YXJ0LHRoaXMpO1xuICAgIH1cbiAgICBvbkdhbWVTdGFydCgpe1xuICAgICAgICAgICAgICAgICAgIFxuICAgICAgICBhcHBHYW1lLmJhbm5lci5wbGF5QmFubmVyKDIpOyAgICBcbiAgICAgICAgLy/mj5LlsY/lub/lkYpcbiAgICAgICAgdGhpcy5zY2hlZHVsZSgoKSA9PiB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIuaPkuWxj+W5v+WRij09XCIpO1xuICAgICAgICAgICAgaWYoYXBwR2FtZS5pbnRlcnN0aXRpYWxBZCl7XG4gICAgICAgICAgICAgICAgYXBwR2FtZS5pbnRlcnN0aXRpYWxBZC5wbGF5QWQoXCLmj5LlsY9cIik7XG4gICAgICAgICAgICB9ICAgXG4gICAgICAgIH0sIDYwKTsgXG4gICAgICAgIC8v56ev5pyo5bm/5ZGKXG4gICAgICAgIHRoaXMuc2NoZWR1bGUoKCk9PntcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwi56ev5pyo5bm/5ZGKPT1cIik7XG4gICAgICAgICAgICBpZihhcHBHYW1lLnFxYmxvY2thZCl7XG4gICAgICAgICAgICAgICAgYXBwR2FtZS5xcWJsb2NrYWQucGxheUJsb2NrYWQodHJ1ZSk7XG4gICAgICAgICAgICB9IFxuICAgICAgICB9LDMwKTtcbiAgICAgICBcbiAgICAgXG4gICBcbiAgICB9XG4gICAgb25Ub3VjaEJlZ2FuKGUpXG4gICAge1xuICAgICAgICBsZXQgdCA9IHRoaXM7XG4gICAgICAgIGlmICghdC5faXNHYW1lT3Zlcikge1xuICAgICAgICAgICAgLy8gdmFyIG4gPSB0LnRvdWNoWHRvU2NyZWVuWChlLnZpZXdYKVxuICAgICAgICAgICAgLy8gdmFyIGUgPSB0LnRvdWNoWXRvU2NyZWVuWShlLnZpZXdZKVxuICAgICAgICAgICAgLy8gdmFyIGkgPSB0LmZpbmRUaWxlQnlQb3MobiwgZSlcbiAgICAgICAgICAgIHZhciBwID0gZS5jdXJyZW50VG91Y2guZ2V0TG9jYXRpb24oKTtcbiAgICAgICAgICAgIHAgPSB0aGlzLm5vZGUuY29udmVydFRvTm9kZVNwYWNlQVIocCk7XG4gICAgICAgICAgICB2YXIgaTpIZXhvblRpbGUgPSB0LmZpbmRUaWxlQnlQb3MocC54LHAueSk7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgIGlmIChudWxsICE9IGkgJiYgMCAhPSBpLmdldF9hbmltYWwoKSkge1xuICAgICAgICAgICAgICAgIGNjLmF1ZGlvRW5naW5lLnBsYXlFZmZlY3QoUi5hdWRpb19kb3duLGZhbHNlKTtcbiAgICAgICAgICAgICAgICAvLyBqbi5wbGF5U291bmQoMClcbiAgICAgICAgICAgICAgICB0Ll9waWNrZWRUaWxlID0gaVxuICAgICAgICAgICAgICAgIHQucmVtb3ZlR3JpZEZyb21UaWxlKHQuX3BpY2tlZFRpbGUpXG4gICAgICAgICAgICAgICAgdC5fcGlja2VkVGlsZS5jb25uZWN0KG51bGwpXG4gICAgICAgICAgICAgICAgaWYobnVsbCAhPSB0Ll9waWNrZWRUaWxlLnRhcmdldFRpbGUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICB0LnJlbW92ZUdyaWRGcm9tVGlsZSh0Ll9waWNrZWRUaWxlLnRhcmdldFRpbGUpXG4gICAgICAgICAgICAgICAgICAgIHQuX3BpY2tlZFRpbGUudGFyZ2V0VGlsZS5jb25uZWN0KG51bGwpXG4gICAgICAgICAgICAgICAgICAgIHQuX3BpY2tlZFRpbGUudGFyZ2V0VGlsZS5zZXRfaXNDb25uZWN0aW5nKGZhbHNlKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB0Ll9waWNrZWRUaWxlLnNldF9pc0Nvbm5lY3RpbmcoITApXG4gICAgICAgICAgICAgICAgaSA9IHQuX3BpY2tlZFRpbGUuZ2V0SGVhZCgpOyBcbiAgICAgICAgICAgICAgICBmb3IgKCA7bnVsbCAhPSBpOykgaS5zZXRfaXNDb25uZWN0aW5nKCEwKSxcbiAgICAgICAgICAgICAgICBpID0gaS5jb25uZWN0ZWRUaWxlO1xuICAgICAgICAgICAgICAgIC8vIHQuX3VpTWFuYWdlci5zaG93Rm9jdXModC5fcGlja2VkVGlsZS5nZXRfYW5pbWFsKCkpLFxuICAgICAgICAgICAgICAgIHRoaXMuc2hvd0ZvY3VzKHQuX3BpY2tlZFRpbGUuZ2V0X2FuaW1hbCgpKTtcbiAgICAgICAgICAgICAgICAvLyB0Ll91aU1hbmFnZXIubW92ZUZvY3VzKG4sIGUpXG4gICAgICAgICAgICAgICAgdGhpcy5tb3ZlRm9jdXMocCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0aGlzLmNoZWNrQ29tcGVsZXRlKClcbiAgICAgICAgICAgIC8vIDEgPT0gID8gMSA9PSB0LmNoZWNrRmlsbEFsbCgpID8gdC5fdWlNYW5hZ2VyLmhpZGVGaWxsQWxsUG9wdXAoKSA6IHQuX3VpTWFuYWdlci5zaG93RmlsbEFsbFBvcHVwKCkgOiB0Ll91aU1hbmFnZXIuaGlkZUZpbGxBbGxQb3B1cCgpXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjaGVja0NvbXBlbGV0ZSgpXG4gICAge1xuICAgICAgICBpZiggdGhpcy5jaGVja0Nvbm5lY3RlZEFsbCgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBpZih0aGlzLmNoZWNrRmlsbEFsbCgpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIC8vIHQuX3VpTWFuYWdlci5oaWRlRmlsbEFsbFBvcHVwKClcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIC8vICB0Ll91aU1hbmFnZXIuc2hvd0ZpbGxBbGxQb3B1cCgpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgLy8gX3VpTWFuYWdlci5oaWRlRmlsbEFsbFBvcHVwKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzVGlsZUNvbm5lY3RlZCh0LCBlKSB7XG4gICAgICAgIHZhciBuLCBpID0gdC5fcm93O1xuICAgICAgICBuID0gdC5fY29sICsgKGkgPD0gdGhpcy5fcm93Q291bnQgLyAyID8gMCA6IHQuX3JvdyAtICh0aGlzLl9yb3dDb3VudCAvIDIgfCAwKSk7XG4gICAgICAgIHZhciBzLCBhID0gZS5fcm93O1xuICAgICAgICByZXR1cm4gcyA9IGUuX2NvbCArIChhIDw9IHRoaXMuX3Jvd0NvdW50IC8gMiA/IDAgOiBlLl9yb3cgLSAodGhpcy5fcm93Q291bnQgLyAyIHwgMCkpLFxuICAgICAgICBpIC0gMSA9PSBhICYmIG4gLSAxID09IHMgfHwgaSAtIDEgPT0gYSAmJiBuID09IHMgfHwgaSA9PSBhICYmIG4gLSAxID09IHMgfHwgaSA9PSBhICYmIG4gKyAxID09IHMgfHwgaSArIDEgPT0gYSAmJiBuID09IHMgfHwgaSArIDEgPT0gYSAmJiBuICsgMSA9PSBzID8gdHJ1ZTpmYWxzZVxuICAgIH1cblxuXG4gICAgb25Ub3VjaE1vdmVkKGUpXG4gICAge1xuICAgICAgICBsZXQgdCA9IHRoaXM7XG4gICAgICAgIGlmICghdC5faXNHYW1lT3Zlcikge1xuICAgICAgICAgICAgdmFyIHAgPSBlLmN1cnJlbnRUb3VjaC5nZXRMb2NhdGlvbigpO1xuICAgICAgICAgICAgcCA9IHRoaXMubm9kZS5jb252ZXJ0VG9Ob2RlU3BhY2VBUihwKTtcbiAgICAgICAgICAgIHZhciBpOkhleG9uVGlsZSA9IHQuZmluZFRpbGVCeVBvcyhwLngscC55KTtcblxuICAgICAgICAgICAgaWYgKG51bGwgIT0gdC5fcGlja2VkVGlsZSAmJiBudWxsICE9IGkpIGlmICh0LmlzVGlsZUNvbm5lY3RlZCh0Ll9waWNrZWRUaWxlLCBpKSkge1xuICAgICAgICAgICAgICAgIGlmICgwID09IGkuZ2V0X2FuaW1hbCgpKShudWxsID09IHQuX3BpY2tlZFRpbGUudGFyZ2V0VGlsZSB8fCBudWxsID09IHQuX3BpY2tlZFRpbGUucmV2ZXJzZUNvbm5lY3RlZFRpbGUpICYmICh0Ll9ncmlkTWFuYWdlci5zZXRTdGF0ZSh0Ll9waWNrZWRUaWxlLmdldF9yb3coKSwgdC5fcGlja2VkVGlsZS5nZXRfY29sKCksIGkuZ2V0X3JvdygpLCBpLmdldF9jb2woKSwgITApLCB0Ll9waWNrZWRUaWxlLmNvbm5lY3QoaSksIHQuX3BpY2tlZFRpbGUgPSBpLCB0Ll9waWNrZWRUaWxlLnNldF9pc0Nvbm5lY3RpbmcoITApKTtcbiAgICAgICAgICAgICAgICBlbHNlIGlmIChpLmdldF9hbmltYWwoKSA9PSB0Ll9waWNrZWRUaWxlLmdldF9hbmltYWwoKSkgaWYgKGZhbHNlID09IGkuaXNDaGFuZ2FibGUgJiYgISBpLmVxdWFscyh0Ll9waWNrZWRUaWxlLmdldEhlYWQoKSkpIG51bGwgPT0gaS5yZXZlcnNlQ29ubmVjdGVkVGlsZSAmJiAodC5fZ3JpZE1hbmFnZXIuc2V0U3RhdGUodC5fcGlja2VkVGlsZS5nZXRfcm93KCksIHQuX3BpY2tlZFRpbGUuZ2V0X2NvbCgpLCBpLmdldF9yb3coKSwgaS5nZXRfY29sKCksICEwKSwgdC5fcGlja2VkVGlsZS5jb25uZWN0KGkpLCB0Ll9waWNrZWRUaWxlID0gaSk7XG4gICAgICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGZvciAodC5fcGlja2VkVGlsZSA9IGksIGkgPSB0Ll9waWNrZWRUaWxlOyBudWxsICE9IGkgJiYgbnVsbCAhPSBpLmNvbm5lY3RlZFRpbGU7KSB0Ll9ncmlkTWFuYWdlci5zZXRTdGF0ZShpLmdldF9yb3coKSwgaS5nZXRfY29sKCksIGkuY29ubmVjdGVkVGlsZS5nZXRfcm93KCksIGkuY29ubmVjdGVkVGlsZS5nZXRfY29sKCksICExKSxcbiAgICAgICAgICAgICAgICAgICAgaSA9IGkuY29ubmVjdGVkVGlsZTtcbiAgICAgICAgICAgICAgICAgICAgdC5fcGlja2VkVGlsZS5jb25uZWN0KG51bGwpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIGlmIChpLmdldF9hbmltYWwoKSA9PSB0Ll9waWNrZWRUaWxlLmdldF9hbmltYWwoKSAmJiAhaS5lcXVhbHModC5fcGlja2VkVGlsZSkgJiYgbnVsbCAhPSBpLmNvbm5lY3RlZFRpbGUpIHtcbiAgICAgICAgICAgICAgICBmb3IgKHQuX3BpY2tlZFRpbGUgPSBpLCBpID0gdC5fcGlja2VkVGlsZTsgbnVsbCAhPSBpICYmIG51bGwgIT0gaS5jb25uZWN0ZWRUaWxlOykgdC5fZ3JpZE1hbmFnZXIuc2V0U3RhdGUoaS5nZXRfcm93KCksIGkuZ2V0X2NvbCgpLCBpLmNvbm5lY3RlZFRpbGUuZ2V0X3JvdygpLCBpLmNvbm5lY3RlZFRpbGUuZ2V0X2NvbCgpLCAhMSksXG4gICAgICAgICAgICAgICAgaSA9IGkuY29ubmVjdGVkVGlsZTtcbiAgICAgICAgICAgICAgICB0Ll9waWNrZWRUaWxlLmNvbm5lY3QobnVsbClcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHRoaXMubW92ZUZvY3VzKHApXG4gICAgICAgICAgICAvLyB0Ll91aU1hbmFnZXIubW92ZUZvY3VzKG4sIGUpLFxuICAgICAgICAgICAgLy90aGlzLmNoZWNrQ29tcGVsZXRlKClcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uVG91Y2hFbmRlZCgpXG4gICAge1xuICAgICAgICBsZXQgdCA9IHRoaXM7XG4gICAgICAgIHZhciBlID0gZmFsc2U7XG4gICAgICAgIGlmICghdC5faXNHYW1lT3Zlcikge1xuICAgICAgICAgICAgaWYgKG51bGwgIT0gdC5fcGlja2VkVGlsZSkge1xuICAgICAgICAgICAgICAgIHZhciBuID0gdC5fcGlja2VkVGlsZS5nZXRIZWFkKCk7XG4gICAgICAgICAgICAgICAgZm9yIChudWxsICE9IHQuX3BpY2tlZFRpbGUuYW5pbWFsU3ByaXRlICYmIG51bGwgIT0gbiAmJiBudWxsICE9IG4uYW5pbWFsU3ByaXRlICYmIChlID0gdHJ1ZSwgdC5fcGlja2VkVGlsZS5hbmltYWxTcHJpdGUuY29ubmVjdGVkKCksIG4uYW5pbWFsU3ByaXRlLmNvbm5lY3RlZCgpKTsgbnVsbCAhPSBuOykgbi5zZXRfaXNDb25uZWN0aW5nKGZhbHNlKSxcbiAgICAgICAgICAgICAgICBuID0gbi5jb25uZWN0ZWRUaWxlO1xuICAgICAgICAgICAgICAgIHQuX21vdmVDb3VudCsrXG4gICAgICAgICAgICAgICAgVXNlckluZm8uc3RlcFVzZWQgKys7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB0Ll9waWNrZWRUaWxlID0gbnVsbFxuICAgICAgICAgICAgLy8gdC5fdWlNYW5hZ2VyLmhpZGVGb2N1cygpLFxuICAgICAgICAgICAgdGhpcy5oaWRlRm9jdXMoKTtcbiAgICAgICAgICAgIGlmKCB0LmNoZWNrQ29ubmVjdGVkQWxsKCkpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYodC5jaGVja0ZpbGxBbGwoKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIC8vIHQuX3VpTWFuYWdlci5oaWRlRmlsbEFsbFBvcHVwKClcbiAgICAgICAgICAgICAgICAgICAgdC5faXNHYW1lT3ZlciA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgIC8vIHQuX3VpTWFuYWdlci5zaG93Q2xlYXJQb3B1cCh0Ll9tb3ZlQ291bnQsIHQucGVyZmVjdE1vdmVDb3VudClcbiAgICAgICAgICAgICAgICAgICAgdC5kYW5jZUFsbCgpO1xuXG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIC8vICB0Ll91aU1hbmFnZXIuc2hvd0ZpbGxBbGxQb3B1cCgpXG4gICAgICAgICAgICAgICAgICAgIFRvYXN0Lm1ha2UoXCLlv4Xpobvloavmu6HmiYDmnInmoLzlrZBcIilcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAvLyBfdWlNYW5hZ2VyLmhpZGVGaWxsQWxsUG9wdXAoKVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYoZT09IHRydWUgJiYgIXQuX2lzR2FtZU92ZXIpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgLy8gam4ucGxheVNvdW5kKDEpXG4gICAgICAgICAgICAgICAgY2MuYXVkaW9FbmdpbmUucGxheUVmZmVjdChSLmF1ZGlvX2xpbmssZmFsc2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgLy8gMSA9PSBlICYmIDAgPT0gdC5faXNHYW1lT3ZlciAmJiBqbi5wbGF5U291bmQoMSlcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNob3dGb2N1cyhhbmltYWwpXG4gICAge1xuICAgICAgICBjb25zb2xlLmxvZyhhbmltYWwpO1xuICAgICAgICB0aGlzLmZvY3VzTm9kZS5hY3RpdmUgPSB0cnVlXG4gICAgICAgIHRoaXMuZm9jdXNOb2RlLnpJbmRleCA9IDEwMDtcbiAgICAgICAgdGhpcy5mb2N1c05vZGUuY29sb3IgPSBSLmNvbG9yc1thbmltYWxdLmNsb25lKCk7XG4gICAgfVxuXG4gICAgbW92ZUZvY3VzKHApXG4gICAge1xuICAgICAgICB0aGlzLmZvY3VzTm9kZS5wb3NpdGlvbiA9IHA7XG4gICAgfVxuXG4gICAgaGlkZUZvY3VzKClcbiAgICB7XG4gICAgICAgIHRoaXMuZm9jdXNOb2RlLmFjdGl2ZSA9IGZhbHNlXG4gICAgfVxuXG4gICAgZGFuY2VBbGwoKSB7XG4gICAgICAgIC8vIGpuLnBsYXlTb3VuZCgzKTtcbiAgICAgICAgY2MuYXVkaW9FbmdpbmUucGxheUVmZmVjdChSLmF1ZGlvX3dpbixmYWxzZSk7XG4gICAgICAgIGZvciAodmFyIHQgPSAwLGUgPSB0aGlzLl90aWxlTGlzdDsgdCA8IGUubGVuZ3RoOykge1xuICAgICAgICAgICAgdmFyIG4gPSBlW3RdOyArK3Q7XG4gICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IG4ubGVuZ3RoOykge1xuICAgICAgICAgICAgICAgIHZhciBzID0gbltpXTsgKytpLFxuICAgICAgICAgICAgICAgIG51bGwgIT0gcy5hbmltYWxTcHJpdGUgJiYgcy5hbmltYWxTcHJpdGUubG9vcEp1bXAoMSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgXG4gICAgICAgIHRoaXMuc2NoZWR1bGVPbmNlKHRoaXMuc2hvd1dpbkRpYWxvZywxKVxuICAgIH1cblxuICAgIHNob3dXaW5EaWFsb2coKVxuICAgIHtcbiAgICAgICAgVmlld01hbmFnZXIuaW5zdGFuY2Uuc2hvdyhcIkdhbWUvV2luRGlhbG9nXCIpXG4gICAgfVxuXG4gICAgY2xpY2tfcGF1c2UoKVxuICAgIHtcbiAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOifmuLjmiI/nlYzpnaInLGNvbnRlbnQ6J+eCueWHu+i/lOWbnid9LGZ1bmN0aW9uKCl7fSk7XG4gICAgICAgIFZpZXdNYW5hZ2VyLmluc3RhbmNlLnNob3coXCJHYW1lL1BhdXNlRGlhbG9nXCIpXG4gICAgfVxuXG4gICAgY2xpY2tfc2hhcmUoKVxuICAgIHtcbiAgICAgIFxuICAgIH1cblxuICAgIHNldEZpZ3VyZSgpIHtcbiAgICAgICAgLy8gdGhpcy5fZmlndXJlTGF5ZXIgPSBuZXcgZyxcbiAgICAgICAgdGhpcy5fZmlndXJlTGlzdCA9IFtdXG4gICAgICAgIC8vIHRoaXMub3duZXIuYWRkQ2hpbGQodGhpcy5fZmlndXJlTGF5ZXIpO1xuICAgICAgICBmb3IgKHZhciB0ID0gW10sIGUgPSAwOyAxMCA+IGU7KSBlKyssIHQucHVzaChudWxsKTtcblxuICAgICAgICBmb3IgKHZhciBlID0gMCwgbiA9IHRoaXMuX2xldmVsRGF0YS5maWd1cmU7IGUgPCBuLmxlbmd0aDspIHtcbiAgICAgICAgICAgIHZhciBpID0gbltlXTtcbiAgICAgICAgICAgICsrZTtcbiAgICAgICAgICAgIHZhciBzOkhleG9uVGlsZSA9IHRoaXMuX3RpbGVMaXN0W2lbMF1dW2lbMV1dXG4gICAgICAgICAgICB2YXIgYSA9IHMuZ2V0X2JvcmRlclBvc2l0aW9uKCk7XG5cbiAgICAgICAgICAgIC8vIHMuYW5pbWFsU3ByaXRlID0gbmV3ICRuKGlbMl0sIGEuZ2V0X3goKSwgYS5nZXRfeSgpKVxuICAgICAgICAgICAgLy8gdGhpcy5vd25lci5hZGRDaGlsZCgobmV3IGcpLmFkZChzLmFuaW1hbFNwcml0ZSkpXG4gICAgICAgICAgICBsZXQgdHlwZSA9IGlbMl07XG4gICAgICAgICAgICBsZXQgbm9kZSA9IGNjLmluc3RhbnRpYXRlKFIuYW5pbWFsUHJlZmFic1t0eXBlLTFdKVxuICAgICAgICAgICAgcy5hbmltYWxTcHJpdGUgPSBub2RlLmdldENvbXBvbmVudChBbmltYWwpO1xuICAgICAgICAgICAgLy8gcy5hbmltYWxTcHJpdGUudHlwZSA9IHR5cGU7XG4gICAgICAgICAgICBub2RlLnNldFBvc2l0aW9uKGEueCxhLnkpO1xuICAgICAgICAgICAgbm9kZS5wYXJlbnQgPSB0aGlzLnRpbGVMYXllcjtcbiAgICAgICAgICAgIG5vZGUuekluZGV4ID0gMTEwO1xuXG4gICAgICAgICAgICAvLyBhbmltYWwudHlwZSA9IHR5cGU7IFxuICAgICAgICAgICAgLy8gYW5pbWFsLnR4ID0gYS54IDsgXG5cbiAgICAgICAgICAgIHMuc2V0X2FuaW1hbChpWzJdKVxuICAgICAgICAgICAgcy5pc0NoYW5nYWJsZSA9IGZhbHNlIFxuICAgICAgICAgICAgdGhpcy5fZmlndXJlTGlzdC5wdXNoKHMpXG4gICAgICAgICAgICBudWxsID09IHRbaVsyXV0gPyB0W2lbMl1dID0gcyA6IChzLnRhcmdldFRpbGUgPSB0W2lbMl1dLCB0W2lbMl1dLnRhcmdldFRpbGUgPSBzKVxuICAgICAgICB9XG4gICAgICAgIHRoaXMucGVyZmVjdE1vdmVDb3VudCA9IHRoaXMuX2ZpZ3VyZUxpc3QubGVuZ3RoIC8gMiB8IDBcbiAgICB9XG5cbiAgICBmaW5kVGlsZUJ5UG9zKHgsIHkpIHtcbiAgICAgICAgdmFyIG4gPSBudWxsXG4gICAgICAgIHZhciBpID0gMWU2XG4gICAgICAgIHZhciBzID0gY2MudjIoeCwgeSlcbiAgICAgICAgdmFyIHIgPSB0aGlzLl90aWxlTGlzdFxuICAgICAgICBmb3IgKHZhciBhID0gMDsgYSA8IHIubGVuZ3RoOysrYSkge1xuICAgICAgICAgICAgdmFyIG8gPSByW2FdO1xuICAgICAgICAgICAgZm9yICh2YXIgXyA9IDA7IF8gPCBvLmxlbmd0aDsrK18pIHtcbiAgICAgICAgICAgICAgICB2YXIgbCA9IG9bX11cbiAgICAgICAgICAgICAgICB2YXIgdHAgPSBvW19dLm5vZGUucG9zaXRpb247XG4gICAgICAgICAgICAgICAgdmFyIGggPSBzLnN1Yih0cCkubWFnKClcbiAgICAgICAgICAgICAgICBpZiAoaCA8IDUwICYmIGggPCBpICl7XG4gICAgICAgICAgICAgICAgICAgIGkgPSBoOyBcbiAgICAgICAgICAgICAgICAgICAgbiA9IGw7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIC8vIDQwID4gaCAmJiBpID4gaCAmJiAoaSA9IGgsIG4gPSBsKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiBuXG4gICAgfVxuICAgIHJlbW92ZUdyaWRGcm9tVGlsZSh0KSB7XG4gICAgICAgIGZvciAoOyBudWxsICE9IHQgJiYgbnVsbCAhPSB0LmNvbm5lY3RlZFRpbGU7KSB0aGlzLl9ncmlkTWFuYWdlci5zZXRTdGF0ZSh0LmdldF9yb3coKSwgdC5nZXRfY29sKCksIHQuY29ubmVjdGVkVGlsZS5nZXRfcm93KCksIHQuY29ubmVjdGVkVGlsZS5nZXRfY29sKCksICExKSwgdCA9IHQuY29ubmVjdGVkVGlsZVxuICAgIH1cbiAgICBjaGVja0ZpbGxBbGwoKSB7XG4gICAgICAgIGZvciAodmFyIHQgPSAwLCBlID0gdGhpcy5fdGlsZUxpc3Q7IHQgPCBlLmxlbmd0aDspIHtcbiAgICAgICAgICAgIHZhciBuID0gZVt0XTtcbiAgICAgICAgICAgICsrdDtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbi5sZW5ndGg7KSB7XG4gICAgICAgICAgICAgICAgdmFyIHMgPSBuW2ldO1xuICAgICAgICAgICAgICAgIGlmICgrK2ksIDAgPT0gcy5nZXRfYW5pbWFsKCkpIHJldHVybiAhMVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiAhMFxuICAgIH1cbiAgICBjaGVja0Nvbm5lY3RlZEFsbCgpIHtcbiAgICAgICAgZm9yICh2YXIgdCA9IDAsIGUgPSB0aGlzLl90aWxlTGlzdDsgdCA8IGUubGVuZ3RoOykge1xuICAgICAgICAgICAgdmFyIG4gPSBlW3RdO1xuICAgICAgICAgICAgKyt0O1xuICAgICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBuLmxlbmd0aDspIHtcbiAgICAgICAgICAgICAgICB2YXIgcyA9IG5baV07XG4gICAgICAgICAgICAgICAgaWYgKCsraSwgbnVsbCAhPSBzLnRhcmdldFRpbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIGEgPSBzLmdldEhlYWQoKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHIgPSBzLmdldFRhaWwoKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKDAgPT0gcy50YXJnZXRUaWxlLmVxdWFscyhhKSAmJiAwID09IHMudGFyZ2V0VGlsZS5lcXVhbHMocikpIHJldHVybiAhMVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gITBcbiAgICB9XG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/HbDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ec5aa26/dhLhpV83mVeVmkA', 'HbDialog');
// Game/Scripts/ui/HbDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var ViewManager_1 = require("../../../framework/plugin_boosts/ui/ViewManager");
var ToastManager_1 = require("../../../framework/plugin_boosts/ui/ToastManager");
var Res_1 = require("../hex-lines-game/Res");
var Info_1 = require("../Info");
var Device_1 = require("../../../framework/plugin_boosts/gamesys/Device");
var View_1 = require("../../../framework/plugin_boosts/ui/View");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var HbDialog = /** @class */ (function (_super) {
    __extends(HbDialog, _super);
    function HbDialog() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    HbDialog.prototype.onLoad = function () { };
    HbDialog.prototype.start = function () { };
    HbDialog.prototype.click = function () {
        var choise = Info_1.UserInfo.getChoice(Info_1.ChoiceType.HB);
    };
    HbDialog.prototype.share_suc = function () {
        var cfg = Res_1.R.skinConfig.json[3];
        ToastManager_1.Toast.make("恭喜获得皮肤 ：" + cfg.text);
        Device_1.default.playEffect(Res_1.R.audio_unlock);
        Info_1.UserInfo.unlock(cfg.id);
        Info_1.UserInfo.selectedSkin = cfg.id;
        Info_1.UserInfo.save();
        ViewManager_1.default.instance.show("Game/ShopDialog");
        this.getComponent(View_1.default).hide();
    };
    HbDialog = __decorate([
        ccclass
    ], HbDialog);
    return HbDialog;
}(cc.Component));
exports.default = HbDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXEhiRGlhbG9nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFQSwrRUFBMEU7QUFDMUUsaUZBQXlFO0FBQ3pFLDZDQUEwQztBQUMxQyxnQ0FBK0M7QUFDL0MsMEVBQXFFO0FBQ3JFLGlFQUE0RDtBQUV0RCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUFzQyw0QkFBWTtJQUFsRDs7SUFzQkEsQ0FBQztJQXBCRyx5QkFBTSxHQUFOLGNBQVcsQ0FBQztJQUNaLHdCQUFLLEdBQUwsY0FBVSxDQUFDO0lBQ1gsd0JBQUssR0FBTDtRQUVJLElBQUksTUFBTSxHQUFHLGVBQVEsQ0FBQyxTQUFTLENBQUMsaUJBQVUsQ0FBQyxFQUFFLENBQUMsQ0FBQztJQUduRCxDQUFDO0lBRUQsNEJBQVMsR0FBVDtRQUVJLElBQUksR0FBRyxHQUFHLE9BQUMsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBO1FBQzlCLG9CQUFLLENBQUMsSUFBSSxDQUFDLFVBQVUsR0FBRyxHQUFHLENBQUMsSUFBSSxDQUFDLENBQUE7UUFDakMsZ0JBQU0sQ0FBQyxVQUFVLENBQUMsT0FBQyxDQUFDLFlBQVksQ0FBQyxDQUFDO1FBQ2xDLGVBQVEsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLEVBQUUsQ0FBQyxDQUFDO1FBQ3hCLGVBQVEsQ0FBQyxZQUFZLEdBQUcsR0FBRyxDQUFDLEVBQUUsQ0FBQztRQUMvQixlQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDaEIscUJBQVcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGlCQUFpQixDQUFDLENBQUE7UUFDNUMsSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQztJQUNuQyxDQUFDO0lBckJnQixRQUFRO1FBRDVCLE9BQU87T0FDYSxRQUFRLENBc0I1QjtJQUFELGVBQUM7Q0F0QkQsQUFzQkMsQ0F0QnFDLEVBQUUsQ0FBQyxTQUFTLEdBc0JqRDtrQkF0Qm9CLFFBQVEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJcbmltcG9ydCBMdWNreURpYWxvZyBmcm9tIFwiLi9MdWNreURpYWxvZ1wiO1xuaW1wb3J0IFZpZXdNYW5hZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy91aS9WaWV3TWFuYWdlclwiO1xuaW1wb3J0IHsgVG9hc3QgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvdWkvVG9hc3RNYW5hZ2VyXCI7XG5pbXBvcnQgeyBSIH0gZnJvbSBcIi4uL2hleC1saW5lcy1nYW1lL1Jlc1wiO1xuaW1wb3J0IHsgVXNlckluZm8sIENob2ljZVR5cGUgfSBmcm9tIFwiLi4vSW5mb1wiO1xuaW1wb3J0IERldmljZSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvZ2FtZXN5cy9EZXZpY2VcIjtcbmltcG9ydCBWaWV3IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy91aS9WaWV3XCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgSGJEaWFsb2cgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgb25Mb2FkICgpIHt9XG4gICAgc3RhcnQgKCkge31cbiAgICBjbGljaygpXG4gICAge1xuICAgICAgICBsZXQgY2hvaXNlID0gVXNlckluZm8uZ2V0Q2hvaWNlKENob2ljZVR5cGUuSEIpO1xuXG4gICAgICAgIFxuICAgIH1cblxuICAgIHNoYXJlX3N1YygpXG4gICAge1xuICAgICAgICBsZXQgY2ZnID0gUi5za2luQ29uZmlnLmpzb25bM11cbiAgICAgICAgVG9hc3QubWFrZShcIuaBreWWnOiOt+W+l+earuiCpCDvvJpcIiArIGNmZy50ZXh0KSBcbiAgICAgICAgRGV2aWNlLnBsYXlFZmZlY3QoUi5hdWRpb191bmxvY2spO1xuICAgICAgICBVc2VySW5mby51bmxvY2soY2ZnLmlkKTtcbiAgICAgICAgVXNlckluZm8uc2VsZWN0ZWRTa2luID0gY2ZnLmlkO1xuICAgICAgICBVc2VySW5mby5zYXZlKCk7XG4gICAgICAgIFZpZXdNYW5hZ2VyLmluc3RhbmNlLnNob3coXCJHYW1lL1Nob3BEaWFsb2dcIilcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoVmlldykuaGlkZSgpO1xuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/hex-lines-game/ds/IntMap.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '11eeadKZERHbLgjtZ/2KsFr', 'IntMap');
// Game/Scripts/hex-lines-game/ds/IntMap.ts

Object.defineProperty(exports, "__esModule", { value: true });
var IntMap = /** @class */ (function () {
    function IntMap() {
        this.h = {};
    }
    IntMap.prototype.set = function (t, e) {
        this.h[t] = e;
    };
    IntMap.prototype.get = function (t) {
        return this.h[t];
    };
    IntMap.prototype.exists = function (t) {
        return this.h.hasOwnProperty(t);
    };
    IntMap.prototype.remove = function (t) {
        return this.h.hasOwnProperty(t) ? (delete this.h[t], !0) : !1;
    };
    IntMap.prototype.keys = function () {
        var t, e = [];
        for (t in this.h)
            this.h.hasOwnProperty(t) && e.push(0 | t);
        return com.iter(e);
    };
    return IntMap;
}());
exports.default = IntMap;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcaGV4LWxpbmVzLWdhbWVcXGRzXFxJbnRNYXAudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBO0lBQUE7UUFFSSxNQUFDLEdBQUcsRUFBRSxDQUFBO0lBa0JWLENBQUM7SUFqQkcsb0JBQUcsR0FBSCxVQUFJLENBQUMsRUFBRSxDQUFDO1FBQ0osSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUE7SUFDakIsQ0FBQztJQUNELG9CQUFHLEdBQUgsVUFBSSxDQUFDO1FBQ0QsT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFBO0lBQ3BCLENBQUM7SUFDRCx1QkFBTSxHQUFOLFVBQU8sQ0FBQztRQUNKLE9BQU8sSUFBSSxDQUFDLENBQUMsQ0FBQyxjQUFjLENBQUMsQ0FBQyxDQUFDLENBQUE7SUFDbkMsQ0FBQztJQUNELHVCQUFNLEdBQU4sVUFBTyxDQUFDO1FBQ0osT0FBTyxJQUFJLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLElBQUksQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxDQUFDLENBQUE7SUFDakUsQ0FBQztJQUNELHFCQUFJLEdBQUo7UUFDSSxJQUFJLENBQUMsRUFBRSxDQUFDLEdBQUcsRUFBRSxDQUFDO1FBQ2QsS0FBSyxDQUFDLElBQUksSUFBSSxDQUFDLENBQUM7WUFBRSxJQUFJLENBQUMsQ0FBQyxDQUFDLGNBQWMsQ0FBQyxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsSUFBSSxDQUFDLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQztRQUM1RCxPQUFPLEdBQUcsQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFDLENBQUE7SUFDdEIsQ0FBQztJQUNMLGFBQUM7QUFBRCxDQXBCQSxBQW9CQyxJQUFBIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGRlZmF1bHQgY2xhc3MgSW50TWFwXG57XG4gICAgaCA9IHt9XG4gICAgc2V0KHQsIGUpIHtcbiAgICAgICAgdGhpcy5oW3RdID0gZVxuICAgIH1cbiAgICBnZXQodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5oW3RdXG4gICAgfVxuICAgIGV4aXN0cyh0KSB7XG4gICAgICAgIHJldHVybiB0aGlzLmguaGFzT3duUHJvcGVydHkodClcbiAgICB9XG4gICAgcmVtb3ZlKHQpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuaC5oYXNPd25Qcm9wZXJ0eSh0KSA/IChkZWxldGUgdGhpcy5oW3RdLCAhMCkgOiAhMVxuICAgIH1cbiAgICBrZXlzKCkge1xuICAgICAgICB2YXIgdCwgZSA9IFtdO1xuICAgICAgICBmb3IgKHQgaW4gdGhpcy5oKSB0aGlzLmguaGFzT3duUHJvcGVydHkodCkgJiYgZS5wdXNoKDAgfCB0KTtcbiAgICAgICAgcmV0dXJuIGNvbS5pdGVyKGUpXG4gICAgfVxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/gameComon/scripts/model/underscore.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ec994o1t0FK6Y0DWnJafEhA', 'underscore');
// gameComon/scripts/model/underscore.js

"use strict";

//     Underscore.js 1.5.2
//     http://underscorejs.org
//     (c) 2009-2013 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
//     Underscore may be freely distributed under the MIT license.
(function () {
  // Baseline setup
  // --------------
  // Establish the root object, `window` in the browser, or `exports` on the server.
  var root = window; //this; //modified
  // Save the previous value of the `_` variable.

  var previousUnderscore = root._; // Establish the object that gets returned to break out of a loop iteration.

  var breaker = {}; // Save bytes in the minified (but not gzipped) version:

  var ArrayProto = Array.prototype,
      ObjProto = Object.prototype,
      FuncProto = Function.prototype; // Create quick reference variables for speed access to core prototypes.

  var push = ArrayProto.push,
      slice = ArrayProto.slice,
      concat = ArrayProto.concat,
      toString = ObjProto.toString,
      hasOwnProperty = ObjProto.hasOwnProperty; // All **ECMAScript 5** native function implementations that we hope to use
  // are declared here.

  var nativeForEach = ArrayProto.forEach,
      nativeMap = ArrayProto.map,
      nativeReduce = ArrayProto.reduce,
      nativeReduceRight = ArrayProto.reduceRight,
      nativeFilter = ArrayProto.filter,
      nativeEvery = ArrayProto.every,
      nativeSome = ArrayProto.some,
      nativeIndexOf = ArrayProto.indexOf,
      nativeLastIndexOf = ArrayProto.lastIndexOf,
      nativeIsArray = Array.isArray,
      nativeKeys = Object.keys,
      nativeBind = FuncProto.bind; // Create a safe reference to the Underscore object for use below.

  var _ = function _(obj) {
    if (obj instanceof _) return obj;
    if (!(this instanceof _)) return new _(obj);
    this._wrapped = obj;
  }; // Export the Underscore object for **Node.js**, with
  // backwards-compatibility for the old `require()` API. If we're in
  // the browser, add `_` as a global object via a string identifier,
  // for Closure Compiler "advanced" mode.


  if (typeof exports !== 'undefined') {
    if (typeof module !== 'undefined' && module.exports) {
      exports = module.exports = _;
    }

    exports._ = _;
  } else {
    root._ = _;
  } // Current version.


  _.VERSION = '1.5.2'; // Collection Functions
  // --------------------
  // The cornerstone, an `each` implementation, aka `forEach`.
  // Handles objects with the built-in `forEach`, arrays, and raw objects.
  // Delegates to **ECMAScript 5**'s native `forEach` if available.

  var each = _.each = _.forEach = function (obj, iterator, context) {
    if (obj == null) return;

    if (nativeForEach && obj.forEach === nativeForEach) {
      obj.forEach(iterator, context);
    } else if (obj.length === +obj.length) {
      for (var i = 0, length = obj.length; i < length; i++) {
        if (iterator.call(context, obj[i], i, obj) === breaker) return;
      }
    } else {
      var keys = _.keys(obj);

      for (var i = 0, length = keys.length; i < length; i++) {
        if (iterator.call(context, obj[keys[i]], keys[i], obj) === breaker) return;
      }
    }
  }; // Return the results of applying the iterator to each element.
  // Delegates to **ECMAScript 5**'s native `map` if available.


  _.map = _.collect = function (obj, iterator, context) {
    var results = [];
    if (obj == null) return results;
    if (nativeMap && obj.map === nativeMap) return obj.map(iterator, context);
    each(obj, function (value, index, list) {
      results.push(iterator.call(context, value, index, list));
    });
    return results;
  };

  var reduceError = 'Reduce of empty array with no initial value'; // **Reduce** builds up a single result from a list of values, aka `inject`,
  // or `foldl`. Delegates to **ECMAScript 5**'s native `reduce` if available.

  _.reduce = _.foldl = _.inject = function (obj, iterator, memo, context) {
    var initial = arguments.length > 2;
    if (obj == null) obj = [];

    if (nativeReduce && obj.reduce === nativeReduce) {
      if (context) iterator = _.bind(iterator, context);
      return initial ? obj.reduce(iterator, memo) : obj.reduce(iterator);
    }

    each(obj, function (value, index, list) {
      if (!initial) {
        memo = value;
        initial = true;
      } else {
        memo = iterator.call(context, memo, value, index, list);
      }
    });
    if (!initial) throw new TypeError(reduceError);
    return memo;
  }; // The right-associative version of reduce, also known as `foldr`.
  // Delegates to **ECMAScript 5**'s native `reduceRight` if available.


  _.reduceRight = _.foldr = function (obj, iterator, memo, context) {
    var initial = arguments.length > 2;
    if (obj == null) obj = [];

    if (nativeReduceRight && obj.reduceRight === nativeReduceRight) {
      if (context) iterator = _.bind(iterator, context);
      return initial ? obj.reduceRight(iterator, memo) : obj.reduceRight(iterator);
    }

    var length = obj.length;

    if (length !== +length) {
      var keys = _.keys(obj);

      length = keys.length;
    }

    each(obj, function (value, index, list) {
      index = keys ? keys[--length] : --length;

      if (!initial) {
        memo = obj[index];
        initial = true;
      } else {
        memo = iterator.call(context, memo, obj[index], index, list);
      }
    });
    if (!initial) throw new TypeError(reduceError);
    return memo;
  }; // Return the first value which passes a truth test. Aliased as `detect`.


  _.find = _.detect = function (obj, iterator, context) {
    var result;
    any(obj, function (value, index, list) {
      if (iterator.call(context, value, index, list)) {
        result = value;
        return true;
      }
    });
    return result;
  }; // Return all the elements that pass a truth test.
  // Delegates to **ECMAScript 5**'s native `filter` if available.
  // Aliased as `select`.


  _.filter = _.select = function (obj, iterator, context) {
    var results = [];
    if (obj == null) return results;
    if (nativeFilter && obj.filter === nativeFilter) return obj.filter(iterator, context);
    each(obj, function (value, index, list) {
      if (iterator.call(context, value, index, list)) results.push(value);
    });
    return results;
  }; // Return all the elements for which a truth test fails.


  _.reject = function (obj, iterator, context) {
    return _.filter(obj, function (value, index, list) {
      return !iterator.call(context, value, index, list);
    }, context);
  }; // Determine whether all of the elements match a truth test.
  // Delegates to **ECMAScript 5**'s native `every` if available.
  // Aliased as `all`.


  _.every = _.all = function (obj, iterator, context) {
    iterator || (iterator = _.identity);
    var result = true;
    if (obj == null) return result;
    if (nativeEvery && obj.every === nativeEvery) return obj.every(iterator, context);
    each(obj, function (value, index, list) {
      if (!(result = result && iterator.call(context, value, index, list))) return breaker;
    });
    return !!result;
  }; // Determine if at least one element in the object matches a truth test.
  // Delegates to **ECMAScript 5**'s native `some` if available.
  // Aliased as `any`.


  var any = _.some = _.any = function (obj, iterator, context) {
    iterator || (iterator = _.identity);
    var result = false;
    if (obj == null) return result;
    if (nativeSome && obj.some === nativeSome) return obj.some(iterator, context);
    each(obj, function (value, index, list) {
      if (result || (result = iterator.call(context, value, index, list))) return breaker;
    });
    return !!result;
  }; // Determine if the array or object contains a given value (using `===`).
  // Aliased as `include`.


  _.contains = _.include = function (obj, target) {
    if (obj == null) return false;
    if (nativeIndexOf && obj.indexOf === nativeIndexOf) return obj.indexOf(target) != -1;
    return any(obj, function (value) {
      return value === target;
    });
  }; // Invoke a method (with arguments) on every item in a collection.


  _.invoke = function (obj, method) {
    var args = slice.call(arguments, 2);

    var isFunc = _.isFunction(method);

    return _.map(obj, function (value) {
      return (isFunc ? method : value[method]).apply(value, args);
    });
  }; // Convenience version of a common use case of `map`: fetching a property.


  _.pluck = function (obj, key) {
    return _.map(obj, function (value) {
      return value[key];
    });
  }; // Convenience version of a common use case of `filter`: selecting only objects
  // containing specific `key:value` pairs.


  _.where = function (obj, attrs, first) {
    if (_.isEmpty(attrs)) return first ? void 0 : [];
    return _[first ? 'find' : 'filter'](obj, function (value) {
      for (var key in attrs) {
        if (attrs[key] !== value[key]) return false;
      }

      return true;
    });
  }; // Convenience version of a common use case of `find`: getting the first object
  // containing specific `key:value` pairs.


  _.findWhere = function (obj, attrs) {
    return _.where(obj, attrs, true);
  }; // Return the maximum element or (element-based computation).
  // Can't optimize arrays of integers longer than 65,535 elements.
  // See [WebKit Bug 80797](https://bugs.webkit.org/show_bug.cgi?id=80797)


  _.max = function (obj, iterator, context) {
    if (!iterator && _.isArray(obj) && obj[0] === +obj[0] && obj.length < 65535) {
      return Math.max.apply(Math, obj);
    }

    if (!iterator && _.isEmpty(obj)) return -Infinity;
    var result = {
      computed: -Infinity,
      value: -Infinity
    };
    each(obj, function (value, index, list) {
      var computed = iterator ? iterator.call(context, value, index, list) : value;
      computed > result.computed && (result = {
        value: value,
        computed: computed
      });
    });
    return result.value;
  }; // Return the minimum element (or element-based computation).


  _.min = function (obj, iterator, context) {
    if (!iterator && _.isArray(obj) && obj[0] === +obj[0] && obj.length < 65535) {
      return Math.min.apply(Math, obj);
    }

    if (!iterator && _.isEmpty(obj)) return Infinity;
    var result = {
      computed: Infinity,
      value: Infinity
    };
    each(obj, function (value, index, list) {
      var computed = iterator ? iterator.call(context, value, index, list) : value;
      computed < result.computed && (result = {
        value: value,
        computed: computed
      });
    });
    return result.value;
  }; // Shuffle an array, using the modern version of the 
  // [Fisher-Yates shuffle](http://en.wikipedia.org/wiki/Fisher–Yates_shuffle).


  _.shuffle = function (obj) {
    var rand;
    var index = 0;
    var shuffled = [];
    each(obj, function (value) {
      rand = _.random(index++);
      shuffled[index - 1] = shuffled[rand];
      shuffled[rand] = value;
    });
    return shuffled;
  }; // Sample **n** random values from an array.
  // If **n** is not specified, returns a single random element from the array.
  // The internal `guard` argument allows it to work with `map`.


  _.sample = function (obj, n, guard) {
    if (arguments.length < 2 || guard) {
      return obj[_.random(obj.length - 1)];
    }

    return _.shuffle(obj).slice(0, Math.max(0, n));
  }; // An internal function to generate lookup iterators.


  var lookupIterator = function lookupIterator(value) {
    return _.isFunction(value) ? value : function (obj) {
      return obj[value];
    };
  }; // Sort the object's values by a criterion produced by an iterator.


  _.sortBy = function (obj, value, context) {
    var iterator = lookupIterator(value);
    return _.pluck(_.map(obj, function (value, index, list) {
      return {
        value: value,
        index: index,
        criteria: iterator.call(context, value, index, list)
      };
    }).sort(function (left, right) {
      var a = left.criteria;
      var b = right.criteria;

      if (a !== b) {
        if (a > b || a === void 0) return 1;
        if (a < b || b === void 0) return -1;
      }

      return left.index - right.index;
    }), 'value');
  }; // An internal function used for aggregate "group by" operations.


  var group = function group(behavior) {
    return function (obj, value, context) {
      var result = {};
      var iterator = value == null ? _.identity : lookupIterator(value);
      each(obj, function (value, index) {
        var key = iterator.call(context, value, index, obj);
        behavior(result, key, value);
      });
      return result;
    };
  }; // Groups the object's values by a criterion. Pass either a string attribute
  // to group by, or a function that returns the criterion.


  _.groupBy = group(function (result, key, value) {
    (_.has(result, key) ? result[key] : result[key] = []).push(value);
  }); // Indexes the object's values by a criterion, similar to `groupBy`, but for
  // when you know that your index values will be unique.

  _.indexBy = group(function (result, key, value) {
    result[key] = value;
  }); // Counts instances of an object that group by a certain criterion. Pass
  // either a string attribute to count by, or a function that returns the
  // criterion.

  _.countBy = group(function (result, key) {
    _.has(result, key) ? result[key]++ : result[key] = 1;
  }); // Use a comparator function to figure out the smallest index at which
  // an object should be inserted so as to maintain order. Uses binary search.

  _.sortedIndex = function (array, obj, iterator, context) {
    iterator = iterator == null ? _.identity : lookupIterator(iterator);
    var value = iterator.call(context, obj);
    var low = 0,
        high = array.length;

    while (low < high) {
      var mid = low + high >>> 1;
      iterator.call(context, array[mid]) < value ? low = mid + 1 : high = mid;
    }

    return low;
  }; // Safely create a real, live array from anything iterable.


  _.toArray = function (obj) {
    if (!obj) return [];
    if (_.isArray(obj)) return slice.call(obj);
    if (obj.length === +obj.length) return _.map(obj, _.identity);
    return _.values(obj);
  }; // Return the number of elements in an object.


  _.size = function (obj) {
    if (obj == null) return 0;
    return obj.length === +obj.length ? obj.length : _.keys(obj).length;
  }; // Array Functions
  // ---------------
  // Get the first element of an array. Passing **n** will return the first N
  // values in the array. Aliased as `head` and `take`. The **guard** check
  // allows it to work with `_.map`.


  _.first = _.head = _.take = function (array, n, guard) {
    if (array == null) return void 0;
    return n == null || guard ? array[0] : slice.call(array, 0, n);
  }; // Returns everything but the last entry of the array. Especially useful on
  // the arguments object. Passing **n** will return all the values in
  // the array, excluding the last N. The **guard** check allows it to work with
  // `_.map`.


  _.initial = function (array, n, guard) {
    return slice.call(array, 0, array.length - (n == null || guard ? 1 : n));
  }; // Get the last element of an array. Passing **n** will return the last N
  // values in the array. The **guard** check allows it to work with `_.map`.


  _.last = function (array, n, guard) {
    if (array == null) return void 0;

    if (n == null || guard) {
      return array[array.length - 1];
    } else {
      return slice.call(array, Math.max(array.length - n, 0));
    }
  }; // Returns everything but the first entry of the array. Aliased as `tail` and `drop`.
  // Especially useful on the arguments object. Passing an **n** will return
  // the rest N values in the array. The **guard**
  // check allows it to work with `_.map`.


  _.rest = _.tail = _.drop = function (array, n, guard) {
    return slice.call(array, n == null || guard ? 1 : n);
  }; // Trim out all falsy values from an array.


  _.compact = function (array) {
    return _.filter(array, _.identity);
  }; // Internal implementation of a recursive `flatten` function.


  var flatten = function flatten(input, shallow, output) {
    if (shallow && _.every(input, _.isArray)) {
      return concat.apply(output, input);
    }

    each(input, function (value) {
      if (_.isArray(value) || _.isArguments(value)) {
        shallow ? push.apply(output, value) : flatten(value, shallow, output);
      } else {
        output.push(value);
      }
    });
    return output;
  }; // Flatten out an array, either recursively (by default), or just one level.


  _.flatten = function (array, shallow) {
    return flatten(array, shallow, []);
  }; // Return a version of the array that does not contain the specified value(s).


  _.without = function (array) {
    return _.difference(array, slice.call(arguments, 1));
  }; // Produce a duplicate-free version of the array. If the array has already
  // been sorted, you have the option of using a faster algorithm.
  // Aliased as `unique`.


  _.uniq = _.unique = function (array, isSorted, iterator, context) {
    if (_.isFunction(isSorted)) {
      context = iterator;
      iterator = isSorted;
      isSorted = false;
    }

    var initial = iterator ? _.map(array, iterator, context) : array;
    var results = [];
    var seen = [];
    each(initial, function (value, index) {
      if (isSorted ? !index || seen[seen.length - 1] !== value : !_.contains(seen, value)) {
        seen.push(value);
        results.push(array[index]);
      }
    });
    return results;
  }; // Produce an array that contains the union: each distinct element from all of
  // the passed-in arrays.


  _.union = function () {
    return _.uniq(_.flatten(arguments, true));
  }; // Produce an array that contains every item shared between all the
  // passed-in arrays.


  _.intersection = function (array) {
    var rest = slice.call(arguments, 1);
    return _.filter(_.uniq(array), function (item) {
      return _.every(rest, function (other) {
        return _.indexOf(other, item) >= 0;
      });
    });
  }; // Take the difference between one array and a number of other arrays.
  // Only the elements present in just the first array will remain.


  _.difference = function (array) {
    var rest = concat.apply(ArrayProto, slice.call(arguments, 1));
    return _.filter(array, function (value) {
      return !_.contains(rest, value);
    });
  }; // Zip together multiple lists into a single array -- elements that share
  // an index go together.


  _.zip = function () {
    var length = _.max(_.pluck(arguments, "length").concat(0));

    var results = new Array(length);

    for (var i = 0; i < length; i++) {
      results[i] = _.pluck(arguments, '' + i);
    }

    return results;
  }; // Converts lists into objects. Pass either a single array of `[key, value]`
  // pairs, or two parallel arrays of the same length -- one of keys, and one of
  // the corresponding values.


  _.object = function (list, values) {
    if (list == null) return {};
    var result = {};

    for (var i = 0, length = list.length; i < length; i++) {
      if (values) {
        result[list[i]] = values[i];
      } else {
        result[list[i][0]] = list[i][1];
      }
    }

    return result;
  }; // If the browser doesn't supply us with indexOf (I'm looking at you, **MSIE**),
  // we need this function. Return the position of the first occurrence of an
  // item in an array, or -1 if the item is not included in the array.
  // Delegates to **ECMAScript 5**'s native `indexOf` if available.
  // If the array is large and already in sort order, pass `true`
  // for **isSorted** to use binary search.


  _.indexOf = function (array, item, isSorted) {
    if (array == null) return -1;
    var i = 0,
        length = array.length;

    if (isSorted) {
      if (typeof isSorted == 'number') {
        i = isSorted < 0 ? Math.max(0, length + isSorted) : isSorted;
      } else {
        i = _.sortedIndex(array, item);
        return array[i] === item ? i : -1;
      }
    }

    if (nativeIndexOf && array.indexOf === nativeIndexOf) return array.indexOf(item, isSorted);

    for (; i < length; i++) {
      if (array[i] === item) return i;
    }

    return -1;
  }; // Delegates to **ECMAScript 5**'s native `lastIndexOf` if available.


  _.lastIndexOf = function (array, item, from) {
    if (array == null) return -1;
    var hasIndex = from != null;

    if (nativeLastIndexOf && array.lastIndexOf === nativeLastIndexOf) {
      return hasIndex ? array.lastIndexOf(item, from) : array.lastIndexOf(item);
    }

    var i = hasIndex ? from : array.length;

    while (i--) {
      if (array[i] === item) return i;
    }

    return -1;
  }; // Generate an integer Array containing an arithmetic progression. A port of
  // the native Python `range()` function. See
  // [the Python documentation](http://docs.python.org/library/functions.html#range).


  _.range = function (start, stop, step) {
    if (arguments.length <= 1) {
      stop = start || 0;
      start = 0;
    }

    step = arguments[2] || 1;
    var length = Math.max(Math.ceil((stop - start) / step), 0);
    var idx = 0;
    var range = new Array(length);

    while (idx < length) {
      range[idx++] = start;
      start += step;
    }

    return range;
  }; // Function (ahem) Functions
  // ------------------
  // Reusable constructor function for prototype setting.


  var ctor = function ctor() {}; // Create a function bound to a given object (assigning `this`, and arguments,
  // optionally). Delegates to **ECMAScript 5**'s native `Function.bind` if
  // available.


  _.bind = function (func, context) {
    var args, _bound;

    if (nativeBind && func.bind === nativeBind) return nativeBind.apply(func, slice.call(arguments, 1));
    if (!_.isFunction(func)) throw new TypeError();
    args = slice.call(arguments, 2);
    return _bound = function bound() {
      if (!(this instanceof _bound)) return func.apply(context, args.concat(slice.call(arguments)));
      ctor.prototype = func.prototype;
      var self = new ctor();
      ctor.prototype = null;
      var result = func.apply(self, args.concat(slice.call(arguments)));
      if (Object(result) === result) return result;
      return self;
    };
  }; // Partially apply a function by creating a version that has had some of its
  // arguments pre-filled, without changing its dynamic `this` context.


  _.partial = function (func) {
    var args = slice.call(arguments, 1);
    return function () {
      return func.apply(this, args.concat(slice.call(arguments)));
    };
  }; // Bind all of an object's methods to that object. Useful for ensuring that
  // all callbacks defined on an object belong to it.


  _.bindAll = function (obj) {
    var funcs = slice.call(arguments, 1);
    if (funcs.length === 0) throw new Error("bindAll must be passed function names");
    each(funcs, function (f) {
      obj[f] = _.bind(obj[f], obj);
    });
    return obj;
  }; // Memoize an expensive function by storing its results.


  _.memoize = function (func, hasher) {
    var memo = {};
    hasher || (hasher = _.identity);
    return function () {
      var key = hasher.apply(this, arguments);
      return _.has(memo, key) ? memo[key] : memo[key] = func.apply(this, arguments);
    };
  }; // Delays a function for the given number of milliseconds, and then calls
  // it with the arguments supplied.


  _.delay = function (func, wait) {
    var args = slice.call(arguments, 2);
    return setTimeout(function () {
      return func.apply(null, args);
    }, wait);
  }; // Defers a function, scheduling it to run after the current call stack has
  // cleared.


  _.defer = function (func) {
    return _.delay.apply(_, [func, 1].concat(slice.call(arguments, 1)));
  }; // Returns a function, that, when invoked, will only be triggered at most once
  // during a given window of time. Normally, the throttled function will run
  // as much as it can, without ever going more than once per `wait` duration;
  // but if you'd like to disable the execution on the leading edge, pass
  // `{leading: false}`. To disable execution on the trailing edge, ditto.


  _.throttle = function (func, wait, options) {
    var context, args, result;
    var timeout = null;
    var previous = 0;
    options || (options = {});

    var later = function later() {
      previous = options.leading === false ? 0 : new Date();
      timeout = null;
      result = func.apply(context, args);
    };

    return function () {
      var now = new Date();
      if (!previous && options.leading === false) previous = now;
      var remaining = wait - (now - previous);
      context = this;
      args = arguments;

      if (remaining <= 0) {
        clearTimeout(timeout);
        timeout = null;
        previous = now;
        result = func.apply(context, args);
      } else if (!timeout && options.trailing !== false) {
        timeout = setTimeout(later, remaining);
      }

      return result;
    };
  }; // Returns a function, that, as long as it continues to be invoked, will not
  // be triggered. The function will be called after it stops being called for
  // N milliseconds. If `immediate` is passed, trigger the function on the
  // leading edge, instead of the trailing.


  _.debounce = function (func, wait, immediate) {
    var timeout, args, context, timestamp, result;
    return function () {
      context = this;
      args = arguments;
      timestamp = new Date();

      var later = function later() {
        var last = new Date() - timestamp;

        if (last < wait) {
          timeout = setTimeout(later, wait - last);
        } else {
          timeout = null;
          if (!immediate) result = func.apply(context, args);
        }
      };

      var callNow = immediate && !timeout;

      if (!timeout) {
        timeout = setTimeout(later, wait);
      }

      if (callNow) result = func.apply(context, args);
      return result;
    };
  }; // Returns a function that will be executed at most one time, no matter how
  // often you call it. Useful for lazy initialization.


  _.once = function (func) {
    var ran = false,
        memo;
    return function () {
      if (ran) return memo;
      ran = true;
      memo = func.apply(this, arguments);
      func = null;
      return memo;
    };
  }; // Returns the first function passed as an argument to the second,
  // allowing you to adjust arguments, run code before and after, and
  // conditionally execute the original function.


  _.wrap = function (func, wrapper) {
    return function () {
      var args = [func];
      push.apply(args, arguments);
      return wrapper.apply(this, args);
    };
  }; // Returns a function that is the composition of a list of functions, each
  // consuming the return value of the function that follows.


  _.compose = function () {
    var funcs = arguments;
    return function () {
      var args = arguments;

      for (var i = funcs.length - 1; i >= 0; i--) {
        args = [funcs[i].apply(this, args)];
      }

      return args[0];
    };
  }; // Returns a function that will only be executed after being called N times.


  _.after = function (times, func) {
    return function () {
      if (--times < 1) {
        return func.apply(this, arguments);
      }
    };
  }; // Object Functions
  // ----------------
  // Retrieve the names of an object's properties.
  // Delegates to **ECMAScript 5**'s native `Object.keys`


  _.keys = nativeKeys || function (obj) {
    if (obj !== Object(obj)) throw new TypeError('Invalid object');
    var keys = [];

    for (var key in obj) {
      if (_.has(obj, key)) keys.push(key);
    }

    return keys;
  }; // Retrieve the values of an object's properties.


  _.values = function (obj) {
    var keys = _.keys(obj);

    var length = keys.length;
    var values = new Array(length);

    for (var i = 0; i < length; i++) {
      values[i] = obj[keys[i]];
    }

    return values;
  }; // Convert an object into a list of `[key, value]` pairs.


  _.pairs = function (obj) {
    var keys = _.keys(obj);

    var length = keys.length;
    var pairs = new Array(length);

    for (var i = 0; i < length; i++) {
      pairs[i] = [keys[i], obj[keys[i]]];
    }

    return pairs;
  }; // Invert the keys and values of an object. The values must be serializable.


  _.invert = function (obj) {
    var result = {};

    var keys = _.keys(obj);

    for (var i = 0, length = keys.length; i < length; i++) {
      result[obj[keys[i]]] = keys[i];
    }

    return result;
  }; // Return a sorted list of the function names available on the object.
  // Aliased as `methods`


  _.functions = _.methods = function (obj) {
    var names = [];

    for (var key in obj) {
      if (_.isFunction(obj[key])) names.push(key);
    }

    return names.sort();
  }; // Extend a given object with all the properties in passed-in object(s).


  _.extend = function (obj) {
    each(slice.call(arguments, 1), function (source) {
      if (source) {
        for (var prop in source) {
          obj[prop] = source[prop];
        }
      }
    });
    return obj;
  }; // Return a copy of the object only containing the whitelisted properties.


  _.pick = function (obj) {
    var copy = {};
    var keys = concat.apply(ArrayProto, slice.call(arguments, 1));
    each(keys, function (key) {
      if (key in obj) copy[key] = obj[key];
    });
    return copy;
  }; // Return a copy of the object without the blacklisted properties.


  _.omit = function (obj) {
    var copy = {};
    var keys = concat.apply(ArrayProto, slice.call(arguments, 1));

    for (var key in obj) {
      if (!_.contains(keys, key)) copy[key] = obj[key];
    }

    return copy;
  }; // Fill in a given object with default properties.


  _.defaults = function (obj) {
    each(slice.call(arguments, 1), function (source) {
      if (source) {
        for (var prop in source) {
          if (obj[prop] === void 0) obj[prop] = source[prop];
        }
      }
    });
    return obj;
  }; // Create a (shallow-cloned) duplicate of an object.


  _.clone = function (obj) {
    if (!_.isObject(obj)) return obj;
    return _.isArray(obj) ? obj.slice() : _.extend({}, obj);
  }; // Invokes interceptor with the obj, and then returns obj.
  // The primary purpose of this method is to "tap into" a method chain, in
  // order to perform operations on intermediate results within the chain.


  _.tap = function (obj, interceptor) {
    interceptor(obj);
    return obj;
  }; // Internal recursive comparison function for `isEqual`.


  var eq = function eq(a, b, aStack, bStack) {
    // Identical objects are equal. `0 === -0`, but they aren't identical.
    // See the [Harmony `egal` proposal](http://wiki.ecmascript.org/doku.php?id=harmony:egal).
    if (a === b) return a !== 0 || 1 / a == 1 / b; // A strict comparison is necessary because `null == undefined`.

    if (a == null || b == null) return a === b; // Unwrap any wrapped objects.

    if (a instanceof _) a = a._wrapped;
    if (b instanceof _) b = b._wrapped; // Compare `[[Class]]` names.

    var className = toString.call(a);
    if (className != toString.call(b)) return false;

    switch (className) {
      // Strings, numbers, dates, and booleans are compared by value.
      case '[object String]':
        // Primitives and their corresponding object wrappers are equivalent; thus, `"5"` is
        // equivalent to `new String("5")`.
        return a == String(b);

      case '[object Number]':
        // `NaN`s are equivalent, but non-reflexive. An `egal` comparison is performed for
        // other numeric values.
        return a != +a ? b != +b : a == 0 ? 1 / a == 1 / b : a == +b;

      case '[object Date]':
      case '[object Boolean]':
        // Coerce dates and booleans to numeric primitive values. Dates are compared by their
        // millisecond representations. Note that invalid dates with millisecond representations
        // of `NaN` are not equivalent.
        return +a == +b;
      // RegExps are compared by their source patterns and flags.

      case '[object RegExp]':
        return a.source == b.source && a.global == b.global && a.multiline == b.multiline && a.ignoreCase == b.ignoreCase;
    }

    if (typeof a != 'object' || typeof b != 'object') return false; // Assume equality for cyclic structures. The algorithm for detecting cyclic
    // structures is adapted from ES 5.1 section 15.12.3, abstract operation `JO`.

    var length = aStack.length;

    while (length--) {
      // Linear search. Performance is inversely proportional to the number of
      // unique nested structures.
      if (aStack[length] == a) return bStack[length] == b;
    } // Objects with different constructors are not equivalent, but `Object`s
    // from different frames are.


    var aCtor = a.constructor,
        bCtor = b.constructor;

    if (aCtor !== bCtor && !(_.isFunction(aCtor) && aCtor instanceof aCtor && _.isFunction(bCtor) && bCtor instanceof bCtor)) {
      return false;
    } // Add the first object to the stack of traversed objects.


    aStack.push(a);
    bStack.push(b);
    var size = 0,
        result = true; // Recursively compare objects and arrays.

    if (className == '[object Array]') {
      // Compare array lengths to determine if a deep comparison is necessary.
      size = a.length;
      result = size == b.length;

      if (result) {
        // Deep compare the contents, ignoring non-numeric properties.
        while (size--) {
          if (!(result = eq(a[size], b[size], aStack, bStack))) break;
        }
      }
    } else {
      // Deep compare objects.
      for (var key in a) {
        if (_.has(a, key)) {
          // Count the expected number of properties.
          size++; // Deep compare each member.

          if (!(result = _.has(b, key) && eq(a[key], b[key], aStack, bStack))) break;
        }
      } // Ensure that both objects contain the same number of properties.


      if (result) {
        for (key in b) {
          if (_.has(b, key) && !size--) break;
        }

        result = !size;
      }
    } // Remove the first object from the stack of traversed objects.


    aStack.pop();
    bStack.pop();
    return result;
  }; // Perform a deep comparison to check if two objects are equal.


  _.isEqual = function (a, b) {
    return eq(a, b, [], []);
  }; // Is a given array, string, or object empty?
  // An "empty" object has no enumerable own-properties.


  _.isEmpty = function (obj) {
    if (obj == null) return true;
    if (_.isArray(obj) || _.isString(obj)) return obj.length === 0;

    for (var key in obj) {
      if (_.has(obj, key)) return false;
    }

    return true;
  }; // Is a given value a DOM element?


  _.isElement = function (obj) {
    return !!(obj && obj.nodeType === 1);
  }; // Is a given value an array?
  // Delegates to ECMA5's native Array.isArray


  _.isArray = nativeIsArray || function (obj) {
    return toString.call(obj) == '[object Array]';
  }; // Is a given variable an object?


  _.isObject = function (obj) {
    return obj === Object(obj);
  }; // Add some isType methods: isArguments, isFunction, isString, isNumber, isDate, isRegExp.


  each(['Arguments', 'Function', 'String', 'Number', 'Date', 'RegExp'], function (name) {
    _['is' + name] = function (obj) {
      return toString.call(obj) == '[object ' + name + ']';
    };
  }); // Define a fallback version of the method in browsers (ahem, IE), where
  // there isn't any inspectable "Arguments" type.

  if (!_.isArguments(arguments)) {
    _.isArguments = function (obj) {
      return !!(obj && _.has(obj, 'callee'));
    };
  } // Optimize `isFunction` if appropriate.


  if (typeof /./ !== 'function') {
    _.isFunction = function (obj) {
      return typeof obj === 'function';
    };
  } // Is a given object a finite number?


  _.isFinite = function (obj) {
    return isFinite(obj) && !isNaN(parseFloat(obj));
  }; // Is the given value `NaN`? (NaN is the only number which does not equal itself).


  _.isNaN = function (obj) {
    return _.isNumber(obj) && obj != +obj;
  }; // Is a given value a boolean?


  _.isBoolean = function (obj) {
    return obj === true || obj === false || toString.call(obj) == '[object Boolean]';
  }; // Is a given value equal to null?


  _.isNull = function (obj) {
    return obj === null;
  }; // Is a given variable undefined?


  _.isUndefined = function (obj) {
    return obj === void 0;
  }; // Shortcut function for checking if an object has a given property directly
  // on itself (in other words, not on a prototype).


  _.has = function (obj, key) {
    return hasOwnProperty.call(obj, key);
  }; // Utility Functions
  // -----------------
  // Run Underscore.js in *noConflict* mode, returning the `_` variable to its
  // previous owner. Returns a reference to the Underscore object.


  _.noConflict = function () {
    root._ = previousUnderscore;
    return this;
  }; // Keep the identity function around for default iterators.


  _.identity = function (value) {
    return value;
  }; // Run a function **n** times.


  _.times = function (n, iterator, context) {
    var accum = Array(Math.max(0, n));

    for (var i = 0; i < n; i++) {
      accum[i] = iterator.call(context, i);
    }

    return accum;
  }; // Return a random integer between min and max (inclusive).


  _.random = function (min, max) {
    if (max == null) {
      max = min;
      min = 0;
    }

    return min + Math.floor(Math.random() * (max - min + 1));
  }; // List of HTML entities for escaping.


  var entityMap = {
    escape: {
      '&': '&amp;',
      '<': '&lt;',
      '>': '&gt;',
      '"': '&quot;',
      "'": '&#x27;'
    }
  };
  entityMap.unescape = _.invert(entityMap.escape); // Regexes containing the keys and values listed immediately above.

  var entityRegexes = {
    escape: new RegExp('[' + _.keys(entityMap.escape).join('') + ']', 'g'),
    unescape: new RegExp('(' + _.keys(entityMap.unescape).join('|') + ')', 'g')
  }; // Functions for escaping and unescaping strings to/from HTML interpolation.

  _.each(['escape', 'unescape'], function (method) {
    _[method] = function (string) {
      if (string == null) return '';
      return ('' + string).replace(entityRegexes[method], function (match) {
        return entityMap[method][match];
      });
    };
  }); // If the value of the named `property` is a function then invoke it with the
  // `object` as context; otherwise, return it.


  _.result = function (object, property) {
    if (object == null) return void 0;
    var value = object[property];
    return _.isFunction(value) ? value.call(object) : value;
  }; // Add your own custom functions to the Underscore object.


  _.mixin = function (obj) {
    each(_.functions(obj), function (name) {
      var func = _[name] = obj[name];

      _.prototype[name] = function () {
        var args = [this._wrapped];
        push.apply(args, arguments);
        return result.call(this, func.apply(_, args));
      };
    });
  }; // Generate a unique integer id (unique within the entire client session).
  // Useful for temporary DOM ids.


  var idCounter = 0;

  _.uniqueId = function (prefix) {
    var id = ++idCounter + '';
    return prefix ? prefix + id : id;
  }; // By default, Underscore uses ERB-style template delimiters, change the
  // following template settings to use alternative delimiters.


  _.templateSettings = {
    evaluate: /<%([\s\S]+?)%>/g,
    interpolate: /<%=([\s\S]+?)%>/g,
    escape: /<%-([\s\S]+?)%>/g
  }; // When customizing `templateSettings`, if you don't want to define an
  // interpolation, evaluation or escaping regex, we need one that is
  // guaranteed not to match.

  var noMatch = /(.)^/; // Certain characters need to be escaped so that they can be put into a
  // string literal.

  var escapes = {
    "'": "'",
    '\\': '\\',
    '\r': 'r',
    '\n': 'n',
    '\t': 't',
    "\u2028": 'u2028',
    "\u2029": 'u2029'
  };
  var escaper = /\\|'|\r|\n|\t|\u2028|\u2029/g; // JavaScript micro-templating, similar to John Resig's implementation.
  // Underscore templating handles arbitrary delimiters, preserves whitespace,
  // and correctly escapes quotes within interpolated code.

  _.template = function (text, data, settings) {
    var render;
    settings = _.defaults({}, settings, _.templateSettings); // Combine delimiters into one regular expression via alternation.

    var matcher = new RegExp([(settings.escape || noMatch).source, (settings.interpolate || noMatch).source, (settings.evaluate || noMatch).source].join('|') + '|$', 'g'); // Compile the template source, escaping string literals appropriately.

    var index = 0;
    var source = "__p+='";
    text.replace(matcher, function (match, escape, interpolate, evaluate, offset) {
      source += text.slice(index, offset).replace(escaper, function (match) {
        return '\\' + escapes[match];
      });

      if (escape) {
        source += "'+\n((__t=(" + escape + "))==null?'':_.escape(__t))+\n'";
      }

      if (interpolate) {
        source += "'+\n((__t=(" + interpolate + "))==null?'':__t)+\n'";
      }

      if (evaluate) {
        source += "';\n" + evaluate + "\n__p+='";
      }

      index = offset + match.length;
      return match;
    });
    source += "';\n"; // If a variable is not specified, place data values in local scope.

    if (!settings.variable) source = 'with(obj||{}){\n' + source + '}\n';
    source = "var __t,__p='',__j=Array.prototype.join," + "print=function(){__p+=__j.call(arguments,'');};\n" + source + "return __p;\n";

    try {
      render = new Function(settings.variable || 'obj', '_', source);
    } catch (e) {
      e.source = source;
      throw e;
    }

    if (data) return render(data, _);

    var template = function template(data) {
      return render.call(this, data, _);
    }; // Provide the compiled function source as a convenience for precompilation.


    template.source = 'function(' + (settings.variable || 'obj') + '){\n' + source + '}';
    return template;
  }; // Add a "chain" function, which will delegate to the wrapper.


  _.chain = function (obj) {
    return _(obj).chain();
  }; // OOP
  // ---------------
  // If Underscore is called as a function, it returns a wrapped object that
  // can be used OO-style. This wrapper holds altered versions of all the
  // underscore functions. Wrapped objects may be chained.
  // Helper function to continue chaining intermediate results.


  var result = function result(obj) {
    return this._chain ? _(obj).chain() : obj;
  }; // Add all of the Underscore functions to the wrapper object.


  _.mixin(_); // Add all mutator Array functions to the wrapper.


  each(['pop', 'push', 'reverse', 'shift', 'sort', 'splice', 'unshift'], function (name) {
    var method = ArrayProto[name];

    _.prototype[name] = function () {
      var obj = this._wrapped;
      method.apply(obj, arguments);
      if ((name == 'shift' || name == 'splice') && obj.length === 0) delete obj[0];
      return result.call(this, obj);
    };
  }); // Add all accessor Array functions to the wrapper.

  each(['concat', 'join', 'slice'], function (name) {
    var method = ArrayProto[name];

    _.prototype[name] = function () {
      return result.call(this, method.apply(this._wrapped, arguments));
    };
  });

  _.extend(_.prototype, {
    // Start chaining a wrapped Underscore object.
    chain: function chain() {
      this._chain = true;
      return this;
    },
    // Extracts the result from a wrapped and chained object.
    value: function value() {
      return this._wrapped;
    }
  });
}).call(void 0);

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZ2FtZUNvbW9uXFxzY3JpcHRzXFxtb2RlbFxcdW5kZXJzY29yZS5qcyJdLCJuYW1lcyI6WyJyb290Iiwid2luZG93IiwicHJldmlvdXNVbmRlcnNjb3JlIiwiXyIsImJyZWFrZXIiLCJBcnJheVByb3RvIiwiQXJyYXkiLCJwcm90b3R5cGUiLCJPYmpQcm90byIsIk9iamVjdCIsIkZ1bmNQcm90byIsIkZ1bmN0aW9uIiwicHVzaCIsInNsaWNlIiwiY29uY2F0IiwidG9TdHJpbmciLCJoYXNPd25Qcm9wZXJ0eSIsIm5hdGl2ZUZvckVhY2giLCJmb3JFYWNoIiwibmF0aXZlTWFwIiwibWFwIiwibmF0aXZlUmVkdWNlIiwicmVkdWNlIiwibmF0aXZlUmVkdWNlUmlnaHQiLCJyZWR1Y2VSaWdodCIsIm5hdGl2ZUZpbHRlciIsImZpbHRlciIsIm5hdGl2ZUV2ZXJ5IiwiZXZlcnkiLCJuYXRpdmVTb21lIiwic29tZSIsIm5hdGl2ZUluZGV4T2YiLCJpbmRleE9mIiwibmF0aXZlTGFzdEluZGV4T2YiLCJsYXN0SW5kZXhPZiIsIm5hdGl2ZUlzQXJyYXkiLCJpc0FycmF5IiwibmF0aXZlS2V5cyIsImtleXMiLCJuYXRpdmVCaW5kIiwiYmluZCIsIm9iaiIsIl93cmFwcGVkIiwiZXhwb3J0cyIsIm1vZHVsZSIsIlZFUlNJT04iLCJlYWNoIiwiaXRlcmF0b3IiLCJjb250ZXh0IiwibGVuZ3RoIiwiaSIsImNhbGwiLCJjb2xsZWN0IiwicmVzdWx0cyIsInZhbHVlIiwiaW5kZXgiLCJsaXN0IiwicmVkdWNlRXJyb3IiLCJmb2xkbCIsImluamVjdCIsIm1lbW8iLCJpbml0aWFsIiwiYXJndW1lbnRzIiwiVHlwZUVycm9yIiwiZm9sZHIiLCJmaW5kIiwiZGV0ZWN0IiwicmVzdWx0IiwiYW55Iiwic2VsZWN0IiwicmVqZWN0IiwiYWxsIiwiaWRlbnRpdHkiLCJjb250YWlucyIsImluY2x1ZGUiLCJ0YXJnZXQiLCJpbnZva2UiLCJtZXRob2QiLCJhcmdzIiwiaXNGdW5jIiwiaXNGdW5jdGlvbiIsImFwcGx5IiwicGx1Y2siLCJrZXkiLCJ3aGVyZSIsImF0dHJzIiwiZmlyc3QiLCJpc0VtcHR5IiwiZmluZFdoZXJlIiwibWF4IiwiTWF0aCIsIkluZmluaXR5IiwiY29tcHV0ZWQiLCJtaW4iLCJzaHVmZmxlIiwicmFuZCIsInNodWZmbGVkIiwicmFuZG9tIiwic2FtcGxlIiwibiIsImd1YXJkIiwibG9va3VwSXRlcmF0b3IiLCJzb3J0QnkiLCJjcml0ZXJpYSIsInNvcnQiLCJsZWZ0IiwicmlnaHQiLCJhIiwiYiIsImdyb3VwIiwiYmVoYXZpb3IiLCJncm91cEJ5IiwiaGFzIiwiaW5kZXhCeSIsImNvdW50QnkiLCJzb3J0ZWRJbmRleCIsImFycmF5IiwibG93IiwiaGlnaCIsIm1pZCIsInRvQXJyYXkiLCJ2YWx1ZXMiLCJzaXplIiwiaGVhZCIsInRha2UiLCJsYXN0IiwicmVzdCIsInRhaWwiLCJkcm9wIiwiY29tcGFjdCIsImZsYXR0ZW4iLCJpbnB1dCIsInNoYWxsb3ciLCJvdXRwdXQiLCJpc0FyZ3VtZW50cyIsIndpdGhvdXQiLCJkaWZmZXJlbmNlIiwidW5pcSIsInVuaXF1ZSIsImlzU29ydGVkIiwic2VlbiIsInVuaW9uIiwiaW50ZXJzZWN0aW9uIiwiaXRlbSIsIm90aGVyIiwiemlwIiwib2JqZWN0IiwiZnJvbSIsImhhc0luZGV4IiwicmFuZ2UiLCJzdGFydCIsInN0b3AiLCJzdGVwIiwiY2VpbCIsImlkeCIsImN0b3IiLCJmdW5jIiwiYm91bmQiLCJzZWxmIiwicGFydGlhbCIsImJpbmRBbGwiLCJmdW5jcyIsIkVycm9yIiwiZiIsIm1lbW9pemUiLCJoYXNoZXIiLCJkZWxheSIsIndhaXQiLCJzZXRUaW1lb3V0IiwiZGVmZXIiLCJ0aHJvdHRsZSIsIm9wdGlvbnMiLCJ0aW1lb3V0IiwicHJldmlvdXMiLCJsYXRlciIsImxlYWRpbmciLCJEYXRlIiwibm93IiwicmVtYWluaW5nIiwiY2xlYXJUaW1lb3V0IiwidHJhaWxpbmciLCJkZWJvdW5jZSIsImltbWVkaWF0ZSIsInRpbWVzdGFtcCIsImNhbGxOb3ciLCJvbmNlIiwicmFuIiwid3JhcCIsIndyYXBwZXIiLCJjb21wb3NlIiwiYWZ0ZXIiLCJ0aW1lcyIsInBhaXJzIiwiaW52ZXJ0IiwiZnVuY3Rpb25zIiwibWV0aG9kcyIsIm5hbWVzIiwiZXh0ZW5kIiwic291cmNlIiwicHJvcCIsInBpY2siLCJjb3B5Iiwib21pdCIsImRlZmF1bHRzIiwiY2xvbmUiLCJpc09iamVjdCIsInRhcCIsImludGVyY2VwdG9yIiwiZXEiLCJhU3RhY2siLCJiU3RhY2siLCJjbGFzc05hbWUiLCJTdHJpbmciLCJnbG9iYWwiLCJtdWx0aWxpbmUiLCJpZ25vcmVDYXNlIiwiYUN0b3IiLCJjb25zdHJ1Y3RvciIsImJDdG9yIiwicG9wIiwiaXNFcXVhbCIsImlzU3RyaW5nIiwiaXNFbGVtZW50Iiwibm9kZVR5cGUiLCJuYW1lIiwiaXNGaW5pdGUiLCJpc05hTiIsInBhcnNlRmxvYXQiLCJpc051bWJlciIsImlzQm9vbGVhbiIsImlzTnVsbCIsImlzVW5kZWZpbmVkIiwibm9Db25mbGljdCIsImFjY3VtIiwiZmxvb3IiLCJlbnRpdHlNYXAiLCJlc2NhcGUiLCJ1bmVzY2FwZSIsImVudGl0eVJlZ2V4ZXMiLCJSZWdFeHAiLCJqb2luIiwic3RyaW5nIiwicmVwbGFjZSIsIm1hdGNoIiwicHJvcGVydHkiLCJtaXhpbiIsImlkQ291bnRlciIsInVuaXF1ZUlkIiwicHJlZml4IiwiaWQiLCJ0ZW1wbGF0ZVNldHRpbmdzIiwiZXZhbHVhdGUiLCJpbnRlcnBvbGF0ZSIsIm5vTWF0Y2giLCJlc2NhcGVzIiwiZXNjYXBlciIsInRlbXBsYXRlIiwidGV4dCIsImRhdGEiLCJzZXR0aW5ncyIsInJlbmRlciIsIm1hdGNoZXIiLCJvZmZzZXQiLCJ2YXJpYWJsZSIsImUiLCJjaGFpbiIsIl9jaGFpbiJdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUVBLENBQUMsWUFBVztBQUVWO0FBQ0E7QUFFQTtBQUNB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QUFBLEtBQUssRUFBRSxpQkFBVztBQUNoQixXQUFLQyxNQUFMLEdBQWMsSUFBZDtBQUNBLGFBQU8sSUFBUDtBQUNELEtBTm1CO0FBUXBCO0FBQ0FwTixJQUFBQSxLQUFLLEVBQUUsaUJBQVc7QUFDaEIsYUFBTyxLQUFLWixRQUFaO0FBQ0Q7QUFYbUIsR0FBdEI7QUFlRCxDQXR2Q0QsRUFzdkNHUyxJQXR2Q0giLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIi8vICAgICBVbmRlcnNjb3JlLmpzIDEuNS4yXG4vLyAgICAgaHR0cDovL3VuZGVyc2NvcmVqcy5vcmdcbi8vICAgICAoYykgMjAwOS0yMDEzIEplcmVteSBBc2hrZW5hcywgRG9jdW1lbnRDbG91ZCBhbmQgSW52ZXN0aWdhdGl2ZSBSZXBvcnRlcnMgJiBFZGl0b3JzXG4vLyAgICAgVW5kZXJzY29yZSBtYXkgYmUgZnJlZWx5IGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBNSVQgbGljZW5zZS5cblxuKGZ1bmN0aW9uKCkge1xuXG4gIC8vIEJhc2VsaW5lIHNldHVwXG4gIC8vIC0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gRXN0YWJsaXNoIHRoZSByb290IG9iamVjdCwgYHdpbmRvd2AgaW4gdGhlIGJyb3dzZXIsIG9yIGBleHBvcnRzYCBvbiB0aGUgc2VydmVyLlxuICB2YXIgcm9vdCA9IHdpbmRvdzsgLy90aGlzOyAvL21vZGlmaWVkXG5cbiAgLy8gU2F2ZSB0aGUgcHJldmlvdXMgdmFsdWUgb2YgdGhlIGBfYCB2YXJpYWJsZS5cbiAgdmFyIHByZXZpb3VzVW5kZXJzY29yZSA9IHJvb3QuXztcblxuICAvLyBFc3RhYmxpc2ggdGhlIG9iamVjdCB0aGF0IGdldHMgcmV0dXJuZWQgdG8gYnJlYWsgb3V0IG9mIGEgbG9vcCBpdGVyYXRpb24uXG4gIHZhciBicmVha2VyID0ge307XG5cbiAgLy8gU2F2ZSBieXRlcyBpbiB0aGUgbWluaWZpZWQgKGJ1dCBub3QgZ3ppcHBlZCkgdmVyc2lvbjpcbiAgdmFyIEFycmF5UHJvdG8gPSBBcnJheS5wcm90b3R5cGUsIE9ialByb3RvID0gT2JqZWN0LnByb3RvdHlwZSwgRnVuY1Byb3RvID0gRnVuY3Rpb24ucHJvdG90eXBlO1xuXG4gIC8vIENyZWF0ZSBxdWljayByZWZlcmVuY2UgdmFyaWFibGVzIGZvciBzcGVlZCBhY2Nlc3MgdG8gY29yZSBwcm90b3R5cGVzLlxuICB2YXJcbiAgICBwdXNoICAgICAgICAgICAgID0gQXJyYXlQcm90by5wdXNoLFxuICAgIHNsaWNlICAgICAgICAgICAgPSBBcnJheVByb3RvLnNsaWNlLFxuICAgIGNvbmNhdCAgICAgICAgICAgPSBBcnJheVByb3RvLmNvbmNhdCxcbiAgICB0b1N0cmluZyAgICAgICAgID0gT2JqUHJvdG8udG9TdHJpbmcsXG4gICAgaGFzT3duUHJvcGVydHkgICA9IE9ialByb3RvLmhhc093blByb3BlcnR5O1xuXG4gIC8vIEFsbCAqKkVDTUFTY3JpcHQgNSoqIG5hdGl2ZSBmdW5jdGlvbiBpbXBsZW1lbnRhdGlvbnMgdGhhdCB3ZSBob3BlIHRvIHVzZVxuICAvLyBhcmUgZGVjbGFyZWQgaGVyZS5cbiAgdmFyXG4gICAgbmF0aXZlRm9yRWFjaCAgICAgID0gQXJyYXlQcm90by5mb3JFYWNoLFxuICAgIG5hdGl2ZU1hcCAgICAgICAgICA9IEFycmF5UHJvdG8ubWFwLFxuICAgIG5hdGl2ZVJlZHVjZSAgICAgICA9IEFycmF5UHJvdG8ucmVkdWNlLFxuICAgIG5hdGl2ZVJlZHVjZVJpZ2h0ICA9IEFycmF5UHJvdG8ucmVkdWNlUmlnaHQsXG4gICAgbmF0aXZlRmlsdGVyICAgICAgID0gQXJyYXlQcm90by5maWx0ZXIsXG4gICAgbmF0aXZlRXZlcnkgICAgICAgID0gQXJyYXlQcm90by5ldmVyeSxcbiAgICBuYXRpdmVTb21lICAgICAgICAgPSBBcnJheVByb3RvLnNvbWUsXG4gICAgbmF0aXZlSW5kZXhPZiAgICAgID0gQXJyYXlQcm90by5pbmRleE9mLFxuICAgIG5hdGl2ZUxhc3RJbmRleE9mICA9IEFycmF5UHJvdG8ubGFzdEluZGV4T2YsXG4gICAgbmF0aXZlSXNBcnJheSAgICAgID0gQXJyYXkuaXNBcnJheSxcbiAgICBuYXRpdmVLZXlzICAgICAgICAgPSBPYmplY3Qua2V5cyxcbiAgICBuYXRpdmVCaW5kICAgICAgICAgPSBGdW5jUHJvdG8uYmluZDtcblxuICAvLyBDcmVhdGUgYSBzYWZlIHJlZmVyZW5jZSB0byB0aGUgVW5kZXJzY29yZSBvYmplY3QgZm9yIHVzZSBiZWxvdy5cbiAgdmFyIF8gPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqIGluc3RhbmNlb2YgXykgcmV0dXJuIG9iajtcbiAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgXykpIHJldHVybiBuZXcgXyhvYmopO1xuICAgIHRoaXMuX3dyYXBwZWQgPSBvYmo7XG4gIH07XG5cbiAgLy8gRXhwb3J0IHRoZSBVbmRlcnNjb3JlIG9iamVjdCBmb3IgKipOb2RlLmpzKiosIHdpdGhcbiAgLy8gYmFja3dhcmRzLWNvbXBhdGliaWxpdHkgZm9yIHRoZSBvbGQgYHJlcXVpcmUoKWAgQVBJLiBJZiB3ZSdyZSBpblxuICAvLyB0aGUgYnJvd3NlciwgYWRkIGBfYCBhcyBhIGdsb2JhbCBvYmplY3QgdmlhIGEgc3RyaW5nIGlkZW50aWZpZXIsXG4gIC8vIGZvciBDbG9zdXJlIENvbXBpbGVyIFwiYWR2YW5jZWRcIiBtb2RlLlxuICBpZiAodHlwZW9mIGV4cG9ydHMgIT09ICd1bmRlZmluZWQnKSB7XG4gICAgaWYgKHR5cGVvZiBtb2R1bGUgIT09ICd1bmRlZmluZWQnICYmIG1vZHVsZS5leHBvcnRzKSB7XG4gICAgICBleHBvcnRzID0gbW9kdWxlLmV4cG9ydHMgPSBfO1xuICAgIH1cbiAgICBleHBvcnRzLl8gPSBfO1xuICB9IGVsc2Uge1xuICAgIHJvb3QuXyA9IF87XG4gIH1cblxuICAvLyBDdXJyZW50IHZlcnNpb24uXG4gIF8uVkVSU0lPTiA9ICcxLjUuMic7XG5cbiAgLy8gQ29sbGVjdGlvbiBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBUaGUgY29ybmVyc3RvbmUsIGFuIGBlYWNoYCBpbXBsZW1lbnRhdGlvbiwgYWthIGBmb3JFYWNoYC5cbiAgLy8gSGFuZGxlcyBvYmplY3RzIHdpdGggdGhlIGJ1aWx0LWluIGBmb3JFYWNoYCwgYXJyYXlzLCBhbmQgcmF3IG9iamVjdHMuXG4gIC8vIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBmb3JFYWNoYCBpZiBhdmFpbGFibGUuXG4gIHZhciBlYWNoID0gXy5lYWNoID0gXy5mb3JFYWNoID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuO1xuICAgIGlmIChuYXRpdmVGb3JFYWNoICYmIG9iai5mb3JFYWNoID09PSBuYXRpdmVGb3JFYWNoKSB7XG4gICAgICBvYmouZm9yRWFjaChpdGVyYXRvciwgY29udGV4dCk7XG4gICAgfSBlbHNlIGlmIChvYmoubGVuZ3RoID09PSArb2JqLmxlbmd0aCkge1xuICAgICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IG9iai5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgICBpZiAoaXRlcmF0b3IuY2FsbChjb250ZXh0LCBvYmpbaV0sIGksIG9iaikgPT09IGJyZWFrZXIpIHJldHVybjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICAgIGZvciAodmFyIGkgPSAwLCBsZW5ndGggPSBrZXlzLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XG4gICAgICAgIGlmIChpdGVyYXRvci5jYWxsKGNvbnRleHQsIG9ialtrZXlzW2ldXSwga2V5c1tpXSwgb2JqKSA9PT0gYnJlYWtlcikgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIHJlc3VsdHMgb2YgYXBwbHlpbmcgdGhlIGl0ZXJhdG9yIHRvIGVhY2ggZWxlbWVudC5cbiAgLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYG1hcGAgaWYgYXZhaWxhYmxlLlxuICBfLm1hcCA9IF8uY29sbGVjdCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICB2YXIgcmVzdWx0cyA9IFtdO1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHJlc3VsdHM7XG4gICAgaWYgKG5hdGl2ZU1hcCAmJiBvYmoubWFwID09PSBuYXRpdmVNYXApIHJldHVybiBvYmoubWFwKGl0ZXJhdG9yLCBjb250ZXh0KTtcbiAgICBlYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgICByZXN1bHRzLnB1c2goaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIGxpc3QpKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcblxuICB2YXIgcmVkdWNlRXJyb3IgPSAnUmVkdWNlIG9mIGVtcHR5IGFycmF5IHdpdGggbm8gaW5pdGlhbCB2YWx1ZSc7XG5cbiAgLy8gKipSZWR1Y2UqKiBidWlsZHMgdXAgYSBzaW5nbGUgcmVzdWx0IGZyb20gYSBsaXN0IG9mIHZhbHVlcywgYWthIGBpbmplY3RgLFxuICAvLyBvciBgZm9sZGxgLiBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgcmVkdWNlYCBpZiBhdmFpbGFibGUuXG4gIF8ucmVkdWNlID0gXy5mb2xkbCA9IF8uaW5qZWN0ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRvciwgbWVtbywgY29udGV4dCkge1xuICAgIHZhciBpbml0aWFsID0gYXJndW1lbnRzLmxlbmd0aCA+IDI7XG4gICAgaWYgKG9iaiA9PSBudWxsKSBvYmogPSBbXTtcbiAgICBpZiAobmF0aXZlUmVkdWNlICYmIG9iai5yZWR1Y2UgPT09IG5hdGl2ZVJlZHVjZSkge1xuICAgICAgaWYgKGNvbnRleHQpIGl0ZXJhdG9yID0gXy5iaW5kKGl0ZXJhdG9yLCBjb250ZXh0KTtcbiAgICAgIHJldHVybiBpbml0aWFsID8gb2JqLnJlZHVjZShpdGVyYXRvciwgbWVtbykgOiBvYmoucmVkdWNlKGl0ZXJhdG9yKTtcbiAgICB9XG4gICAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgaWYgKCFpbml0aWFsKSB7XG4gICAgICAgIG1lbW8gPSB2YWx1ZTtcbiAgICAgICAgaW5pdGlhbCA9IHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBtZW1vID0gaXRlcmF0b3IuY2FsbChjb250ZXh0LCBtZW1vLCB2YWx1ZSwgaW5kZXgsIGxpc3QpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghaW5pdGlhbCkgdGhyb3cgbmV3IFR5cGVFcnJvcihyZWR1Y2VFcnJvcik7XG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG5cbiAgLy8gVGhlIHJpZ2h0LWFzc29jaWF0aXZlIHZlcnNpb24gb2YgcmVkdWNlLCBhbHNvIGtub3duIGFzIGBmb2xkcmAuXG4gIC8vIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGByZWR1Y2VSaWdodGAgaWYgYXZhaWxhYmxlLlxuICBfLnJlZHVjZVJpZ2h0ID0gXy5mb2xkciA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0b3IsIG1lbW8sIGNvbnRleHQpIHtcbiAgICB2YXIgaW5pdGlhbCA9IGFyZ3VtZW50cy5sZW5ndGggPiAyO1xuICAgIGlmIChvYmogPT0gbnVsbCkgb2JqID0gW107XG4gICAgaWYgKG5hdGl2ZVJlZHVjZVJpZ2h0ICYmIG9iai5yZWR1Y2VSaWdodCA9PT0gbmF0aXZlUmVkdWNlUmlnaHQpIHtcbiAgICAgIGlmIChjb250ZXh0KSBpdGVyYXRvciA9IF8uYmluZChpdGVyYXRvciwgY29udGV4dCk7XG4gICAgICByZXR1cm4gaW5pdGlhbCA/IG9iai5yZWR1Y2VSaWdodChpdGVyYXRvciwgbWVtbykgOiBvYmoucmVkdWNlUmlnaHQoaXRlcmF0b3IpO1xuICAgIH1cbiAgICB2YXIgbGVuZ3RoID0gb2JqLmxlbmd0aDtcbiAgICBpZiAobGVuZ3RoICE9PSArbGVuZ3RoKSB7XG4gICAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopO1xuICAgICAgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgfVxuICAgIGVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIGluZGV4ID0ga2V5cyA/IGtleXNbLS1sZW5ndGhdIDogLS1sZW5ndGg7XG4gICAgICBpZiAoIWluaXRpYWwpIHtcbiAgICAgICAgbWVtbyA9IG9ialtpbmRleF07XG4gICAgICAgIGluaXRpYWwgPSB0cnVlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbWVtbyA9IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgbWVtbywgb2JqW2luZGV4XSwgaW5kZXgsIGxpc3QpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghaW5pdGlhbCkgdGhyb3cgbmV3IFR5cGVFcnJvcihyZWR1Y2VFcnJvcik7XG4gICAgcmV0dXJuIG1lbW87XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSBmaXJzdCB2YWx1ZSB3aGljaCBwYXNzZXMgYSB0cnV0aCB0ZXN0LiBBbGlhc2VkIGFzIGBkZXRlY3RgLlxuICBfLmZpbmQgPSBfLmRldGVjdCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICB2YXIgcmVzdWx0O1xuICAgIGFueShvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgaWYgKGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBsaXN0KSkge1xuICAgICAgICByZXN1bHQgPSB2YWx1ZTtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBSZXR1cm4gYWxsIHRoZSBlbGVtZW50cyB0aGF0IHBhc3MgYSB0cnV0aCB0ZXN0LlxuICAvLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgZmlsdGVyYCBpZiBhdmFpbGFibGUuXG4gIC8vIEFsaWFzZWQgYXMgYHNlbGVjdGAuXG4gIF8uZmlsdGVyID0gXy5zZWxlY3QgPSBmdW5jdGlvbihvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgdmFyIHJlc3VsdHMgPSBbXTtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiByZXN1bHRzO1xuICAgIGlmIChuYXRpdmVGaWx0ZXIgJiYgb2JqLmZpbHRlciA9PT0gbmF0aXZlRmlsdGVyKSByZXR1cm4gb2JqLmZpbHRlcihpdGVyYXRvciwgY29udGV4dCk7XG4gICAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgaWYgKGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBsaXN0KSkgcmVzdWx0cy5wdXNoKHZhbHVlKTtcbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcblxuICAvLyBSZXR1cm4gYWxsIHRoZSBlbGVtZW50cyBmb3Igd2hpY2ggYSB0cnV0aCB0ZXN0IGZhaWxzLlxuICBfLnJlamVjdCA9IGZ1bmN0aW9uKG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICByZXR1cm4gXy5maWx0ZXIob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIHJldHVybiAhaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIGxpc3QpO1xuICAgIH0sIGNvbnRleHQpO1xuICB9O1xuXG4gIC8vIERldGVybWluZSB3aGV0aGVyIGFsbCBvZiB0aGUgZWxlbWVudHMgbWF0Y2ggYSB0cnV0aCB0ZXN0LlxuICAvLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgZXZlcnlgIGlmIGF2YWlsYWJsZS5cbiAgLy8gQWxpYXNlZCBhcyBgYWxsYC5cbiAgXy5ldmVyeSA9IF8uYWxsID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIGl0ZXJhdG9yIHx8IChpdGVyYXRvciA9IF8uaWRlbnRpdHkpO1xuICAgIHZhciByZXN1bHQgPSB0cnVlO1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHJlc3VsdDtcbiAgICBpZiAobmF0aXZlRXZlcnkgJiYgb2JqLmV2ZXJ5ID09PSBuYXRpdmVFdmVyeSkgcmV0dXJuIG9iai5ldmVyeShpdGVyYXRvciwgY29udGV4dCk7XG4gICAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgaWYgKCEocmVzdWx0ID0gcmVzdWx0ICYmIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBsaXN0KSkpIHJldHVybiBicmVha2VyO1xuICAgIH0pO1xuICAgIHJldHVybiAhIXJlc3VsdDtcbiAgfTtcblxuICAvLyBEZXRlcm1pbmUgaWYgYXQgbGVhc3Qgb25lIGVsZW1lbnQgaW4gdGhlIG9iamVjdCBtYXRjaGVzIGEgdHJ1dGggdGVzdC5cbiAgLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYHNvbWVgIGlmIGF2YWlsYWJsZS5cbiAgLy8gQWxpYXNlZCBhcyBgYW55YC5cbiAgdmFyIGFueSA9IF8uc29tZSA9IF8uYW55ID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIGl0ZXJhdG9yIHx8IChpdGVyYXRvciA9IF8uaWRlbnRpdHkpO1xuICAgIHZhciByZXN1bHQgPSBmYWxzZTtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiByZXN1bHQ7XG4gICAgaWYgKG5hdGl2ZVNvbWUgJiYgb2JqLnNvbWUgPT09IG5hdGl2ZVNvbWUpIHJldHVybiBvYmouc29tZShpdGVyYXRvciwgY29udGV4dCk7XG4gICAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgaWYgKHJlc3VsdCB8fCAocmVzdWx0ID0gaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIGxpc3QpKSkgcmV0dXJuIGJyZWFrZXI7XG4gICAgfSk7XG4gICAgcmV0dXJuICEhcmVzdWx0O1xuICB9O1xuXG4gIC8vIERldGVybWluZSBpZiB0aGUgYXJyYXkgb3Igb2JqZWN0IGNvbnRhaW5zIGEgZ2l2ZW4gdmFsdWUgKHVzaW5nIGA9PT1gKS5cbiAgLy8gQWxpYXNlZCBhcyBgaW5jbHVkZWAuXG4gIF8uY29udGFpbnMgPSBfLmluY2x1ZGUgPSBmdW5jdGlvbihvYmosIHRhcmdldCkge1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIGZhbHNlO1xuICAgIGlmIChuYXRpdmVJbmRleE9mICYmIG9iai5pbmRleE9mID09PSBuYXRpdmVJbmRleE9mKSByZXR1cm4gb2JqLmluZGV4T2YodGFyZ2V0KSAhPSAtMTtcbiAgICByZXR1cm4gYW55KG9iaiwgZnVuY3Rpb24odmFsdWUpIHtcbiAgICAgIHJldHVybiB2YWx1ZSA9PT0gdGFyZ2V0O1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIEludm9rZSBhIG1ldGhvZCAod2l0aCBhcmd1bWVudHMpIG9uIGV2ZXJ5IGl0ZW0gaW4gYSBjb2xsZWN0aW9uLlxuICBfLmludm9rZSA9IGZ1bmN0aW9uKG9iaiwgbWV0aG9kKSB7XG4gICAgdmFyIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgdmFyIGlzRnVuYyA9IF8uaXNGdW5jdGlvbihtZXRob2QpO1xuICAgIHJldHVybiBfLm1hcChvYmosIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICByZXR1cm4gKGlzRnVuYyA/IG1ldGhvZCA6IHZhbHVlW21ldGhvZF0pLmFwcGx5KHZhbHVlLCBhcmdzKTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBDb252ZW5pZW5jZSB2ZXJzaW9uIG9mIGEgY29tbW9uIHVzZSBjYXNlIG9mIGBtYXBgOiBmZXRjaGluZyBhIHByb3BlcnR5LlxuICBfLnBsdWNrID0gZnVuY3Rpb24ob2JqLCBrZXkpIHtcbiAgICByZXR1cm4gXy5tYXAob2JqLCBmdW5jdGlvbih2YWx1ZSl7IHJldHVybiB2YWx1ZVtrZXldOyB9KTtcbiAgfTtcblxuICAvLyBDb252ZW5pZW5jZSB2ZXJzaW9uIG9mIGEgY29tbW9uIHVzZSBjYXNlIG9mIGBmaWx0ZXJgOiBzZWxlY3Rpbmcgb25seSBvYmplY3RzXG4gIC8vIGNvbnRhaW5pbmcgc3BlY2lmaWMgYGtleTp2YWx1ZWAgcGFpcnMuXG4gIF8ud2hlcmUgPSBmdW5jdGlvbihvYmosIGF0dHJzLCBmaXJzdCkge1xuICAgIGlmIChfLmlzRW1wdHkoYXR0cnMpKSByZXR1cm4gZmlyc3QgPyB2b2lkIDAgOiBbXTtcbiAgICByZXR1cm4gX1tmaXJzdCA/ICdmaW5kJyA6ICdmaWx0ZXInXShvYmosIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBmb3IgKHZhciBrZXkgaW4gYXR0cnMpIHtcbiAgICAgICAgaWYgKGF0dHJzW2tleV0gIT09IHZhbHVlW2tleV0pIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIENvbnZlbmllbmNlIHZlcnNpb24gb2YgYSBjb21tb24gdXNlIGNhc2Ugb2YgYGZpbmRgOiBnZXR0aW5nIHRoZSBmaXJzdCBvYmplY3RcbiAgLy8gY29udGFpbmluZyBzcGVjaWZpYyBga2V5OnZhbHVlYCBwYWlycy5cbiAgXy5maW5kV2hlcmUgPSBmdW5jdGlvbihvYmosIGF0dHJzKSB7XG4gICAgcmV0dXJuIF8ud2hlcmUob2JqLCBhdHRycywgdHJ1ZSk7XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSBtYXhpbXVtIGVsZW1lbnQgb3IgKGVsZW1lbnQtYmFzZWQgY29tcHV0YXRpb24pLlxuICAvLyBDYW4ndCBvcHRpbWl6ZSBhcnJheXMgb2YgaW50ZWdlcnMgbG9uZ2VyIHRoYW4gNjUsNTM1IGVsZW1lbnRzLlxuICAvLyBTZWUgW1dlYktpdCBCdWcgODA3OTddKGh0dHBzOi8vYnVncy53ZWJraXQub3JnL3Nob3dfYnVnLmNnaT9pZD04MDc5NylcbiAgXy5tYXggPSBmdW5jdGlvbihvYmosIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgaWYgKCFpdGVyYXRvciAmJiBfLmlzQXJyYXkob2JqKSAmJiBvYmpbMF0gPT09ICtvYmpbMF0gJiYgb2JqLmxlbmd0aCA8IDY1NTM1KSB7XG4gICAgICByZXR1cm4gTWF0aC5tYXguYXBwbHkoTWF0aCwgb2JqKTtcbiAgICB9XG4gICAgaWYgKCFpdGVyYXRvciAmJiBfLmlzRW1wdHkob2JqKSkgcmV0dXJuIC1JbmZpbml0eTtcbiAgICB2YXIgcmVzdWx0ID0ge2NvbXB1dGVkIDogLUluZmluaXR5LCB2YWx1ZTogLUluZmluaXR5fTtcbiAgICBlYWNoKG9iaiwgZnVuY3Rpb24odmFsdWUsIGluZGV4LCBsaXN0KSB7XG4gICAgICB2YXIgY29tcHV0ZWQgPSBpdGVyYXRvciA/IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBsaXN0KSA6IHZhbHVlO1xuICAgICAgY29tcHV0ZWQgPiByZXN1bHQuY29tcHV0ZWQgJiYgKHJlc3VsdCA9IHt2YWx1ZSA6IHZhbHVlLCBjb21wdXRlZCA6IGNvbXB1dGVkfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIHJlc3VsdC52YWx1ZTtcbiAgfTtcblxuICAvLyBSZXR1cm4gdGhlIG1pbmltdW0gZWxlbWVudCAob3IgZWxlbWVudC1iYXNlZCBjb21wdXRhdGlvbikuXG4gIF8ubWluID0gZnVuY3Rpb24ob2JqLCBpdGVyYXRvciwgY29udGV4dCkge1xuICAgIGlmICghaXRlcmF0b3IgJiYgXy5pc0FycmF5KG9iaikgJiYgb2JqWzBdID09PSArb2JqWzBdICYmIG9iai5sZW5ndGggPCA2NTUzNSkge1xuICAgICAgcmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsIG9iaik7XG4gICAgfVxuICAgIGlmICghaXRlcmF0b3IgJiYgXy5pc0VtcHR5KG9iaikpIHJldHVybiBJbmZpbml0eTtcbiAgICB2YXIgcmVzdWx0ID0ge2NvbXB1dGVkIDogSW5maW5pdHksIHZhbHVlOiBJbmZpbml0eX07XG4gICAgZWFjaChvYmosIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCwgbGlzdCkge1xuICAgICAgdmFyIGNvbXB1dGVkID0gaXRlcmF0b3IgPyBpdGVyYXRvci5jYWxsKGNvbnRleHQsIHZhbHVlLCBpbmRleCwgbGlzdCkgOiB2YWx1ZTtcbiAgICAgIGNvbXB1dGVkIDwgcmVzdWx0LmNvbXB1dGVkICYmIChyZXN1bHQgPSB7dmFsdWUgOiB2YWx1ZSwgY29tcHV0ZWQgOiBjb21wdXRlZH0pO1xuICAgIH0pO1xuICAgIHJldHVybiByZXN1bHQudmFsdWU7XG4gIH07XG5cbiAgLy8gU2h1ZmZsZSBhbiBhcnJheSwgdXNpbmcgdGhlIG1vZGVybiB2ZXJzaW9uIG9mIHRoZSBcbiAgLy8gW0Zpc2hlci1ZYXRlcyBzaHVmZmxlXShodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0Zpc2hlcuKAk1lhdGVzX3NodWZmbGUpLlxuICBfLnNodWZmbGUgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgcmFuZDtcbiAgICB2YXIgaW5kZXggPSAwO1xuICAgIHZhciBzaHVmZmxlZCA9IFtdO1xuICAgIGVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSkge1xuICAgICAgcmFuZCA9IF8ucmFuZG9tKGluZGV4KyspO1xuICAgICAgc2h1ZmZsZWRbaW5kZXggLSAxXSA9IHNodWZmbGVkW3JhbmRdO1xuICAgICAgc2h1ZmZsZWRbcmFuZF0gPSB2YWx1ZTtcbiAgICB9KTtcbiAgICByZXR1cm4gc2h1ZmZsZWQ7XG4gIH07XG5cbiAgLy8gU2FtcGxlICoqbioqIHJhbmRvbSB2YWx1ZXMgZnJvbSBhbiBhcnJheS5cbiAgLy8gSWYgKipuKiogaXMgbm90IHNwZWNpZmllZCwgcmV0dXJucyBhIHNpbmdsZSByYW5kb20gZWxlbWVudCBmcm9tIHRoZSBhcnJheS5cbiAgLy8gVGhlIGludGVybmFsIGBndWFyZGAgYXJndW1lbnQgYWxsb3dzIGl0IHRvIHdvcmsgd2l0aCBgbWFwYC5cbiAgXy5zYW1wbGUgPSBmdW5jdGlvbihvYmosIG4sIGd1YXJkKSB7XG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPCAyIHx8IGd1YXJkKSB7XG4gICAgICByZXR1cm4gb2JqW18ucmFuZG9tKG9iai5sZW5ndGggLSAxKV07XG4gICAgfVxuICAgIHJldHVybiBfLnNodWZmbGUob2JqKS5zbGljZSgwLCBNYXRoLm1heCgwLCBuKSk7XG4gIH07XG5cbiAgLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gdG8gZ2VuZXJhdGUgbG9va3VwIGl0ZXJhdG9ycy5cbiAgdmFyIGxvb2t1cEl0ZXJhdG9yID0gZnVuY3Rpb24odmFsdWUpIHtcbiAgICByZXR1cm4gXy5pc0Z1bmN0aW9uKHZhbHVlKSA/IHZhbHVlIDogZnVuY3Rpb24ob2JqKXsgcmV0dXJuIG9ialt2YWx1ZV07IH07XG4gIH07XG5cbiAgLy8gU29ydCB0aGUgb2JqZWN0J3MgdmFsdWVzIGJ5IGEgY3JpdGVyaW9uIHByb2R1Y2VkIGJ5IGFuIGl0ZXJhdG9yLlxuICBfLnNvcnRCeSA9IGZ1bmN0aW9uKG9iaiwgdmFsdWUsIGNvbnRleHQpIHtcbiAgICB2YXIgaXRlcmF0b3IgPSBsb29rdXBJdGVyYXRvcih2YWx1ZSk7XG4gICAgcmV0dXJuIF8ucGx1Y2soXy5tYXAob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgsIGxpc3QpIHtcbiAgICAgIHJldHVybiB7XG4gICAgICAgIHZhbHVlOiB2YWx1ZSxcbiAgICAgICAgaW5kZXg6IGluZGV4LFxuICAgICAgICBjcml0ZXJpYTogaXRlcmF0b3IuY2FsbChjb250ZXh0LCB2YWx1ZSwgaW5kZXgsIGxpc3QpXG4gICAgICB9O1xuICAgIH0pLnNvcnQoZnVuY3Rpb24obGVmdCwgcmlnaHQpIHtcbiAgICAgIHZhciBhID0gbGVmdC5jcml0ZXJpYTtcbiAgICAgIHZhciBiID0gcmlnaHQuY3JpdGVyaWE7XG4gICAgICBpZiAoYSAhPT0gYikge1xuICAgICAgICBpZiAoYSA+IGIgfHwgYSA9PT0gdm9pZCAwKSByZXR1cm4gMTtcbiAgICAgICAgaWYgKGEgPCBiIHx8IGIgPT09IHZvaWQgMCkgcmV0dXJuIC0xO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGxlZnQuaW5kZXggLSByaWdodC5pbmRleDtcbiAgICB9KSwgJ3ZhbHVlJyk7XG4gIH07XG5cbiAgLy8gQW4gaW50ZXJuYWwgZnVuY3Rpb24gdXNlZCBmb3IgYWdncmVnYXRlIFwiZ3JvdXAgYnlcIiBvcGVyYXRpb25zLlxuICB2YXIgZ3JvdXAgPSBmdW5jdGlvbihiZWhhdmlvcikge1xuICAgIHJldHVybiBmdW5jdGlvbihvYmosIHZhbHVlLCBjb250ZXh0KSB7XG4gICAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgICB2YXIgaXRlcmF0b3IgPSB2YWx1ZSA9PSBudWxsID8gXy5pZGVudGl0eSA6IGxvb2t1cEl0ZXJhdG9yKHZhbHVlKTtcbiAgICAgIGVhY2gob2JqLCBmdW5jdGlvbih2YWx1ZSwgaW5kZXgpIHtcbiAgICAgICAgdmFyIGtleSA9IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgdmFsdWUsIGluZGV4LCBvYmopO1xuICAgICAgICBiZWhhdmlvcihyZXN1bHQsIGtleSwgdmFsdWUpO1xuICAgICAgfSk7XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gR3JvdXBzIHRoZSBvYmplY3QncyB2YWx1ZXMgYnkgYSBjcml0ZXJpb24uIFBhc3MgZWl0aGVyIGEgc3RyaW5nIGF0dHJpYnV0ZVxuICAvLyB0byBncm91cCBieSwgb3IgYSBmdW5jdGlvbiB0aGF0IHJldHVybnMgdGhlIGNyaXRlcmlvbi5cbiAgXy5ncm91cEJ5ID0gZ3JvdXAoZnVuY3Rpb24ocmVzdWx0LCBrZXksIHZhbHVlKSB7XG4gICAgKF8uaGFzKHJlc3VsdCwga2V5KSA/IHJlc3VsdFtrZXldIDogKHJlc3VsdFtrZXldID0gW10pKS5wdXNoKHZhbHVlKTtcbiAgfSk7XG5cbiAgLy8gSW5kZXhlcyB0aGUgb2JqZWN0J3MgdmFsdWVzIGJ5IGEgY3JpdGVyaW9uLCBzaW1pbGFyIHRvIGBncm91cEJ5YCwgYnV0IGZvclxuICAvLyB3aGVuIHlvdSBrbm93IHRoYXQgeW91ciBpbmRleCB2YWx1ZXMgd2lsbCBiZSB1bmlxdWUuXG4gIF8uaW5kZXhCeSA9IGdyb3VwKGZ1bmN0aW9uKHJlc3VsdCwga2V5LCB2YWx1ZSkge1xuICAgIHJlc3VsdFtrZXldID0gdmFsdWU7XG4gIH0pO1xuXG4gIC8vIENvdW50cyBpbnN0YW5jZXMgb2YgYW4gb2JqZWN0IHRoYXQgZ3JvdXAgYnkgYSBjZXJ0YWluIGNyaXRlcmlvbi4gUGFzc1xuICAvLyBlaXRoZXIgYSBzdHJpbmcgYXR0cmlidXRlIHRvIGNvdW50IGJ5LCBvciBhIGZ1bmN0aW9uIHRoYXQgcmV0dXJucyB0aGVcbiAgLy8gY3JpdGVyaW9uLlxuICBfLmNvdW50QnkgPSBncm91cChmdW5jdGlvbihyZXN1bHQsIGtleSkge1xuICAgIF8uaGFzKHJlc3VsdCwga2V5KSA/IHJlc3VsdFtrZXldKysgOiByZXN1bHRba2V5XSA9IDE7XG4gIH0pO1xuXG4gIC8vIFVzZSBhIGNvbXBhcmF0b3IgZnVuY3Rpb24gdG8gZmlndXJlIG91dCB0aGUgc21hbGxlc3QgaW5kZXggYXQgd2hpY2hcbiAgLy8gYW4gb2JqZWN0IHNob3VsZCBiZSBpbnNlcnRlZCBzbyBhcyB0byBtYWludGFpbiBvcmRlci4gVXNlcyBiaW5hcnkgc2VhcmNoLlxuICBfLnNvcnRlZEluZGV4ID0gZnVuY3Rpb24oYXJyYXksIG9iaiwgaXRlcmF0b3IsIGNvbnRleHQpIHtcbiAgICBpdGVyYXRvciA9IGl0ZXJhdG9yID09IG51bGwgPyBfLmlkZW50aXR5IDogbG9va3VwSXRlcmF0b3IoaXRlcmF0b3IpO1xuICAgIHZhciB2YWx1ZSA9IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgb2JqKTtcbiAgICB2YXIgbG93ID0gMCwgaGlnaCA9IGFycmF5Lmxlbmd0aDtcbiAgICB3aGlsZSAobG93IDwgaGlnaCkge1xuICAgICAgdmFyIG1pZCA9IChsb3cgKyBoaWdoKSA+Pj4gMTtcbiAgICAgIGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgYXJyYXlbbWlkXSkgPCB2YWx1ZSA/IGxvdyA9IG1pZCArIDEgOiBoaWdoID0gbWlkO1xuICAgIH1cbiAgICByZXR1cm4gbG93O1xuICB9O1xuXG4gIC8vIFNhZmVseSBjcmVhdGUgYSByZWFsLCBsaXZlIGFycmF5IGZyb20gYW55dGhpbmcgaXRlcmFibGUuXG4gIF8udG9BcnJheSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmICghb2JqKSByZXR1cm4gW107XG4gICAgaWYgKF8uaXNBcnJheShvYmopKSByZXR1cm4gc2xpY2UuY2FsbChvYmopO1xuICAgIGlmIChvYmoubGVuZ3RoID09PSArb2JqLmxlbmd0aCkgcmV0dXJuIF8ubWFwKG9iaiwgXy5pZGVudGl0eSk7XG4gICAgcmV0dXJuIF8udmFsdWVzKG9iaik7XG4gIH07XG5cbiAgLy8gUmV0dXJuIHRoZSBudW1iZXIgb2YgZWxlbWVudHMgaW4gYW4gb2JqZWN0LlxuICBfLnNpemUgPSBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqID09IG51bGwpIHJldHVybiAwO1xuICAgIHJldHVybiAob2JqLmxlbmd0aCA9PT0gK29iai5sZW5ndGgpID8gb2JqLmxlbmd0aCA6IF8ua2V5cyhvYmopLmxlbmd0aDtcbiAgfTtcblxuICAvLyBBcnJheSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gR2V0IHRoZSBmaXJzdCBlbGVtZW50IG9mIGFuIGFycmF5LiBQYXNzaW5nICoqbioqIHdpbGwgcmV0dXJuIHRoZSBmaXJzdCBOXG4gIC8vIHZhbHVlcyBpbiB0aGUgYXJyYXkuIEFsaWFzZWQgYXMgYGhlYWRgIGFuZCBgdGFrZWAuIFRoZSAqKmd1YXJkKiogY2hlY2tcbiAgLy8gYWxsb3dzIGl0IHRvIHdvcmsgd2l0aCBgXy5tYXBgLlxuICBfLmZpcnN0ID0gXy5oZWFkID0gXy50YWtlID0gZnVuY3Rpb24oYXJyYXksIG4sIGd1YXJkKSB7XG4gICAgaWYgKGFycmF5ID09IG51bGwpIHJldHVybiB2b2lkIDA7XG4gICAgcmV0dXJuIChuID09IG51bGwpIHx8IGd1YXJkID8gYXJyYXlbMF0gOiBzbGljZS5jYWxsKGFycmF5LCAwLCBuKTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGV2ZXJ5dGhpbmcgYnV0IHRoZSBsYXN0IGVudHJ5IG9mIHRoZSBhcnJheS4gRXNwZWNpYWxseSB1c2VmdWwgb25cbiAgLy8gdGhlIGFyZ3VtZW50cyBvYmplY3QuIFBhc3NpbmcgKipuKiogd2lsbCByZXR1cm4gYWxsIHRoZSB2YWx1ZXMgaW5cbiAgLy8gdGhlIGFycmF5LCBleGNsdWRpbmcgdGhlIGxhc3QgTi4gVGhlICoqZ3VhcmQqKiBjaGVjayBhbGxvd3MgaXQgdG8gd29yayB3aXRoXG4gIC8vIGBfLm1hcGAuXG4gIF8uaW5pdGlhbCA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIHJldHVybiBzbGljZS5jYWxsKGFycmF5LCAwLCBhcnJheS5sZW5ndGggLSAoKG4gPT0gbnVsbCkgfHwgZ3VhcmQgPyAxIDogbikpO1xuICB9O1xuXG4gIC8vIEdldCB0aGUgbGFzdCBlbGVtZW50IG9mIGFuIGFycmF5LiBQYXNzaW5nICoqbioqIHdpbGwgcmV0dXJuIHRoZSBsYXN0IE5cbiAgLy8gdmFsdWVzIGluIHRoZSBhcnJheS4gVGhlICoqZ3VhcmQqKiBjaGVjayBhbGxvd3MgaXQgdG8gd29yayB3aXRoIGBfLm1hcGAuXG4gIF8ubGFzdCA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gdm9pZCAwO1xuICAgIGlmICgobiA9PSBudWxsKSB8fCBndWFyZCkge1xuICAgICAgcmV0dXJuIGFycmF5W2FycmF5Lmxlbmd0aCAtIDFdO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gc2xpY2UuY2FsbChhcnJheSwgTWF0aC5tYXgoYXJyYXkubGVuZ3RoIC0gbiwgMCkpO1xuICAgIH1cbiAgfTtcblxuICAvLyBSZXR1cm5zIGV2ZXJ5dGhpbmcgYnV0IHRoZSBmaXJzdCBlbnRyeSBvZiB0aGUgYXJyYXkuIEFsaWFzZWQgYXMgYHRhaWxgIGFuZCBgZHJvcGAuXG4gIC8vIEVzcGVjaWFsbHkgdXNlZnVsIG9uIHRoZSBhcmd1bWVudHMgb2JqZWN0LiBQYXNzaW5nIGFuICoqbioqIHdpbGwgcmV0dXJuXG4gIC8vIHRoZSByZXN0IE4gdmFsdWVzIGluIHRoZSBhcnJheS4gVGhlICoqZ3VhcmQqKlxuICAvLyBjaGVjayBhbGxvd3MgaXQgdG8gd29yayB3aXRoIGBfLm1hcGAuXG4gIF8ucmVzdCA9IF8udGFpbCA9IF8uZHJvcCA9IGZ1bmN0aW9uKGFycmF5LCBuLCBndWFyZCkge1xuICAgIHJldHVybiBzbGljZS5jYWxsKGFycmF5LCAobiA9PSBudWxsKSB8fCBndWFyZCA/IDEgOiBuKTtcbiAgfTtcblxuICAvLyBUcmltIG91dCBhbGwgZmFsc3kgdmFsdWVzIGZyb20gYW4gYXJyYXkuXG4gIF8uY29tcGFjdCA9IGZ1bmN0aW9uKGFycmF5KSB7XG4gICAgcmV0dXJuIF8uZmlsdGVyKGFycmF5LCBfLmlkZW50aXR5KTtcbiAgfTtcblxuICAvLyBJbnRlcm5hbCBpbXBsZW1lbnRhdGlvbiBvZiBhIHJlY3Vyc2l2ZSBgZmxhdHRlbmAgZnVuY3Rpb24uXG4gIHZhciBmbGF0dGVuID0gZnVuY3Rpb24oaW5wdXQsIHNoYWxsb3csIG91dHB1dCkge1xuICAgIGlmIChzaGFsbG93ICYmIF8uZXZlcnkoaW5wdXQsIF8uaXNBcnJheSkpIHtcbiAgICAgIHJldHVybiBjb25jYXQuYXBwbHkob3V0cHV0LCBpbnB1dCk7XG4gICAgfVxuICAgIGVhY2goaW5wdXQsIGZ1bmN0aW9uKHZhbHVlKSB7XG4gICAgICBpZiAoXy5pc0FycmF5KHZhbHVlKSB8fCBfLmlzQXJndW1lbnRzKHZhbHVlKSkge1xuICAgICAgICBzaGFsbG93ID8gcHVzaC5hcHBseShvdXRwdXQsIHZhbHVlKSA6IGZsYXR0ZW4odmFsdWUsIHNoYWxsb3csIG91dHB1dCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvdXRwdXQucHVzaCh2YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIG91dHB1dDtcbiAgfTtcblxuICAvLyBGbGF0dGVuIG91dCBhbiBhcnJheSwgZWl0aGVyIHJlY3Vyc2l2ZWx5IChieSBkZWZhdWx0KSwgb3IganVzdCBvbmUgbGV2ZWwuXG4gIF8uZmxhdHRlbiA9IGZ1bmN0aW9uKGFycmF5LCBzaGFsbG93KSB7XG4gICAgcmV0dXJuIGZsYXR0ZW4oYXJyYXksIHNoYWxsb3csIFtdKTtcbiAgfTtcblxuICAvLyBSZXR1cm4gYSB2ZXJzaW9uIG9mIHRoZSBhcnJheSB0aGF0IGRvZXMgbm90IGNvbnRhaW4gdGhlIHNwZWNpZmllZCB2YWx1ZShzKS5cbiAgXy53aXRob3V0ID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICByZXR1cm4gXy5kaWZmZXJlbmNlKGFycmF5LCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICB9O1xuXG4gIC8vIFByb2R1Y2UgYSBkdXBsaWNhdGUtZnJlZSB2ZXJzaW9uIG9mIHRoZSBhcnJheS4gSWYgdGhlIGFycmF5IGhhcyBhbHJlYWR5XG4gIC8vIGJlZW4gc29ydGVkLCB5b3UgaGF2ZSB0aGUgb3B0aW9uIG9mIHVzaW5nIGEgZmFzdGVyIGFsZ29yaXRobS5cbiAgLy8gQWxpYXNlZCBhcyBgdW5pcXVlYC5cbiAgXy51bmlxID0gXy51bmlxdWUgPSBmdW5jdGlvbihhcnJheSwgaXNTb3J0ZWQsIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgaWYgKF8uaXNGdW5jdGlvbihpc1NvcnRlZCkpIHtcbiAgICAgIGNvbnRleHQgPSBpdGVyYXRvcjtcbiAgICAgIGl0ZXJhdG9yID0gaXNTb3J0ZWQ7XG4gICAgICBpc1NvcnRlZCA9IGZhbHNlO1xuICAgIH1cbiAgICB2YXIgaW5pdGlhbCA9IGl0ZXJhdG9yID8gXy5tYXAoYXJyYXksIGl0ZXJhdG9yLCBjb250ZXh0KSA6IGFycmF5O1xuICAgIHZhciByZXN1bHRzID0gW107XG4gICAgdmFyIHNlZW4gPSBbXTtcbiAgICBlYWNoKGluaXRpYWwsIGZ1bmN0aW9uKHZhbHVlLCBpbmRleCkge1xuICAgICAgaWYgKGlzU29ydGVkID8gKCFpbmRleCB8fCBzZWVuW3NlZW4ubGVuZ3RoIC0gMV0gIT09IHZhbHVlKSA6ICFfLmNvbnRhaW5zKHNlZW4sIHZhbHVlKSkge1xuICAgICAgICBzZWVuLnB1c2godmFsdWUpO1xuICAgICAgICByZXN1bHRzLnB1c2goYXJyYXlbaW5kZXhdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfTtcblxuICAvLyBQcm9kdWNlIGFuIGFycmF5IHRoYXQgY29udGFpbnMgdGhlIHVuaW9uOiBlYWNoIGRpc3RpbmN0IGVsZW1lbnQgZnJvbSBhbGwgb2ZcbiAgLy8gdGhlIHBhc3NlZC1pbiBhcnJheXMuXG4gIF8udW5pb24gPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXy51bmlxKF8uZmxhdHRlbihhcmd1bWVudHMsIHRydWUpKTtcbiAgfTtcblxuICAvLyBQcm9kdWNlIGFuIGFycmF5IHRoYXQgY29udGFpbnMgZXZlcnkgaXRlbSBzaGFyZWQgYmV0d2VlbiBhbGwgdGhlXG4gIC8vIHBhc3NlZC1pbiBhcnJheXMuXG4gIF8uaW50ZXJzZWN0aW9uID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICB2YXIgcmVzdCA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAxKTtcbiAgICByZXR1cm4gXy5maWx0ZXIoXy51bmlxKGFycmF5KSwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgcmV0dXJuIF8uZXZlcnkocmVzdCwgZnVuY3Rpb24ob3RoZXIpIHtcbiAgICAgICAgcmV0dXJuIF8uaW5kZXhPZihvdGhlciwgaXRlbSkgPj0gMDtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIFRha2UgdGhlIGRpZmZlcmVuY2UgYmV0d2VlbiBvbmUgYXJyYXkgYW5kIGEgbnVtYmVyIG9mIG90aGVyIGFycmF5cy5cbiAgLy8gT25seSB0aGUgZWxlbWVudHMgcHJlc2VudCBpbiBqdXN0IHRoZSBmaXJzdCBhcnJheSB3aWxsIHJlbWFpbi5cbiAgXy5kaWZmZXJlbmNlID0gZnVuY3Rpb24oYXJyYXkpIHtcbiAgICB2YXIgcmVzdCA9IGNvbmNhdC5hcHBseShBcnJheVByb3RvLCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICAgIHJldHVybiBfLmZpbHRlcihhcnJheSwgZnVuY3Rpb24odmFsdWUpeyByZXR1cm4gIV8uY29udGFpbnMocmVzdCwgdmFsdWUpOyB9KTtcbiAgfTtcblxuICAvLyBaaXAgdG9nZXRoZXIgbXVsdGlwbGUgbGlzdHMgaW50byBhIHNpbmdsZSBhcnJheSAtLSBlbGVtZW50cyB0aGF0IHNoYXJlXG4gIC8vIGFuIGluZGV4IGdvIHRvZ2V0aGVyLlxuICBfLnppcCA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsZW5ndGggPSBfLm1heChfLnBsdWNrKGFyZ3VtZW50cywgXCJsZW5ndGhcIikuY29uY2F0KDApKTtcbiAgICB2YXIgcmVzdWx0cyA9IG5ldyBBcnJheShsZW5ndGgpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIHJlc3VsdHNbaV0gPSBfLnBsdWNrKGFyZ3VtZW50cywgJycgKyBpKTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdHM7XG4gIH07XG5cbiAgLy8gQ29udmVydHMgbGlzdHMgaW50byBvYmplY3RzLiBQYXNzIGVpdGhlciBhIHNpbmdsZSBhcnJheSBvZiBgW2tleSwgdmFsdWVdYFxuICAvLyBwYWlycywgb3IgdHdvIHBhcmFsbGVsIGFycmF5cyBvZiB0aGUgc2FtZSBsZW5ndGggLS0gb25lIG9mIGtleXMsIGFuZCBvbmUgb2ZcbiAgLy8gdGhlIGNvcnJlc3BvbmRpbmcgdmFsdWVzLlxuICBfLm9iamVjdCA9IGZ1bmN0aW9uKGxpc3QsIHZhbHVlcykge1xuICAgIGlmIChsaXN0ID09IG51bGwpIHJldHVybiB7fTtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgZm9yICh2YXIgaSA9IDAsIGxlbmd0aCA9IGxpc3QubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmICh2YWx1ZXMpIHtcbiAgICAgICAgcmVzdWx0W2xpc3RbaV1dID0gdmFsdWVzW2ldO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmVzdWx0W2xpc3RbaV1bMF1dID0gbGlzdFtpXVsxXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHJlc3VsdDtcbiAgfTtcblxuICAvLyBJZiB0aGUgYnJvd3NlciBkb2Vzbid0IHN1cHBseSB1cyB3aXRoIGluZGV4T2YgKEknbSBsb29raW5nIGF0IHlvdSwgKipNU0lFKiopLFxuICAvLyB3ZSBuZWVkIHRoaXMgZnVuY3Rpb24uIFJldHVybiB0aGUgcG9zaXRpb24gb2YgdGhlIGZpcnN0IG9jY3VycmVuY2Ugb2YgYW5cbiAgLy8gaXRlbSBpbiBhbiBhcnJheSwgb3IgLTEgaWYgdGhlIGl0ZW0gaXMgbm90IGluY2x1ZGVkIGluIHRoZSBhcnJheS5cbiAgLy8gRGVsZWdhdGVzIHRvICoqRUNNQVNjcmlwdCA1KioncyBuYXRpdmUgYGluZGV4T2ZgIGlmIGF2YWlsYWJsZS5cbiAgLy8gSWYgdGhlIGFycmF5IGlzIGxhcmdlIGFuZCBhbHJlYWR5IGluIHNvcnQgb3JkZXIsIHBhc3MgYHRydWVgXG4gIC8vIGZvciAqKmlzU29ydGVkKiogdG8gdXNlIGJpbmFyeSBzZWFyY2guXG4gIF8uaW5kZXhPZiA9IGZ1bmN0aW9uKGFycmF5LCBpdGVtLCBpc1NvcnRlZCkge1xuICAgIGlmIChhcnJheSA9PSBudWxsKSByZXR1cm4gLTE7XG4gICAgdmFyIGkgPSAwLCBsZW5ndGggPSBhcnJheS5sZW5ndGg7XG4gICAgaWYgKGlzU29ydGVkKSB7XG4gICAgICBpZiAodHlwZW9mIGlzU29ydGVkID09ICdudW1iZXInKSB7XG4gICAgICAgIGkgPSAoaXNTb3J0ZWQgPCAwID8gTWF0aC5tYXgoMCwgbGVuZ3RoICsgaXNTb3J0ZWQpIDogaXNTb3J0ZWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaSA9IF8uc29ydGVkSW5kZXgoYXJyYXksIGl0ZW0pO1xuICAgICAgICByZXR1cm4gYXJyYXlbaV0gPT09IGl0ZW0gPyBpIDogLTE7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChuYXRpdmVJbmRleE9mICYmIGFycmF5LmluZGV4T2YgPT09IG5hdGl2ZUluZGV4T2YpIHJldHVybiBhcnJheS5pbmRleE9mKGl0ZW0sIGlzU29ydGVkKTtcbiAgICBmb3IgKDsgaSA8IGxlbmd0aDsgaSsrKSBpZiAoYXJyYXlbaV0gPT09IGl0ZW0pIHJldHVybiBpO1xuICAgIHJldHVybiAtMTtcbiAgfTtcblxuICAvLyBEZWxlZ2F0ZXMgdG8gKipFQ01BU2NyaXB0IDUqKidzIG5hdGl2ZSBgbGFzdEluZGV4T2ZgIGlmIGF2YWlsYWJsZS5cbiAgXy5sYXN0SW5kZXhPZiA9IGZ1bmN0aW9uKGFycmF5LCBpdGVtLCBmcm9tKSB7XG4gICAgaWYgKGFycmF5ID09IG51bGwpIHJldHVybiAtMTtcbiAgICB2YXIgaGFzSW5kZXggPSBmcm9tICE9IG51bGw7XG4gICAgaWYgKG5hdGl2ZUxhc3RJbmRleE9mICYmIGFycmF5Lmxhc3RJbmRleE9mID09PSBuYXRpdmVMYXN0SW5kZXhPZikge1xuICAgICAgcmV0dXJuIGhhc0luZGV4ID8gYXJyYXkubGFzdEluZGV4T2YoaXRlbSwgZnJvbSkgOiBhcnJheS5sYXN0SW5kZXhPZihpdGVtKTtcbiAgICB9XG4gICAgdmFyIGkgPSAoaGFzSW5kZXggPyBmcm9tIDogYXJyYXkubGVuZ3RoKTtcbiAgICB3aGlsZSAoaS0tKSBpZiAoYXJyYXlbaV0gPT09IGl0ZW0pIHJldHVybiBpO1xuICAgIHJldHVybiAtMTtcbiAgfTtcblxuICAvLyBHZW5lcmF0ZSBhbiBpbnRlZ2VyIEFycmF5IGNvbnRhaW5pbmcgYW4gYXJpdGhtZXRpYyBwcm9ncmVzc2lvbi4gQSBwb3J0IG9mXG4gIC8vIHRoZSBuYXRpdmUgUHl0aG9uIGByYW5nZSgpYCBmdW5jdGlvbi4gU2VlXG4gIC8vIFt0aGUgUHl0aG9uIGRvY3VtZW50YXRpb25dKGh0dHA6Ly9kb2NzLnB5dGhvbi5vcmcvbGlicmFyeS9mdW5jdGlvbnMuaHRtbCNyYW5nZSkuXG4gIF8ucmFuZ2UgPSBmdW5jdGlvbihzdGFydCwgc3RvcCwgc3RlcCkge1xuICAgIGlmIChhcmd1bWVudHMubGVuZ3RoIDw9IDEpIHtcbiAgICAgIHN0b3AgPSBzdGFydCB8fCAwO1xuICAgICAgc3RhcnQgPSAwO1xuICAgIH1cbiAgICBzdGVwID0gYXJndW1lbnRzWzJdIHx8IDE7XG5cbiAgICB2YXIgbGVuZ3RoID0gTWF0aC5tYXgoTWF0aC5jZWlsKChzdG9wIC0gc3RhcnQpIC8gc3RlcCksIDApO1xuICAgIHZhciBpZHggPSAwO1xuICAgIHZhciByYW5nZSA9IG5ldyBBcnJheShsZW5ndGgpO1xuXG4gICAgd2hpbGUoaWR4IDwgbGVuZ3RoKSB7XG4gICAgICByYW5nZVtpZHgrK10gPSBzdGFydDtcbiAgICAgIHN0YXJ0ICs9IHN0ZXA7XG4gICAgfVxuXG4gICAgcmV0dXJuIHJhbmdlO1xuICB9O1xuXG4gIC8vIEZ1bmN0aW9uIChhaGVtKSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gUmV1c2FibGUgY29uc3RydWN0b3IgZnVuY3Rpb24gZm9yIHByb3RvdHlwZSBzZXR0aW5nLlxuICB2YXIgY3RvciA9IGZ1bmN0aW9uKCl7fTtcblxuICAvLyBDcmVhdGUgYSBmdW5jdGlvbiBib3VuZCB0byBhIGdpdmVuIG9iamVjdCAoYXNzaWduaW5nIGB0aGlzYCwgYW5kIGFyZ3VtZW50cyxcbiAgLy8gb3B0aW9uYWxseSkuIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBGdW5jdGlvbi5iaW5kYCBpZlxuICAvLyBhdmFpbGFibGUuXG4gIF8uYmluZCA9IGZ1bmN0aW9uKGZ1bmMsIGNvbnRleHQpIHtcbiAgICB2YXIgYXJncywgYm91bmQ7XG4gICAgaWYgKG5hdGl2ZUJpbmQgJiYgZnVuYy5iaW5kID09PSBuYXRpdmVCaW5kKSByZXR1cm4gbmF0aXZlQmluZC5hcHBseShmdW5jLCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICAgIGlmICghXy5pc0Z1bmN0aW9uKGZ1bmMpKSB0aHJvdyBuZXcgVHlwZUVycm9yO1xuICAgIGFyZ3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMik7XG4gICAgcmV0dXJuIGJvdW5kID0gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAoISh0aGlzIGluc3RhbmNlb2YgYm91bmQpKSByZXR1cm4gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cykpKTtcbiAgICAgIGN0b3IucHJvdG90eXBlID0gZnVuYy5wcm90b3R5cGU7XG4gICAgICB2YXIgc2VsZiA9IG5ldyBjdG9yO1xuICAgICAgY3Rvci5wcm90b3R5cGUgPSBudWxsO1xuICAgICAgdmFyIHJlc3VsdCA9IGZ1bmMuYXBwbHkoc2VsZiwgYXJncy5jb25jYXQoc2xpY2UuY2FsbChhcmd1bWVudHMpKSk7XG4gICAgICBpZiAoT2JqZWN0KHJlc3VsdCkgPT09IHJlc3VsdCkgcmV0dXJuIHJlc3VsdDtcbiAgICAgIHJldHVybiBzZWxmO1xuICAgIH07XG4gIH07XG5cbiAgLy8gUGFydGlhbGx5IGFwcGx5IGEgZnVuY3Rpb24gYnkgY3JlYXRpbmcgYSB2ZXJzaW9uIHRoYXQgaGFzIGhhZCBzb21lIG9mIGl0c1xuICAvLyBhcmd1bWVudHMgcHJlLWZpbGxlZCwgd2l0aG91dCBjaGFuZ2luZyBpdHMgZHluYW1pYyBgdGhpc2AgY29udGV4dC5cbiAgXy5wYXJ0aWFsID0gZnVuY3Rpb24oZnVuYykge1xuICAgIHZhciBhcmdzID0gc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBmdW5jLmFwcGx5KHRoaXMsIGFyZ3MuY29uY2F0KHNsaWNlLmNhbGwoYXJndW1lbnRzKSkpO1xuICAgIH07XG4gIH07XG5cbiAgLy8gQmluZCBhbGwgb2YgYW4gb2JqZWN0J3MgbWV0aG9kcyB0byB0aGF0IG9iamVjdC4gVXNlZnVsIGZvciBlbnN1cmluZyB0aGF0XG4gIC8vIGFsbCBjYWxsYmFja3MgZGVmaW5lZCBvbiBhbiBvYmplY3QgYmVsb25nIHRvIGl0LlxuICBfLmJpbmRBbGwgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgZnVuY3MgPSBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSk7XG4gICAgaWYgKGZ1bmNzLmxlbmd0aCA9PT0gMCkgdGhyb3cgbmV3IEVycm9yKFwiYmluZEFsbCBtdXN0IGJlIHBhc3NlZCBmdW5jdGlvbiBuYW1lc1wiKTtcbiAgICBlYWNoKGZ1bmNzLCBmdW5jdGlvbihmKSB7IG9ialtmXSA9IF8uYmluZChvYmpbZl0sIG9iaik7IH0pO1xuICAgIHJldHVybiBvYmo7XG4gIH07XG5cbiAgLy8gTWVtb2l6ZSBhbiBleHBlbnNpdmUgZnVuY3Rpb24gYnkgc3RvcmluZyBpdHMgcmVzdWx0cy5cbiAgXy5tZW1vaXplID0gZnVuY3Rpb24oZnVuYywgaGFzaGVyKSB7XG4gICAgdmFyIG1lbW8gPSB7fTtcbiAgICBoYXNoZXIgfHwgKGhhc2hlciA9IF8uaWRlbnRpdHkpO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBrZXkgPSBoYXNoZXIuYXBwbHkodGhpcywgYXJndW1lbnRzKTtcbiAgICAgIHJldHVybiBfLmhhcyhtZW1vLCBrZXkpID8gbWVtb1trZXldIDogKG1lbW9ba2V5XSA9IGZ1bmMuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gICAgfTtcbiAgfTtcblxuICAvLyBEZWxheXMgYSBmdW5jdGlvbiBmb3IgdGhlIGdpdmVuIG51bWJlciBvZiBtaWxsaXNlY29uZHMsIGFuZCB0aGVuIGNhbGxzXG4gIC8vIGl0IHdpdGggdGhlIGFyZ3VtZW50cyBzdXBwbGllZC5cbiAgXy5kZWxheSA9IGZ1bmN0aW9uKGZ1bmMsIHdhaXQpIHtcbiAgICB2YXIgYXJncyA9IHNsaWNlLmNhbGwoYXJndW1lbnRzLCAyKTtcbiAgICByZXR1cm4gc2V0VGltZW91dChmdW5jdGlvbigpeyByZXR1cm4gZnVuYy5hcHBseShudWxsLCBhcmdzKTsgfSwgd2FpdCk7XG4gIH07XG5cbiAgLy8gRGVmZXJzIGEgZnVuY3Rpb24sIHNjaGVkdWxpbmcgaXQgdG8gcnVuIGFmdGVyIHRoZSBjdXJyZW50IGNhbGwgc3RhY2sgaGFzXG4gIC8vIGNsZWFyZWQuXG4gIF8uZGVmZXIgPSBmdW5jdGlvbihmdW5jKSB7XG4gICAgcmV0dXJuIF8uZGVsYXkuYXBwbHkoXywgW2Z1bmMsIDFdLmNvbmNhdChzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpKTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24sIHRoYXQsIHdoZW4gaW52b2tlZCwgd2lsbCBvbmx5IGJlIHRyaWdnZXJlZCBhdCBtb3N0IG9uY2VcbiAgLy8gZHVyaW5nIGEgZ2l2ZW4gd2luZG93IG9mIHRpbWUuIE5vcm1hbGx5LCB0aGUgdGhyb3R0bGVkIGZ1bmN0aW9uIHdpbGwgcnVuXG4gIC8vIGFzIG11Y2ggYXMgaXQgY2FuLCB3aXRob3V0IGV2ZXIgZ29pbmcgbW9yZSB0aGFuIG9uY2UgcGVyIGB3YWl0YCBkdXJhdGlvbjtcbiAgLy8gYnV0IGlmIHlvdSdkIGxpa2UgdG8gZGlzYWJsZSB0aGUgZXhlY3V0aW9uIG9uIHRoZSBsZWFkaW5nIGVkZ2UsIHBhc3NcbiAgLy8gYHtsZWFkaW5nOiBmYWxzZX1gLiBUbyBkaXNhYmxlIGV4ZWN1dGlvbiBvbiB0aGUgdHJhaWxpbmcgZWRnZSwgZGl0dG8uXG4gIF8udGhyb3R0bGUgPSBmdW5jdGlvbihmdW5jLCB3YWl0LCBvcHRpb25zKSB7XG4gICAgdmFyIGNvbnRleHQsIGFyZ3MsIHJlc3VsdDtcbiAgICB2YXIgdGltZW91dCA9IG51bGw7XG4gICAgdmFyIHByZXZpb3VzID0gMDtcbiAgICBvcHRpb25zIHx8IChvcHRpb25zID0ge30pO1xuICAgIHZhciBsYXRlciA9IGZ1bmN0aW9uKCkge1xuICAgICAgcHJldmlvdXMgPSBvcHRpb25zLmxlYWRpbmcgPT09IGZhbHNlID8gMCA6IG5ldyBEYXRlO1xuICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICByZXN1bHQgPSBmdW5jLmFwcGx5KGNvbnRleHQsIGFyZ3MpO1xuICAgIH07XG4gICAgcmV0dXJuIGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgaWYgKCFwcmV2aW91cyAmJiBvcHRpb25zLmxlYWRpbmcgPT09IGZhbHNlKSBwcmV2aW91cyA9IG5vdztcbiAgICAgIHZhciByZW1haW5pbmcgPSB3YWl0IC0gKG5vdyAtIHByZXZpb3VzKTtcbiAgICAgIGNvbnRleHQgPSB0aGlzO1xuICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIGlmIChyZW1haW5pbmcgPD0gMCkge1xuICAgICAgICBjbGVhclRpbWVvdXQodGltZW91dCk7XG4gICAgICAgIHRpbWVvdXQgPSBudWxsO1xuICAgICAgICBwcmV2aW91cyA9IG5vdztcbiAgICAgICAgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgIH0gZWxzZSBpZiAoIXRpbWVvdXQgJiYgb3B0aW9ucy50cmFpbGluZyAhPT0gZmFsc2UpIHtcbiAgICAgICAgdGltZW91dCA9IHNldFRpbWVvdXQobGF0ZXIsIHJlbWFpbmluZyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gcmVzdWx0O1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uLCB0aGF0LCBhcyBsb25nIGFzIGl0IGNvbnRpbnVlcyB0byBiZSBpbnZva2VkLCB3aWxsIG5vdFxuICAvLyBiZSB0cmlnZ2VyZWQuIFRoZSBmdW5jdGlvbiB3aWxsIGJlIGNhbGxlZCBhZnRlciBpdCBzdG9wcyBiZWluZyBjYWxsZWQgZm9yXG4gIC8vIE4gbWlsbGlzZWNvbmRzLiBJZiBgaW1tZWRpYXRlYCBpcyBwYXNzZWQsIHRyaWdnZXIgdGhlIGZ1bmN0aW9uIG9uIHRoZVxuICAvLyBsZWFkaW5nIGVkZ2UsIGluc3RlYWQgb2YgdGhlIHRyYWlsaW5nLlxuICBfLmRlYm91bmNlID0gZnVuY3Rpb24oZnVuYywgd2FpdCwgaW1tZWRpYXRlKSB7XG4gICAgdmFyIHRpbWVvdXQsIGFyZ3MsIGNvbnRleHQsIHRpbWVzdGFtcCwgcmVzdWx0O1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGNvbnRleHQgPSB0aGlzO1xuICAgICAgYXJncyA9IGFyZ3VtZW50cztcbiAgICAgIHRpbWVzdGFtcCA9IG5ldyBEYXRlKCk7XG4gICAgICB2YXIgbGF0ZXIgPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGxhc3QgPSAobmV3IERhdGUoKSkgLSB0aW1lc3RhbXA7XG4gICAgICAgIGlmIChsYXN0IDwgd2FpdCkge1xuICAgICAgICAgIHRpbWVvdXQgPSBzZXRUaW1lb3V0KGxhdGVyLCB3YWl0IC0gbGFzdCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGltZW91dCA9IG51bGw7XG4gICAgICAgICAgaWYgKCFpbW1lZGlhdGUpIHJlc3VsdCA9IGZ1bmMuYXBwbHkoY29udGV4dCwgYXJncyk7XG4gICAgICAgIH1cbiAgICAgIH07XG4gICAgICB2YXIgY2FsbE5vdyA9IGltbWVkaWF0ZSAmJiAhdGltZW91dDtcbiAgICAgIGlmICghdGltZW91dCkge1xuICAgICAgICB0aW1lb3V0ID0gc2V0VGltZW91dChsYXRlciwgd2FpdCk7XG4gICAgICB9XG4gICAgICBpZiAoY2FsbE5vdykgcmVzdWx0ID0gZnVuYy5hcHBseShjb250ZXh0LCBhcmdzKTtcbiAgICAgIHJldHVybiByZXN1bHQ7XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCB3aWxsIGJlIGV4ZWN1dGVkIGF0IG1vc3Qgb25lIHRpbWUsIG5vIG1hdHRlciBob3dcbiAgLy8gb2Z0ZW4geW91IGNhbGwgaXQuIFVzZWZ1bCBmb3IgbGF6eSBpbml0aWFsaXphdGlvbi5cbiAgXy5vbmNlID0gZnVuY3Rpb24oZnVuYykge1xuICAgIHZhciByYW4gPSBmYWxzZSwgbWVtbztcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICBpZiAocmFuKSByZXR1cm4gbWVtbztcbiAgICAgIHJhbiA9IHRydWU7XG4gICAgICBtZW1vID0gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgZnVuYyA9IG51bGw7XG4gICAgICByZXR1cm4gbWVtbztcbiAgICB9O1xuICB9O1xuXG4gIC8vIFJldHVybnMgdGhlIGZpcnN0IGZ1bmN0aW9uIHBhc3NlZCBhcyBhbiBhcmd1bWVudCB0byB0aGUgc2Vjb25kLFxuICAvLyBhbGxvd2luZyB5b3UgdG8gYWRqdXN0IGFyZ3VtZW50cywgcnVuIGNvZGUgYmVmb3JlIGFuZCBhZnRlciwgYW5kXG4gIC8vIGNvbmRpdGlvbmFsbHkgZXhlY3V0ZSB0aGUgb3JpZ2luYWwgZnVuY3Rpb24uXG4gIF8ud3JhcCA9IGZ1bmN0aW9uKGZ1bmMsIHdyYXBwZXIpIHtcbiAgICByZXR1cm4gZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgYXJncyA9IFtmdW5jXTtcbiAgICAgIHB1c2guYXBwbHkoYXJncywgYXJndW1lbnRzKTtcbiAgICAgIHJldHVybiB3cmFwcGVyLmFwcGx5KHRoaXMsIGFyZ3MpO1xuICAgIH07XG4gIH07XG5cbiAgLy8gUmV0dXJucyBhIGZ1bmN0aW9uIHRoYXQgaXMgdGhlIGNvbXBvc2l0aW9uIG9mIGEgbGlzdCBvZiBmdW5jdGlvbnMsIGVhY2hcbiAgLy8gY29uc3VtaW5nIHRoZSByZXR1cm4gdmFsdWUgb2YgdGhlIGZ1bmN0aW9uIHRoYXQgZm9sbG93cy5cbiAgXy5jb21wb3NlID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZ1bmNzID0gYXJndW1lbnRzO1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBhcmdzID0gYXJndW1lbnRzO1xuICAgICAgZm9yICh2YXIgaSA9IGZ1bmNzLmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7XG4gICAgICAgIGFyZ3MgPSBbZnVuY3NbaV0uYXBwbHkodGhpcywgYXJncyldO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGFyZ3NbMF07XG4gICAgfTtcbiAgfTtcblxuICAvLyBSZXR1cm5zIGEgZnVuY3Rpb24gdGhhdCB3aWxsIG9ubHkgYmUgZXhlY3V0ZWQgYWZ0ZXIgYmVpbmcgY2FsbGVkIE4gdGltZXMuXG4gIF8uYWZ0ZXIgPSBmdW5jdGlvbih0aW1lcywgZnVuYykge1xuICAgIHJldHVybiBmdW5jdGlvbigpIHtcbiAgICAgIGlmICgtLXRpbWVzIDwgMSkge1xuICAgICAgICByZXR1cm4gZnVuYy5hcHBseSh0aGlzLCBhcmd1bWVudHMpO1xuICAgICAgfVxuICAgIH07XG4gIH07XG5cbiAgLy8gT2JqZWN0IEZ1bmN0aW9uc1xuICAvLyAtLS0tLS0tLS0tLS0tLS0tXG5cbiAgLy8gUmV0cmlldmUgdGhlIG5hbWVzIG9mIGFuIG9iamVjdCdzIHByb3BlcnRpZXMuXG4gIC8vIERlbGVnYXRlcyB0byAqKkVDTUFTY3JpcHQgNSoqJ3MgbmF0aXZlIGBPYmplY3Qua2V5c2BcbiAgXy5rZXlzID0gbmF0aXZlS2V5cyB8fCBmdW5jdGlvbihvYmopIHtcbiAgICBpZiAob2JqICE9PSBPYmplY3Qob2JqKSkgdGhyb3cgbmV3IFR5cGVFcnJvcignSW52YWxpZCBvYmplY3QnKTtcbiAgICB2YXIga2V5cyA9IFtdO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIGlmIChfLmhhcyhvYmosIGtleSkpIGtleXMucHVzaChrZXkpO1xuICAgIHJldHVybiBrZXlzO1xuICB9O1xuXG4gIC8vIFJldHJpZXZlIHRoZSB2YWx1ZXMgb2YgYW4gb2JqZWN0J3MgcHJvcGVydGllcy5cbiAgXy52YWx1ZXMgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIga2V5cyA9IF8ua2V5cyhvYmopO1xuICAgIHZhciBsZW5ndGggPSBrZXlzLmxlbmd0aDtcbiAgICB2YXIgdmFsdWVzID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgdmFsdWVzW2ldID0gb2JqW2tleXNbaV1dO1xuICAgIH1cbiAgICByZXR1cm4gdmFsdWVzO1xuICB9O1xuXG4gIC8vIENvbnZlcnQgYW4gb2JqZWN0IGludG8gYSBsaXN0IG9mIGBba2V5LCB2YWx1ZV1gIHBhaXJzLlxuICBfLnBhaXJzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICB2YXIgbGVuZ3RoID0ga2V5cy5sZW5ndGg7XG4gICAgdmFyIHBhaXJzID0gbmV3IEFycmF5KGxlbmd0aCk7XG4gICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcGFpcnNbaV0gPSBba2V5c1tpXSwgb2JqW2tleXNbaV1dXTtcbiAgICB9XG4gICAgcmV0dXJuIHBhaXJzO1xuICB9O1xuXG4gIC8vIEludmVydCB0aGUga2V5cyBhbmQgdmFsdWVzIG9mIGFuIG9iamVjdC4gVGhlIHZhbHVlcyBtdXN0IGJlIHNlcmlhbGl6YWJsZS5cbiAgXy5pbnZlcnQgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgcmVzdWx0ID0ge307XG4gICAgdmFyIGtleXMgPSBfLmtleXMob2JqKTtcbiAgICBmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0ga2V5cy5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xuICAgICAgcmVzdWx0W29ialtrZXlzW2ldXV0gPSBrZXlzW2ldO1xuICAgIH1cbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHNvcnRlZCBsaXN0IG9mIHRoZSBmdW5jdGlvbiBuYW1lcyBhdmFpbGFibGUgb24gdGhlIG9iamVjdC5cbiAgLy8gQWxpYXNlZCBhcyBgbWV0aG9kc2BcbiAgXy5mdW5jdGlvbnMgPSBfLm1ldGhvZHMgPSBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgbmFtZXMgPSBbXTtcbiAgICBmb3IgKHZhciBrZXkgaW4gb2JqKSB7XG4gICAgICBpZiAoXy5pc0Z1bmN0aW9uKG9ialtrZXldKSkgbmFtZXMucHVzaChrZXkpO1xuICAgIH1cbiAgICByZXR1cm4gbmFtZXMuc29ydCgpO1xuICB9O1xuXG4gIC8vIEV4dGVuZCBhIGdpdmVuIG9iamVjdCB3aXRoIGFsbCB0aGUgcHJvcGVydGllcyBpbiBwYXNzZWQtaW4gb2JqZWN0KHMpLlxuICBfLmV4dGVuZCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGVhY2goc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLCBmdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpIHtcbiAgICAgICAgICBvYmpbcHJvcF0gPSBzb3VyY2VbcHJvcF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIFJldHVybiBhIGNvcHkgb2YgdGhlIG9iamVjdCBvbmx5IGNvbnRhaW5pbmcgdGhlIHdoaXRlbGlzdGVkIHByb3BlcnRpZXMuXG4gIF8ucGljayA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBjb3B5ID0ge307XG4gICAgdmFyIGtleXMgPSBjb25jYXQuYXBwbHkoQXJyYXlQcm90bywgc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpKTtcbiAgICBlYWNoKGtleXMsIGZ1bmN0aW9uKGtleSkge1xuICAgICAgaWYgKGtleSBpbiBvYmopIGNvcHlba2V5XSA9IG9ialtrZXldO1xuICAgIH0pO1xuICAgIHJldHVybiBjb3B5O1xuICB9O1xuXG4gICAvLyBSZXR1cm4gYSBjb3B5IG9mIHRoZSBvYmplY3Qgd2l0aG91dCB0aGUgYmxhY2tsaXN0ZWQgcHJvcGVydGllcy5cbiAgXy5vbWl0ID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGNvcHkgPSB7fTtcbiAgICB2YXIga2V5cyA9IGNvbmNhdC5hcHBseShBcnJheVByb3RvLCBzbGljZS5jYWxsKGFyZ3VtZW50cywgMSkpO1xuICAgIGZvciAodmFyIGtleSBpbiBvYmopIHtcbiAgICAgIGlmICghXy5jb250YWlucyhrZXlzLCBrZXkpKSBjb3B5W2tleV0gPSBvYmpba2V5XTtcbiAgICB9XG4gICAgcmV0dXJuIGNvcHk7XG4gIH07XG5cbiAgLy8gRmlsbCBpbiBhIGdpdmVuIG9iamVjdCB3aXRoIGRlZmF1bHQgcHJvcGVydGllcy5cbiAgXy5kZWZhdWx0cyA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGVhY2goc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpLCBmdW5jdGlvbihzb3VyY2UpIHtcbiAgICAgIGlmIChzb3VyY2UpIHtcbiAgICAgICAgZm9yICh2YXIgcHJvcCBpbiBzb3VyY2UpIHtcbiAgICAgICAgICBpZiAob2JqW3Byb3BdID09PSB2b2lkIDApIG9ialtwcm9wXSA9IHNvdXJjZVtwcm9wXTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBvYmo7XG4gIH07XG5cbiAgLy8gQ3JlYXRlIGEgKHNoYWxsb3ctY2xvbmVkKSBkdXBsaWNhdGUgb2YgYW4gb2JqZWN0LlxuICBfLmNsb25lID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgaWYgKCFfLmlzT2JqZWN0KG9iaikpIHJldHVybiBvYmo7XG4gICAgcmV0dXJuIF8uaXNBcnJheShvYmopID8gb2JqLnNsaWNlKCkgOiBfLmV4dGVuZCh7fSwgb2JqKTtcbiAgfTtcblxuICAvLyBJbnZva2VzIGludGVyY2VwdG9yIHdpdGggdGhlIG9iaiwgYW5kIHRoZW4gcmV0dXJucyBvYmouXG4gIC8vIFRoZSBwcmltYXJ5IHB1cnBvc2Ugb2YgdGhpcyBtZXRob2QgaXMgdG8gXCJ0YXAgaW50b1wiIGEgbWV0aG9kIGNoYWluLCBpblxuICAvLyBvcmRlciB0byBwZXJmb3JtIG9wZXJhdGlvbnMgb24gaW50ZXJtZWRpYXRlIHJlc3VsdHMgd2l0aGluIHRoZSBjaGFpbi5cbiAgXy50YXAgPSBmdW5jdGlvbihvYmosIGludGVyY2VwdG9yKSB7XG4gICAgaW50ZXJjZXB0b3Iob2JqKTtcbiAgICByZXR1cm4gb2JqO1xuICB9O1xuXG4gIC8vIEludGVybmFsIHJlY3Vyc2l2ZSBjb21wYXJpc29uIGZ1bmN0aW9uIGZvciBgaXNFcXVhbGAuXG4gIHZhciBlcSA9IGZ1bmN0aW9uKGEsIGIsIGFTdGFjaywgYlN0YWNrKSB7XG4gICAgLy8gSWRlbnRpY2FsIG9iamVjdHMgYXJlIGVxdWFsLiBgMCA9PT0gLTBgLCBidXQgdGhleSBhcmVuJ3QgaWRlbnRpY2FsLlxuICAgIC8vIFNlZSB0aGUgW0hhcm1vbnkgYGVnYWxgIHByb3Bvc2FsXShodHRwOi8vd2lraS5lY21hc2NyaXB0Lm9yZy9kb2t1LnBocD9pZD1oYXJtb255OmVnYWwpLlxuICAgIGlmIChhID09PSBiKSByZXR1cm4gYSAhPT0gMCB8fCAxIC8gYSA9PSAxIC8gYjtcbiAgICAvLyBBIHN0cmljdCBjb21wYXJpc29uIGlzIG5lY2Vzc2FyeSBiZWNhdXNlIGBudWxsID09IHVuZGVmaW5lZGAuXG4gICAgaWYgKGEgPT0gbnVsbCB8fCBiID09IG51bGwpIHJldHVybiBhID09PSBiO1xuICAgIC8vIFVud3JhcCBhbnkgd3JhcHBlZCBvYmplY3RzLlxuICAgIGlmIChhIGluc3RhbmNlb2YgXykgYSA9IGEuX3dyYXBwZWQ7XG4gICAgaWYgKGIgaW5zdGFuY2VvZiBfKSBiID0gYi5fd3JhcHBlZDtcbiAgICAvLyBDb21wYXJlIGBbW0NsYXNzXV1gIG5hbWVzLlxuICAgIHZhciBjbGFzc05hbWUgPSB0b1N0cmluZy5jYWxsKGEpO1xuICAgIGlmIChjbGFzc05hbWUgIT0gdG9TdHJpbmcuY2FsbChiKSkgcmV0dXJuIGZhbHNlO1xuICAgIHN3aXRjaCAoY2xhc3NOYW1lKSB7XG4gICAgICAvLyBTdHJpbmdzLCBudW1iZXJzLCBkYXRlcywgYW5kIGJvb2xlYW5zIGFyZSBjb21wYXJlZCBieSB2YWx1ZS5cbiAgICAgIGNhc2UgJ1tvYmplY3QgU3RyaW5nXSc6XG4gICAgICAgIC8vIFByaW1pdGl2ZXMgYW5kIHRoZWlyIGNvcnJlc3BvbmRpbmcgb2JqZWN0IHdyYXBwZXJzIGFyZSBlcXVpdmFsZW50OyB0aHVzLCBgXCI1XCJgIGlzXG4gICAgICAgIC8vIGVxdWl2YWxlbnQgdG8gYG5ldyBTdHJpbmcoXCI1XCIpYC5cbiAgICAgICAgcmV0dXJuIGEgPT0gU3RyaW5nKGIpO1xuICAgICAgY2FzZSAnW29iamVjdCBOdW1iZXJdJzpcbiAgICAgICAgLy8gYE5hTmBzIGFyZSBlcXVpdmFsZW50LCBidXQgbm9uLXJlZmxleGl2ZS4gQW4gYGVnYWxgIGNvbXBhcmlzb24gaXMgcGVyZm9ybWVkIGZvclxuICAgICAgICAvLyBvdGhlciBudW1lcmljIHZhbHVlcy5cbiAgICAgICAgcmV0dXJuIGEgIT0gK2EgPyBiICE9ICtiIDogKGEgPT0gMCA/IDEgLyBhID09IDEgLyBiIDogYSA9PSArYik7XG4gICAgICBjYXNlICdbb2JqZWN0IERhdGVdJzpcbiAgICAgIGNhc2UgJ1tvYmplY3QgQm9vbGVhbl0nOlxuICAgICAgICAvLyBDb2VyY2UgZGF0ZXMgYW5kIGJvb2xlYW5zIHRvIG51bWVyaWMgcHJpbWl0aXZlIHZhbHVlcy4gRGF0ZXMgYXJlIGNvbXBhcmVkIGJ5IHRoZWlyXG4gICAgICAgIC8vIG1pbGxpc2Vjb25kIHJlcHJlc2VudGF0aW9ucy4gTm90ZSB0aGF0IGludmFsaWQgZGF0ZXMgd2l0aCBtaWxsaXNlY29uZCByZXByZXNlbnRhdGlvbnNcbiAgICAgICAgLy8gb2YgYE5hTmAgYXJlIG5vdCBlcXVpdmFsZW50LlxuICAgICAgICByZXR1cm4gK2EgPT0gK2I7XG4gICAgICAvLyBSZWdFeHBzIGFyZSBjb21wYXJlZCBieSB0aGVpciBzb3VyY2UgcGF0dGVybnMgYW5kIGZsYWdzLlxuICAgICAgY2FzZSAnW29iamVjdCBSZWdFeHBdJzpcbiAgICAgICAgcmV0dXJuIGEuc291cmNlID09IGIuc291cmNlICYmXG4gICAgICAgICAgICAgICBhLmdsb2JhbCA9PSBiLmdsb2JhbCAmJlxuICAgICAgICAgICAgICAgYS5tdWx0aWxpbmUgPT0gYi5tdWx0aWxpbmUgJiZcbiAgICAgICAgICAgICAgIGEuaWdub3JlQ2FzZSA9PSBiLmlnbm9yZUNhc2U7XG4gICAgfVxuICAgIGlmICh0eXBlb2YgYSAhPSAnb2JqZWN0JyB8fCB0eXBlb2YgYiAhPSAnb2JqZWN0JykgcmV0dXJuIGZhbHNlO1xuICAgIC8vIEFzc3VtZSBlcXVhbGl0eSBmb3IgY3ljbGljIHN0cnVjdHVyZXMuIFRoZSBhbGdvcml0aG0gZm9yIGRldGVjdGluZyBjeWNsaWNcbiAgICAvLyBzdHJ1Y3R1cmVzIGlzIGFkYXB0ZWQgZnJvbSBFUyA1LjEgc2VjdGlvbiAxNS4xMi4zLCBhYnN0cmFjdCBvcGVyYXRpb24gYEpPYC5cbiAgICB2YXIgbGVuZ3RoID0gYVN0YWNrLmxlbmd0aDtcbiAgICB3aGlsZSAobGVuZ3RoLS0pIHtcbiAgICAgIC8vIExpbmVhciBzZWFyY2guIFBlcmZvcm1hbmNlIGlzIGludmVyc2VseSBwcm9wb3J0aW9uYWwgdG8gdGhlIG51bWJlciBvZlxuICAgICAgLy8gdW5pcXVlIG5lc3RlZCBzdHJ1Y3R1cmVzLlxuICAgICAgaWYgKGFTdGFja1tsZW5ndGhdID09IGEpIHJldHVybiBiU3RhY2tbbGVuZ3RoXSA9PSBiO1xuICAgIH1cbiAgICAvLyBPYmplY3RzIHdpdGggZGlmZmVyZW50IGNvbnN0cnVjdG9ycyBhcmUgbm90IGVxdWl2YWxlbnQsIGJ1dCBgT2JqZWN0YHNcbiAgICAvLyBmcm9tIGRpZmZlcmVudCBmcmFtZXMgYXJlLlxuICAgIHZhciBhQ3RvciA9IGEuY29uc3RydWN0b3IsIGJDdG9yID0gYi5jb25zdHJ1Y3RvcjtcbiAgICBpZiAoYUN0b3IgIT09IGJDdG9yICYmICEoXy5pc0Z1bmN0aW9uKGFDdG9yKSAmJiAoYUN0b3IgaW5zdGFuY2VvZiBhQ3RvcikgJiZcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXy5pc0Z1bmN0aW9uKGJDdG9yKSAmJiAoYkN0b3IgaW5zdGFuY2VvZiBiQ3RvcikpKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIC8vIEFkZCB0aGUgZmlyc3Qgb2JqZWN0IHRvIHRoZSBzdGFjayBvZiB0cmF2ZXJzZWQgb2JqZWN0cy5cbiAgICBhU3RhY2sucHVzaChhKTtcbiAgICBiU3RhY2sucHVzaChiKTtcbiAgICB2YXIgc2l6ZSA9IDAsIHJlc3VsdCA9IHRydWU7XG4gICAgLy8gUmVjdXJzaXZlbHkgY29tcGFyZSBvYmplY3RzIGFuZCBhcnJheXMuXG4gICAgaWYgKGNsYXNzTmFtZSA9PSAnW29iamVjdCBBcnJheV0nKSB7XG4gICAgICAvLyBDb21wYXJlIGFycmF5IGxlbmd0aHMgdG8gZGV0ZXJtaW5lIGlmIGEgZGVlcCBjb21wYXJpc29uIGlzIG5lY2Vzc2FyeS5cbiAgICAgIHNpemUgPSBhLmxlbmd0aDtcbiAgICAgIHJlc3VsdCA9IHNpemUgPT0gYi5sZW5ndGg7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIC8vIERlZXAgY29tcGFyZSB0aGUgY29udGVudHMsIGlnbm9yaW5nIG5vbi1udW1lcmljIHByb3BlcnRpZXMuXG4gICAgICAgIHdoaWxlIChzaXplLS0pIHtcbiAgICAgICAgICBpZiAoIShyZXN1bHQgPSBlcShhW3NpemVdLCBiW3NpemVdLCBhU3RhY2ssIGJTdGFjaykpKSBicmVhaztcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICAvLyBEZWVwIGNvbXBhcmUgb2JqZWN0cy5cbiAgICAgIGZvciAodmFyIGtleSBpbiBhKSB7XG4gICAgICAgIGlmIChfLmhhcyhhLCBrZXkpKSB7XG4gICAgICAgICAgLy8gQ291bnQgdGhlIGV4cGVjdGVkIG51bWJlciBvZiBwcm9wZXJ0aWVzLlxuICAgICAgICAgIHNpemUrKztcbiAgICAgICAgICAvLyBEZWVwIGNvbXBhcmUgZWFjaCBtZW1iZXIuXG4gICAgICAgICAgaWYgKCEocmVzdWx0ID0gXy5oYXMoYiwga2V5KSAmJiBlcShhW2tleV0sIGJba2V5XSwgYVN0YWNrLCBiU3RhY2spKSkgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIC8vIEVuc3VyZSB0aGF0IGJvdGggb2JqZWN0cyBjb250YWluIHRoZSBzYW1lIG51bWJlciBvZiBwcm9wZXJ0aWVzLlxuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICBmb3IgKGtleSBpbiBiKSB7XG4gICAgICAgICAgaWYgKF8uaGFzKGIsIGtleSkgJiYgIShzaXplLS0pKSBicmVhaztcbiAgICAgICAgfVxuICAgICAgICByZXN1bHQgPSAhc2l6ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgLy8gUmVtb3ZlIHRoZSBmaXJzdCBvYmplY3QgZnJvbSB0aGUgc3RhY2sgb2YgdHJhdmVyc2VkIG9iamVjdHMuXG4gICAgYVN0YWNrLnBvcCgpO1xuICAgIGJTdGFjay5wb3AoKTtcbiAgICByZXR1cm4gcmVzdWx0O1xuICB9O1xuXG4gIC8vIFBlcmZvcm0gYSBkZWVwIGNvbXBhcmlzb24gdG8gY2hlY2sgaWYgdHdvIG9iamVjdHMgYXJlIGVxdWFsLlxuICBfLmlzRXF1YWwgPSBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGVxKGEsIGIsIFtdLCBbXSk7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiBhcnJheSwgc3RyaW5nLCBvciBvYmplY3QgZW1wdHk/XG4gIC8vIEFuIFwiZW1wdHlcIiBvYmplY3QgaGFzIG5vIGVudW1lcmFibGUgb3duLXByb3BlcnRpZXMuXG4gIF8uaXNFbXB0eSA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGlmIChvYmogPT0gbnVsbCkgcmV0dXJuIHRydWU7XG4gICAgaWYgKF8uaXNBcnJheShvYmopIHx8IF8uaXNTdHJpbmcob2JqKSkgcmV0dXJuIG9iai5sZW5ndGggPT09IDA7XG4gICAgZm9yICh2YXIga2V5IGluIG9iaikgaWYgKF8uaGFzKG9iaiwga2V5KSkgcmV0dXJuIGZhbHNlO1xuICAgIHJldHVybiB0cnVlO1xuICB9O1xuXG4gIC8vIElzIGEgZ2l2ZW4gdmFsdWUgYSBET00gZWxlbWVudD9cbiAgXy5pc0VsZW1lbnQgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gISEob2JqICYmIG9iai5ub2RlVHlwZSA9PT0gMSk7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YWx1ZSBhbiBhcnJheT9cbiAgLy8gRGVsZWdhdGVzIHRvIEVDTUE1J3MgbmF0aXZlIEFycmF5LmlzQXJyYXlcbiAgXy5pc0FycmF5ID0gbmF0aXZlSXNBcnJheSB8fCBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gdG9TdHJpbmcuY2FsbChvYmopID09ICdbb2JqZWN0IEFycmF5XSc7XG4gIH07XG5cbiAgLy8gSXMgYSBnaXZlbiB2YXJpYWJsZSBhbiBvYmplY3Q/XG4gIF8uaXNPYmplY3QgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSBPYmplY3Qob2JqKTtcbiAgfTtcblxuICAvLyBBZGQgc29tZSBpc1R5cGUgbWV0aG9kczogaXNBcmd1bWVudHMsIGlzRnVuY3Rpb24sIGlzU3RyaW5nLCBpc051bWJlciwgaXNEYXRlLCBpc1JlZ0V4cC5cbiAgZWFjaChbJ0FyZ3VtZW50cycsICdGdW5jdGlvbicsICdTdHJpbmcnLCAnTnVtYmVyJywgJ0RhdGUnLCAnUmVnRXhwJ10sIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICBfWydpcycgKyBuYW1lXSA9IGZ1bmN0aW9uKG9iaikge1xuICAgICAgcmV0dXJuIHRvU3RyaW5nLmNhbGwob2JqKSA9PSAnW29iamVjdCAnICsgbmFtZSArICddJztcbiAgICB9O1xuICB9KTtcblxuICAvLyBEZWZpbmUgYSBmYWxsYmFjayB2ZXJzaW9uIG9mIHRoZSBtZXRob2QgaW4gYnJvd3NlcnMgKGFoZW0sIElFKSwgd2hlcmVcbiAgLy8gdGhlcmUgaXNuJ3QgYW55IGluc3BlY3RhYmxlIFwiQXJndW1lbnRzXCIgdHlwZS5cbiAgaWYgKCFfLmlzQXJndW1lbnRzKGFyZ3VtZW50cykpIHtcbiAgICBfLmlzQXJndW1lbnRzID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gISEob2JqICYmIF8uaGFzKG9iaiwgJ2NhbGxlZScpKTtcbiAgICB9O1xuICB9XG5cbiAgLy8gT3B0aW1pemUgYGlzRnVuY3Rpb25gIGlmIGFwcHJvcHJpYXRlLlxuICBpZiAodHlwZW9mICgvLi8pICE9PSAnZnVuY3Rpb24nKSB7XG4gICAgXy5pc0Z1bmN0aW9uID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgICByZXR1cm4gdHlwZW9mIG9iaiA9PT0gJ2Z1bmN0aW9uJztcbiAgICB9O1xuICB9XG5cbiAgLy8gSXMgYSBnaXZlbiBvYmplY3QgYSBmaW5pdGUgbnVtYmVyP1xuICBfLmlzRmluaXRlID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIGlzRmluaXRlKG9iaikgJiYgIWlzTmFOKHBhcnNlRmxvYXQob2JqKSk7XG4gIH07XG5cbiAgLy8gSXMgdGhlIGdpdmVuIHZhbHVlIGBOYU5gPyAoTmFOIGlzIHRoZSBvbmx5IG51bWJlciB3aGljaCBkb2VzIG5vdCBlcXVhbCBpdHNlbGYpLlxuICBfLmlzTmFOID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIF8uaXNOdW1iZXIob2JqKSAmJiBvYmogIT0gK29iajtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGEgYm9vbGVhbj9cbiAgXy5pc0Jvb2xlYW4gPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gb2JqID09PSB0cnVlIHx8IG9iaiA9PT0gZmFsc2UgfHwgdG9TdHJpbmcuY2FsbChvYmopID09ICdbb2JqZWN0IEJvb2xlYW5dJztcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhbHVlIGVxdWFsIHRvIG51bGw/XG4gIF8uaXNOdWxsID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIG9iaiA9PT0gbnVsbDtcbiAgfTtcblxuICAvLyBJcyBhIGdpdmVuIHZhcmlhYmxlIHVuZGVmaW5lZD9cbiAgXy5pc1VuZGVmaW5lZCA9IGZ1bmN0aW9uKG9iaikge1xuICAgIHJldHVybiBvYmogPT09IHZvaWQgMDtcbiAgfTtcblxuICAvLyBTaG9ydGN1dCBmdW5jdGlvbiBmb3IgY2hlY2tpbmcgaWYgYW4gb2JqZWN0IGhhcyBhIGdpdmVuIHByb3BlcnR5IGRpcmVjdGx5XG4gIC8vIG9uIGl0c2VsZiAoaW4gb3RoZXIgd29yZHMsIG5vdCBvbiBhIHByb3RvdHlwZSkuXG4gIF8uaGFzID0gZnVuY3Rpb24ob2JqLCBrZXkpIHtcbiAgICByZXR1cm4gaGFzT3duUHJvcGVydHkuY2FsbChvYmosIGtleSk7XG4gIH07XG5cbiAgLy8gVXRpbGl0eSBGdW5jdGlvbnNcbiAgLy8gLS0tLS0tLS0tLS0tLS0tLS1cblxuICAvLyBSdW4gVW5kZXJzY29yZS5qcyBpbiAqbm9Db25mbGljdCogbW9kZSwgcmV0dXJuaW5nIHRoZSBgX2AgdmFyaWFibGUgdG8gaXRzXG4gIC8vIHByZXZpb3VzIG93bmVyLiBSZXR1cm5zIGEgcmVmZXJlbmNlIHRvIHRoZSBVbmRlcnNjb3JlIG9iamVjdC5cbiAgXy5ub0NvbmZsaWN0ID0gZnVuY3Rpb24oKSB7XG4gICAgcm9vdC5fID0gcHJldmlvdXNVbmRlcnNjb3JlO1xuICAgIHJldHVybiB0aGlzO1xuICB9O1xuXG4gIC8vIEtlZXAgdGhlIGlkZW50aXR5IGZ1bmN0aW9uIGFyb3VuZCBmb3IgZGVmYXVsdCBpdGVyYXRvcnMuXG4gIF8uaWRlbnRpdHkgPSBmdW5jdGlvbih2YWx1ZSkge1xuICAgIHJldHVybiB2YWx1ZTtcbiAgfTtcblxuICAvLyBSdW4gYSBmdW5jdGlvbiAqKm4qKiB0aW1lcy5cbiAgXy50aW1lcyA9IGZ1bmN0aW9uKG4sIGl0ZXJhdG9yLCBjb250ZXh0KSB7XG4gICAgdmFyIGFjY3VtID0gQXJyYXkoTWF0aC5tYXgoMCwgbikpO1xuICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbjsgaSsrKSBhY2N1bVtpXSA9IGl0ZXJhdG9yLmNhbGwoY29udGV4dCwgaSk7XG4gICAgcmV0dXJuIGFjY3VtO1xuICB9O1xuXG4gIC8vIFJldHVybiBhIHJhbmRvbSBpbnRlZ2VyIGJldHdlZW4gbWluIGFuZCBtYXggKGluY2x1c2l2ZSkuXG4gIF8ucmFuZG9tID0gZnVuY3Rpb24obWluLCBtYXgpIHtcbiAgICBpZiAobWF4ID09IG51bGwpIHtcbiAgICAgIG1heCA9IG1pbjtcbiAgICAgIG1pbiA9IDA7XG4gICAgfVxuICAgIHJldHVybiBtaW4gKyBNYXRoLmZsb29yKE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluICsgMSkpO1xuICB9O1xuXG4gIC8vIExpc3Qgb2YgSFRNTCBlbnRpdGllcyBmb3IgZXNjYXBpbmcuXG4gIHZhciBlbnRpdHlNYXAgPSB7XG4gICAgZXNjYXBlOiB7XG4gICAgICAnJic6ICcmYW1wOycsXG4gICAgICAnPCc6ICcmbHQ7JyxcbiAgICAgICc+JzogJyZndDsnLFxuICAgICAgJ1wiJzogJyZxdW90OycsXG4gICAgICBcIidcIjogJyYjeDI3OydcbiAgICB9XG4gIH07XG4gIGVudGl0eU1hcC51bmVzY2FwZSA9IF8uaW52ZXJ0KGVudGl0eU1hcC5lc2NhcGUpO1xuXG4gIC8vIFJlZ2V4ZXMgY29udGFpbmluZyB0aGUga2V5cyBhbmQgdmFsdWVzIGxpc3RlZCBpbW1lZGlhdGVseSBhYm92ZS5cbiAgdmFyIGVudGl0eVJlZ2V4ZXMgPSB7XG4gICAgZXNjYXBlOiAgIG5ldyBSZWdFeHAoJ1snICsgXy5rZXlzKGVudGl0eU1hcC5lc2NhcGUpLmpvaW4oJycpICsgJ10nLCAnZycpLFxuICAgIHVuZXNjYXBlOiBuZXcgUmVnRXhwKCcoJyArIF8ua2V5cyhlbnRpdHlNYXAudW5lc2NhcGUpLmpvaW4oJ3wnKSArICcpJywgJ2cnKVxuICB9O1xuXG4gIC8vIEZ1bmN0aW9ucyBmb3IgZXNjYXBpbmcgYW5kIHVuZXNjYXBpbmcgc3RyaW5ncyB0by9mcm9tIEhUTUwgaW50ZXJwb2xhdGlvbi5cbiAgXy5lYWNoKFsnZXNjYXBlJywgJ3VuZXNjYXBlJ10sIGZ1bmN0aW9uKG1ldGhvZCkge1xuICAgIF9bbWV0aG9kXSA9IGZ1bmN0aW9uKHN0cmluZykge1xuICAgICAgaWYgKHN0cmluZyA9PSBudWxsKSByZXR1cm4gJyc7XG4gICAgICByZXR1cm4gKCcnICsgc3RyaW5nKS5yZXBsYWNlKGVudGl0eVJlZ2V4ZXNbbWV0aG9kXSwgZnVuY3Rpb24obWF0Y2gpIHtcbiAgICAgICAgcmV0dXJuIGVudGl0eU1hcFttZXRob2RdW21hdGNoXTtcbiAgICAgIH0pO1xuICAgIH07XG4gIH0pO1xuXG4gIC8vIElmIHRoZSB2YWx1ZSBvZiB0aGUgbmFtZWQgYHByb3BlcnR5YCBpcyBhIGZ1bmN0aW9uIHRoZW4gaW52b2tlIGl0IHdpdGggdGhlXG4gIC8vIGBvYmplY3RgIGFzIGNvbnRleHQ7IG90aGVyd2lzZSwgcmV0dXJuIGl0LlxuICBfLnJlc3VsdCA9IGZ1bmN0aW9uKG9iamVjdCwgcHJvcGVydHkpIHtcbiAgICBpZiAob2JqZWN0ID09IG51bGwpIHJldHVybiB2b2lkIDA7XG4gICAgdmFyIHZhbHVlID0gb2JqZWN0W3Byb3BlcnR5XTtcbiAgICByZXR1cm4gXy5pc0Z1bmN0aW9uKHZhbHVlKSA/IHZhbHVlLmNhbGwob2JqZWN0KSA6IHZhbHVlO1xuICB9O1xuXG4gIC8vIEFkZCB5b3VyIG93biBjdXN0b20gZnVuY3Rpb25zIHRvIHRoZSBVbmRlcnNjb3JlIG9iamVjdC5cbiAgXy5taXhpbiA9IGZ1bmN0aW9uKG9iaikge1xuICAgIGVhY2goXy5mdW5jdGlvbnMob2JqKSwgZnVuY3Rpb24obmFtZSkge1xuICAgICAgdmFyIGZ1bmMgPSBfW25hbWVdID0gb2JqW25hbWVdO1xuICAgICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGFyZ3MgPSBbdGhpcy5fd3JhcHBlZF07XG4gICAgICAgIHB1c2guYXBwbHkoYXJncywgYXJndW1lbnRzKTtcbiAgICAgICAgcmV0dXJuIHJlc3VsdC5jYWxsKHRoaXMsIGZ1bmMuYXBwbHkoXywgYXJncykpO1xuICAgICAgfTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBHZW5lcmF0ZSBhIHVuaXF1ZSBpbnRlZ2VyIGlkICh1bmlxdWUgd2l0aGluIHRoZSBlbnRpcmUgY2xpZW50IHNlc3Npb24pLlxuICAvLyBVc2VmdWwgZm9yIHRlbXBvcmFyeSBET00gaWRzLlxuICB2YXIgaWRDb3VudGVyID0gMDtcbiAgXy51bmlxdWVJZCA9IGZ1bmN0aW9uKHByZWZpeCkge1xuICAgIHZhciBpZCA9ICsraWRDb3VudGVyICsgJyc7XG4gICAgcmV0dXJuIHByZWZpeCA/IHByZWZpeCArIGlkIDogaWQ7XG4gIH07XG5cbiAgLy8gQnkgZGVmYXVsdCwgVW5kZXJzY29yZSB1c2VzIEVSQi1zdHlsZSB0ZW1wbGF0ZSBkZWxpbWl0ZXJzLCBjaGFuZ2UgdGhlXG4gIC8vIGZvbGxvd2luZyB0ZW1wbGF0ZSBzZXR0aW5ncyB0byB1c2UgYWx0ZXJuYXRpdmUgZGVsaW1pdGVycy5cbiAgXy50ZW1wbGF0ZVNldHRpbmdzID0ge1xuICAgIGV2YWx1YXRlICAgIDogLzwlKFtcXHNcXFNdKz8pJT4vZyxcbiAgICBpbnRlcnBvbGF0ZSA6IC88JT0oW1xcc1xcU10rPyklPi9nLFxuICAgIGVzY2FwZSAgICAgIDogLzwlLShbXFxzXFxTXSs/KSU+L2dcbiAgfTtcblxuICAvLyBXaGVuIGN1c3RvbWl6aW5nIGB0ZW1wbGF0ZVNldHRpbmdzYCwgaWYgeW91IGRvbid0IHdhbnQgdG8gZGVmaW5lIGFuXG4gIC8vIGludGVycG9sYXRpb24sIGV2YWx1YXRpb24gb3IgZXNjYXBpbmcgcmVnZXgsIHdlIG5lZWQgb25lIHRoYXQgaXNcbiAgLy8gZ3VhcmFudGVlZCBub3QgdG8gbWF0Y2guXG4gIHZhciBub01hdGNoID0gLyguKV4vO1xuXG4gIC8vIENlcnRhaW4gY2hhcmFjdGVycyBuZWVkIHRvIGJlIGVzY2FwZWQgc28gdGhhdCB0aGV5IGNhbiBiZSBwdXQgaW50byBhXG4gIC8vIHN0cmluZyBsaXRlcmFsLlxuICB2YXIgZXNjYXBlcyA9IHtcbiAgICBcIidcIjogICAgICBcIidcIixcbiAgICAnXFxcXCc6ICAgICAnXFxcXCcsXG4gICAgJ1xccic6ICAgICAncicsXG4gICAgJ1xcbic6ICAgICAnbicsXG4gICAgJ1xcdCc6ICAgICAndCcsXG4gICAgJ1xcdTIwMjgnOiAndTIwMjgnLFxuICAgICdcXHUyMDI5JzogJ3UyMDI5J1xuICB9O1xuXG4gIHZhciBlc2NhcGVyID0gL1xcXFx8J3xcXHJ8XFxufFxcdHxcXHUyMDI4fFxcdTIwMjkvZztcblxuICAvLyBKYXZhU2NyaXB0IG1pY3JvLXRlbXBsYXRpbmcsIHNpbWlsYXIgdG8gSm9obiBSZXNpZydzIGltcGxlbWVudGF0aW9uLlxuICAvLyBVbmRlcnNjb3JlIHRlbXBsYXRpbmcgaGFuZGxlcyBhcmJpdHJhcnkgZGVsaW1pdGVycywgcHJlc2VydmVzIHdoaXRlc3BhY2UsXG4gIC8vIGFuZCBjb3JyZWN0bHkgZXNjYXBlcyBxdW90ZXMgd2l0aGluIGludGVycG9sYXRlZCBjb2RlLlxuICBfLnRlbXBsYXRlID0gZnVuY3Rpb24odGV4dCwgZGF0YSwgc2V0dGluZ3MpIHtcbiAgICB2YXIgcmVuZGVyO1xuICAgIHNldHRpbmdzID0gXy5kZWZhdWx0cyh7fSwgc2V0dGluZ3MsIF8udGVtcGxhdGVTZXR0aW5ncyk7XG5cbiAgICAvLyBDb21iaW5lIGRlbGltaXRlcnMgaW50byBvbmUgcmVndWxhciBleHByZXNzaW9uIHZpYSBhbHRlcm5hdGlvbi5cbiAgICB2YXIgbWF0Y2hlciA9IG5ldyBSZWdFeHAoW1xuICAgICAgKHNldHRpbmdzLmVzY2FwZSB8fCBub01hdGNoKS5zb3VyY2UsXG4gICAgICAoc2V0dGluZ3MuaW50ZXJwb2xhdGUgfHwgbm9NYXRjaCkuc291cmNlLFxuICAgICAgKHNldHRpbmdzLmV2YWx1YXRlIHx8IG5vTWF0Y2gpLnNvdXJjZVxuICAgIF0uam9pbignfCcpICsgJ3wkJywgJ2cnKTtcblxuICAgIC8vIENvbXBpbGUgdGhlIHRlbXBsYXRlIHNvdXJjZSwgZXNjYXBpbmcgc3RyaW5nIGxpdGVyYWxzIGFwcHJvcHJpYXRlbHkuXG4gICAgdmFyIGluZGV4ID0gMDtcbiAgICB2YXIgc291cmNlID0gXCJfX3ArPSdcIjtcbiAgICB0ZXh0LnJlcGxhY2UobWF0Y2hlciwgZnVuY3Rpb24obWF0Y2gsIGVzY2FwZSwgaW50ZXJwb2xhdGUsIGV2YWx1YXRlLCBvZmZzZXQpIHtcbiAgICAgIHNvdXJjZSArPSB0ZXh0LnNsaWNlKGluZGV4LCBvZmZzZXQpXG4gICAgICAgIC5yZXBsYWNlKGVzY2FwZXIsIGZ1bmN0aW9uKG1hdGNoKSB7IHJldHVybiAnXFxcXCcgKyBlc2NhcGVzW21hdGNoXTsgfSk7XG5cbiAgICAgIGlmIChlc2NhcGUpIHtcbiAgICAgICAgc291cmNlICs9IFwiJytcXG4oKF9fdD0oXCIgKyBlc2NhcGUgKyBcIikpPT1udWxsPycnOl8uZXNjYXBlKF9fdCkpK1xcbidcIjtcbiAgICAgIH1cbiAgICAgIGlmIChpbnRlcnBvbGF0ZSkge1xuICAgICAgICBzb3VyY2UgKz0gXCInK1xcbigoX190PShcIiArIGludGVycG9sYXRlICsgXCIpKT09bnVsbD8nJzpfX3QpK1xcbidcIjtcbiAgICAgIH1cbiAgICAgIGlmIChldmFsdWF0ZSkge1xuICAgICAgICBzb3VyY2UgKz0gXCInO1xcblwiICsgZXZhbHVhdGUgKyBcIlxcbl9fcCs9J1wiO1xuICAgICAgfVxuICAgICAgaW5kZXggPSBvZmZzZXQgKyBtYXRjaC5sZW5ndGg7XG4gICAgICByZXR1cm4gbWF0Y2g7XG4gICAgfSk7XG4gICAgc291cmNlICs9IFwiJztcXG5cIjtcblxuICAgIC8vIElmIGEgdmFyaWFibGUgaXMgbm90IHNwZWNpZmllZCwgcGxhY2UgZGF0YSB2YWx1ZXMgaW4gbG9jYWwgc2NvcGUuXG4gICAgaWYgKCFzZXR0aW5ncy52YXJpYWJsZSkgc291cmNlID0gJ3dpdGgob2JqfHx7fSl7XFxuJyArIHNvdXJjZSArICd9XFxuJztcblxuICAgIHNvdXJjZSA9IFwidmFyIF9fdCxfX3A9JycsX19qPUFycmF5LnByb3RvdHlwZS5qb2luLFwiICtcbiAgICAgIFwicHJpbnQ9ZnVuY3Rpb24oKXtfX3ArPV9fai5jYWxsKGFyZ3VtZW50cywnJyk7fTtcXG5cIiArXG4gICAgICBzb3VyY2UgKyBcInJldHVybiBfX3A7XFxuXCI7XG5cbiAgICB0cnkge1xuICAgICAgcmVuZGVyID0gbmV3IEZ1bmN0aW9uKHNldHRpbmdzLnZhcmlhYmxlIHx8ICdvYmonLCAnXycsIHNvdXJjZSk7XG4gICAgfSBjYXRjaCAoZSkge1xuICAgICAgZS5zb3VyY2UgPSBzb3VyY2U7XG4gICAgICB0aHJvdyBlO1xuICAgIH1cblxuICAgIGlmIChkYXRhKSByZXR1cm4gcmVuZGVyKGRhdGEsIF8pO1xuICAgIHZhciB0ZW1wbGF0ZSA9IGZ1bmN0aW9uKGRhdGEpIHtcbiAgICAgIHJldHVybiByZW5kZXIuY2FsbCh0aGlzLCBkYXRhLCBfKTtcbiAgICB9O1xuXG4gICAgLy8gUHJvdmlkZSB0aGUgY29tcGlsZWQgZnVuY3Rpb24gc291cmNlIGFzIGEgY29udmVuaWVuY2UgZm9yIHByZWNvbXBpbGF0aW9uLlxuICAgIHRlbXBsYXRlLnNvdXJjZSA9ICdmdW5jdGlvbignICsgKHNldHRpbmdzLnZhcmlhYmxlIHx8ICdvYmonKSArICcpe1xcbicgKyBzb3VyY2UgKyAnfSc7XG5cbiAgICByZXR1cm4gdGVtcGxhdGU7XG4gIH07XG5cbiAgLy8gQWRkIGEgXCJjaGFpblwiIGZ1bmN0aW9uLCB3aGljaCB3aWxsIGRlbGVnYXRlIHRvIHRoZSB3cmFwcGVyLlxuICBfLmNoYWluID0gZnVuY3Rpb24ob2JqKSB7XG4gICAgcmV0dXJuIF8ob2JqKS5jaGFpbigpO1xuICB9O1xuXG4gIC8vIE9PUFxuICAvLyAtLS0tLS0tLS0tLS0tLS1cbiAgLy8gSWYgVW5kZXJzY29yZSBpcyBjYWxsZWQgYXMgYSBmdW5jdGlvbiwgaXQgcmV0dXJucyBhIHdyYXBwZWQgb2JqZWN0IHRoYXRcbiAgLy8gY2FuIGJlIHVzZWQgT08tc3R5bGUuIFRoaXMgd3JhcHBlciBob2xkcyBhbHRlcmVkIHZlcnNpb25zIG9mIGFsbCB0aGVcbiAgLy8gdW5kZXJzY29yZSBmdW5jdGlvbnMuIFdyYXBwZWQgb2JqZWN0cyBtYXkgYmUgY2hhaW5lZC5cblxuICAvLyBIZWxwZXIgZnVuY3Rpb24gdG8gY29udGludWUgY2hhaW5pbmcgaW50ZXJtZWRpYXRlIHJlc3VsdHMuXG4gIHZhciByZXN1bHQgPSBmdW5jdGlvbihvYmopIHtcbiAgICByZXR1cm4gdGhpcy5fY2hhaW4gPyBfKG9iaikuY2hhaW4oKSA6IG9iajtcbiAgfTtcblxuICAvLyBBZGQgYWxsIG9mIHRoZSBVbmRlcnNjb3JlIGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlciBvYmplY3QuXG4gIF8ubWl4aW4oXyk7XG5cbiAgLy8gQWRkIGFsbCBtdXRhdG9yIEFycmF5IGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlci5cbiAgZWFjaChbJ3BvcCcsICdwdXNoJywgJ3JldmVyc2UnLCAnc2hpZnQnLCAnc29ydCcsICdzcGxpY2UnLCAndW5zaGlmdCddLCBmdW5jdGlvbihuYW1lKSB7XG4gICAgdmFyIG1ldGhvZCA9IEFycmF5UHJvdG9bbmFtZV07XG4gICAgXy5wcm90b3R5cGVbbmFtZV0gPSBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBvYmogPSB0aGlzLl93cmFwcGVkO1xuICAgICAgbWV0aG9kLmFwcGx5KG9iaiwgYXJndW1lbnRzKTtcbiAgICAgIGlmICgobmFtZSA9PSAnc2hpZnQnIHx8IG5hbWUgPT0gJ3NwbGljZScpICYmIG9iai5sZW5ndGggPT09IDApIGRlbGV0ZSBvYmpbMF07XG4gICAgICByZXR1cm4gcmVzdWx0LmNhbGwodGhpcywgb2JqKTtcbiAgICB9O1xuICB9KTtcblxuICAvLyBBZGQgYWxsIGFjY2Vzc29yIEFycmF5IGZ1bmN0aW9ucyB0byB0aGUgd3JhcHBlci5cbiAgZWFjaChbJ2NvbmNhdCcsICdqb2luJywgJ3NsaWNlJ10sIGZ1bmN0aW9uKG5hbWUpIHtcbiAgICB2YXIgbWV0aG9kID0gQXJyYXlQcm90b1tuYW1lXTtcbiAgICBfLnByb3RvdHlwZVtuYW1lXSA9IGZ1bmN0aW9uKCkge1xuICAgICAgcmV0dXJuIHJlc3VsdC5jYWxsKHRoaXMsIG1ldGhvZC5hcHBseSh0aGlzLl93cmFwcGVkLCBhcmd1bWVudHMpKTtcbiAgICB9O1xuICB9KTtcblxuICBfLmV4dGVuZChfLnByb3RvdHlwZSwge1xuXG4gICAgLy8gU3RhcnQgY2hhaW5pbmcgYSB3cmFwcGVkIFVuZGVyc2NvcmUgb2JqZWN0LlxuICAgIGNoYWluOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMuX2NoYWluID0gdHJ1ZTtcbiAgICAgIHJldHVybiB0aGlzO1xuICAgIH0sXG5cbiAgICAvLyBFeHRyYWN0cyB0aGUgcmVzdWx0IGZyb20gYSB3cmFwcGVkIGFuZCBjaGFpbmVkIG9iamVjdC5cbiAgICB2YWx1ZTogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gdGhpcy5fd3JhcHBlZDtcbiAgICB9XG5cbiAgfSk7XG5cbn0pLmNhbGwodGhpcyk7XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/Main.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '979d2m9WlRN0519FkcUBa5E', 'Main');
// Game/Scripts/Main.ts

Object.defineProperty(exports, "__esModule", { value: true });
var ViewManager_1 = require("../../framework/plugin_boosts/ui/ViewManager");
var Device_1 = require("../../framework/plugin_boosts/gamesys/Device");
var Res_1 = require("./hex-lines-game/Res");
var ToastManager_1 = require("../../framework/plugin_boosts/ui/ToastManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Main = /** @class */ (function (_super) {
    __extends(Main, _super);
    function Main() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    Main_1 = Main;
    Main.prototype.onLoad = function () {
        Main_1.instance = this;
        Device_1.default.playMusic(Res_1.R.audio_bgm);
    };
    Main.prototype.isNextDay = function (timeSec) {
        return this.isGreaterDate(new Date(), new Date(timeSec));
    };
    ;
    Main.prototype.isGreaterDate = function (now, before) {
        var diff = now.getTime() - before.getTime();
        if (diff > 86400000) // 24*60*60*1000
         {
            return true;
        }
        else {
            if (diff > 0)
                return now.getDate() != before.getDate();
            else
                return false;
        }
    };
    ;
    Main.prototype.start = function () {
        appGame.gameServerRoom.emit(consts.CLIENT_GAME_START, function () {
            appGame.banner.playBanner(2);
        });
    };
    Main.prototype.click_play = function () {
        ViewManager_1.default.instance.show("Game/LevelDialog");
    };
    Main.prototype.toggle_sfx = function (t) {
        Device_1.default.setSoundsEnable(!t.isChecked);
    };
    Main.prototype.click_skin = function () {
        ViewManager_1.default.instance.show("Game/ShopDialog");
    };
    Main.prototype.click_rank = function () {
        ViewManager_1.default.instance.show("wechat/WxRankDialog");
    };
    Main.prototype.onShare = function () {
    };
    Main.prototype.click_share = function () {
    };
    Main.prototype.click_luck = function () {
        ViewManager_1.default.instance.show("Game/LuckyDialog");
    };
    Main.prototype.click_more = function () {
        ToastManager_1.Toast.make("敬请期待");
    };
    var Main_1;
    Main.instance = null;
    Main = Main_1 = __decorate([
        ccclass
    ], Main);
    return Main;
}(cc.Component));
exports.default = Main;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcTWFpbi50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsNEVBQXVFO0FBR3ZFLHVFQUFrRTtBQUNsRSw0Q0FBeUM7QUFDekMsOEVBQXNFO0FBRWhFLElBQUEsS0FBd0IsRUFBRSxDQUFDLFVBQVUsRUFBbkMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFrQixDQUFDO0FBRzVDO0lBQWtDLHdCQUFZO0lBQTlDOztJQXNFQSxDQUFDO2FBdEVvQixJQUFJO0lBS3JCLHFCQUFNLEdBQU47UUFDSSxNQUFJLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQztRQUVyQixnQkFBTSxDQUFDLFNBQVMsQ0FBQyxPQUFDLENBQUMsU0FBUyxDQUFDLENBQUM7SUFDbEMsQ0FBQztJQUNELHdCQUFTLEdBQVQsVUFBVSxPQUFPO1FBRWIsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksSUFBSSxFQUFFLEVBQUMsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQTtJQUMzRCxDQUFDO0lBQUEsQ0FBQztJQUNGLDRCQUFhLEdBQWIsVUFBYyxHQUFHLEVBQUMsTUFBTTtRQUVwQixJQUFJLElBQUksR0FBRyxHQUFHLENBQUMsT0FBTyxFQUFFLEdBQUcsTUFBTSxDQUFDLE9BQU8sRUFBRSxDQUFBO1FBQzNDLElBQUcsSUFBSSxHQUFHLFFBQVEsRUFBRSxnQkFBZ0I7U0FDcEM7WUFDSSxPQUFPLElBQUksQ0FBQztTQUNmO2FBQUk7WUFDRCxJQUFJLElBQUksR0FBRyxDQUFDO2dCQUNSLE9BQU8sR0FBRyxDQUFDLE9BQU8sRUFBRSxJQUFJLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQTs7Z0JBRXhDLE9BQU8sS0FBSyxDQUFDO1NBQ3BCO0lBQ0wsQ0FBQztJQUFBLENBQUM7SUFHRixvQkFBSyxHQUFMO1FBQ0ksT0FBTyxDQUFDLGNBQWMsQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLGlCQUFpQixFQUFDO1lBQ2pELE9BQU8sQ0FBQyxNQUFNLENBQUMsVUFBVSxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2pDLENBQUMsQ0FBQyxDQUFDO0lBRVAsQ0FBQztJQUVELHlCQUFVLEdBQVY7UUFDSSxxQkFBVyxDQUFDLFFBQVEsQ0FBQyxJQUFJLENBQUMsa0JBQWtCLENBQUMsQ0FBQTtJQUNqRCxDQUFDO0lBRUQseUJBQVUsR0FBVixVQUFXLENBQUM7UUFDUixnQkFBTSxDQUFDLGVBQWUsQ0FBQyxDQUFDLENBQUMsQ0FBQyxTQUFTLENBQUMsQ0FBQTtJQUN4QyxDQUFDO0lBRUQseUJBQVUsR0FBVjtRQUNJLHFCQUFXLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxpQkFBaUIsQ0FBQyxDQUFBO0lBQ2hELENBQUM7SUFFRCx5QkFBVSxHQUFWO1FBQ0kscUJBQVcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLHFCQUFxQixDQUFDLENBQUE7SUFDcEQsQ0FBQztJQUVELHNCQUFPLEdBQVA7SUFFQSxDQUFDO0lBRUQsMEJBQVcsR0FBWDtJQUVBLENBQUM7SUFFRCx5QkFBVSxHQUFWO1FBQ0kscUJBQVcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGtCQUFrQixDQUFDLENBQUE7SUFDakQsQ0FBQztJQUdELHlCQUFVLEdBQVY7UUFDSSxvQkFBSyxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQTtJQUN0QixDQUFDOztJQWpFTSxhQUFRLEdBQVMsSUFBSSxDQUFDO0lBRlosSUFBSTtRQUR4QixPQUFPO09BQ2EsSUFBSSxDQXNFeEI7SUFBRCxXQUFDO0NBdEVELEFBc0VDLENBdEVpQyxFQUFFLENBQUMsU0FBUyxHQXNFN0M7a0JBdEVvQixJQUFJIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFZpZXdNYW5hZ2VyIGZyb20gXCIuLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy91aS9WaWV3TWFuYWdlclwiO1xuXG5cbmltcG9ydCBEZXZpY2UgZnJvbSBcIi4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL2dhbWVzeXMvRGV2aWNlXCI7XG5pbXBvcnQgeyBSIH0gZnJvbSBcIi4vaGV4LWxpbmVzLWdhbWUvUmVzXCI7XG5pbXBvcnQgeyBUb2FzdCB9IGZyb20gXCIuLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy91aS9Ub2FzdE1hbmFnZXJcIjtcblxuY29uc3QgeyBjY2NsYXNzLCBwcm9wZXJ0eSB9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIE1haW4gZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgc3RhdGljIGluc3RhbmNlOiBNYWluID0gbnVsbDtcblxuXG4gICAgb25Mb2FkKCkge1xuICAgICAgICBNYWluLmluc3RhbmNlID0gdGhpcztcblxuICAgICAgICBEZXZpY2UucGxheU11c2ljKFIuYXVkaW9fYmdtKTtcbiAgICB9XG4gICAgaXNOZXh0RGF5KHRpbWVTZWMpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5pc0dyZWF0ZXJEYXRlKG5ldyBEYXRlKCksbmV3IERhdGUodGltZVNlYykpXG4gICAgfTtcbiAgICBpc0dyZWF0ZXJEYXRlKG5vdyxiZWZvcmUpXG4gICAge1xuICAgICAgICB2YXIgZGlmZiA9IG5vdy5nZXRUaW1lKCkgLSBiZWZvcmUuZ2V0VGltZSgpIFxuICAgICAgICBpZihkaWZmID4gODY0MDAwMDApIC8vIDI0KjYwKjYwKjEwMDBcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgaWYgKGRpZmYgPiAwIClcbiAgICAgICAgICAgICAgICByZXR1cm4gbm93LmdldERhdGUoKSAhPSBiZWZvcmUuZ2V0RGF0ZSgpXG4gICAgICAgICAgICBlbHNlIFxuICAgICAgICAgICAgICAgIHJldHVybiBmYWxzZTsgXG4gICAgICAgIH1cbiAgICB9O1xuICBcblxuICAgIHN0YXJ0KCkgeyBcbiAgICAgICAgYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5lbWl0KGNvbnN0cy5DTElFTlRfR0FNRV9TVEFSVCxmdW5jdGlvbigpe1xuICAgICAgICAgICAgYXBwR2FtZS5iYW5uZXIucGxheUJhbm5lcigyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIFxuICAgIH1cblxuICAgIGNsaWNrX3BsYXkoKSB7XG4gICAgICAgIFZpZXdNYW5hZ2VyLmluc3RhbmNlLnNob3coXCJHYW1lL0xldmVsRGlhbG9nXCIpXG4gICAgfVxuXG4gICAgdG9nZ2xlX3NmeCh0KSB7XG4gICAgICAgIERldmljZS5zZXRTb3VuZHNFbmFibGUoIXQuaXNDaGVja2VkKVxuICAgIH1cblxuICAgIGNsaWNrX3NraW4oKSB7XG4gICAgICAgIFZpZXdNYW5hZ2VyLmluc3RhbmNlLnNob3coXCJHYW1lL1Nob3BEaWFsb2dcIilcbiAgICB9XG5cbiAgICBjbGlja19yYW5rKCkge1xuICAgICAgICBWaWV3TWFuYWdlci5pbnN0YW5jZS5zaG93KFwid2VjaGF0L1d4UmFua0RpYWxvZ1wiKVxuICAgIH1cblxuICAgIG9uU2hhcmUoKSB7XG5cbiAgICB9XG5cbiAgICBjbGlja19zaGFyZSgpIHtcbiAgICAgICBcbiAgICB9XG5cbiAgICBjbGlja19sdWNrKCkge1xuICAgICAgICBWaWV3TWFuYWdlci5pbnN0YW5jZS5zaG93KFwiR2FtZS9MdWNreURpYWxvZ1wiKVxuICAgIH1cblxuXG4gICAgY2xpY2tfbW9yZSgpIHtcbiAgICAgICAgVG9hc3QubWFrZShcIuaVrOivt+acn+W+hVwiKVxuICAgIH1cblxuICAgIC8vIHVwZGF0ZSAoZHQpIHt9XG59XG4iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/hex-lines-game/Animal.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ba634us93lPYrBZpOaL4ofo', 'Animal');
// Game/Scripts/hex-lines-game/Animal.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var Animal = /** @class */ (function (_super) {
    __extends(Animal, _super);
    function Animal() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.sprite = null;
        _this.animation = null;
        return _this;
    }
    Animal.prototype.onLoad = function () {
        this.animation = this.getComponentInChildren(cc.Animation);
        this.animation.on("finished", this.onFinish, this);
    };
    Animal.prototype.onFinish = function (s, a) {
        if (a.clip.name == "animal_jump") {
            this.animation.play("animal_idle");
        }
    };
    Animal.prototype.start = function () {
        this.animation.play("animal_idle");
    };
    Animal.prototype.connected = function () {
        var state = this.animation.play("animal_jump");
        state.wrapMode = cc.WrapMode.Normal;
    };
    Animal.prototype._loopJump = function () {
        var state = this.animation.play("animal_jump");
        state.wrapMode = cc.WrapMode.Loop;
    };
    Animal.prototype.loopJump = function (d) {
        this.scheduleOnce(this._loopJump, this.randomFloat(0, d));
    };
    Animal.prototype.randomFloat = function (min, max) {
        return Math.random() * (max - min) + min;
    };
    ;
    __decorate([
        property(cc.Sprite)
    ], Animal.prototype, "sprite", void 0);
    Animal = __decorate([
        ccclass
    ], Animal);
    return Animal;
}(cc.Component));
exports.default = Animal;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcaGV4LWxpbmVzLWdhbWVcXEFuaW1hbC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBRU0sSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBb0MsMEJBQVk7SUFBaEQ7UUFBQSxxRUE2Q0M7UUExQ0csWUFBTSxHQUFhLElBQUksQ0FBQztRQUd4QixlQUFTLEdBQWdCLElBQUksQ0FBQzs7SUF1Q2xDLENBQUM7SUFyQ0csdUJBQU0sR0FBTjtRQUNJLElBQUksQ0FBQyxTQUFTLEdBQUcsSUFBSSxDQUFDLHNCQUFzQixDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUMsQ0FBQztRQUMzRCxJQUFJLENBQUMsU0FBUyxDQUFDLEVBQUUsQ0FBQyxVQUFVLEVBQUUsSUFBSSxDQUFDLFFBQVEsRUFBQyxJQUFJLENBQUMsQ0FBQTtJQUNyRCxDQUFDO0lBRUQseUJBQVEsR0FBUixVQUFTLENBQUMsRUFBQyxDQUFtQjtRQUUxQixJQUFHLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxJQUFJLGFBQWEsRUFDL0I7WUFDSSxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQTtTQUNyQztJQUNMLENBQUM7SUFFRCxzQkFBSyxHQUFMO1FBQ0ksSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7SUFDdkMsQ0FBQztJQUVELDBCQUFTLEdBQVQ7UUFDSSxJQUFJLEtBQUssR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztRQUMvQyxLQUFLLENBQUMsUUFBUSxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDO0lBQ3hDLENBQUM7SUFFRCwwQkFBUyxHQUFUO1FBRUksSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUE7UUFDOUMsS0FBSyxDQUFDLFFBQVEsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQztJQUN0QyxDQUFDO0lBRUQseUJBQVEsR0FBUixVQUFTLENBQUM7UUFFTixJQUFJLENBQUMsWUFBWSxDQUFDLElBQUksQ0FBQyxTQUFTLEVBQUUsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxDQUFDLENBQUMsQ0FBQTtJQUM1RCxDQUFDO0lBRUQsNEJBQVcsR0FBWCxVQUFhLEdBQVUsRUFBQyxHQUFVO1FBRTlCLE9BQU8sSUFBSSxDQUFDLE1BQU0sRUFBRSxHQUFHLENBQUMsR0FBRyxHQUFHLEdBQUcsQ0FBQyxHQUFHLEdBQUcsQ0FBQztJQUM3QyxDQUFDO0lBQUEsQ0FBQztJQXpDRjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDOzBDQUNJO0lBSFAsTUFBTTtRQUQxQixPQUFPO09BQ2EsTUFBTSxDQTZDMUI7SUFBRCxhQUFDO0NBN0NELEFBNkNDLENBN0NtQyxFQUFFLENBQUMsU0FBUyxHQTZDL0M7a0JBN0NvQixNQUFNIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUiB9IGZyb20gXCIuL1Jlc1wiO1xuaW1wb3J0IEcgZnJvbVwiLi4vZyAtIDAwMVwiO1xuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBBbmltYWwgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcbiAgICBzcHJpdGU6Y2MuU3ByaXRlID0gbnVsbDtcblxuXG4gICAgYW5pbWF0aW9uOmNjLkFuaW1hdGlvbiA9IG51bGw7XG4gICAgXG4gICAgb25Mb2FkICgpIHtcbiAgICAgICAgdGhpcy5hbmltYXRpb24gPSB0aGlzLmdldENvbXBvbmVudEluQ2hpbGRyZW4oY2MuQW5pbWF0aW9uKTtcbiAgICAgICAgdGhpcy5hbmltYXRpb24ub24oXCJmaW5pc2hlZFwiLCB0aGlzLm9uRmluaXNoLHRoaXMpXG4gICAgfVxuXG4gICAgb25GaW5pc2gocyxhOmNjLkFuaW1hdGlvblN0YXRlKVxuICAgIHtcbiAgICAgICAgaWYoYS5jbGlwLm5hbWUgPT0gXCJhbmltYWxfanVtcFwiKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmFuaW1hdGlvbi5wbGF5KFwiYW5pbWFsX2lkbGVcIilcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHN0YXJ0ICgpIHtcbiAgICAgICAgdGhpcy5hbmltYXRpb24ucGxheShcImFuaW1hbF9pZGxlXCIpO1xuICAgIH1cblxuICAgIGNvbm5lY3RlZCgpIHtcbiAgICAgICAgbGV0IHN0YXRlID0gdGhpcy5hbmltYXRpb24ucGxheShcImFuaW1hbF9qdW1wXCIpO1xuICAgICAgICBzdGF0ZS53cmFwTW9kZSA9IGNjLldyYXBNb2RlLk5vcm1hbDtcbiAgICB9XG5cbiAgICBfbG9vcEp1bXAoKVxuICAgIHtcbiAgICAgICAgbGV0IHN0YXRlID0gdGhpcy5hbmltYXRpb24ucGxheShcImFuaW1hbF9qdW1wXCIpXG4gICAgICAgIHN0YXRlLndyYXBNb2RlID0gY2MuV3JhcE1vZGUuTG9vcDtcbiAgICB9XG5cbiAgICBsb29wSnVtcChkKVxuICAgIHtcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UodGhpcy5fbG9vcEp1bXAsIHRoaXMucmFuZG9tRmxvYXQoMCxkKSlcbiAgICB9XG5cbiAgICByYW5kb21GbG9hdCAobWluOm51bWJlcixtYXg6bnVtYmVyKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIE1hdGgucmFuZG9tKCkgKiAobWF4IC0gbWluKSArIG1pbjtcbiAgICB9O1xufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/DCParticleSystem.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'f51daFLsqdJ/4k4IuDQeRuR', 'DCParticleSystem');
// Game/Scripts/ui/DCParticleSystem.ts

Object.defineProperty(exports, "__esModule", { value: true });
var DCUI_1 = require("../../../framework/plugin_boosts/ui/DCUI");
var Info_1 = require("../Info");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var DCParticleSystem = /** @class */ (function (_super) {
    __extends(DCParticleSystem, _super);
    function DCParticleSystem() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DCParticleSystem.prototype.onLoad = function () {
    };
    DCParticleSystem.prototype.start = function () { };
    DCParticleSystem.prototype.onValueChanged = function (v) {
        var _this = this;
        var data = Info_1.UserInfo.getSkinById(v);
        // data.ps
        if (this.ps && this.ps.node)
            this.ps.node.destroy();
        cc.loader.loadRes("Game/Particles/" + data.ps, cc.ParticleAsset, function (err, ps) {
            console.log(data.ps, ps);
            var particleNode = new cc.Node();
            _this.ps = particleNode.addComponent(cc.ParticleSystem);
            _this.ps.file = ps;
            _this.node.addChild(particleNode);
        });
        // this.ps.file = cc.url.raw("resources/Game/Particles/" + data.ps+".plist");
        // cc.loader.loadRes("Game/Particles/"+data.ps,cc.ParticleAsset,(err,ps)=>{
        //     console.log(data.ps,ps);
        //     this.ps.file = ps;
        // })
    };
    DCParticleSystem = __decorate([
        ccclass
    ], DCParticleSystem);
    return DCParticleSystem;
}(DCUI_1.default));
exports.default = DCParticleSystem;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXERDUGFydGljbGVTeXN0ZW0udHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGlFQUE0RDtBQUM1RCxnQ0FBbUM7QUFHN0IsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBOEMsb0NBQUk7SUFBbEQ7O0lBNkJBLENBQUM7SUExQkcsaUNBQU0sR0FBTjtJQUdBLENBQUM7SUFFRCxnQ0FBSyxHQUFMLGNBQVUsQ0FBQztJQUVYLHlDQUFjLEdBQWQsVUFBZSxDQUFDO1FBQWhCLGlCQWtCQztRQWhCRyxJQUFJLElBQUksR0FBRyxlQUFRLENBQUMsV0FBVyxDQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ25DLFVBQVU7UUFDVixJQUFHLElBQUksQ0FBQyxFQUFFLElBQUksSUFBSSxDQUFDLEVBQUUsQ0FBQyxJQUFJO1lBQ3RCLElBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFDO1FBQzNCLEVBQUUsQ0FBQyxNQUFNLENBQUMsT0FBTyxDQUFDLGlCQUFpQixHQUFDLElBQUksQ0FBQyxFQUFFLEVBQUMsRUFBRSxDQUFDLGFBQWEsRUFBQyxVQUFDLEdBQUcsRUFBQyxFQUFFO1lBQ2hFLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLEVBQUUsRUFBQyxFQUFFLENBQUMsQ0FBQztZQUN4QixJQUFJLFlBQVksR0FBRyxJQUFJLEVBQUUsQ0FBQyxJQUFJLEVBQUUsQ0FBQztZQUNqQyxLQUFJLENBQUMsRUFBRSxHQUFHLFlBQVksQ0FBQyxZQUFZLENBQUMsRUFBRSxDQUFDLGNBQWMsQ0FBQyxDQUFDO1lBQ3ZELEtBQUksQ0FBQyxFQUFFLENBQUMsSUFBSSxHQUFHLEVBQUUsQ0FBQztZQUNsQixLQUFJLENBQUMsSUFBSSxDQUFDLFFBQVEsQ0FBQyxZQUFZLENBQUMsQ0FBQztRQUNyQyxDQUFDLENBQUMsQ0FBQTtRQUNGLDZFQUE2RTtRQUM3RSwyRUFBMkU7UUFDM0UsK0JBQStCO1FBQy9CLHlCQUF5QjtRQUN6QixLQUFLO0lBQ1QsQ0FBQztJQTVCZ0IsZ0JBQWdCO1FBRHBDLE9BQU87T0FDYSxnQkFBZ0IsQ0E2QnBDO0lBQUQsdUJBQUM7Q0E3QkQsQUE2QkMsQ0E3QjZDLGNBQUksR0E2QmpEO2tCQTdCb0IsZ0JBQWdCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IERDVUkgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL3VpL0RDVUlcIjtcbmltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4uL0luZm9cIjtcbmltcG9ydCB7IFIgfSBmcm9tIFwiLi4vaGV4LWxpbmVzLWdhbWUvUmVzXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRENQYXJ0aWNsZVN5c3RlbSBleHRlbmRzIERDVUkge1xuXG4gICAgcHM6Y2MuUGFydGljbGVTeXN0ZW07XG4gICAgb25Mb2FkKClcbiAgICB7XG4gICAgICAgIFxuICAgIH1cblxuICAgIHN0YXJ0ICgpIHt9XG5cbiAgICBvblZhbHVlQ2hhbmdlZCh2KVxuICAgIHtcbiAgICAgICAgbGV0IGRhdGEgPSBVc2VySW5mby5nZXRTa2luQnlJZCh2KTtcbiAgICAgICAgLy8gZGF0YS5wc1xuICAgICAgICBpZih0aGlzLnBzICYmIHRoaXMucHMubm9kZSlcbiAgICAgICAgICAgIHRoaXMucHMubm9kZS5kZXN0cm95KCk7XG4gICAgICAgIGNjLmxvYWRlci5sb2FkUmVzKFwiR2FtZS9QYXJ0aWNsZXMvXCIrZGF0YS5wcyxjYy5QYXJ0aWNsZUFzc2V0LChlcnIscHMpPT57XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkYXRhLnBzLHBzKTtcbiAgICAgICAgICAgIGxldCBwYXJ0aWNsZU5vZGUgPSBuZXcgY2MuTm9kZSgpO1xuICAgICAgICAgICAgdGhpcy5wcyA9IHBhcnRpY2xlTm9kZS5hZGRDb21wb25lbnQoY2MuUGFydGljbGVTeXN0ZW0pO1xuICAgICAgICAgICAgdGhpcy5wcy5maWxlID0gcHM7XG4gICAgICAgICAgICB0aGlzLm5vZGUuYWRkQ2hpbGQocGFydGljbGVOb2RlKTtcbiAgICAgICAgfSlcbiAgICAgICAgLy8gdGhpcy5wcy5maWxlID0gY2MudXJsLnJhdyhcInJlc291cmNlcy9HYW1lL1BhcnRpY2xlcy9cIiArIGRhdGEucHMrXCIucGxpc3RcIik7XG4gICAgICAgIC8vIGNjLmxvYWRlci5sb2FkUmVzKFwiR2FtZS9QYXJ0aWNsZXMvXCIrZGF0YS5wcyxjYy5QYXJ0aWNsZUFzc2V0LChlcnIscHMpPT57XG4gICAgICAgIC8vICAgICBjb25zb2xlLmxvZyhkYXRhLnBzLHBzKTtcbiAgICAgICAgLy8gICAgIHRoaXMucHMuZmlsZSA9IHBzO1xuICAgICAgICAvLyB9KVxuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/hex-lines-game/Consts.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'ccf28Nj1JdBbY/NtYiwJtcW', 'Consts');
// Game/Scripts/hex-lines-game/Consts.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Consts = /** @class */ (function () {
    function Consts() {
    }
    Consts.CenterY = 0;
    Consts.CenterX = 0;
    Consts.ColSize = 84;
    Consts.RowSize = 61;
    Consts.StagePageCount = 3;
    Consts.FreeSkinId = 5;
    return Consts;
}());
exports.default = Consts;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcaGV4LWxpbmVzLWdhbWVcXENvbnN0cy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUE7SUFBQTtJQVFBLENBQUM7SUFOVSxjQUFPLEdBQUcsQ0FBQyxDQUFDO0lBQ1osY0FBTyxHQUFHLENBQUMsQ0FBQztJQUNaLGNBQU8sR0FBRyxFQUFFLENBQUM7SUFDYixjQUFPLEdBQUcsRUFBRSxDQUFDO0lBQ2IscUJBQWMsR0FBRyxDQUFDLENBQUM7SUFDbkIsaUJBQVUsR0FBRyxDQUFDLENBQUM7SUFDMUIsYUFBQztDQVJELEFBUUMsSUFBQTtrQkFSb0IsTUFBTSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENvbnN0c1xue1xuICAgIHN0YXRpYyBDZW50ZXJZID0gMDtcbiAgICBzdGF0aWMgQ2VudGVyWCA9IDA7XG4gICAgc3RhdGljIENvbFNpemUgPSA4NDtcbiAgICBzdGF0aWMgUm93U2l6ZSA9IDYxO1xuICAgIHN0YXRpYyBTdGFnZVBhZ2VDb3VudCA9IDM7XG4gICAgc3RhdGljIEZyZWVTa2luSWQgPSA1O1xufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/GetDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '714f07aCe9N55KDdTLTUVv8', 'GetDialog');
// Game/Scripts/ui/GetDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var View_1 = require("../../../framework/plugin_boosts/ui/View");
var Info_1 = require("../Info");
var ViewManager_1 = require("../../../framework/plugin_boosts/ui/ViewManager");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var GetDialog = /** @class */ (function (_super) {
    __extends(GetDialog, _super);
    function GetDialog() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.diamondLabel = null;
        _this.count = 0;
        _this.node_close = null;
        return _this;
    }
    GetDialog.prototype.onLoad = function () { };
    GetDialog.prototype.start = function () { };
    GetDialog.prototype.share_suc = function () {
        Info_1.UserInfo.addDiamond(this.count * 2);
        Info_1.UserInfo.save();
        // Device.playEffect(R.audio_get_diamond)
        this.getComponent(View_1.default).hide();
        ViewManager_1.default.instance.show("Game/LuckyDialog");
    };
    GetDialog.prototype.click_double = function () {
        //share 
        //if share suc 
        // this.share_suc()
        var choice = Info_1.UserInfo.getChoice(Info_1.ChoiceType.Get);
        if (choice == 1) {
        }
        else if (choice == 0) {
            this.share_suc();
        }
        else {
            //video\
        }
    };
    GetDialog.prototype.onShown = function (count) {
        this.count = count;
        // SpriteFrameCache.instance.getSpriteFrame("Game/textures/car/" + cfg.img).then(sf=>this.icon.spriteFrame= sf);
        this.diamondLabel.string = "+" + count;
        this.node_close.active = false;
        this.unschedule(this.delayShow);
        this.scheduleOnce(this.delayShow, 2);
    };
    GetDialog.prototype.delayShow = function () {
        this.node_close.active = true;
    };
    GetDialog.prototype.click_no = function () {
        this.getComponent(View_1.default).hide();
        Info_1.UserInfo.addDiamond(this.count);
        Info_1.UserInfo.save();
        // Device.playEffect(R.audio_get_diamond)
        ViewManager_1.default.instance.show("Game/LuckyDialog");
    };
    __decorate([
        property(cc.Label)
    ], GetDialog.prototype, "diamondLabel", void 0);
    __decorate([
        property(cc.Node)
    ], GetDialog.prototype, "node_close", void 0);
    GetDialog = __decorate([
        ccclass
    ], GetDialog);
    return GetDialog;
}(cc.Component));
exports.default = GetDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXEdldERpYWxvZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsaUVBQTREO0FBQzVELGdDQUErQztBQUcvQywrRUFBMEU7QUFJcEUsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBdUMsNkJBQVk7SUFBbkQ7UUFBQSxxRUFnRUM7UUExREcsa0JBQVksR0FBWSxJQUFJLENBQUM7UUFFN0IsV0FBSyxHQUFVLENBQUMsQ0FBQztRQUdqQixnQkFBVSxHQUFZLElBQUksQ0FBQzs7SUFxRC9CLENBQUM7SUE5REcsMEJBQU0sR0FBTixjQUFXLENBQUM7SUFDWix5QkFBSyxHQUFMLGNBQVUsQ0FBQztJQVdYLDZCQUFTLEdBQVQ7UUFFSSxlQUFRLENBQUMsVUFBVSxDQUFDLElBQUksQ0FBQyxLQUFLLEdBQUcsQ0FBQyxDQUFFLENBQUE7UUFDcEMsZUFBUSxDQUFDLElBQUksRUFBRSxDQUFDO1FBQ2hCLHlDQUF5QztRQUN6QyxJQUFJLENBQUMsWUFBWSxDQUFDLGNBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFDO1FBQy9CLHFCQUFXLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFBO0lBQ2pELENBQUM7SUFFRCxnQ0FBWSxHQUFaO1FBRUksUUFBUTtRQUNSLGVBQWU7UUFDZixtQkFBbUI7UUFDbkIsSUFBSSxNQUFNLEdBQUcsZUFBUSxDQUFDLFNBQVMsQ0FBQyxpQkFBVSxDQUFDLEdBQUcsQ0FBQyxDQUFBO1FBQy9DLElBQUcsTUFBTSxJQUFJLENBQUMsRUFDZDtTQUVDO2FBQUssSUFBRyxNQUFNLElBQUksQ0FBQyxFQUNwQjtZQUNJLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQTtTQUNuQjthQUFLO1lBQ0YsUUFBUTtTQUVYO0lBQ0wsQ0FBQztJQUVELDJCQUFPLEdBQVAsVUFBUSxLQUFLO1FBRVQsSUFBSSxDQUFDLEtBQUssR0FBRyxLQUFLLENBQUM7UUFDbkIsZ0hBQWdIO1FBQ2hILElBQUksQ0FBQyxZQUFZLENBQUMsTUFBTSxHQUFJLEdBQUcsR0FBRyxLQUFLLENBQUM7UUFDeEMsSUFBSSxDQUFDLFVBQVUsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFBO1FBQzlCLElBQUksQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFNBQVMsQ0FBQyxDQUFBO1FBQy9CLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLFNBQVMsRUFBQyxDQUFDLENBQUMsQ0FBQTtJQUN2QyxDQUFDO0lBRUQsNkJBQVMsR0FBVDtRQUVJLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLElBQUksQ0FBQTtJQUNqQyxDQUFDO0lBRUQsNEJBQVEsR0FBUjtRQUVJLElBQUksQ0FBQyxZQUFZLENBQUMsY0FBSSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDL0IsZUFBUSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFFLENBQUE7UUFDaEMsZUFBUSxDQUFDLElBQUksRUFBRSxDQUFBO1FBQ2YseUNBQXlDO1FBQ3pDLHFCQUFXLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxrQkFBa0IsQ0FBQyxDQUFBO0lBQ2pELENBQUM7SUF6REQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzttREFDVTtJQUs3QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO2lEQUNTO0lBWFYsU0FBUztRQUQ3QixPQUFPO09BQ2EsU0FBUyxDQWdFN0I7SUFBRCxnQkFBQztDQWhFRCxBQWdFQyxDQWhFc0MsRUFBRSxDQUFDLFNBQVMsR0FnRWxEO2tCQWhFb0IsU0FBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBWaWV3IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy91aS9WaWV3XCI7XG5pbXBvcnQgeyBVc2VySW5mbywgQ2hvaWNlVHlwZSB9IGZyb20gXCIuLi9JbmZvXCI7XG5pbXBvcnQgeyBUb2FzdCB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy91aS9Ub2FzdE1hbmFnZXJcIjtcbmltcG9ydCBMdWNreURpYWxvZyBmcm9tIFwiLi9MdWNreURpYWxvZ1wiO1xuaW1wb3J0IFZpZXdNYW5hZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy91aS9WaWV3TWFuYWdlclwiO1xuaW1wb3J0IERldmljZSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvZ2FtZXN5cy9EZXZpY2VcIjtcblxuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEdldERpYWxvZyBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBvbkxvYWQgKCkge31cbiAgICBzdGFydCAoKSB7fVxuXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxuICAgIGRpYW1vbmRMYWJlbDpjYy5MYWJlbCA9IG51bGw7XG5cbiAgICBjb3VudDpudW1iZXIgPSAwO1xuXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXG4gICAgbm9kZV9jbG9zZTpjYy5Ob2RlID0gIG51bGw7XG5cblxuICAgIHNoYXJlX3N1YygpXG4gICAge1xuICAgICAgICBVc2VySW5mby5hZGREaWFtb25kKHRoaXMuY291bnQgKiAyIClcbiAgICAgICAgVXNlckluZm8uc2F2ZSgpO1xuICAgICAgICAvLyBEZXZpY2UucGxheUVmZmVjdChSLmF1ZGlvX2dldF9kaWFtb25kKVxuICAgICAgICB0aGlzLmdldENvbXBvbmVudChWaWV3KS5oaWRlKCk7XG4gICAgICAgIFZpZXdNYW5hZ2VyLmluc3RhbmNlLnNob3coXCJHYW1lL0x1Y2t5RGlhbG9nXCIpXG4gICAgfVxuXG4gICAgY2xpY2tfZG91YmxlKClcbiAgICB7XG4gICAgICAgIC8vc2hhcmUgXG4gICAgICAgIC8vaWYgc2hhcmUgc3VjIFxuICAgICAgICAvLyB0aGlzLnNoYXJlX3N1YygpXG4gICAgICAgIGxldCBjaG9pY2UgPSBVc2VySW5mby5nZXRDaG9pY2UoQ2hvaWNlVHlwZS5HZXQpXG4gICAgICAgIGlmKGNob2ljZSA9PSAxKVxuICAgICAgICB7XG4gICAgICBcbiAgICAgICAgfWVsc2UgaWYoY2hvaWNlID09IDApXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc2hhcmVfc3VjKClcbiAgICAgICAgfWVsc2Uge1xuICAgICAgICAgICAgLy92aWRlb1xcXG4gICAgICAgICBcbiAgICAgICAgfVxuICAgIH1cblxuICAgIG9uU2hvd24oY291bnQpXG4gICAge1xuICAgICAgICB0aGlzLmNvdW50ID0gY291bnQ7XG4gICAgICAgIC8vIFNwcml0ZUZyYW1lQ2FjaGUuaW5zdGFuY2UuZ2V0U3ByaXRlRnJhbWUoXCJHYW1lL3RleHR1cmVzL2Nhci9cIiArIGNmZy5pbWcpLnRoZW4oc2Y9PnRoaXMuaWNvbi5zcHJpdGVGcmFtZT0gc2YpO1xuICAgICAgICB0aGlzLmRpYW1vbmRMYWJlbC5zdHJpbmcgPSAgXCIrXCIgKyBjb3VudDtcbiAgICAgICAgdGhpcy5ub2RlX2Nsb3NlLmFjdGl2ZSA9IGZhbHNlXG4gICAgICAgIHRoaXMudW5zY2hlZHVsZSh0aGlzLmRlbGF5U2hvdylcbiAgICAgICAgdGhpcy5zY2hlZHVsZU9uY2UodGhpcy5kZWxheVNob3csMilcbiAgICB9XG5cbiAgICBkZWxheVNob3coKVxuICAgIHtcbiAgICAgICAgdGhpcy5ub2RlX2Nsb3NlLmFjdGl2ZSA9IHRydWVcbiAgICB9XG5cbiAgICBjbGlja19ubygpXG4gICAge1xuICAgICAgICB0aGlzLmdldENvbXBvbmVudChWaWV3KS5oaWRlKCk7XG4gICAgICAgIFVzZXJJbmZvLmFkZERpYW1vbmQodGhpcy5jb3VudCApXG4gICAgICAgIFVzZXJJbmZvLnNhdmUoKVxuICAgICAgICAvLyBEZXZpY2UucGxheUVmZmVjdChSLmF1ZGlvX2dldF9kaWFtb25kKVxuICAgICAgICBWaWV3TWFuYWdlci5pbnN0YW5jZS5zaG93KFwiR2FtZS9MdWNreURpYWxvZ1wiKVxuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/DailyGetDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'd3b8fModWBPmovqTucbpm5C', 'DailyGetDialog');
// Game/Scripts/ui/DailyGetDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Info_1 = require("../Info");
var View_1 = require("../../../framework/plugin_boosts/ui/View");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var DailyGetDialog = /** @class */ (function (_super) {
    __extends(DailyGetDialog, _super);
    function DailyGetDialog() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.diamond = 0;
        _this.rewardLabel = null;
        return _this;
    }
    DailyGetDialog.prototype.onLoad = function () { };
    DailyGetDialog.prototype.start = function () { };
    DailyGetDialog.prototype.onShown = function () {
        this.diamond = g.randomInt(20, 50);
        this.rewardLabel.string = cc.js.formatStr("钻石 x " + this.diamond);
    };
    DailyGetDialog.prototype.click_get = function () {
        // share or video 
        Info_1.UserInfo.addDiamond(this.diamond);
        Info_1.UserInfo.dailyGetTime = new Date().getTime();
        Info_1.UserInfo.save();
        this.getComponent(View_1.default).hide();
    };
    DailyGetDialog.prototype.share_succ = function () {
        Info_1.UserInfo.addDiamond(this.diamond * 2);
        Info_1.UserInfo.dailyGetTime = new Date().getTime();
        Info_1.UserInfo.save();
        this.getComponent(View_1.default).hide();
    };
    DailyGetDialog.prototype.click_get_double = function () {
        //share orvideo
        var choice = Info_1.UserInfo.getChoice(Info_1.ChoiceType.DailyGet);
        if (choice == 0) {
            this.share_succ();
        }
    };
    __decorate([
        property(cc.Label)
    ], DailyGetDialog.prototype, "rewardLabel", void 0);
    DailyGetDialog = __decorate([
        ccclass
    ], DailyGetDialog);
    return DailyGetDialog;
}(cc.Component));
exports.default = DailyGetDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXERhaWx5R2V0RGlhbG9nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxnQ0FBK0M7QUFDL0MsaUVBQTREO0FBSXRELElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQTRDLGtDQUFZO0lBQXhEO1FBQUEscUVBeUNDO1FBckNHLGFBQU8sR0FBVSxDQUFDLENBQUM7UUFHbkIsaUJBQVcsR0FBWSxJQUFJLENBQUM7O0lBa0NoQyxDQUFDO0lBdkNHLCtCQUFNLEdBQU4sY0FBVyxDQUFDO0lBQ1osOEJBQUssR0FBTCxjQUFVLENBQUM7SUFNWCxnQ0FBTyxHQUFQO1FBRUksSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUMsU0FBUyxDQUFDLEVBQUUsRUFBQyxFQUFFLENBQUMsQ0FBQztRQUNsQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxFQUFFLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFBO0lBQ3JFLENBQUM7SUFFRCxrQ0FBUyxHQUFUO1FBRUksa0JBQWtCO1FBQ2xCLGVBQVEsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLE9BQU8sQ0FBQyxDQUFBO1FBQ2pDLGVBQVEsQ0FBQyxZQUFZLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtRQUM1QyxlQUFRLENBQUMsSUFBSSxFQUFFLENBQUE7UUFDZixJQUFJLENBQUMsWUFBWSxDQUFDLGNBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFBO0lBQ2xDLENBQUM7SUFFRCxtQ0FBVSxHQUFWO1FBRUksZUFBUSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsT0FBTyxHQUFHLENBQUMsQ0FBQyxDQUFDO1FBQ3RDLGVBQVEsQ0FBQyxZQUFZLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsQ0FBQTtRQUM1QyxlQUFRLENBQUMsSUFBSSxFQUFFLENBQUE7UUFDZixJQUFJLENBQUMsWUFBWSxDQUFDLGNBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFBO0lBQ2xDLENBQUM7SUFFRCx5Q0FBZ0IsR0FBaEI7UUFFSSxlQUFlO1FBQ2YsSUFBSSxNQUFNLEdBQUcsZUFBUSxDQUFDLFNBQVMsQ0FBQyxpQkFBVSxDQUFDLFFBQVEsQ0FBQyxDQUFDO1FBQ3JELElBQUksTUFBTSxJQUFJLENBQUMsRUFDZjtZQUNJLElBQUksQ0FBQyxVQUFVLEVBQUUsQ0FBQztTQUNyQjtJQUNMLENBQUM7SUFqQ0Q7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzt1REFDUztJQVBYLGNBQWM7UUFEbEMsT0FBTztPQUNhLGNBQWMsQ0F5Q2xDO0lBQUQscUJBQUM7Q0F6Q0QsQUF5Q0MsQ0F6QzJDLEVBQUUsQ0FBQyxTQUFTLEdBeUN2RDtrQkF6Q29CLGNBQWMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBVc2VySW5mbywgQ2hvaWNlVHlwZSB9IGZyb20gXCIuLi9JbmZvXCI7XG5pbXBvcnQgVmlldyBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvdWkvVmlld1wiO1xuaW1wb3J0IHsgVG9hc3QgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvdWkvVG9hc3RNYW5hZ2VyXCI7XG5cblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBEYWlseUdldERpYWxvZyBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBvbkxvYWQgKCkge31cbiAgICBzdGFydCAoKSB7fVxuICAgIGRpYW1vbmQ6bnVtYmVyID0gMDtcblxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcbiAgICByZXdhcmRMYWJlbDpjYy5MYWJlbCA9IG51bGw7XG5cbiAgICBvblNob3duKClcbiAgICB7XG4gICAgICAgIHRoaXMuZGlhbW9uZCA9IGcucmFuZG9tSW50KDIwLDUwKTtcbiAgICAgICAgdGhpcy5yZXdhcmRMYWJlbC5zdHJpbmcgPSBjYy5qcy5mb3JtYXRTdHIoXCLpkrvnn7MgeCBcIiArIHRoaXMuZGlhbW9uZClcbiAgICB9XG5cbiAgICBjbGlja19nZXQoKVxuICAgIHtcbiAgICAgICAgLy8gc2hhcmUgb3IgdmlkZW8gXG4gICAgICAgIFVzZXJJbmZvLmFkZERpYW1vbmQodGhpcy5kaWFtb25kKVxuICAgICAgICBVc2VySW5mby5kYWlseUdldFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKVxuICAgICAgICBVc2VySW5mby5zYXZlKClcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoVmlldykuaGlkZSgpXG4gICAgfVxuXG4gICAgc2hhcmVfc3VjYygpXG4gICAge1xuICAgICAgICBVc2VySW5mby5hZGREaWFtb25kKHRoaXMuZGlhbW9uZCAqIDIpO1xuICAgICAgICBVc2VySW5mby5kYWlseUdldFRpbWUgPSBuZXcgRGF0ZSgpLmdldFRpbWUoKVxuICAgICAgICBVc2VySW5mby5zYXZlKClcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoVmlldykuaGlkZSgpXG4gICAgfVxuXG4gICAgY2xpY2tfZ2V0X2RvdWJsZSgpXG4gICAge1xuICAgICAgICAvL3NoYXJlIG9ydmlkZW9cbiAgICAgICAgbGV0IGNob2ljZSA9IFVzZXJJbmZvLmdldENob2ljZShDaG9pY2VUeXBlLkRhaWx5R2V0KTtcbiAgICAgICAgaWYgKGNob2ljZSA9PSAwKVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLnNoYXJlX3N1Y2MoKTtcbiAgICAgICAgfVxuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/hex-lines-game/Res.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '81fb28+15NDNaH9M81MKxwU', 'Res');
// Game/Scripts/hex-lines-game/Res.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.R = void 0;
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
exports.R = null;
var Res = /** @class */ (function (_super) {
    __extends(Res, _super);
    function Res() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.levelJson = null;
        _this.TilePrefab = null;
        _this.TileShadow = null;
        _this.Line46 = null;
        _this.Line37 = null;
        _this.Line19 = null;
        _this.audio_bgm = null;
        _this.audio_unlock = null;
        _this.audio_invalid = null;
        _this.audio_draw = null;
        _this.audio_down = null;
        _this.audio_win = null;
        _this.audio_link = null;
        _this.audio_get_diamond = null;
        _this.tileTextures = [];
        _this.animalPrefabs = [];
        _this.skinConfig = null;
        _this.luckyConfig = null;
        _this.colors = [];
        return _this;
    }
    Res.prototype.onLoad = function () {
        exports.R = this;
    };
    Res.prototype.start = function () {
    };
    __decorate([
        property(cc.JsonAsset)
    ], Res.prototype, "levelJson", void 0);
    __decorate([
        property(cc.Prefab)
    ], Res.prototype, "TilePrefab", void 0);
    __decorate([
        property(cc.Prefab)
    ], Res.prototype, "TileShadow", void 0);
    __decorate([
        property(cc.Prefab)
    ], Res.prototype, "Line46", void 0);
    __decorate([
        property(cc.Prefab)
    ], Res.prototype, "Line37", void 0);
    __decorate([
        property(cc.Prefab)
    ], Res.prototype, "Line19", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], Res.prototype, "audio_bgm", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], Res.prototype, "audio_unlock", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], Res.prototype, "audio_invalid", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], Res.prototype, "audio_draw", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], Res.prototype, "audio_down", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], Res.prototype, "audio_win", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], Res.prototype, "audio_link", void 0);
    __decorate([
        property({ type: cc.AudioClip })
    ], Res.prototype, "audio_get_diamond", void 0);
    __decorate([
        property([cc.SpriteFrame])
    ], Res.prototype, "tileTextures", void 0);
    __decorate([
        property([cc.Prefab])
    ], Res.prototype, "animalPrefabs", void 0);
    __decorate([
        property(cc.JsonAsset)
    ], Res.prototype, "skinConfig", void 0);
    __decorate([
        property(cc.JsonAsset)
    ], Res.prototype, "luckyConfig", void 0);
    __decorate([
        property([cc.Color])
    ], Res.prototype, "colors", void 0);
    Res = __decorate([
        ccclass
    ], Res);
    return Res;
}(cc.Component));
exports.default = Res;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcaGV4LWxpbmVzLWdhbWVcXFJlcy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFNLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRS9CLFFBQUEsQ0FBQyxHQUFPLElBQUksQ0FBQztBQUV4QjtJQUFpQyx1QkFBWTtJQUE3QztRQUFBLHFFQW1FQztRQWhFRyxlQUFTLEdBQWdCLElBQUksQ0FBQztRQUc5QixnQkFBVSxHQUFjLElBQUksQ0FBQztRQUc3QixnQkFBVSxHQUFhLElBQUksQ0FBQztRQUc1QixZQUFNLEdBQWEsSUFBSSxDQUFDO1FBR3hCLFlBQU0sR0FBYSxJQUFJLENBQUM7UUFHeEIsWUFBTSxHQUFhLElBQUksQ0FBQztRQUd4QixlQUFTLEdBQWdCLElBQUksQ0FBQztRQUc5QixrQkFBWSxHQUFnQixJQUFJLENBQUM7UUFHakMsbUJBQWEsR0FBZ0IsSUFBSSxDQUFDO1FBR2xDLGdCQUFVLEdBQWdCLElBQUksQ0FBQztRQUcvQixnQkFBVSxHQUFnQixJQUFJLENBQUM7UUFHL0IsZUFBUyxHQUFnQixJQUFJLENBQUM7UUFHOUIsZ0JBQVUsR0FBZ0IsSUFBSSxDQUFDO1FBRy9CLHVCQUFpQixHQUFnQixJQUFJLENBQUM7UUFHdEMsa0JBQVksR0FBb0IsRUFBRSxDQUFBO1FBR2xDLG1CQUFhLEdBQWUsRUFBRSxDQUFBO1FBRzlCLGdCQUFVLEdBQWlCLElBQUksQ0FBQztRQUdoQyxpQkFBVyxHQUFrQixJQUFJLENBQUM7UUFHbEMsWUFBTSxHQUFnQixFQUFFLENBQUE7O0lBVTVCLENBQUM7SUFSRyxvQkFBTSxHQUFOO1FBQ0ksU0FBQyxHQUFHLElBQUksQ0FBQztJQUNiLENBQUM7SUFFRCxtQkFBSyxHQUFMO0lBRUEsQ0FBQztJQTlERDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDOzBDQUNPO0lBRzlCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7MkNBQ1M7SUFHN0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzsyQ0FDUTtJQUc1QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO3VDQUNJO0lBR3hCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7dUNBQ0k7SUFHeEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQzt1Q0FDSTtJQUd4QjtRQURDLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBRSxFQUFFLENBQUMsU0FBUyxFQUFDLENBQUM7MENBQ0Q7SUFHOUI7UUFEQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLFNBQVMsRUFBQyxDQUFDOzZDQUNFO0lBR2pDO1FBREMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxTQUFTLEVBQUMsQ0FBQzs4Q0FDRztJQUdsQztRQURDLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBRSxFQUFFLENBQUMsU0FBUyxFQUFDLENBQUM7MkNBQ0E7SUFHL0I7UUFEQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLFNBQVMsRUFBQyxDQUFDOzJDQUNBO0lBRy9CO1FBREMsUUFBUSxDQUFDLEVBQUMsSUFBSSxFQUFFLEVBQUUsQ0FBQyxTQUFTLEVBQUMsQ0FBQzswQ0FDRDtJQUc5QjtRQURDLFFBQVEsQ0FBQyxFQUFDLElBQUksRUFBRSxFQUFFLENBQUMsU0FBUyxFQUFDLENBQUM7MkNBQ0E7SUFHL0I7UUFEQyxRQUFRLENBQUMsRUFBQyxJQUFJLEVBQUUsRUFBRSxDQUFDLFNBQVMsRUFBQyxDQUFDO2tEQUNPO0lBR3RDO1FBREMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLFdBQVcsQ0FBQyxDQUFDOzZDQUNPO0lBR2xDO1FBREMsUUFBUSxDQUFDLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQyxDQUFDOzhDQUNRO0lBRzlCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxTQUFTLENBQUM7MkNBQ1M7SUFHaEM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLFNBQVMsQ0FBQzs0Q0FDVztJQUdsQztRQURDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQzt1Q0FDRztJQXpEUCxHQUFHO1FBRHZCLE9BQU87T0FDYSxHQUFHLENBbUV2QjtJQUFELFVBQUM7Q0FuRUQsQUFtRUMsQ0FuRWdDLEVBQUUsQ0FBQyxTQUFTLEdBbUU1QztrQkFuRW9CLEdBQUciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuZXhwb3J0IHZhciBSOlJlcyA9IG51bGw7XG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUmVzIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcbiAgICBcbiAgICBAcHJvcGVydHkoY2MuSnNvbkFzc2V0KVxuICAgIGxldmVsSnNvbjpjYy5Kc29uQXNzZXQgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcbiAgICBUaWxlUHJlZmFiOmNjLlByZWZhYiAgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcbiAgICBUaWxlU2hhZG93OmNjLlByZWZhYiA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoY2MuUHJlZmFiKVxuICAgIExpbmU0NjpjYy5QcmVmYWIgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLlByZWZhYilcbiAgICBMaW5lMzc6Y2MuUHJlZmFiID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eShjYy5QcmVmYWIpXG4gICAgTGluZTE5OmNjLlByZWZhYiA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoe3R5cGU6IGNjLkF1ZGlvQ2xpcH0pXG4gICAgYXVkaW9fYmdtOmNjLkF1ZGlvQ2xpcCA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoe3R5cGU6IGNjLkF1ZGlvQ2xpcH0pXG4gICAgYXVkaW9fdW5sb2NrOmNjLkF1ZGlvQ2xpcCA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoe3R5cGU6IGNjLkF1ZGlvQ2xpcH0pXG4gICAgYXVkaW9faW52YWxpZDpjYy5BdWRpb0NsaXAgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KHt0eXBlOiBjYy5BdWRpb0NsaXB9KVxuICAgIGF1ZGlvX2RyYXc6Y2MuQXVkaW9DbGlwID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eSh7dHlwZTogY2MuQXVkaW9DbGlwfSlcbiAgICBhdWRpb19kb3duOmNjLkF1ZGlvQ2xpcCA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoe3R5cGU6IGNjLkF1ZGlvQ2xpcH0pXG4gICAgYXVkaW9fd2luOmNjLkF1ZGlvQ2xpcCA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoe3R5cGU6IGNjLkF1ZGlvQ2xpcH0pXG4gICAgYXVkaW9fbGluazpjYy5BdWRpb0NsaXAgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KHt0eXBlOiBjYy5BdWRpb0NsaXB9KVxuICAgIGF1ZGlvX2dldF9kaWFtb25kOmNjLkF1ZGlvQ2xpcCA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoW2NjLlNwcml0ZUZyYW1lXSlcbiAgICB0aWxlVGV4dHVyZXM6Y2MuU3ByaXRlRnJhbWVbXSA9IFtdXG4gICAgXG4gICAgQHByb3BlcnR5KFtjYy5QcmVmYWJdKVxuICAgIGFuaW1hbFByZWZhYnM6Y2MuUHJlZmFiW10gPSBbXVxuXG4gICAgQHByb3BlcnR5KGNjLkpzb25Bc3NldClcbiAgICBza2luQ29uZmlnOmNjLkpzb25Bc3NldCA9ICBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLkpzb25Bc3NldClcbiAgICBsdWNreUNvbmZpZzogY2MuSnNvbkFzc2V0ID0gIG51bGw7XG5cbiAgICBAcHJvcGVydHkoW2NjLkNvbG9yXSlcbiAgICBjb2xvcnM6IGNjLkNvbG9yIFtdID0gW11cbiAgICBcbiAgICBvbkxvYWQgKCkge1xuICAgICAgICBSID0gdGhpcztcbiAgICB9XG5cbiAgICBzdGFydCAoKSB7XG5cbiAgICB9XG5cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/Info.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '894ddeHxZNOMqD6BW+YheZr', 'Info');
// Game/Scripts/Info.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.UserInfo = exports.ChoiceType = void 0;
var DataCenter_1 = require("../../framework/plugin_boosts/misc/DataCenter");
var Res_1 = require("./hex-lines-game/Res");
var ToastManager_1 = require("../../framework/plugin_boosts/ui/ToastManager");
var Device_1 = require("../../framework/plugin_boosts/gamesys/Device");
var ChoiceType;
(function (ChoiceType) {
    ChoiceType[ChoiceType["DailyGet"] = 0] = "DailyGet";
    ChoiceType[ChoiceType["Levelup"] = 1] = "Levelup";
    ChoiceType[ChoiceType["Get"] = 2] = "Get";
    ChoiceType[ChoiceType["Shop"] = 3] = "Shop";
    ChoiceType[ChoiceType["BannerAdRefresh"] = 4] = "BannerAdRefresh";
    ChoiceType[ChoiceType["HB"] = 5] = "HB";
})(ChoiceType = exports.ChoiceType || (exports.ChoiceType = {}));
var UserInfoClass = /** @class */ (function (_super) {
    __extends(UserInfoClass, _super);
    function UserInfoClass() {
        var _this = _super.call(this) || this;
        _this.choices = [];
        _this.version = "6";
        _this.level = 1;
        _this.selectedSkin = "2";
        _this.dailyGetTime = new Date(2018, 1, 1).getTime();
        _this.freedrawTime = _this.dailyGetTime;
        _this.luckyVideoWatchTime = _this.dailyGetTime;
        _this.shopFreeDiamondTime = _this.dailyGetTime;
        _this.diamond = 0;
        _this.sfx_enabled = true;
        _this.firstTimeReach = false;
        _this.luckyVideoWatchCount = 0;
        _this.timePassed = 0;
        _this.stepUsed = 0;
        _this.currentLevel = 1;
        _this.unlock(_this.selectedSkin);
        setTimeout(function () {
            _this.save();
        }, 60 * 1000);
        return _this;
        // onexit game =>save
    }
    // ret: 0:directly-get 1:share 2:video
    UserInfoClass.prototype.getChoice = function (slotId) {
        return this.choices[slotId] || 0;
    };
    UserInfoClass.prototype.init = function () {
    };
    UserInfoClass.prototype.onGetConfig = function (data) {
        if (data) {
            var record = data[0];
            if (record) {
                this.choices = JSON.parse(record[this.version]);
            }
        }
    };
    UserInfoClass.prototype.addDiamond = function (d, b) {
        if (b === void 0) { b = true; }
        if (typeof (d) == "number")
            this.diamond += d;
        else
            this.diamond += parseInt(d);
        if (b) {
            ToastManager_1.Toast.make("获得钻石 x" + d);
            Device_1.default.playEffect(Res_1.R.audio_get_diamond);
        }
        if (!this.firstTimeReach) {
            if (this.diamond >= 500) {
                ToastManager_1.Toast.make("哇可以买皮肤了，快去皮肤商店看看吧!", 2);
                this.firstTimeReach = true;
                exports.UserInfo.save();
            }
        }
    };
    UserInfoClass.prototype.isUnlock = function (skin_id) {
        var carUnlocked = localStorage.getItem("unlocked_" + skin_id);
        if (!carUnlocked) {
            return false;
        }
        else {
            return carUnlocked == "1";
        }
    };
    UserInfoClass.prototype.isAllUnlocked = function () {
        var c = 0;
        for (var i = 0; i < Res_1.R.skinConfig.json.length; i++) {
            var v = Res_1.R.skinConfig.json[i];
            if (exports.UserInfo.isUnlock(v.id)) {
                c++;
            }
        }
        return c == Res_1.R.skinConfig.json.length;
    };
    UserInfoClass.prototype.getSkinById = function (id) {
        var res = Res_1.R.skinConfig.json.filter(function (v) { return v.id == id; });
        return res[0];
    };
    UserInfoClass.prototype.unlock = function (skin_id) {
        localStorage.setItem("unlocked_" + skin_id, "1");
    };
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "level", void 0);
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "selectedSkin", void 0);
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "dailyGetTime", void 0);
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "freedrawTime", void 0);
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "luckyVideoWatchTime", void 0);
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "shopFreeDiamondTime", void 0);
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "diamond", void 0);
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "sfx_enabled", void 0);
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "firstTimeReach", void 0);
    __decorate([
        DataCenter_1.field()
    ], UserInfoClass.prototype, "luckyVideoWatchCount", void 0);
    UserInfoClass = __decorate([
        DataCenter_1.dc("Info")
    ], UserInfoClass);
    return UserInfoClass;
}(DataCenter_1.default));
exports.default = UserInfoClass;
exports.UserInfo = DataCenter_1.default.register(UserInfoClass);

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcSW5mby50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLDRFQUFzRjtBQUN0Riw0Q0FBeUM7QUFDekMsOEVBQXNFO0FBQ3RFLHVFQUFrRTtBQUlsRSxJQUFZLFVBT1g7QUFQRCxXQUFZLFVBQVU7SUFDbEIsbURBQVEsQ0FBQTtJQUNSLGlEQUFPLENBQUE7SUFDUCx5Q0FBRyxDQUFBO0lBQ0gsMkNBQUksQ0FBQTtJQUNKLGlFQUFlLENBQUE7SUFDZix1Q0FBRSxDQUFBO0FBQ04sQ0FBQyxFQVBXLFVBQVUsR0FBVixrQkFBVSxLQUFWLGtCQUFVLFFBT3JCO0FBR0Q7SUFBMkMsaUNBQVU7SUFpRmpEO1FBQUEsWUFFSSxpQkFBTyxTQU1WO1FBdkZELGFBQU8sR0FBTSxFQUFFLENBQUE7UUFDZixhQUFPLEdBQVUsR0FBRyxDQUFDO1FBeUJyQixXQUFLLEdBQVUsQ0FBQyxDQUFDO1FBR2pCLGtCQUFZLEdBQVUsR0FBRyxDQUFDO1FBRzFCLGtCQUFZLEdBQVcsSUFBSSxJQUFJLENBQUMsSUFBSSxFQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxPQUFPLEVBQUUsQ0FBQztRQUdwRCxrQkFBWSxHQUFVLEtBQUksQ0FBQyxZQUFZLENBQUM7UUFHeEMseUJBQW1CLEdBQVUsS0FBSSxDQUFDLFlBQVksQ0FBQTtRQUc5Qyx5QkFBbUIsR0FBVSxLQUFJLENBQUMsWUFBWSxDQUFDO1FBRy9DLGFBQU8sR0FBVSxDQUFDLENBQUM7UUFHbkIsaUJBQVcsR0FBVyxJQUFJLENBQUM7UUFHM0Isb0JBQWMsR0FBVyxLQUFLLENBQUM7UUFHL0IsMEJBQW9CLEdBQVUsQ0FBQyxDQUFDO1FBQ2hDLGdCQUFVLEdBQVcsQ0FBQyxDQUFDO1FBQ3ZCLGNBQVEsR0FBVSxDQUFDLENBQUM7UUFzQnBCLGtCQUFZLEdBQVUsQ0FBQyxDQUFDO1FBS3BCLEtBQUksQ0FBQyxNQUFNLENBQUMsS0FBSSxDQUFDLFlBQVks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LE9BQU87UUFFVixZQUFZLENBQUMsT0FBTyxDQUFDLFdBQVcsR0FBQyxPQUFPLEVBQUcsR0FBRyxDQUFDLENBQUE7SUFDbkQsQ0FBQztJQW5HRDtRQURDLGtCQUFLLEVBQUU7Z0RBQ1M7SUFHakI7UUFEQyxrQkFBSyxFQUFFO3VEQUNrQjtJQUcxQjtRQURDLGtCQUFLLEVBQUU7dURBQzRDO0lBR3BEO1FBREMsa0JBQUssRUFBRTt1REFDZ0M7SUFHeEM7UUFEQyxrQkFBSyxFQUFFOzhEQUNzQztJQUc5QztRQURDLGtCQUFLLEVBQUU7OERBQ3VDO0lBRy9DO1FBREMsa0JBQUssRUFBRTtrREFDVztJQUduQjtRQURDLGtCQUFLLEVBQUU7c0RBQ21CO0lBRzNCO1FBREMsa0JBQUssRUFBRTt5REFDdUI7SUFHL0I7UUFEQyxrQkFBSyxFQUFFOytEQUN3QjtJQXZEZixhQUFhO1FBRGpDLGVBQUUsQ0FBQyxNQUFNLENBQUM7T0FDVSxhQUFhLENBaUlqQztJQUFELG9CQUFDO0NBaklELEFBaUlDLENBakkwQyxvQkFBVSxHQWlJcEQ7a0JBaklvQixhQUFhO0FBa0l2QixRQUFBLFFBQVEsR0FBaUIsb0JBQVUsQ0FBQyxRQUFRLENBQUMsYUFBYSxDQUFDLENBQUEiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgRGF0YUNlbnRlciwgeyBkYywgZmllbGQgfSBmcm9tIFwiLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvbWlzYy9EYXRhQ2VudGVyXCI7XG5pbXBvcnQgeyBSIH0gZnJvbSBcIi4vaGV4LWxpbmVzLWdhbWUvUmVzXCI7XG5pbXBvcnQgeyBUb2FzdCB9IGZyb20gXCIuLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy91aS9Ub2FzdE1hbmFnZXJcIjtcbmltcG9ydCBEZXZpY2UgZnJvbSBcIi4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL2dhbWVzeXMvRGV2aWNlXCI7XG5cblxuXG5leHBvcnQgZW51bSBDaG9pY2VUeXBlICB7XG4gICAgRGFpbHlHZXQsXG4gICAgTGV2ZWx1cCxcbiAgICBHZXQsXG4gICAgU2hvcCxcbiAgICBCYW5uZXJBZFJlZnJlc2gsXG4gICAgSEIsXG59XG5cbkBkYyhcIkluZm9cIilcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvQ2xhc3MgZXh0ZW5kcyBEYXRhQ2VudGVyXG57XG4gICAgY2hvaWNlczpbXSA9IFtdXG4gICAgdmVyc2lvbjpzdHJpbmcgPSBcIjZcIjtcbiAgICAvLyByZXQ6IDA6ZGlyZWN0bHktZ2V0IDE6c2hhcmUgMjp2aWRlb1xuICAgIGdldENob2ljZShzbG90SWQpXG4gICAge1xuICAgICAgICByZXR1cm4gdGhpcy5jaG9pY2VzW3Nsb3RJZF0gfHwgMDtcbiAgICB9XG5cbiAgICBpbml0KClcbiAgICB7XG5cbiAgICB9XG4gICAgb25HZXRDb25maWcoZGF0YSlcbiAgICB7XG4gICAgICAgIGlmKGRhdGEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCByZWNvcmQgPSBkYXRhWzBdXG4gICAgICAgICAgICBpZihyZWNvcmQpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5jaG9pY2VzID0gSlNPTi5wYXJzZShyZWNvcmRbdGhpcy52ZXJzaW9uXSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgfSBcbiAgICAgXG4gICAgfVxuXG4gICAgQGZpZWxkKClcbiAgICBsZXZlbDpudW1iZXIgPSAxO1xuXG4gICAgQGZpZWxkKClcbiAgICBzZWxlY3RlZFNraW46c3RyaW5nID0gXCIyXCI7XG5cbiAgICBAZmllbGQoKVxuICAgIGRhaWx5R2V0VGltZTpudW1iZXIgPSAgbmV3IERhdGUoMjAxOCwxLDEpLmdldFRpbWUoKTtcblxuICAgIEBmaWVsZCgpXG4gICAgZnJlZWRyYXdUaW1lOm51bWJlciA9IHRoaXMuZGFpbHlHZXRUaW1lO1xuXG4gICAgQGZpZWxkKClcbiAgICBsdWNreVZpZGVvV2F0Y2hUaW1lOm51bWJlciA9IHRoaXMuZGFpbHlHZXRUaW1lXG5cbiAgICBAZmllbGQoKVxuICAgIHNob3BGcmVlRGlhbW9uZFRpbWU6bnVtYmVyID0gdGhpcy5kYWlseUdldFRpbWU7XG5cbiAgICBAZmllbGQoKVxuICAgIGRpYW1vbmQ6bnVtYmVyID0gMDtcblxuICAgIEBmaWVsZCgpXG4gICAgc2Z4X2VuYWJsZWQ6Ym9vbGVhbiA9IHRydWU7XG5cbiAgICBAZmllbGQoKVxuICAgIGZpcnN0VGltZVJlYWNoOmJvb2xlYW4gPSBmYWxzZTtcblxuICAgIEBmaWVsZCgpXG4gICAgbHVja3lWaWRlb1dhdGNoQ291bnQ6bnVtYmVyID0gMDtcbiAgICB0aW1lUGFzc2VkOiBudW1iZXIgPSAwO1xuICAgIHN0ZXBVc2VkOm51bWJlciA9IDA7XG5cbiAgICBhZGREaWFtb25kKGQsYiA9IHRydWUpXG4gICAge1xuICAgICAgICBpZih0eXBlb2YoZCkgPT0gXCJudW1iZXJcIikgdGhpcy5kaWFtb25kICs9IGQ7XG4gICAgICAgIGVsc2UgdGhpcy5kaWFtb25kICs9IHBhcnNlSW50KGQpO1xuICAgICAgICBpZihiKVxuICAgICAgICB7XG4gICAgICAgICAgICBUb2FzdC5tYWtlKFwi6I635b6X6ZK755+zIHhcIiArIGQpXG4gICAgICAgICAgICBEZXZpY2UucGxheUVmZmVjdChSLmF1ZGlvX2dldF9kaWFtb25kKTtcbiAgICAgICAgfVxuICAgICAgICBpZighdGhpcy5maXJzdFRpbWVSZWFjaClcbiAgICAgICAge1xuICAgICAgICAgICAgaWYodGhpcy5kaWFtb25kID49IDUwMClcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBUb2FzdC5tYWtlKFwi5ZOH5Y+v5Lul5Lmw55qu6IKk5LqG77yM5b+r5Y6755qu6IKk5ZWG5bqX55yL55yL5ZCnIVwiLDIpXG4gICAgICAgICAgICAgICAgdGhpcy5maXJzdFRpbWVSZWFjaCA9IHRydWVcbiAgICAgICAgICAgICAgICBVc2VySW5mby5zYXZlKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBjdXJyZW50TGV2ZWw6bnVtYmVyID0gMTtcblxuICAgIGNvbnN0cnVjdG9yKClcbiAgICB7XG4gICAgICAgIHN1cGVyKCk7XG4gICAgICAgIHRoaXMudW5sb2NrKHRoaXMuc2VsZWN0ZWRTa2luKTtcbiAgICAgICAgc2V0VGltZW91dCgoKT0+e1xuICAgICAgICAgICAgdGhpcy5zYXZlKCk7XG4gICAgICAgIH0sIDYwICogMTAwMClcbiAgICAgICAgLy8gb25leGl0IGdhbWUgPT5zYXZlXG4gICAgfVxuXG4gICAgaXNVbmxvY2soc2tpbl9pZClcbiAgICB7XG4gICAgICAgIGxldCBjYXJVbmxvY2tlZCA9ICBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShcInVubG9ja2VkX1wiK3NraW5faWQpO1xuICAgICAgICBpZighY2FyVW5sb2NrZWQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiBmYWxzZVxuICAgICAgICB9ZWxzZVxuICAgICAgICB7XG4gICAgICAgICAgICByZXR1cm4gY2FyVW5sb2NrZWQgPT0gXCIxXCJcbiAgICAgICAgfVxuICAgIH1cblxuICAgIGlzQWxsVW5sb2NrZWQoKVxuICAgIHtcbiAgICAgICAgbGV0IGMgPSAwO1xuICAgICAgICBmb3IodmFyIGkgPSAwIDtpIDxSLnNraW5Db25maWcuanNvbi5sZW5ndGg7aSsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgdiA9IFIuc2tpbkNvbmZpZy5qc29uW2ldXG4gICAgICAgICAgICBpZihVc2VySW5mby5pc1VubG9jayh2LmlkKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBjICsrXG4gICAgICAgICAgICB9XG4gICAgICAgIH0gICBcbiAgICAgICAgcmV0dXJuIGMgPT0gUi5za2luQ29uZmlnLmpzb24ubGVuZ3RoXG4gICAgfVxuXG5cbiAgICBnZXRTa2luQnlJZChpZDogYW55KTogYW55IHtcbiAgICAgICAgbGV0IHJlcyA9IFIuc2tpbkNvbmZpZy5qc29uLmZpbHRlcih2PT57cmV0dXJuIHYuaWQgPT0gaWR9KTtcbiAgICAgICAgcmV0dXJuIHJlc1swXVxuICAgIH1cblxuXG4gICAgdW5sb2NrKHNraW5faWQpXG4gICAge1xuICAgICAgICBsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInVubG9ja2VkX1wiK3NraW5faWQgLCBcIjFcIilcbiAgICB9XG5cbn1cbmV4cG9ydCB2YXIgVXNlckluZm86VXNlckluZm9DbGFzcyA9IERhdGFDZW50ZXIucmVnaXN0ZXIoVXNlckluZm9DbGFzcykiXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/hex-lines-game/HexonTile.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '64d50rBFZhG5qLba7sOg6x9', 'HexonTile');
// Game/Scripts/hex-lines-game/HexonTile.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Consts_1 = require("./Consts");
var Game_1 = require("./Game");
var Res_1 = require("./Res");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var TileType;
(function (TileType) {
    TileType[TileType["Empty"] = 0] = "Empty";
    TileType[TileType["Type1"] = 1] = "Type1";
    TileType[TileType["Type2"] = 2] = "Type2";
    TileType[TileType["Type3"] = 3] = "Type3";
    TileType[TileType["Type4"] = 4] = "Type4";
    TileType[TileType["Type5"] = 5] = "Type5";
    TileType[TileType["Type6"] = 6] = "Type6";
    TileType[TileType["Type7"] = 7] = "Type7";
})(TileType || (TileType = {}));
var HexonTile = /** @class */ (function (_super) {
    __extends(HexonTile, _super);
    function HexonTile() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._col = 0;
        _this._row = 0;
        _this._animal = 0;
        _this.isChangable = true;
        _this._isConnecting = false;
        _this.connectedTile = null;
        _this.reverseConnectedTile = null;
        _this.targetTile = null;
        _this._sprite = null;
        _this._baseSprite = null;
        _this.animalSprite = null;
        _this._tileType = 0;
        return _this;
        // update (dt) {}
    }
    HexonTile.prototype.get_col = function () {
        return this._col;
    };
    HexonTile.prototype.set_col = function (t) {
        return this._col = t,
            t = this._col - (this._row <= Game_1.default.instance._rowCount / 2 ? Game_1.default.instance.get_minCol() + this._row : Game_1.default.instance.get_minCol() - 1 + Game_1.default.instance._rowCount - this._row) / 2 + .5,
            this._baseSprite.node.x = (Consts_1.default.CenterX + t * Consts_1.default.ColSize),
            this._col;
    };
    HexonTile.prototype.get_row = function () {
        return this._row;
    };
    HexonTile.prototype.set_row = function (t) {
        this._row = t;
        this._baseSprite.node.y = (Consts_1.default.CenterY + (this._row - (Game_1.default.instance._rowCount / 2 | 0)) * Consts_1.default.RowSize);
        return this._row;
    };
    HexonTile.prototype.get_borderPosition = function () {
        return this._baseSprite.node.position;
        // return cc.v2(this._baseSprite.node.x._value, this._baseSprite.node.y._value)
    };
    HexonTile.prototype.get_isConnecting = function () {
        return this._isConnecting;
    };
    HexonTile.prototype.set_isConnecting = function (t) {
        return this._isConnecting = t, this.set_tileType(this._tileType), this._isConnecting;
    };
    HexonTile.prototype.get_animal = function () {
        return this._animal;
    };
    HexonTile.prototype.set_animal = function (t) {
        switch (this._animal = t, t) {
            case 1:
                this.set_tileType(TileType.Type1);
                break;
            case 2:
                this.set_tileType(TileType.Type2);
                break;
            case 3:
                this.set_tileType(TileType.Type3);
                break;
            case 4:
                this.set_tileType(TileType.Type4);
                break;
            case 5:
                this.set_tileType(TileType.Type5);
                break;
            case 6:
                this.set_tileType(TileType.Type6);
                break;
            case 7:
                this.set_tileType(TileType.Type7);
                break;
            default:
                this.set_tileType(TileType.Empty);
        }
        return this._animal;
    };
    HexonTile.prototype.getTileTexture = function (t, e, n) {
        if (t == 0) {
            return Res_1.R.tileTextures[0];
        }
        else {
            // return e ? R.tileTextures[t] : 1 == n ? R.tileTextures[14 + t] : R.tileTextures[7 + t]
            var idx = 0;
            if (e) {
                idx = t;
            }
            else {
                if (n) {
                    idx = 14 + t;
                }
                else {
                    idx = 7 + t;
                }
            }
            return Res_1.R.tileTextures[idx];
        }
    };
    HexonTile.prototype.set_tileType = function (t) {
        this._tileType = t;
        // if (null == this._baseSprite )
        // {
        //     // this._baseSprite = new Y
        //     // this._baseSprite.setAnchor(42, 42)
        //     // this.owner.add(this._baseSprite)
        // }
        // if (null == this._sprite )
        // {
        //     // this._sprite = new J(jn.Instance.getTileTexture(this.get_animal(), !1, !1))
        //     // this.owner.addChild((new g).add(this._sprite))
        // } 
        if (this.isChangable && this.get_isConnecting()) {
            this._baseSprite.spriteFrame = this.getTileTexture(this.get_animal(), true, false);
        }
        else {
            var tailTile = this.getTail();
            var sp = void 0;
            if (!this.isChangable && null != this.reverseConnectedTile) {
                sp = this.getTileTexture(this.get_animal(), false, true);
            }
            else {
                if (null == tailTile || tailTile.isChangable) {
                    sp = this.getTileTexture(this.get_animal(), false, false);
                }
                else {
                    sp = this.getTileTexture(this.get_animal(), false, true);
                }
            }
            this._baseSprite.spriteFrame = sp;
        }
        return this._tileType;
    };
    HexonTile.prototype.onAdded = function () {
        this.set_tileType(TileType.Empty);
    };
    HexonTile.prototype.connect = function (t) {
        null == t ? null != this.connectedTile && (1 == this.connectedTile.isChangable && this.connectedTile.set_animal(0), this.connectedTile.connect(null), this.connectedTile = this.connectedTile.reverseConnectedTile = null) : (this.connectedTile = t, t.set_animal(this.get_animal()), t.reverseConnectedTile = this);
    };
    HexonTile.prototype.getTail = function () {
        for (var t = this.connectedTile, e = null; null != t;)
            e = t, t = t.connectedTile;
        return e;
    };
    HexonTile.prototype.getHead = function () {
        for (var t = this.reverseConnectedTile, e = null; null != t;)
            e = t, t = t.reverseConnectedTile;
        return e;
    };
    HexonTile.prototype.equals = function (t) {
        return null == t ? !1 : this.get_row() == t.get_row() && this.get_col() == t.get_col();
    };
    HexonTile.prototype.start = function () {
    };
    __decorate([
        property({ type: cc.Sprite, visible: true, displayName: "Animal Sprite" })
    ], HexonTile.prototype, "_sprite", void 0);
    __decorate([
        property({ type: cc.Sprite, visible: true, displayName: "Base Sprite" })
    ], HexonTile.prototype, "_baseSprite", void 0);
    HexonTile = __decorate([
        ccclass
    ], HexonTile);
    return HexonTile;
}(cc.Component));
exports.default = HexonTile;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcaGV4LWxpbmVzLWdhbWVcXEhleG9uVGlsZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsbUNBQThCO0FBQzlCLCtCQUE4QjtBQUM5Qiw2QkFBMEI7QUFFcEIsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFFMUMsSUFBSyxRQVVKO0FBVkQsV0FBSyxRQUFRO0lBRVQseUNBQUssQ0FBQTtJQUNMLHlDQUFLLENBQUE7SUFDTCx5Q0FBSyxDQUFBO0lBQ0wseUNBQUssQ0FBQTtJQUNMLHlDQUFLLENBQUE7SUFDTCx5Q0FBSyxDQUFBO0lBQ0wseUNBQUssQ0FBQTtJQUNMLHlDQUFLLENBQUE7QUFDVCxDQUFDLEVBVkksUUFBUSxLQUFSLFFBQVEsUUFVWjtBQUlEO0lBQXVDLDZCQUFZO0lBQW5EO1FBQUEscUVBa0tDO1FBaktHLFVBQUksR0FBVyxDQUFDLENBQUM7UUFDakIsVUFBSSxHQUFVLENBQUMsQ0FBQztRQUNoQixhQUFPLEdBQVUsQ0FBQyxDQUFDO1FBQ25CLGlCQUFXLEdBQUcsSUFBSSxDQUFDO1FBQ25CLG1CQUFhLEdBQUcsS0FBSyxDQUFDO1FBRXRCLG1CQUFhLEdBQUcsSUFBSSxDQUFDO1FBQ3JCLDBCQUFvQixHQUFHLElBQUksQ0FBQztRQUM1QixnQkFBVSxHQUFHLElBQUksQ0FBQztRQUdsQixhQUFPLEdBQWEsSUFBSSxDQUFDO1FBR3pCLGlCQUFXLEdBQUcsSUFBSSxDQUFDO1FBRW5CLGtCQUFZLEdBQUcsSUFBSSxDQUFDO1FBR3BCLGVBQVMsR0FBRyxDQUFDLENBQUM7O1FBNklkLGlCQUFpQjtJQUNyQixDQUFDO0lBNUlHLDJCQUFPLEdBQVA7UUFDSSxPQUFPLElBQUksQ0FBQyxJQUFJLENBQUE7SUFDcEIsQ0FBQztJQUNELDJCQUFPLEdBQVAsVUFBUSxDQUFDO1FBQ0wsT0FBTyxJQUFJLENB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QUFDLE9BQU8sRUFBQyxJQUFJLEVBQUMsV0FBVyxFQUFDLGFBQWEsRUFBQyxDQUFDO2tEQUMvQztJQWZGLFNBQVM7UUFEN0IsT0FBTztPQUNhLFNBQVMsQ0FrSzdCO0lBQUQsZ0JBQUM7Q0FsS0QsQUFrS0MsQ0FsS3NDLEVBQUUsQ0FBQyxTQUFTLEdBa0tsRDtrQkFsS29CLFNBQVMiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgQ29uc3RzIGZyb20gXCIuL0NvbnN0c1wiO1xuaW1wb3J0IExpbmVHYW1lIGZyb20gXCIuL0dhbWVcIjtcbmltcG9ydCB7IFIgfSBmcm9tIFwiLi9SZXNcIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbmVudW0gVGlsZVR5cGVcbntcbiAgICBFbXB0eSxcbiAgICBUeXBlMSxcbiAgICBUeXBlMixcbiAgICBUeXBlMyxcbiAgICBUeXBlNCxcbiAgICBUeXBlNSxcbiAgICBUeXBlNixcbiAgICBUeXBlN1xufVxuXG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBIZXhvblRpbGUgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuICAgIF9jb2w6IG51bWJlciA9IDA7XG4gICAgX3JvdzpudW1iZXIgPSAwO1xuICAgIF9hbmltYWw6bnVtYmVyID0gMDtcbiAgICBpc0NoYW5nYWJsZSA9IHRydWU7XG4gICAgX2lzQ29ubmVjdGluZyA9IGZhbHNlO1xuICAgIFxuICAgIGNvbm5lY3RlZFRpbGUgPSBudWxsO1xuICAgIHJldmVyc2VDb25uZWN0ZWRUaWxlID0gbnVsbDtcbiAgICB0YXJnZXRUaWxlID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eSh7dHlwZTpjYy5TcHJpdGUsdmlzaWJsZTp0cnVlLGRpc3BsYXlOYW1lOlwiQW5pbWFsIFNwcml0ZVwifSlcbiAgICBfc3ByaXRlOmNjLlNwcml0ZSA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoe3R5cGU6Y2MuU3ByaXRlLHZpc2libGU6dHJ1ZSxkaXNwbGF5TmFtZTpcIkJhc2UgU3ByaXRlXCJ9KVxuICAgIF9iYXNlU3ByaXRlID0gbnVsbDtcblxuICAgIGFuaW1hbFNwcml0ZSA9IG51bGw7XG5cblxuICAgIF90aWxlVHlwZSA9IDA7XG5cbiAgICBnZXRfY29sKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29sXG4gICAgfVxuICAgIHNldF9jb2wodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5fY29sID0gdCxcbiAgICAgICAgICAgIHQgPSB0aGlzLl9jb2wgLSAodGhpcy5fcm93IDw9IExpbmVHYW1lLmluc3RhbmNlLl9yb3dDb3VudCAvIDIgPyBMaW5lR2FtZS5pbnN0YW5jZS5nZXRfbWluQ29sKCkgKyB0aGlzLl9yb3c6IExpbmVHYW1lLmluc3RhbmNlLmdldF9taW5Db2woKSAtIDEgKyBMaW5lR2FtZS5pbnN0YW5jZS5fcm93Q291bnQgLSB0aGlzLl9yb3cpIC8gMiArIC41LFxuICAgICAgICAgICAgdGhpcy5fYmFzZVNwcml0ZS5ub2RlLnggPSAoQ29uc3RzLkNlbnRlclggKyB0ICogQ29uc3RzLkNvbFNpemUpLFxuICAgICAgICAgICAgdGhpcy5fY29sXG4gICAgfVxuICAgIGdldF9yb3coKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9yb3dcbiAgICB9XG4gICAgc2V0X3Jvdyh0KSB7XG4gICAgICAgIHRoaXMuX3JvdyA9IHRcbiAgICAgICAgdGhpcy5fYmFzZVNwcml0ZS5ub2RlLnkgPSAoQ29uc3RzLkNlbnRlclkgKyAodGhpcy5fcm93IC0gKExpbmVHYW1lLmluc3RhbmNlLl9yb3dDb3VudCAvIDIgfCAwKSkgKiBDb25zdHMuUm93U2l6ZSlcbiAgICAgICAgcmV0dXJuIHRoaXMuX3Jvd1xuICAgIH1cbiAgICBnZXRfYm9yZGVyUG9zaXRpb24oKSB7XG4gICAgICAgIHJldHVybiB0aGlzLl9iYXNlU3ByaXRlLm5vZGUucG9zaXRpb25cbiAgICAgICAgLy8gcmV0dXJuIGNjLnYyKHRoaXMuX2Jhc2VTcHJpdGUubm9kZS54Ll92YWx1ZSwgdGhpcy5fYmFzZVNwcml0ZS5ub2RlLnkuX3ZhbHVlKVxuICAgIH1cbiAgICBnZXRfaXNDb25uZWN0aW5nKCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNDb25uZWN0aW5nXG4gICAgfVxuICAgIHNldF9pc0Nvbm5lY3RpbmcodCkge1xuICAgICAgICByZXR1cm4gdGhpcy5faXNDb25uZWN0aW5nID0gdCwgdGhpcy5zZXRfdGlsZVR5cGUodGhpcy5fdGlsZVR5cGUpLCB0aGlzLl9pc0Nvbm5lY3RpbmdcbiAgICB9XG4gICAgZ2V0X2FuaW1hbCgpIHtcbiAgICAgICAgcmV0dXJuIHRoaXMuX2FuaW1hbFxuICAgIH1cbiAgICBzZXRfYW5pbWFsKHQpIHtcbiAgICAgICAgc3dpdGNoICh0aGlzLl9hbmltYWwgPSB0LCB0KSB7XG4gICAgICAgICAgICBjYXNlIDE6XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfdGlsZVR5cGUoVGlsZVR5cGUuVHlwZTEpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSAyOlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X3RpbGVUeXBlKFRpbGVUeXBlLlR5cGUyKTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgMzpcbiAgICAgICAgICAgICAgICB0aGlzLnNldF90aWxlVHlwZShUaWxlVHlwZS5UeXBlMyk7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDQ6XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfdGlsZVR5cGUoVGlsZVR5cGUuVHlwZTQpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSA1OlxuICAgICAgICAgICAgICAgIHRoaXMuc2V0X3RpbGVUeXBlKFRpbGVUeXBlLlR5cGU1KTtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgNjpcbiAgICAgICAgICAgICAgICB0aGlzLnNldF90aWxlVHlwZShUaWxlVHlwZS5UeXBlNik7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIDc6XG4gICAgICAgICAgICAgICAgdGhpcy5zZXRfdGlsZVR5cGUoVGlsZVR5cGUuVHlwZTcpO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgZGVmYXVsdDpcbiAgICAgICAgICAgICAgICB0aGlzLnNldF90aWxlVHlwZShUaWxlVHlwZS5FbXB0eSlcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gdGhpcy5fYW5pbWFsXG4gICAgfVxuICAgIFxuICAgIGdldFRpbGVUZXh0dXJlKHQsIGUsIG4pIHtcbiAgICAgICAgaWYodCA9PSAwIClcbiAgICAgICAge1xuICAgICAgICAgICAgcmV0dXJuIFIudGlsZVRleHR1cmVzWzBdXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgLy8gcmV0dXJuIGUgPyBSLnRpbGVUZXh0dXJlc1t0XSA6IDEgPT0gbiA/IFIudGlsZVRleHR1cmVzWzE0ICsgdF0gOiBSLnRpbGVUZXh0dXJlc1s3ICsgdF1cbiAgICAgICAgICAgIGxldCBpZHggPSAwXG4gICAgICAgICAgICBpZihlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGlkeCA9IHRcbiAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgIGlmIChuKXtcbiAgICAgICAgICAgICAgICAgICAgaWR4ID0gMTQgK3QgXG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIGlkeCA9IDcgKyB0O1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBSLnRpbGVUZXh0dXJlc1tpZHhdO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBzZXRfdGlsZVR5cGUodDpudW1iZXIpIHtcbiAgICAgICAgdGhpcy5fdGlsZVR5cGUgPSB0XG4gICAgICAgIC8vIGlmIChudWxsID09IHRoaXMuX2Jhc2VTcHJpdGUgKVxuICAgICAgICAvLyB7XG4gICAgICAgIC8vICAgICAvLyB0aGlzLl9iYXNlU3ByaXRlID0gbmV3IFlcbiAgICAgICAgLy8gICAgIC8vIHRoaXMuX2Jhc2VTcHJpdGUuc2V0QW5jaG9yKDQyLCA0MilcbiAgICAgICAgLy8gICAgIC8vIHRoaXMub3duZXIuYWRkKHRoaXMuX2Jhc2VTcHJpdGUpXG4gICAgICAgIC8vIH1cbiAgICAgICAgLy8gaWYgKG51bGwgPT0gdGhpcy5fc3ByaXRlIClcbiAgICAgICAgLy8ge1xuICAgICAgICAvLyAgICAgLy8gdGhpcy5fc3ByaXRlID0gbmV3IEooam4uSW5zdGFuY2UuZ2V0VGlsZVRleHR1cmUodGhpcy5nZXRfYW5pbWFsKCksICExLCAhMSkpXG4gICAgICAgIC8vICAgICAvLyB0aGlzLm93bmVyLmFkZENoaWxkKChuZXcgZykuYWRkKHRoaXMuX3Nwcml0ZSkpXG4gICAgICAgIC8vIH0gXG4gICAgICAgIGlmICh0aGlzLmlzQ2hhbmdhYmxlICYmIHRoaXMuZ2V0X2lzQ29ubmVjdGluZygpICkgXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuX2Jhc2VTcHJpdGUuc3ByaXRlRnJhbWUgPSB0aGlzLmdldFRpbGVUZXh0dXJlKHRoaXMuZ2V0X2FuaW1hbCgpLHRydWUsIGZhbHNlKSBcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICBsZXQgdGFpbFRpbGUgPSB0aGlzLmdldFRhaWwoKVxuICAgICAgICAgICAgbGV0IHNwIFxuICAgICAgICAgICAgaWYgKCAhdGhpcy5pc0NoYW5nYWJsZSAmJiBudWxsICE9IHRoaXMucmV2ZXJzZUNvbm5lY3RlZFRpbGUgKSBcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzcCA9IHRoaXMuZ2V0VGlsZVRleHR1cmUodGhpcy5nZXRfYW5pbWFsKCksIGZhbHNlLCB0cnVlKVxuICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgaWYoIG51bGwgPT0gdGFpbFRpbGUgfHwgdGFpbFRpbGUuaXNDaGFuZ2FibGUpXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICBzcCA9IHRoaXMuZ2V0VGlsZVRleHR1cmUodGhpcy5nZXRfYW5pbWFsKCksIGZhbHNlLCBmYWxzZSkgXG4gICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgIHNwID0gdGhpcy5nZXRUaWxlVGV4dHVyZSh0aGlzLmdldF9hbmltYWwoKSwgZmFsc2UsIHRydWUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgdGhpcy5fYmFzZVNwcml0ZS5zcHJpdGVGcmFtZSA9IHNwXG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMuX3RpbGVUeXBlO1xuICAgIH1cbiAgICBvbkFkZGVkKCkge1xuICAgICAgICB0aGlzLnNldF90aWxlVHlwZShUaWxlVHlwZS5FbXB0eSlcbiAgICB9XG4gICAgY29ubmVjdCh0KSB7XG4gICAgICAgIG51bGwgPT0gdCA/IG51bGwgIT0gdGhpcy5jb25uZWN0ZWRUaWxlICYmICgxID09IHRoaXMuY29ubmVjdGVkVGlsZS5pc0NoYW5nYWJsZSAmJiB0aGlzLmNvbm5lY3RlZFRpbGUuc2V0X2FuaW1hbCgwKSwgdGhpcy5jb25uZWN0ZWRUaWxlLmNvbm5lY3QobnVsbCksIHRoaXMuY29ubmVjdGVkVGlsZSA9IHRoaXMuY29ubmVjdGVkVGlsZS5yZXZlcnNlQ29ubmVjdGVkVGlsZSA9IG51bGwpIDogKHRoaXMuY29ubmVjdGVkVGlsZSA9IHQsIHQuc2V0X2FuaW1hbCh0aGlzLmdldF9hbmltYWwoKSksIHQucmV2ZXJzZUNvbm5lY3RlZFRpbGUgPSB0aGlzKVxuICAgIH1cbiAgICBnZXRUYWlsKCkge1xuICAgICAgICBmb3IgKHZhciB0ID0gdGhpcy5jb25uZWN0ZWRUaWxlLCBlID0gbnVsbDsgbnVsbCAhPSB0OykgZSA9IHQsIHQgPSB0LmNvbm5lY3RlZFRpbGU7XG4gICAgICAgIHJldHVybiBlXG4gICAgfVxuICAgIGdldEhlYWQoKSB7XG4gICAgICAgIGZvciAodmFyIHQgPSB0aGlzLnJldmVyc2VDb25uZWN0ZWRUaWxlLCBlID0gbnVsbDsgbnVsbCAhPSB0OykgZSA9IHQsIHQgPSB0LnJldmVyc2VDb25uZWN0ZWRUaWxlO1xuICAgICAgICByZXR1cm4gZVxuICAgIH1cbiAgICBlcXVhbHModCkge1xuICAgICAgICByZXR1cm4gbnVsbCA9PSB0ID8gITEgOiB0aGlzLmdldF9yb3coKSA9PSB0LmdldF9yb3coKSAmJiB0aGlzLmdldF9jb2woKSA9PSB0LmdldF9jb2woKVxuICAgIH1cblxuICAgIHN0YXJ0ICgpIHtcblxuICAgIH1cblxuXG5cbiAgICAvLyB1cGRhdGUgKGR0KSB7fVxufVxuIl19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/hex-lines-game/GridManager.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '3b45a0/RCtHwJWRliu8sGTN', 'GridManager');
// Game/Scripts/hex-lines-game/GridManager.ts

Object.defineProperty(exports, "__esModule", { value: true });
var IntMap_1 = require("./ds/IntMap");
var Game_1 = require("./Game");
var Res_1 = require("./Res");
var GridManager = /** @class */ (function (_super) {
    __extends(GridManager, _super);
    function GridManager() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._minCol = null;
        return _this;
    }
    GridManager.prototype.addGrid = function (t, e, n) {
        null == this._gridList && (this._gridList = new IntMap_1.default);
        if (!this._gridList.exists(t))
            this._gridList.set(t, new IntMap_1.default);
        this._gridList.get(t).set(e, n);
    };
    GridManager.prototype.init = function (t) {
        this._minCol = t;
    };
    GridManager.prototype.start = function () {
        var t = Game_1.default.instance._rowCount;
        var e = Game_1.default.instance._tileList;
        this._gridList = new IntMap_1.default;
        for (var n = 0; t > n;) {
            for (var i = n++, s = 0, a = (t / 2 >= i ? this._minCol + i : this._minCol - 1 + t - i) - 1; a > s;) {
                var r = s++;
                var o = e[i][r].get_borderPosition();
                var b = e[i][r + 1].get_borderPosition();
                var c = cc.v2((o.x + b.x) / 2, (o.y + b.y) / 2);
                var line = cc.instantiate(Res_1.R.Line46);
                line.setPosition(c);
                line.active = false;
                line.parent = this.node;
                line.zIndex = 109;
                this.addGrid(i + i, r + r + 1, line);
            }
        }
        for (n = 0, i = t / 2 | 0; i > n;)
            for (s = n++, a = t / 2 >= s ? this._minCol + s : this._minCol - 1 + t - s, r = 0; a > r;) {
                o = r++;
                for (var m_1 = 0; 2 > m_1; m_1++) {
                    var h = e[s][o].get_borderPosition();
                    var u = e[s + 1][o + m_1].get_borderPosition();
                    h = cc.v2((h.x + u.x) / 2, (h.y + u.y) / 2);
                    var line = null;
                    if (m_1 == 0) {
                        line = cc.instantiate(Res_1.R.Line37);
                    }
                    else {
                        line = cc.instantiate(Res_1.R.Line19);
                    }
                    line.setPosition(h);
                    line.active = false;
                    line.parent = this.node;
                    line.zIndex = 109;
                    this.addGrid(s + s + 1, o + o + m_1, line);
                }
            }
        for (n = 0, i = t / 2 | 0; i > n;)
            for (s = n++, s = t - s - 1, a = t / 2 >= s ? this._minCol + s : this._minCol - 1 + t - s, r = 0; a > r;) {
                o = r++;
                for (var m = 0; 2 > m; m++) {
                    h = e[s][o].get_borderPosition();
                    u = e[s - 1][o + m].get_borderPosition();
                    h = cc.v2((h.x + u.x) / 2, (h.y + u.y) / 2);
                    var line = null;
                    if (m == 0) {
                        line = cc.instantiate(Res_1.R.Line19);
                    }
                    else {
                        line = cc.instantiate(Res_1.R.Line37);
                    }
                    line.setPosition(h);
                    line.active = false;
                    line.zIndex = 109;
                    line.parent = this.node;
                    this.addGrid(s + s - 1, o + o + m, line);
                }
            }
    };
    GridManager.prototype.setState = function (r, c, r1, c1, b) {
        if (this._gridList.exists(r + r1)) {
            var t = this._gridList.get(r + r1);
            if (t.exists(c + c1)) {
                var node = t.get(c + c1);
                node.active = b;
            }
        }
    };
    return GridManager;
}(cc.Component));
exports.default = GridManager;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcaGV4LWxpbmVzLWdhbWVcXEdyaWRNYW5hZ2VyLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxzQ0FBaUM7QUFDakMsK0JBQThCO0FBQzlCLDZCQUEwQjtBQUUxQjtJQUF5QywrQkFBWTtJQUFyRDtRQUFBLHFFQW1HQztRQS9GRyxhQUFPLEdBQUcsSUFBSSxDQUFDOztJQStGbkIsQ0FBQztJQTdGRyw2QkFBTyxHQUFQLFVBQVEsQ0FBQyxFQUFFLENBQUMsRUFBRSxDQUFDO1FBQ1gsSUFBSSxJQUFJLElBQUksQ0FBQyxTQUFTLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksZ0JBQU0sQ0FBQyxDQUFBO1FBQ3ZELElBQUcsQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7WUFDeEIsSUFBSSxDQUFDLFNBQVMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFFLElBQUksZ0JBQU0sQ0FBQyxDQUFBO1FBQ3JDLElBQUksQ0FBQyxTQUFTLENBQUMsR0FBRyxDQUFDLENBQUMsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7SUFDbkMsQ0FBQztJQUVELDBCQUFJLEdBQUosVUFBSyxDQUFDO1FBRUYsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUE7SUFDcEIsQ0FBQztJQUVELDJCQUFLLEdBQUw7UUFDSSxJQUFJLENBQUMsR0FBRyxjQUFRLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQTtRQUNuQyxJQUFJLENBQUMsR0FBRyxjQUFRLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQTtRQUNuQyxJQUFJLENBQUMsU0FBUyxHQUFHLElBQUksZ0JBQU0sQ0FBQztRQUM1QixLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsQ0FBQyxHQUNyQjtZQUNJLEtBQUssSUFBSSxDQUFDLEdBQUcsQ0FBQyxF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QUUsQ0FBQyxDQUFBO1lBQ2xDLElBQUksQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLEdBQUcsRUFBRSxDQUFDLEVBQ3BCO2dCQUNJLElBQUksSUFBSSxHQUFHLENBQUMsQ0FBQyxHQUFHLENBQUMsQ0FBQyxHQUFHLEVBQUUsQ0FBQyxDQUFBO2dCQUN4QixJQUFJLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQzthQUNuQjtTQUNKO0lBQ0wsQ0FBQztJQUNMLGtCQUFDO0FBQUQsQ0FuR0EsQUFtR0MsQ0FuR3dDLEVBQUUsQ0FBQyxTQUFTLEdBbUdwRCIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBJbnRNYXAgZnJvbSBcIi4vZHMvSW50TWFwXCI7XG5pbXBvcnQgTGluZUdhbWUgZnJvbSBcIi4vR2FtZVwiO1xuaW1wb3J0IHsgUiB9IGZyb20gXCIuL1Jlc1wiO1xuXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBHcmlkTWFuYWdlciBleHRlbmRzIGNjLkNvbXBvbmVudFxue1xuICAgIF9ncmlkTGlzdDpJbnRNYXBcblxuICAgIF9taW5Db2wgPSBudWxsO1xuXG4gICAgYWRkR3JpZCh0LCBlLCBuKSB7XG4gICAgICAgIG51bGwgPT0gdGhpcy5fZ3JpZExpc3QgJiYgKHRoaXMuX2dyaWRMaXN0ID0gbmV3IEludE1hcClcbiAgICAgICAgaWYoIXRoaXMuX2dyaWRMaXN0LmV4aXN0cyh0KSlcbiAgICAgICAgICAgIHRoaXMuX2dyaWRMaXN0LnNldCh0LCBuZXcgSW50TWFwKVxuICAgICAgICB0aGlzLl9ncmlkTGlzdC5nZXQodCkuc2V0KGUsIG4pXG4gICAgfVxuXG4gICAgaW5pdCh0KVxuICAgIHtcbiAgICAgICAgdGhpcy5fbWluQ29sID0gdFxuICAgIH1cblxuICAgIHN0YXJ0KCkge1xuICAgICAgICB2YXIgdCA9IExpbmVHYW1lLmluc3RhbmNlLl9yb3dDb3VudFxuICAgICAgICB2YXIgZSA9IExpbmVHYW1lLmluc3RhbmNlLl90aWxlTGlzdFxuICAgICAgICB0aGlzLl9ncmlkTGlzdCA9IG5ldyBJbnRNYXA7XG4gICAgICAgIGZvciAodmFyIG4gPSAwOyB0ID4gbjspXG4gICAgICAgIHtcbiAgICAgICAgICAgIGZvciAodmFyIGkgPSBuKyssIHMgPSAwLCBhID0gKHQgLyAyID49IGkgPyB0aGlzLl9taW5Db2wgKyBpIDogdGhpcy5fbWluQ29sIC0gMSArIHQgLSBpKSAtIDE7IGEgPiBzOykge1xuICAgICAgICAgICAgICAgIHZhciByID0gcysrXG4gICAgICAgICAgICAgICAgdmFyIG8gPSBlW2ldW3JdLmdldF9ib3JkZXJQb3NpdGlvbigpXG4gICAgICAgICAgICAgICAgdmFyIGIgPSBlW2ldW3IgKyAxXS5nZXRfYm9yZGVyUG9zaXRpb24oKVxuICAgICAgICAgICAgICAgIHZhciBjID0gY2MudjIoKG8ueCArIGIueCkgLyAyLChvLnkgKyBiLnkpIC8gMilcbiAgICAgICAgICAgICAgICBsZXQgbGluZSA9IGNjLmluc3RhbnRpYXRlKFIuTGluZTQ2KVxuICAgICAgICAgICAgICAgIGxpbmUuc2V0UG9zaXRpb24oYyk7XG4gICAgICAgICAgICAgICAgbGluZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBsaW5lLnBhcmVudCA9IHRoaXMubm9kZTtcbiAgICAgICAgICAgICAgICBsaW5lLnpJbmRleCA9IDEwOVxuICAgICAgICAgICAgICAgIHRoaXMuYWRkR3JpZChpICsgaSwgciArIHIgKyAxLCBsaW5lKVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGZvciAobiA9IDAsIGkgPSB0IC8gMiB8IDA7IGkgPiBuOylcbiAgICAgICAgICAgIGZvciAocyA9IG4rKywgYSA9IHQgLyAyID49IHMgPyB0aGlzLl9taW5Db2wgKyBzIDogdGhpcy5fbWluQ29sIC0gMSArIHQgLSBzLCByID0gMDsgYSA+IHI7KVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIG8gPSByICsrXG4gICAgICAgICAgICAgICAgZm9yIChsZXQgbSA9IDA7IDIgPiBtO20rKykge1xuICAgICAgICAgICAgICAgICAgICB2YXIgaCA9IGVbc11bb10uZ2V0X2JvcmRlclBvc2l0aW9uKClcbiAgICAgICAgICAgICAgICAgICAgdmFyIHUgPSBlW3MgKyAxXVtvICsgbV0uZ2V0X2JvcmRlclBvc2l0aW9uKClcbiAgICAgICAgICAgICAgICAgICAgaCA9IGNjLnYyKChoLnggKyB1LngpIC8gMiwgKGgueSArIHUueSkgLyAyKVxuICAgICAgICAgICAgICAgICAgICBsZXQgbGluZSA9IG51bGw7XG4gICAgICAgICAgICAgICAgICAgIGlmKG0gPT0gMClcbiAgICAgICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lID0gY2MuaW5zdGFudGlhdGUoUi5MaW5lMzcpXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgbGluZSA9IGNjLmluc3RhbnRpYXRlKFIuTGluZTE5KVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGxpbmUuc2V0UG9zaXRpb24oaCk7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUuYWN0aXZlID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgIGxpbmUucGFyZW50ID0gdGhpcy5ub2RlO1xuICAgICAgICAgICAgICAgICAgICBsaW5lLnpJbmRleCA9IDEwOVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmFkZEdyaWQocyArIHMgKyAxLCBvICsgbyArIG0sIGxpbmUpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICBmb3IgKG4gPSAwLCBpID0gdCAvIDIgfCAwOyBpID4gbjspXG4gICAgICAgICAgICBmb3IgKHMgPSBuKyssIHMgPSB0IC0gcyAtIDEsIGEgPSB0IC8gMiA+PSBzID8gdGhpcy5fbWluQ29sICsgcyA6IHRoaXMuX21pbkNvbCAtIDEgKyB0IC0gcywgciA9IDA7IGEgPiByOylcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBvID0gcisrXG4gICAgICAgICAgICAgICAgZm9yICh2YXIgbSAgPSAwOyAyID4gbTttKyspIFxuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgaCA9IGVbc11bb10uZ2V0X2JvcmRlclBvc2l0aW9uKClcbiAgICAgICAgICAgICAgICAgICAgdSA9IGVbcyAtIDFdW28gKyBtXS5nZXRfYm9yZGVyUG9zaXRpb24oKVxuICAgICAgICAgICAgICAgICAgICBoID0gY2MudjIoKGgueCArIHUueCkgLyAyLCAoaC55ICsgdS55KSAvIDIpXG4gICAgICAgICAgICAgICAgICAgIGxldCBsaW5lID0gbnVsbDtcbiAgICAgICAgICAgICAgICAgICAgaWYobSA9PSAwKVxuICAgICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lID0gY2MuaW5zdGFudGlhdGUoUi5MaW5lMTkpXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICBsaW5lID0gY2MuaW5zdGFudGlhdGUoUi5MaW5lMzcpXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgbGluZS5zZXRQb3NpdGlvbihoKTtcbiAgICAgICAgICAgICAgICAgICAgbGluZS5hY3RpdmUgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICAgICAgbGluZS56SW5kZXggPSAxMDlcbiAgICAgICAgICAgICAgICAgICAgbGluZS5wYXJlbnQgPSB0aGlzLm5vZGU7XG5cbiAgICAgICAgICAgICAgICAgICAgdGhpcy5hZGRHcmlkKHMgKyBzIC0gMSwgbyArIG8gKyBtLCBsaW5lKVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBcbiAgICB9XG5cbiAgICBzZXRTdGF0ZShyLCBjLCByMSwgYzEsIGIpIHtcbiAgICAgICAgaWYodGhpcy5fZ3JpZExpc3QuZXhpc3RzKHIgKyByMSkpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGxldCB0ID0gdGhpcy5fZ3JpZExpc3QuZ2V0KHIgKyByMSlcbiAgICAgICAgICAgIGlmICh0LmV4aXN0cyhjICsgYzEpKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGxldCBub2RlID0gdC5nZXQoYyArIGMxKVxuICAgICAgICAgICAgICAgIG5vZGUuYWN0aXZlID0gYjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/PauseDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '83fb9osUoVEppfk8B6mkJYV', 'PauseDialog');
// Game/Scripts/ui/PauseDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var PauseDialog = /** @class */ (function (_super) {
    __extends(PauseDialog, _super);
    function PauseDialog() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    PauseDialog.prototype.onLoad = function () { };
    PauseDialog.prototype.start = function () {
        appGame.banner.playBanner(1);
    };
    PauseDialog.prototype.click_share = function () {
    };
    PauseDialog.prototype.click_home = function () {
        httpUtils.httpPost(consts.HTTP_RECORD_SERVER, { title: '游戏界面', content: '点击返回主界面' }, function () { });
        cc.director.loadScene("Main");
    };
    PauseDialog.prototype.click_restart = function () {
        cc.director.loadScene("Game");
        httpUtils.httpPost(consts.HTTP_RECORD_SERVER, { title: '返回界面', content: '重新开始' }, function () { });
        if (appGame.gameServerRoom.gameConfigData && appGame.gameServerRoom.gameConfigData.PauseDialogRestart) {
            appGame.videoBanner.playVideoAd(4, 0, function () {
            });
        }
    };
    PauseDialog = __decorate([
        ccclass
    ], PauseDialog);
    return PauseDialog;
}(cc.Component));
exports.default = PauseDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXFBhdXNlRGlhbG9nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFTSxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUF5QywrQkFBWTtJQUFyRDs7SUFpQ0EsQ0FBQztJQS9CRyw0QkFBTSxHQUFOLGNBQVcsQ0FBQztJQUNaLDJCQUFLLEdBQUw7UUFFSSxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBR0QsaUNBQVcsR0FBWDtJQUlBLENBQUM7SUFFRCxnQ0FBVSxHQUFWO1FBRUksU0FBUyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsa0JBQWtCLEVBQUMsRUFBQyxLQUFLLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxTQUFTLEVBQUMsRUFBQyxjQUFXLENBQUMsQ0FBQyxDQUFDO1FBQzVGLEVBQUUsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFBO0lBQ2pDLENBQUM7SUFHRCxtQ0FBYSxHQUFiO1FBRUksRUFBRSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUE7UUFDN0IsU0FBUyxDQUFDLFFBQVEsQ0FBQyxNQUFNLENBQUMsa0JBQWtCLEVBQUMsRUFBQyxLQUFLLEVBQUMsTUFBTSxFQUFDLE9BQU8sRUFBQyxNQUFNLEVBQUMsRUFBQyxjQUFXLENBQUMsQ0FBQyxDQUFDO1FBQ3pGLElBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxjQUFjLElBQUcsT0FBTyxDQUFDLGNBQWMsQ0FBQyxjQUFjLENBQUMsa0JBQWtCLEVBQUM7WUFDaEcsT0FBTyxDQUFDLFdBQVcsQ0FBQyxXQUFXLENBQUMsQ0FBQyxFQUFDLENBQUMsRUFBQztZQUVwQyxDQUFDLENBQUMsQ0FBQTtTQUNMO0lBRUwsQ0FBQztJQWhDZ0IsV0FBVztRQUQvQixPQUFPO09BQ2EsV0FBVyxDQWlDL0I7SUFBRCxrQkFBQztDQWpDRCxBQWlDQyxDQWpDd0MsRUFBRSxDQUFDLFNBQVMsR0FpQ3BEO2tCQWpDb0IsV0FBVyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbIlxuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBhdXNlRGlhbG9nIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIG9uTG9hZCAoKSB7fVxuICAgIHN0YXJ0ICgpIHtcblxuICAgICAgICBhcHBHYW1lLmJhbm5lci5wbGF5QmFubmVyKDEpO1xuICAgIH1cblxuXG4gICAgY2xpY2tfc2hhcmUoKVxuICAgIHtcbiAgICBcbiAgICAgICAgXG4gICAgfVxuXG4gICAgY2xpY2tfaG9tZSgpXG4gICAge1xuICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+a4uOaIj+eVjOmdoicsY29udGVudDon54K55Ye76L+U5Zue5Li755WM6Z2iJ30sZnVuY3Rpb24oKXt9KTtcbiAgICAgICAgY2MuZGlyZWN0b3IubG9hZFNjZW5lKFwiTWFpblwiKVxuICAgIH1cblxuXG4gICAgY2xpY2tfcmVzdGFydCgpXG4gICAge1xuICAgICAgICBjYy5kaXJlY3Rvci5sb2FkU2NlbmUoXCJHYW1lXCIpXG4gICAgICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon6L+U5Zue55WM6Z2iJyxjb250ZW50Oifph43mlrDlvIDlp4snfSxmdW5jdGlvbigpe30pO1xuICAgICAgICBpZihhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmdhbWVDb25maWdEYXRhICYmYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5nYW1lQ29uZmlnRGF0YS5QYXVzZURpYWxvZ1Jlc3RhcnQpe1xuICAgICAgICAgICAgYXBwR2FtZS52aWRlb0Jhbm5lci5wbGF5VmlkZW9BZCg0LDAsZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgfSlcbiAgICAgICAgfVxuICAgICAgIFxuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/network/MessageType.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '9f654W7umlMeasjS7fKQj29', 'MessageType');
// framework/network/MessageType.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.SocketTag = void 0;
/**
* name
*/
var SocketTag;
(function (SocketTag) {
    SocketTag[SocketTag["KSOCKET_OPEN"] = 0] = "KSOCKET_OPEN";
    SocketTag[SocketTag["KSOCKET_CLOSE"] = 1] = "KSOCKET_CLOSE";
    SocketTag[SocketTag["KSOCKET_MESSAGE"] = 2] = "KSOCKET_MESSAGE";
    SocketTag[SocketTag["KSOCKET_ERROR"] = 3] = "KSOCKET_ERROR";
})(SocketTag = exports.SocketTag || (exports.SocketTag = {}));

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxuZXR3b3JrXFxNZXNzYWdlVHlwZS50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBOztFQUVFO0FBQ0QsSUFBWSxTQUtYO0FBTEQsV0FBWSxTQUFTO0lBQ3BCLHlEQUFZLENBQUE7SUFDWiwyREFBYSxDQUFBO0lBQ2IsK0RBQWUsQ0FBQTtJQUNmLDJEQUFhLENBQUE7QUFDZCxDQUFDLEVBTFcsU0FBUyxHQUFULGlCQUFTLEtBQVQsaUJBQVMsUUFLcEIiLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyIvKipcbiogbmFtZSBcbiovXG5cdGV4cG9ydCBlbnVtIFNvY2tldFRhZyB7XG5cdFx0S1NPQ0tFVF9PUEVOLFxuXHRcdEtTT0NLRVRfQ0xPU0UsXG5cdFx0S1NPQ0tFVF9NRVNTQUdFLFxuXHRcdEtTT0NLRVRfRVJST1IsXG5cdH1cdCJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/ShopDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '1b7cbT64WtHxpoRfvlVr4EN', 'ShopDialog');
// Game/Scripts/ui/ShopDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var ShopItemTemplate_1 = require("./ShopItemTemplate");
var SpriteFrameCache_1 = require("../../../framework/plugin_boosts/misc/SpriteFrameCache");
var Res_1 = require("../hex-lines-game/Res");
var Info_1 = require("../Info");
var ToastManager_1 = require("../../../framework/plugin_boosts/ui/ToastManager");
var Device_1 = require("../../../framework/plugin_boosts/gamesys/Device");
var Main_1 = require("../Main");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ShopDialog = /** @class */ (function (_super) {
    __extends(ShopDialog, _super);
    function ShopDialog() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.scrollview = null;
        _this.freeDiamondLabel = null;
        _this.freeDiamondBtn = null;
        return _this;
    }
    ShopDialog.prototype.onLoad = function () {
        // this.scrollview
    };
    ShopDialog.prototype.start = function () {
    };
    ShopDialog.prototype.onShown = function () {
        var _this = this;
        // {"id":"1","mini_img":"a1","img":"a2","cost":"100"},
        this.scrollview.showlist(function (node, data, i) {
            // console.log(i,data);
            var item = node.getComponent(ShopItemTemplate_1.default);
            item.data = data;
            item.diamondLabel.string = data.cost;
            var isLocked = !Info_1.UserInfo.isUnlock(data.id);
            item.btnBuyNode.active = isLocked;
            item.maskNode.active = isLocked;
            item.borderNode.color = cc.Color.WHITE;
            item.titleLabel.string = data.text;
            item.selectedFlag.active = Info_1.UserInfo.selectedSkin == data.id;
            item.btnSignal.add(_this.click_unlock, _this);
            SpriteFrameCache_1.default.instance.getSpriteFrame("Game/Textures/ThumbBgs/" + data.mini_img + ".jpg").then(function (sf) { return item.bgmini.spriteFrame = sf; });
        }, Res_1.R.skinConfig.json);
        // this.refreshBtnStatus();
    };
    ShopDialog.prototype.refreshBtnStatus = function () {
        // if (G.isNextDay(UserInfo.shopFreeDiamondTime)) {
        //     this.freeDiamondLabel.string = "免费得50"
        //     UIFunctions.setButtonEnabled(this.freeDiamondBtn, true)
        // } else {
        //     this.freeDiamondLabel.string = "已领取"
        //     UIFunctions.setButtonEnabled(this.freeDiamondBtn, false)
        // }
    };
    ShopDialog.prototype.click_close = function () {
    };
    ShopDialog.prototype.share_succ = function () {
        Info_1.UserInfo.addDiamond(50);
        Info_1.UserInfo.shopFreeDiamondTime = new Date().getTime();
        Info_1.UserInfo.save();
        this.refreshBtnStatus();
    };
    ShopDialog.prototype.click_free = function () {
        var choice = Info_1.UserInfo.getChoice(Info_1.ChoiceType.Shop);
        if (choice == 1) {
        }
        else if (choice == 0) {
            this.share_succ();
        }
        else {
            //video
        }
    };
    ShopDialog.prototype.selectBg = function (data) {
        Info_1.UserInfo.selectedSkin = data.id;
        Info_1.UserInfo.save();
        this.onShown();
    };
    ShopDialog.prototype.click_unlock = function (data) {
        if (Info_1.UserInfo.isUnlock(data.id)) {
            //select 
            this.selectBg(data);
            ToastManager_1.Toast.make("已选择 " + data.text);
            return;
        }
        if (Info_1.UserInfo.diamond >= data.cost) {
            Info_1.UserInfo.diamond -= data.cost;
            Info_1.UserInfo.unlock(data.id);
            this.selectBg(data);
            ToastManager_1.Toast.make(cc.js.formatStr("%s已解锁", data.text));
            Device_1.default.playEffect(Res_1.R.audio_unlock);
            if (Main_1.default.instance)
                Main_1.default.instance.refreshRedpoints();
        }
        else {
            ToastManager_1.Toast.make("钻石不足");
            Device_1.default.playEffect(Res_1.R.audio_invalid);
        }
    };
    __decorate([
        property(cc.ScrollView)
    ], ShopDialog.prototype, "scrollview", void 0);
    __decorate([
        property(cc.Label)
    ], ShopDialog.prototype, "freeDiamondLabel", void 0);
    __decorate([
        property(cc.Button)
    ], ShopDialog.prototype, "freeDiamondBtn", void 0);
    ShopDialog = __decorate([
        ccclass
    ], ShopDialog);
    return ShopDialog;
}(cc.Component));
exports.default = ShopDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXFNob3BEaWFsb2cudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHVEQUFrRDtBQUNsRCwyRkFBc0Y7QUFDdEYsNkNBQTBDO0FBRTFDLGdDQUErQztBQUMvQyxpRkFBeUU7QUFFekUsMEVBQXFFO0FBQ3JFLGdDQUEyQjtBQUlyQixJQUFBLEtBQXdCLEVBQUUsQ0FBQyxVQUFVLEVBQW5DLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBa0IsQ0FBQztBQUc1QztJQUF3Qyw4QkFBWTtJQUFwRDtRQUFBLHFFQW1HQztRQWhHRyxnQkFBVSxHQUFrQixJQUFJLENBQUM7UUFHakMsc0JBQWdCLEdBQWEsSUFBSSxDQUFDO1FBR2xDLG9CQUFjLEdBQWMsSUFBSSxDQUFDOztJQTBGckMsQ0FBQztJQXhGRywyQkFBTSxHQUFOO1FBQ0ksa0JBQWtCO0lBQ3RCLENBQUM7SUFFRCwwQkFBSyxHQUFMO0lBRUEsQ0FBQztJQUVELDRCQUFPLEdBQVA7UUFBQSxpQkFrQkM7UUFqQkcsc0RBQXNEO1FBQ3RELElBQUksQ0FBQyxVQUFVLENBQUMsUUFBUSxDQUFDLFVBQUMsSUFBYSxFQUFFLElBQVMsRUFBRSxDQUFTO1lBQ3pELHVCQUF1QjtZQUN2QixJQUFJLElBQUksR0FBRyxJQUFJLENBQUMsWUFBWSxDQUFDLDBCQUFnQixDQUFDLENBQUM7WUFDL0MsSUFBSSxDQUFDLElBQUksR0FBRyxJQUFJLENBQUM7WUFDakIsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLElBQUksQ0FBQztZQUNyQyxJQUFJLFFBQVEsR0FBRyxDQUFDLGVBQVEsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQzNDLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLFFBQVEsQ0FBQTtZQUNqQyxJQUFJLENBQUMsUUFBUSxDQUFDLE1BQU0sR0FBRyxRQUFRLENBQUM7WUFD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QUMsZ0JBQWdCLEVBQUUsQ0FBQTtTQUN2QzthQUFNO1lBQ0gsb0JBQUssQ0FBQyxJQUFJLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDbEIsZ0JBQU0sQ0FBQyxVQUFVLENBQUMsT0FBQyxDQUFDLGFBQWEsQ0FBQyxDQUFBO1NBQ3JDO0lBQ0wsQ0FBQztJQTlGRDtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsVUFBVSxDQUFDO2tEQUNTO0lBR2pDO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7d0RBQ2U7SUFHbEM7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztzREFDYTtJQVRoQixVQUFVO1FBRDlCLE9BQU87T0FDYSxVQUFVLENBbUc5QjtJQUFELGlCQUFDO0NBbkdELEFBbUdDLENBbkd1QyxFQUFFLENBQUMsU0FBUyxHQW1HbkQ7a0JBbkdvQixVQUFVIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNob3BJdGVtVGVtcGxhdGUgZnJvbSBcIi4vU2hvcEl0ZW1UZW1wbGF0ZVwiO1xuaW1wb3J0IFNwcml0ZUZyYW1lQ2FjaGUgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL21pc2MvU3ByaXRlRnJhbWVDYWNoZVwiO1xuaW1wb3J0IHsgUiB9IGZyb20gXCIuLi9oZXgtbGluZXMtZ2FtZS9SZXNcIjtcblxuaW1wb3J0IHsgVXNlckluZm8sIENob2ljZVR5cGUgfSBmcm9tIFwiLi4vSW5mb1wiO1xuaW1wb3J0IHsgVG9hc3QgfSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvdWkvVG9hc3RNYW5hZ2VyXCI7XG5pbXBvcnQgVUlGdW5jdGlvbnMgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL3VpL1VJRnVuY3Rpb25zXCI7XG5pbXBvcnQgRGV2aWNlIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy9nYW1lc3lzL0RldmljZVwiO1xuaW1wb3J0IE1haW4gZnJvbSBcIi4uL01haW5cIjtcbmltcG9ydCBHIGZyb21cIi4uL2cgLSAwMDFcIjtcblxuXG5jb25zdCB7IGNjY2xhc3MsIHByb3BlcnR5IH0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2hvcERpYWxvZyBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBAcHJvcGVydHkoY2MuU2Nyb2xsVmlldylcbiAgICBzY3JvbGx2aWV3OiBjYy5TY3JvbGxWaWV3ID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcbiAgICBmcmVlRGlhbW9uZExhYmVsOiBjYy5MYWJlbCA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoY2MuQnV0dG9uKVxuICAgIGZyZWVEaWFtb25kQnRuOiBjYy5CdXR0b24gPSBudWxsO1xuXG4gICAgb25Mb2FkKCkge1xuICAgICAgICAvLyB0aGlzLnNjcm9sbHZpZXdcbiAgICB9XG5cbiAgICBzdGFydCgpIHtcblxuICAgIH1cblxuICAgIG9uU2hvd24oKSB7XG4gICAgICAgIC8vIHtcImlkXCI6XCIxXCIsXCJtaW5pX2ltZ1wiOlwiYTFcIixcImltZ1wiOlwiYTJcIixcImNvc3RcIjpcIjEwMFwifSxcbiAgICAgICAgdGhpcy5zY3JvbGx2aWV3LnNob3dsaXN0KChub2RlOiBjYy5Ob2RlLCBkYXRhOiBhbnksIGk6IG51bWJlcikgPT4ge1xuICAgICAgICAgICAgLy8gY29uc29sZS5sb2coaSxkYXRhKTtcbiAgICAgICAgICAgIGxldCBpdGVtID0gbm9kZS5nZXRDb21wb25lbnQoU2hvcEl0ZW1UZW1wbGF0ZSk7XG4gICAgICAgICAgICBpdGVtLmRhdGEgPSBkYXRhO1xuICAgICAgICAgICAgaXRlbS5kaWFtb25kTGFiZWwuc3RyaW5nID0gZGF0YS5jb3N0O1xuICAgICAgICAgICAgbGV0IGlzTG9ja2VkID0gIVVzZXJJbmZvLmlzVW5sb2NrKGRhdGEuaWQpO1xuICAgICAgICAgICAgaXRlbS5idG5CdXlOb2RlLmFjdGl2ZSA9IGlzTG9ja2VkXG4gICAgICAgICAgICBpdGVtLm1hc2tOb2RlLmFjdGl2ZSA9IGlzTG9ja2VkO1xuICAgICAgICAgICAgaXRlbS5ib3JkZXJOb2RlLmNvbG9yID0gY2MuQ29sb3IuV0hJVEU7XG4gICAgICAgICAgICBpdGVtLnRpdGxlTGFiZWwuc3RyaW5nID0gZGF0YS50ZXh0O1xuICAgICAgICAgICAgaXRlbS5zZWxlY3RlZEZsYWcuYWN0aXZlID0gVXNlckluZm8uc2VsZWN0ZWRTa2luID09IGRhdGEuaWQ7XG4gICAgICAgICAgICBpdGVtLmJ0blNpZ25hbC5hZGQodGhpcy5jbGlja191bmxvY2ssIHRoaXMpXG4gICAgICAgICAgICBTcHJpdGVGcmFtZUNhY2hlLmluc3RhbmNlLmdldFNwcml0ZUZyYW1lKFwiR2FtZS9UZXh0dXJlcy9UaHVtYkJncy9cIiArIGRhdGEubWluaV9pbWcgKyBcIi5qcGdcIikudGhlbihzZiA9PiBpdGVtLmJnbWluaS5zcHJpdGVGcmFtZSA9IHNmKVxuICAgICAgICB9LCBSLnNraW5Db25maWcuanNvbilcblxuICAgICAgIC8vIHRoaXMucmVmcmVzaEJ0blN0YXR1cygpO1xuICAgIH1cblxuICAgIHJlZnJlc2hCdG5TdGF0dXMoKSB7XG4gICAgICAgIC8vIGlmIChHLmlzTmV4dERheShVc2VySW5mby5zaG9wRnJlZURpYW1vbmRUaW1lKSkge1xuICAgICAgICAvLyAgICAgdGhpcy5mcmVlRGlhbW9uZExhYmVsLnN0cmluZyA9IFwi5YWN6LS55b6XNTBcIlxuICAgICAgICAvLyAgICAgVUlGdW5jdGlvbnMuc2V0QnV0dG9uRW5hYmxlZCh0aGlzLmZyZWVEaWFtb25kQnRuLCB0cnVlKVxuICAgICAgICAvLyB9IGVsc2Uge1xuICAgICAgICAvLyAgICAgdGhpcy5mcmVlRGlhbW9uZExhYmVsLnN0cmluZyA9IFwi5bey6aKG5Y+WXCJcbiAgICAgICAgLy8gICAgIFVJRnVuY3Rpb25zLnNldEJ1dHRvbkVuYWJsZWQodGhpcy5mcmVlRGlhbW9uZEJ0biwgZmFsc2UpXG4gICAgICAgIC8vIH1cbiAgICB9XG5cbiAgICBjbGlja19jbG9zZSgpIHtcblxuICAgIH1cblxuICAgIHNoYXJlX3N1Y2MoKSB7XG4gICAgICAgIFVzZXJJbmZvLmFkZERpYW1vbmQoNTApO1xuICAgICAgICBVc2VySW5mby5zaG9wRnJlZURpYW1vbmRUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gICAgICAgIFVzZXJJbmZvLnNhdmUoKVxuICAgICAgICB0aGlzLnJlZnJlc2hCdG5TdGF0dXMoKTtcbiAgICB9XG5cbiAgICBjbGlja19mcmVlKCkge1xuICAgICAgICBsZXQgY2hvaWNlID0gVXNlckluZm8uZ2V0Q2hvaWNlKENob2ljZVR5cGUuU2hvcClcbiAgICAgICAgaWYgKGNob2ljZSA9PSAxKSB7XG4gICAgICAgIFxuICAgICAgICB9IGVsc2UgaWYgKGNob2ljZSA9PSAwKSB7XG4gICAgICAgICAgICB0aGlzLnNoYXJlX3N1Y2MoKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgLy92aWRlb1xuICAgICBcbiAgICAgICAgfVxuICAgIH1cblxuICAgIHNlbGVjdEJnKGRhdGEpIHtcbiAgICAgICAgVXNlckluZm8uc2VsZWN0ZWRTa2luID0gZGF0YS5pZDtcbiAgICAgICAgVXNlckluZm8uc2F2ZSgpXG4gICAgICAgIHRoaXMub25TaG93bigpO1xuICAgIH1cblxuICAgIGNsaWNrX3VubG9jayhkYXRhKSB7XG4gICAgICAgIGlmIChVc2VySW5mby5pc1VubG9jayhkYXRhLmlkKSkge1xuICAgICAgICAgICAgLy9zZWxlY3QgXG4gICAgICAgICAgICB0aGlzLnNlbGVjdEJnKGRhdGEpO1xuICAgICAgICAgICAgVG9hc3QubWFrZShcIuW3sumAieaLqSBcIiArIGRhdGEudGV4dClcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoVXNlckluZm8uZGlhbW9uZCA+PSBkYXRhLmNvc3QpIHtcbiAgICAgICAgICAgIFVzZXJJbmZvLmRpYW1vbmQgLT0gZGF0YS5jb3N0O1xuICAgICAgICAgICAgVXNlckluZm8udW5sb2NrKGRhdGEuaWQpO1xuICAgICAgICAgICAgdGhpcy5zZWxlY3RCZyhkYXRhKVxuICAgICAgICAgICAgVG9hc3QubWFrZShjYy5qcy5mb3JtYXRTdHIoXCIlc+W3suino+mUgVwiLCBkYXRhLnRleHQpKVxuICAgICAgICAgICAgRGV2aWNlLnBsYXlFZmZlY3QoUi5hdWRpb191bmxvY2spXG4gICAgICAgICAgICBpZiAoTWFpbi5pbnN0YW5jZSlcbiAgICAgICAgICAgICAgICBNYWluLmluc3RhbmNlLnJlZnJlc2hSZWRwb2ludHMoKVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgVG9hc3QubWFrZShcIumSu+efs+S4jei2s1wiKVxuICAgICAgICAgICAgRGV2aWNlLnBsYXlFZmZlY3QoUi5hdWRpb19pbnZhbGlkKVxuICAgICAgICB9XG4gICAgfVxuXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/ShopItemTemplate.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '0b667/xvIZJapTB+ZTBqkHL', 'ShopItemTemplate');
// Game/Scripts/ui/ShopItemTemplate.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Signal_1 = require("../../../framework/plugin_boosts/misc/Signal");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var ShopItemTemplate = /** @class */ (function (_super) {
    __extends(ShopItemTemplate, _super);
    function ShopItemTemplate() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.titleLabel = null;
        _this.selectedFlag = null;
        _this.bgmini = null;
        _this.btnBuyNode = null;
        _this.maskNode = null;
        _this.borderNode = null;
        _this.diamondLabel = null;
        _this.btnSignal = new Signal_1.default();
        _this.data = null;
        return _this;
    }
    ShopItemTemplate.prototype.onLoad = function () { };
    ShopItemTemplate.prototype.start = function () { };
    ShopItemTemplate.prototype.click_unlock = function () {
        this.btnSignal.fire(this.data);
    };
    __decorate([
        property(cc.Label)
    ], ShopItemTemplate.prototype, "titleLabel", void 0);
    __decorate([
        property(cc.Node)
    ], ShopItemTemplate.prototype, "selectedFlag", void 0);
    __decorate([
        property(cc.Sprite)
    ], ShopItemTemplate.prototype, "bgmini", void 0);
    __decorate([
        property(cc.Node)
    ], ShopItemTemplate.prototype, "btnBuyNode", void 0);
    __decorate([
        property(cc.Node)
    ], ShopItemTemplate.prototype, "maskNode", void 0);
    __decorate([
        property(cc.Node)
    ], ShopItemTemplate.prototype, "borderNode", void 0);
    __decorate([
        property(cc.Label)
    ], ShopItemTemplate.prototype, "diamondLabel", void 0);
    ShopItemTemplate = __decorate([
        ccclass
    ], ShopItemTemplate);
    return ShopItemTemplate;
}(cc.Component));
exports.default = ShopItemTemplate;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXFNob3BJdGVtVGVtcGxhdGUudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHVFQUFrRTtBQUU1RCxJQUFBLEtBQXNCLEVBQUUsQ0FBQyxVQUFVLEVBQWxDLE9BQU8sYUFBQSxFQUFFLFFBQVEsY0FBaUIsQ0FBQztBQUcxQztJQUE4QyxvQ0FBWTtJQUExRDtRQUFBLHFFQWtDQztRQTNCRyxnQkFBVSxHQUFZLElBQUksQ0FBQztRQUczQixrQkFBWSxHQUFXLElBQUksQ0FBQztRQUc1QixZQUFNLEdBQWEsSUFBSSxDQUFDO1FBRXhCLGdCQUFVLEdBQVcsSUFBSSxDQUFDO1FBRzFCLGNBQVEsR0FBVyxJQUFJLENBQUM7UUFHeEIsZ0JBQVUsR0FBVyxJQUFJLENBQUM7UUFHMUIsa0JBQVksR0FBWSxJQUFJLENBQUM7UUFFN0IsZUFBUyxHQUFVLElBQUksZ0JBQU0sRUFBRSxDQUFDO1FBRWhDLFVBQUksR0FBTyxJQUFJLENBQUM7O0lBTXBCLENBQUM7SUFoQ0csaUNBQU0sR0FBTixjQUFXLENBQUM7SUFDWixnQ0FBSyxHQUFMLGNBQVUsQ0FBQztJQTJCWCx1Q0FBWSxHQUFaO1FBRUksSUFBSSxDQUFDLFNBQVMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQ25DLENBQUM7SUExQkQ7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzt3REFDUTtJQUczQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDOzBEQUNVO0lBRzVCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7b0RBQ0k7SUFFeEI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQzt3REFDUTtJQUcxQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO3NEQUNNO0lBR3hCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxJQUFJLENBQUM7d0RBQ1E7SUFHMUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzswREFDVTtJQXhCWixnQkFBZ0I7UUFEcEMsT0FBTztPQUNhLGdCQUFnQixDQWtDcEM7SUFBRCx1QkFBQztDQWxDRCxBQWtDQyxDQWxDNkMsRUFBRSxDQUFDLFNBQVMsR0FrQ3pEO2tCQWxDb0IsZ0JBQWdCIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFNpZ25hbCBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvbWlzYy9TaWduYWxcIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBTaG9wSXRlbVRlbXBsYXRlIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIG9uTG9hZCAoKSB7fVxuICAgIHN0YXJ0ICgpIHt9XG5cblxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcbiAgICB0aXRsZUxhYmVsOmNjLkxhYmVsID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxuICAgIHNlbGVjdGVkRmxhZzpjYy5Ob2RlID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eShjYy5TcHJpdGUpXG4gICAgYmdtaW5pOmNjLlNwcml0ZSA9IG51bGw7XG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXG4gICAgYnRuQnV5Tm9kZTpjYy5Ob2RlID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eShjYy5Ob2RlKVxuICAgIG1hc2tOb2RlOmNjLk5vZGUgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXG4gICAgYm9yZGVyTm9kZTpjYy5Ob2RlID0gbnVsbDtcblxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcbiAgICBkaWFtb25kTGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xuXG4gICAgYnRuU2lnbmFsOlNpZ25hbCA9IG5ldyBTaWduYWwoKTtcblxuICAgIGRhdGE6YW55ID0gbnVsbDtcbiAgICBcbiAgICBjbGlja191bmxvY2soKVxuICAgIHtcbiAgICAgICAgdGhpcy5idG5TaWduYWwuZmlyZSh0aGlzLmRhdGEpO1xuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/LuckyDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'a94275+JmtMx6iZb18iwKTe', 'LuckyDialog');
// Game/Scripts/ui/LuckyDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var ToastManager_1 = require("../../../framework/plugin_boosts/ui/ToastManager");
var ViewManager_1 = require("../../../framework/plugin_boosts/ui/ViewManager");
var View_1 = require("../../../framework/plugin_boosts/ui/View");
var Info_1 = require("../Info");
var Device_1 = require("../../../framework/plugin_boosts/gamesys/Device");
var Res_1 = require("../hex-lines-game/Res");
var UIFunctions_1 = require("../../../framework/plugin_boosts/ui/UIFunctions");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var LuckyDialog = /** @class */ (function (_super) {
    __extends(LuckyDialog, _super);
    function LuckyDialog() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this._canRotate = true;
        _this.sprites = [];
        _this.labels = [];
        _this.btn_freedraw = null;
        _this.btn_videodraw = null;
        _this.freedrawTip = null;
        _this.drawLabel = null;
        // click_draw()
        // {
        // }
        _this.pool = [];
        _this.isGreaterDate = function (now, before) {
            var diff = now.getTime() - before.getTime();
            if (diff > 86400000) // 24*60*60*1000
             {
                return true;
            }
            else {
                if (diff > 0)
                    return now.getDate() != before.getDate();
                else
                    return false;
            }
        };
        return _this;
    }
    LuckyDialog_1 = LuckyDialog;
    LuckyDialog.prototype.start = function () { };
    LuckyDialog.prototype.share_succ = function () {
        this.startDraw();
        Info_1.UserInfo.freedrawTime = new Date().getTime();
        Info_1.UserInfo.save();
        //  Main.instance.refreshRedpoints()
        this.onShown();
    };
    LuckyDialog.prototype.click_freeedraw = function () {
        // if (g.isNextDay(UserInfo.freedrawTime))
        // {
        //     this.share_succ()
        // }
    };
    LuckyDialog.prototype.onLoad = function () {
        for (var i = 0; i < Res_1.R.luckyConfig.json.length; i++) {
            var cfg = Res_1.R.luckyConfig.json[i];
            var chance = parseFloat(cfg.chance);
            for (var j = 0; j < chance * 2; j++) {
                this.pool.push(i);
            }
        }
        this.pool.shuffle();
        console.log(this.pool);
    };
    LuckyDialog.prototype.startDraw = function () {
        var id = g.getRandomInArray(this.pool);
        this.startWheel(id);
        Device_1.default.playEffect(Res_1.R.audio_draw);
    };
    LuckyDialog.prototype.isNextDay = function (timeSec) {
        return this.isGreaterDate(new Date(), new Date(timeSec));
    };
    // 5次
    LuckyDialog.prototype.click_videodraw = function () {
        if (Info_1.UserInfo.luckyVideoWatchCount >= LuckyDialog_1.MaxVideoCount) {
            if (this.isNextDay(Info_1.UserInfo.luckyVideoWatchTime)) {
                Info_1.UserInfo.luckyVideoWatchCount = 0;
                Info_1.UserInfo.luckyVideoWatchTime = new Date().getTime();
            }
            else {
                return;
            }
        }
        else {
        }
    };
    LuckyDialog.prototype.calculateAngle = function (index) {
        var angle = -(index - 1) * 60 - 30 - 4 * 360 - this.wheelSp.node.rotation % 360;
        return angle;
    };
    LuckyDialog.prototype.onShown = function () {
        if (Info_1.UserInfo.luckyVideoWatchCount >= LuckyDialog_1.MaxVideoCount) {
            this.drawLabel.string = "已用完";
            UIFunctions_1.default.setButtonEnabled(this.btn_videodraw, false);
        }
        else {
            this.drawLabel.string = "看视频抽奖";
            UIFunctions_1.default.setButtonEnabled(this.btn_videodraw, true);
        }
        if (g.isGreaterDate(new Date(), new Date(Info_1.UserInfo.freedrawTime))) {
            //free draw 
            this.btn_freedraw.interactable = true;
            this.btn_freedraw.node.opacity = 255;
            this.freedrawTip.active = false;
        }
        else {
            this.btn_freedraw.interactable = false;
            this.btn_freedraw.node.opacity = 100;
            this.freedrawTip.active = true;
        }
        for (var i = 0; i < Res_1.R.luckyConfig.json.length; i++) {
            var cfg = Res_1.R.luckyConfig.json[i];
            this.labels[i].string = cfg.gold_reward + "";
        }
    };
    LuckyDialog.prototype.startWheel = function (id) {
        console.log("target wheel:", id);
        var angle = this.calculateAngle(id);
        if (!this._canRotate) {
            ToastManager_1.Toast.make('正在给您挑选奖品...');
            return;
        }
        this._canRotate = false;
        var stage3 = cc.rotateBy(Math.abs(angle / 400), angle);
        var callFunc = cc.callFunc(function () {
            this._canRotate = true;
            this.showRes(id);
        }.bind(this));
        var sequence = cc.sequence(stage3, callFunc);
        this.wheelSp.node.runAction(sequence.easing(cc.easeQuadraticActionInOut()));
    };
    LuckyDialog.prototype.showRes = function (id) {
        var cfg = Res_1.R.luckyConfig.json[id];
        var gold = !isNaN((Number(cfg.gold_reward)));
        if (gold) {
            this.getComponent(View_1.default).hide();
            ViewManager_1.default.instance.show("Game/GetDialog", cfg.gold_reward);
        }
        else {
            //神秘
            ToastManager_1.Toast.make("恭喜你抽中了 " + cfg.gold_reward);
            Info_1.UserInfo.unlock(g.randomInt(0, 6));
            // Device.playEffect(R.audio_unlock);
        }
    };
    LuckyDialog.prototype.update = function (dt) {
    };
    LuckyDialog.prototype.click_close = function () {
        if (!this._canRotate) {
            ToastManager_1.Toast.make('正在给您挑选奖品...');
            return;
        }
        this.getComponent(View_1.default).hide();
    };
    var LuckyDialog_1;
    LuckyDialog.MaxVideoCount = 5;
    __decorate([
        property(cc.Sprite)
    ], LuckyDialog.prototype, "wheelSp", void 0);
    __decorate([
        property([cc.Sprite])
    ], LuckyDialog.prototype, "sprites", void 0);
    __decorate([
        property([cc.Label])
    ], LuckyDialog.prototype, "labels", void 0);
    __decorate([
        property(cc.Button)
    ], LuckyDialog.prototype, "btn_freedraw", void 0);
    __decorate([
        property(cc.Button)
    ], LuckyDialog.prototype, "btn_videodraw", void 0);
    __decorate([
        property(cc.Node)
    ], LuckyDialog.prototype, "freedrawTip", void 0);
    __decorate([
        property(cc.Label)
    ], LuckyDialog.prototype, "drawLabel", void 0);
    LuckyDialog = LuckyDialog_1 = __decorate([
        ccclass
    ], LuckyDialog);
    return LuckyDialog;
}(cc.Component));
exports.default = LuckyDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXEx1Y2t5RGlhbG9nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxpRkFBeUU7QUFDekUsK0VBQTBFO0FBQzFFLGlFQUE0RDtBQUM1RCxnQ0FBbUM7QUFFbkMsMEVBQXFFO0FBQ3JFLDZDQUEwQztBQUMxQywrRUFBMEU7QUFHcEUsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBeUMsK0JBQVk7SUFBckQ7UUFBQSxxRUFxTUM7UUE3TEcsZ0JBQVUsR0FBRyxJQUFJLENBQUM7UUFHbEIsYUFBTyxHQUFlLEVBQUUsQ0FBQTtRQUd4QixZQUFNLEdBQWMsRUFBRSxDQUFBO1FBR3RCLGtCQUFZLEdBQWEsSUFBSSxDQUFDO1FBRzlCLG1CQUFhLEdBQWEsSUFBSSxDQUFDO1FBRy9CLGlCQUFXLEdBQVcsSUFBSSxDQUFDO1FBSTNCLGVBQVMsR0FBWSxJQUFJLENBQUM7UUFJMUIsZUFBZTtRQUNmLElBQUk7UUFFSixJQUFJO1FBRUosVUFBSSxHQUFHLEVBQUUsQ0FBQTtRQTRDVCxtQkFBYSxHQUFHLFVBQVMsR0FBRyxFQUFDLE1BQU07WUFFL0IsSUFBSSxJQUFJLEdBQUcsR0FBRyxDQUFDLE9BQU8sRUFBRSxHQUFHLE1BQU0sQ0FBQyxPQUFPLEVBQUUsQ0FBQTtZQUMzQyxJQUFHLElBQUksR0FBRyxRQUFRLEVBQUUsZ0JBQWdCO2FBQ3BDO2dCQUNJLE9BQU8sSUFBSSxDQUFDO2FBQ2Y7aUJBQUk7Z0JBQ0QsSUFBSSxJQUFJLEdBQUcsQ0FBQztvQkFDUixPQUFPLEdBQUcsQ0FBQyxPQUFPLEVBQUUsSUFBSSxNQUFNLENBQUMsT0FBTyxFQUFFLENBQUE7O29CQUV4QyxPQUFPLEtBQUssQ0FBQzthQUNwQjtRQUNMLENBQUMsQ0FBQzs7SUF5R04sQ0FBQztvQkFyTW9CLFdBQVc7SUFHNUIsMkJBQUssR0FBTCxjQUFVLENBQUM7SUFvQ1gsZ0NBQVUsR0FBVjtRQUVJLElBQUksQ0FBQyxTQUFTLEVBQUUsQ0FBQztRQUNqQixlQUFRLENBQUMsWUFBWSxHQUFHLElBQUksSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUE7UUFDNUMsZUFBUSxDQUFDLElBQUksRUFBRSxDQUFBO1FBQ2pCLG9DQUFvQztRQUNsQyxJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7SUFDbkIsQ0FBQztJQUVELHFDQUFlLEdBQWY7UUFFSSwwQ0FBMEM7UUFDMUMsSUFBSTtRQUNKLHdCQUF3QjtRQUN4QixJQUFJO0lBQ1IsQ0FBQztJQUVELDRCQUFNLEdBQU47UUFDSSxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRSxDQUFDLEdBQUcsT0FBQyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRyxFQUNuRDtZQUNJLElBQUksR0FBRyxHQUFHLE9BQUMsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2hDLElBQUksTUFBTSxHQUFHLFVBQVUsQ0FBQyxHQUFHLENBQUMsTUFBTSxDQUFDLENBQUE7WUFDbkMsS0FBSyxJQUFJLENBQUMsR0FBRyxDQUFDLEVBQUcsQ0FBQyxHQUFHLE1BQU0sR0FBRyxDQUFDLEVBQUcsQ0FBQyxFQUFFLEVBQ3JDO2dCQUNJLElBQUksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFDO2FBQ3JCO1NBQ0o7UUFDRCxJQUFJLENBQUMsSUFBSSxDQUFDLE9BQU8sRUFBRSxDQUFBO1FBQ25CLE9BQU8sQ0FBQyxHQUFHLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDO0lBQzNCLENBQUM7SUFFRCwrQkFBUyxHQUFUO1FBRUksSUFBSSxFQUFFLEdBQUcsQ0FBQyxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQTtRQUN0QyxJQUFJLENBQUMsVUFBVSxDQUFDLEVBQUUsQ0FBQyxDQUFBO1FBQ25CLGdCQUFNLENBQUMsVUFBVSxDQUFDLE9BQUMsQ0FBQyxVQUFVLENBQUMsQ0FBQztJQUNwQyxDQUFDO0lBQ0QsK0JBQVMsR0FBVCxVQUFVLE9BQU87UUFFakIsT0FBTyxJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksSUFBSSxFQUFFLEVBQUMsSUFBSSxJQUFJLENBQUMsT0FBTyxDQUFDLENBQUMsQ0FBQTtJQUN2RCxDQUFDO0lBY0QsS0FBSztJQUNMLHFDQUFlLEdBQWY7UUFFSSxJQUFJLGVBQVEsQ0FBQyxvQkFBb0IsSUFBSSxhQUFXLENBQUMsYUFBYSxFQUM5RDtZQUNJLElBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxlQUFRLENBQUMsbUJBQW1CLENBQUMsRUFDL0M7Z0JBQ0ksZUFBUSxDQUFDLG9CQUFvQixHQUFHLENBQUMsQ0FBQztnQkFDbEMsZUFBUSxDQUFDLG1CQUFtQixHQUFHLElBQUksSUFBSSxFQUFFLENBQUMsT0FBTyxFQUFFLENBQUM7YUFDdkQ7aUJBQUk7Z0JBRUQsT0FBTzthQUNWO1NBQ0o7YUFBSTtTQUVKO0lBRUwsQ0FBQztJQUdELG9DQUFjLEdBQWQsVUFBZSxLQUFZO1FBQ3ZCLElBQUksS0FBSyxHQUFHLENBQUMsQ0FBQyxLQUFLLEdBQUMsQ0FBQyxDQUFDLEdBQUcsRUFBRSxHQUFHLEVBQUUsR0FBSyxDQUFDLEdBQUcsR0FBRyxHQUFJLElBQUksQ0FBQyxPQUFPLENBQUMsSUFBSSxDQUFDLFFBQVEsR0FBRSxHQUFHLENBQUE7UUFDL0UsT0FBTyxLQUFLLENBQUE7SUFDaEIsQ0FBQztJQUVELDZCQUFPLEdBQVA7UUFFSSxJQUFJLGVBQVEsQ0FBQyxvQkFBb0IsSUFBSyxhQUFXLENBQUMsYUFBYSxFQUMvRDtZQUNJLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLEtBQUssQ0FBQTtZQUM3QixxQkFBVyxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUMsS0FBSyxDQUFDLENBQUE7U0FDekQ7YUFBSTtZQUNELElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxHQUFHLE9BQU8sQ0FBQTtZQUMvQixxQkFBVyxDQUFDLGdCQUFnQixDQUFDLElBQUksQ0FBQyxhQUFhLEVBQUMsSUFBSSxDQUFDLENBQUE7U0FDeEQ7UUFDRCxJQUFJLENBQUMsQ0FBQyxhQUFhLENBQUMsSUFBSSxJQUFJLEVBQUUsRUFBRyxJQUFJLElBQUksQ0FBQyxlQUFRLENBQUMsWUFBWSxDQUFDLENBQUMsRUFDakU7WUFDSSxZQUFZO1lBQ1osSUFBSSxDQUFDLFlBQVksQ0FBQyxZQUFZLEdBQUcsSUFBSSxDQUFBO1lBQ3JDLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLE9BQU8sR0FBRyxHQUFHLENBQUM7WUFDckMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLEdBQUcsS0FBSyxDQUFBO1NBQ2xDO2FBQUk7WUFDRCxJQUFJLENBQUMsWUFBWSxDQUFDLFlBQVksR0FBRyxLQUFLLENBQUE7WUFDdEMsSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsT0FBTyxHQUFHLEdBQUcsQ0FBQztZQUNyQyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sR0FBRyxJQUFJLENBQUM7U0FDbEM7UUFFRCxLQUFLLElBQUksQ0FBQyxHQUFHLENBQUMsRUFBRyxDQUFDLEdBQUUsT0FBQyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsTUFBTSxFQUFFLENBQUMsRUFBRyxFQUNuRDtZQUNJLElBQUksR0FBRyxHQUFHLE9BQUMsQ0FBQyxXQUFXLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQyxDQUFBO1lBQy9CLElBQUksQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUMsTUFBTSxHQUFHLEdBQUcsQ0FBQyxXQUFXLEdBQUUsRUFBRSxDQUFBO1NBQzlDO0lBQ0wsQ0FBQztJQUVELGdDQUFVLEdBQVYsVUFBVyxFQUFFO1FBRVQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxlQUFlLEVBQUUsRUFBRSxDQUFDLENBQUM7UUFDakMsSUFBSSxLQUFLLEdBQUcsSUFBSSxDQUFDLGNBQWMsQ0FBQyxFQUFFLENBQUMsQ0FBQTtRQUNuQyxJQUFJLENBQUMsSUFBSSxDQUFDLFVBQVUsRUFBQztZQUNqQixvQkFBSyxDQUFDLElBQUksQ0FBQyxhQUFhLENBQUMsQ0FBQztZQUMxQixPQUFNO1NBQ1Q7UUFDRCxJQUFJLENBQUMsVUFBVSxHQUFHLEtBQUssQ0FBQTtRQUV2QixJQUFJLE1BQU0sR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsS0FBSyxHQUFDLEdBQUcsQ0FBQyxFQUFDLEtBQUssQ0FBQyxDQUFBO1FBQ25ELElBQUksUUFBUSxHQUFHLEVBQUUsQ0FBQyxRQUFRLENBQUM7WUFDdkIsSUFBSSxDQUFDLFVBQVUsR0FBRyxJQUFJLENBQUE7WUFDdEIsSUFBSSxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsQ0FBQTtRQUNwQixDQUFDLENBQUMsSUFBSSxDQUFDLElBQUksQ0FBQyxDQUFDLENBQUE7UUFDYixJQUFJLFFBQVEsR0FBRyxFQUFFLENBQUMsUUFBUSxDQUFDLE1BQU0sRUFBQyxRQUFRLENBQUMsQ0FBQTtRQUMzQyxJQUFJLENBQUMsT0FBTyxDQUFDLElBQUksQ0FBQyxTQUFTLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsd0JBQXdCLEVBQUUsQ0FBQyxDQUFDLENBQUE7SUFDL0UsQ0FBQztJQUVELDZCQUFPLEdBQVAsVUFBUSxFQUFFO1FBRU4sSUFBSSxHQUFHLEdBQUcsT0FBQyxDQUFDLFdBQVcsQ0FBQyxJQUFJLENBQUMsRUFBRSxDQUFDLENBQUE7UUFDaEMsSUFBSSxJQUFJLEdBQUcsQ0FBQyxLQUFLLENBQUMsQ0FBQyxNQUFNLENBQUMsR0FBRyxDQUFDLFdBQVcsQ0FBQyxDQUFDLENBQUMsQ0FBQTtRQUM1QyxJQUFHLElBQUksRUFDUDtZQUNJLElBQUksQ0FBQyxZQUFZLENBQUMsY0FBSSxDQUFDLENBQUMsSUFBSSxFQUFFLENBQUE7WUFDOUIscUJBQVcsQ0FBQyxRQUFRLENBQUMsSUFBSSxDQUFDLGdCQUFnQixFQUFDLEdBQUcsQ0FBQyxXQUFXLENBQUMsQ0FBQTtTQUM5RDthQUNHO1lBQ0EsSUFBSTtZQUNKLG9CQUFLLENBQUMsSUFBSSxDQUFDLFNBQVMsR0FBRyxHQUFHLENBQUMsV0FBVyxDQUFDLENBQUM7WUFDeEMsZUFBUSxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsU0FBUyxDQUFDLENBQUMsRUFBQyxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2xDLHFDQUFxQztTQUN4QztJQUNMLENBQUM7SUFFRCw0QkFBTSxHQUFOLFVBQU8sRUFBRTtJQUVULENBQUM7SUFFRCxpQ0FBVyxHQUFYO1FBRUksSUFBSSxDQUFDLElBQUksQ0FBQyxVQUFVLEVBQUM7WUFDakIsb0JBQUssQ0FBQyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUM7WUFDMUIsT0FBTTtTQUNUO1FBQ0QsSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQTtJQUNsQyxDQUFDOztJQXJLTSx5QkFBYSxHQUFHLENBQUMsQ0FBQztJQXZCekI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLE1BQU0sQ0FBQztnREFDSDtJQUtqQjtRQURDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUMsQ0FBQztnREFDRTtJQUd4QjtRQURDLFFBQVEsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUMsQ0FBQzsrQ0FDQztJQUd0QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDO3FEQUNVO0lBRzlCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxNQUFNLENBQUM7c0RBQ1c7SUFHL0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLElBQUksQ0FBQztvREFDUztJQUkzQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO2tEQUNPO0lBM0JULFdBQVc7UUFEL0IsT0FBTztPQUNhLFdBQVcsQ0FxTS9CO0lBQUQsa0JBQUM7Q0FyTUQsQUFxTUMsQ0FyTXdDLEVBQUUsQ0FBQyxTQUFTLEdBcU1wRDtrQkFyTW9CLFdBQVciLCJmaWxlIjoiIiwic291cmNlUm9vdCI6Ii8iLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBUb2FzdCB9IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy91aS9Ub2FzdE1hbmFnZXJcIjtcbmltcG9ydCBWaWV3TWFuYWdlciBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvdWkvVmlld01hbmFnZXJcIjtcbmltcG9ydCBWaWV3IGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy91aS9WaWV3XCI7XG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuLi9JbmZvXCI7XG5cbmltcG9ydCBEZXZpY2UgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL2dhbWVzeXMvRGV2aWNlXCI7XG5pbXBvcnQgeyBSIH0gZnJvbSBcIi4uL2hleC1saW5lcy1nYW1lL1Jlc1wiO1xuaW1wb3J0IFVJRnVuY3Rpb25zIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy91aS9VSUZ1bmN0aW9uc1wiO1xuaW1wb3J0IE1haW4gZnJvbSBcIi4uL01haW5cIjtcblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBMdWNreURpYWxvZyBleHRlbmRzIGNjLkNvbXBvbmVudCB7XG5cbiAgICBcbiAgICBzdGFydCAoKSB7fVxuXG4gICAgQHByb3BlcnR5KGNjLlNwcml0ZSlcbiAgICB3aGVlbFNwOmNjLlNwcml0ZVxuXG4gICAgX2NhblJvdGF0ZSA9IHRydWU7XG5cbiAgICBAcHJvcGVydHkoW2NjLlNwcml0ZV0pXG4gICAgc3ByaXRlczpjYy5TcHJpdGVbXSA9IFtdXG5cbiAgICBAcHJvcGVydHkoW2NjLkxhYmVsXSlcbiAgICBsYWJlbHM6Y2MuTGFiZWxbXSA9IFtdXG5cbiAgICBAcHJvcGVydHkoY2MuQnV0dG9uKVxuICAgIGJ0bl9mcmVlZHJhdzpjYy5CdXR0b24gPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLkJ1dHRvbilcbiAgICBidG5fdmlkZW9kcmF3OmNjLkJ1dHRvbiA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoY2MuTm9kZSlcbiAgICBmcmVlZHJhd1RpcDpjYy5Ob2RlID0gbnVsbDtcblxuXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxuICAgIGRyYXdMYWJlbDpjYy5MYWJlbCA9IG51bGw7XG5cbiAgICBzdGF0aWMgTWF4VmlkZW9Db3VudCA9IDU7XG5cbiAgICAvLyBjbGlja19kcmF3KClcbiAgICAvLyB7XG5cbiAgICAvLyB9XG5cbiAgICBwb29sID0gW11cbiAgICBcblxuICAgIHNoYXJlX3N1Y2MoKVxuICAgIHtcbiAgICAgICAgdGhpcy5zdGFydERyYXcoKTtcbiAgICAgICAgVXNlckluZm8uZnJlZWRyYXdUaW1lID0gbmV3IERhdGUoKS5nZXRUaW1lKClcbiAgICAgICAgVXNlckluZm8uc2F2ZSgpXG4gICAgICAvLyAgTWFpbi5pbnN0YW5jZS5yZWZyZXNoUmVkcG9pbnRzKClcbiAgICAgICAgdGhpcy5vblNob3duKCk7XG4gICAgfVxuXG4gICAgY2xpY2tfZnJlZWVkcmF3KClcbiAgICB7XG4gICAgICAgIC8vIGlmIChnLmlzTmV4dERheShVc2VySW5mby5mcmVlZHJhd1RpbWUpKVxuICAgICAgICAvLyB7XG4gICAgICAgIC8vICAgICB0aGlzLnNoYXJlX3N1Y2MoKVxuICAgICAgICAvLyB9XG4gICAgfVxuXG4gICAgb25Mb2FkICgpIHtcbiAgICAgICAgZm9yICh2YXIgaSA9IDAgO2kgPCBSLmx1Y2t5Q29uZmlnLmpzb24ubGVuZ3RoOyBpICsrKVxuICAgICAgICB7XG4gICAgICAgICAgICB2YXIgY2ZnID0gUi5sdWNreUNvbmZpZy5qc29uW2ldO1xuICAgICAgICAgICAgbGV0IGNoYW5jZSA9IHBhcnNlRmxvYXQoY2ZnLmNoYW5jZSlcbiAgICAgICAgICAgIGZvciAodmFyIGogPSAwIDsgaiA8IGNoYW5jZSAqIDIgOyBqKyspXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdGhpcy5wb29sLnB1c2goaSk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wb29sLnNodWZmbGUoKVxuICAgICAgICBjb25zb2xlLmxvZyh0aGlzLnBvb2wpO1xuICAgIH1cblxuICAgIHN0YXJ0RHJhdygpXG4gICAge1xuICAgICAgICBsZXQgaWQgPSBnLmdldFJhbmRvbUluQXJyYXkodGhpcy5wb29sKVxuICAgICAgICB0aGlzLnN0YXJ0V2hlZWwoaWQpXG4gICAgICAgIERldmljZS5wbGF5RWZmZWN0KFIuYXVkaW9fZHJhdyk7XG4gICAgfVxuICAgIGlzTmV4dERheSh0aW1lU2VjKVxuICAgIHtcbiAgICByZXR1cm4gdGhpcy5pc0dyZWF0ZXJEYXRlKG5ldyBEYXRlKCksbmV3IERhdGUodGltZVNlYykpXG4gICAgfVxuICAgIGlzR3JlYXRlckRhdGUgPSBmdW5jdGlvbihub3csYmVmb3JlKVxuICAgIHtcbiAgICAgICAgdmFyIGRpZmYgPSBub3cuZ2V0VGltZSgpIC0gYmVmb3JlLmdldFRpbWUoKSBcbiAgICAgICAgaWYoZGlmZiA+IDg2NDAwMDAwKSAvLyAyNCo2MCo2MCoxMDAwXG4gICAgICAgIHtcbiAgICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgIGlmIChkaWZmID4gMCApXG4gICAgICAgICAgICAgICAgcmV0dXJuIG5vdy5nZXREYXRlKCkgIT0gYmVmb3JlLmdldERhdGUoKVxuICAgICAgICAgICAgZWxzZSBcbiAgICAgICAgICAgICAgICByZXR1cm4gZmFsc2U7IFxuICAgICAgICB9XG4gICAgfTtcbiAgICAvLyA15qyhXG4gICAgY2xpY2tfdmlkZW9kcmF3KClcbiAgICB7XG4gICAgICAgIGlmIChVc2VySW5mby5sdWNreVZpZGVvV2F0Y2hDb3VudCA+PSBMdWNreURpYWxvZy5NYXhWaWRlb0NvdW50KVxuICAgICAgICB7XG4gICAgICAgICAgICBpZih0aGlzLmlzTmV4dERheShVc2VySW5mby5sdWNreVZpZGVvV2F0Y2hUaW1lKSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBVc2VySW5mby5sdWNreVZpZGVvV2F0Y2hDb3VudCA9IDA7XG4gICAgICAgICAgICAgICAgVXNlckluZm8ubHVja3lWaWRlb1dhdGNoVGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICAgICAgICAgICAgfWVsc2V7XG4gICAgXG4gICAgICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgICAgfVxuICAgICAgICB9ZWxzZXtcbiBcbiAgICAgICAgfVxuXG4gICAgfVxuXG5cbiAgICBjYWxjdWxhdGVBbmdsZShpbmRleDpudW1iZXIpey8v5aWW5ZOB55qEaW5kZXjku44w5byA5aeLXG4gICAgICAgIGxldCBhbmdsZSA9IC0oaW5kZXgtMSkgKiA2MCAtIDMwICAtICA0ICogMzYwIC0gIHRoaXMud2hlZWxTcC5ub2RlLnJvdGF0aW9uICUzNjAgXG4gICAgICAgIHJldHVybiBhbmdsZVxuICAgIH1cblxuICAgIG9uU2hvd24oKVxuICAgIHtcbiAgICAgICAgaWYgKFVzZXJJbmZvLmx1Y2t5VmlkZW9XYXRjaENvdW50ID49ICBMdWNreURpYWxvZy5NYXhWaWRlb0NvdW50KVxuICAgICAgICB7XG4gICAgICAgICAgICB0aGlzLmRyYXdMYWJlbC5zdHJpbmcgPSBcIuW3sueUqOWujFwiXG4gICAgICAgICAgICBVSUZ1bmN0aW9ucy5zZXRCdXR0b25FbmFibGVkKHRoaXMuYnRuX3ZpZGVvZHJhdyxmYWxzZSlcbiAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICB0aGlzLmRyYXdMYWJlbC5zdHJpbmcgPSBcIueci+inhumikeaKveWlllwiXG4gICAgICAgICAgICBVSUZ1bmN0aW9ucy5zZXRCdXR0b25FbmFibGVkKHRoaXMuYnRuX3ZpZGVvZHJhdyx0cnVlKVxuICAgICAgICB9XG4gICAgICAgIGlmIChnLmlzR3JlYXRlckRhdGUobmV3IERhdGUoKSwgIG5ldyBEYXRlKFVzZXJJbmZvLmZyZWVkcmF3VGltZSkpIClcbiAgICAgICAge1xuICAgICAgICAgICAgLy9mcmVlIGRyYXcgXG4gICAgICAgICAgICB0aGlzLmJ0bl9mcmVlZHJhdy5pbnRlcmFjdGFibGUgPSB0cnVlXG4gICAgICAgICAgICB0aGlzLmJ0bl9mcmVlZHJhdy5ub2RlLm9wYWNpdHkgPSAyNTU7XG4gICAgICAgICAgICB0aGlzLmZyZWVkcmF3VGlwLmFjdGl2ZSA9IGZhbHNlXG4gICAgICAgIH1lbHNle1xuICAgICAgICAgICAgdGhpcy5idG5fZnJlZWRyYXcuaW50ZXJhY3RhYmxlID0gZmFsc2VcbiAgICAgICAgICAgIHRoaXMuYnRuX2ZyZWVkcmF3Lm5vZGUub3BhY2l0eSA9IDEwMDtcbiAgICAgICAgICAgIHRoaXMuZnJlZWRyYXdUaXAuYWN0aXZlID0gdHJ1ZTtcbiAgICAgICAgfVxuXG4gICAgICAgIGZvciAodmFyIGkgPSAwIDsgaTwgUi5sdWNreUNvbmZpZy5qc29uLmxlbmd0aDsgaSArKylcbiAgICAgICAge1xuICAgICAgICAgICAgbGV0IGNmZyA9IFIubHVja3lDb25maWcuanNvbltpXVxuICAgICAgICAgICAgdGhpcy5sYWJlbHNbaV0uc3RyaW5nID0gY2ZnLmdvbGRfcmV3YXJkICtcIlwiXG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBzdGFydFdoZWVsKGlkKVxuICAgIHtcbiAgICAgICAgY29uc29sZS5sb2coXCJ0YXJnZXQgd2hlZWw6XCIgLGlkKTtcbiAgICAgICAgbGV0IGFuZ2xlID0gdGhpcy5jYWxjdWxhdGVBbmdsZShpZClcbiAgICAgICAgaWYgKCF0aGlzLl9jYW5Sb3RhdGUpe1xuICAgICAgICAgICAgVG9hc3QubWFrZSgn5q2j5Zyo57uZ5oKo5oyR6YCJ5aWW5ZOBLi4uJyk7XG4gICAgICAgICAgICByZXR1cm5cbiAgICAgICAgfVxuICAgICAgICB0aGlzLl9jYW5Sb3RhdGUgPSBmYWxzZVxuXG4gICAgICAgIGxldCBzdGFnZTMgPSBjYy5yb3RhdGVCeShNYXRoLmFicyhhbmdsZS80MDApLGFuZ2xlKVxuICAgICAgICBsZXQgY2FsbEZ1bmMgPSBjYy5jYWxsRnVuYyhmdW5jdGlvbigpe1xuICAgICAgICAgICAgdGhpcy5fY2FuUm90YXRlID0gdHJ1ZVxuICAgICAgICAgICAgdGhpcy5zaG93UmVzKGlkKVxuICAgICAgICB9LmJpbmQodGhpcykpXG4gICAgICAgIGxldCBzZXF1ZW5jZSA9IGNjLnNlcXVlbmNlKHN0YWdlMyxjYWxsRnVuYylcbiAgICAgICAgdGhpcy53aGVlbFNwLm5vZGUucnVuQWN0aW9uKHNlcXVlbmNlLmVhc2luZyhjYy5lYXNlUXVhZHJhdGljQWN0aW9uSW5PdXQoKSkpXG4gICAgfVxuXG4gICAgc2hvd1JlcyhpZClcbiAgICB7XG4gICAgICAgIGxldCBjZmcgPSBSLmx1Y2t5Q29uZmlnLmpzb25baWRdXG4gICAgICAgIGxldCBnb2xkID0gIWlzTmFOKChOdW1iZXIoY2ZnLmdvbGRfcmV3YXJkKSkpXG4gICAgICAgIGlmKGdvbGQpXG4gICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KFZpZXcpLmhpZGUoKVxuICAgICAgICAgICAgVmlld01hbmFnZXIuaW5zdGFuY2Uuc2hvdyhcIkdhbWUvR2V0RGlhbG9nXCIsY2ZnLmdvbGRfcmV3YXJkKVxuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICAvL+elnuenmFxuICAgICAgICAgICAgVG9hc3QubWFrZShcIuaBreWWnOS9oOaKveS4reS6hiBcIiArIGNmZy5nb2xkX3Jld2FyZCk7XG4gICAgICAgICAgICBVc2VySW5mby51bmxvY2soZy5yYW5kb21JbnQoMCw2KSk7XG4gICAgICAgICAgICAvLyBEZXZpY2UucGxheUVmZmVjdChSLmF1ZGlvX3VubG9jayk7XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICB1cGRhdGUoZHQpIHtcblxuICAgIH1cblxuICAgIGNsaWNrX2Nsb3NlKClcbiAgICB7XG4gICAgICAgIGlmICghdGhpcy5fY2FuUm90YXRlKXtcbiAgICAgICAgICAgIFRvYXN0Lm1ha2UoJ+ato+WcqOe7meaCqOaMkemAieWlluWTgS4uLicpO1xuICAgICAgICAgICAgcmV0dXJuIFxuICAgICAgICB9XG4gICAgICAgIHRoaXMuZ2V0Q29tcG9uZW50KFZpZXcpLmhpZGUoKVxuICAgIH1cblxuXG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/LevelupDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '192e1nHc39B4b1vo/mjTFG2', 'LevelupDialog');
// Game/Scripts/ui/LevelupDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Info_1 = require("../Info");
var View_1 = require("../../../framework/plugin_boosts/ui/View");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var LevelupDialog = /** @class */ (function (_super) {
    __extends(LevelupDialog, _super);
    function LevelupDialog() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.diamondLabel = null;
        _this.btnLabel = null;
        _this.tipLabel = null;
        _this.levelLabel = null;
        _this.mult = 1;
        _this.baseDiamond = 0;
        return _this;
    }
    LevelupDialog.prototype.onLoad = function () { };
    LevelupDialog.prototype.start = function () { };
    LevelupDialog.prototype.onShown = function (level, p) {
        //给钻石
        p = Math.min(p, 1);
        var diamond = Math.floor(Math.max(30 * p, 10));
        this.baseDiamond = diamond;
        this.diamondLabel.string = diamond.toString();
        this.levelLabel.string = cc.js.formatStr("- 第 %s 关 - ", level);
        // if(Math.random() > 0.7)
        // {
        //     this.mult = g.randomInt(3,6)
        //     this.btnLabel.string = this.mult +"倍领取"
        // }else{
        //     this.btnLabel.string = "双倍领取"
        //     this.mult = 2
        // }
        //this.tipLabel.string ="恭喜获得" + this.btnLabel.string +"奖励机会"
    };
    LevelupDialog.prototype.click_get = function () {
        Info_1.UserInfo.addDiamond(this.baseDiamond);
        Info_1.UserInfo.save();
        this.getComponent(View_1.default).hide();
    };
    LevelupDialog.prototype.share_suc = function () {
        Info_1.UserInfo.addDiamond(this.baseDiamond * this.mult);
        Info_1.UserInfo.save();
        this.getComponent(View_1.default).hide();
    };
    LevelupDialog.prototype.click_getex = function () {
        var choise = Info_1.UserInfo.getChoice(Info_1.ChoiceType.Levelup);
    };
    __decorate([
        property(cc.Label)
    ], LevelupDialog.prototype, "diamondLabel", void 0);
    __decorate([
        property(cc.Label)
    ], LevelupDialog.prototype, "btnLabel", void 0);
    __decorate([
        property(cc.Label)
    ], LevelupDialog.prototype, "tipLabel", void 0);
    __decorate([
        property(cc.Label)
    ], LevelupDialog.prototype, "levelLabel", void 0);
    LevelupDialog = __decorate([
        ccclass
    ], LevelupDialog);
    return LevelupDialog;
}(cc.Component));
exports.default = LevelupDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXExldmVsdXBEaWFsb2cudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLGdDQUErQztBQUMvQyxpRUFBNEQ7QUFHdEQsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBMkMsaUNBQVk7SUFBdkQ7UUFBQSxxRUE2REM7UUExREcsa0JBQVksR0FBWSxJQUFJLENBQUM7UUFJN0IsY0FBUSxHQUFZLElBQUksQ0FBQztRQUd6QixjQUFRLEdBQVksSUFBSSxDQUFDO1FBR3pCLGdCQUFVLEdBQVksSUFBSSxDQUFDO1FBRTNCLFVBQUksR0FBVSxDQUFDLENBQUM7UUFFaEIsaUJBQVcsR0FBVSxDQUFDLENBQUM7O0lBNEMzQixDQUFDO0lBMUNHLDhCQUFNLEdBQU4sY0FBVyxDQUFDO0lBQ1osNkJBQUssR0FBTCxjQUFVLENBQUM7SUFDWCwrQkFBTyxHQUFQLFVBQVEsS0FBSyxFQUFDLENBQUM7UUFFWCxLQUFLO1FBQ0wsQ0FBQyxHQUFHLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQyxFQUFDLENBQUMsQ0FBQyxDQUFDO1FBQ2xCLElBQUksT0FBTyxHQUFHLElBQUksQ0FBQyxLQUFLLENBQUMsSUFBSSxDQUFDLEdBQUcsQ0FBQyxFQUFFLEdBQUcsQ0FBQyxFQUFDLEVBQUUsQ0FBQyxDQUFDLENBQUE7UUFDN0MsSUFBSSxDQUFDLFdBQVcsR0FBRyxPQUFPLENBQUM7UUFDM0IsSUFBSSxDQUFDLFlBQVksQ0FBQyxNQUFNLEdBQUcsT0FBTyxDQUFDLFFBQVEsRUFBRSxDQUFDO1FBQzlDLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLGFBQWEsRUFBQyxLQUFLLENBQUMsQ0FBQTtRQUU3RCwwQkFBMEI7UUFDMUIsSUFBSTtRQUNKLG1DQUFtQztRQUNuQyw4Q0FBOEM7UUFDOUMsU0FBUztRQUNULG9DQUFvQztRQUNwQyxvQkFBb0I7UUFDcEIsSUFBSTtRQUNKLDZEQUE2RDtJQUNqRSxDQUFDO0lBRUQsaUNBQVMsR0FBVDtRQUVJLGVBQVEsQ0FBQyxVQUFVLENBQUMsSUFBSSxDQUFDLFdBQVcsQ0FBQyxDQUFDO1FBQ3RDLGVBQVEsQ0FBQyxJQUFJLEVBQUUsQ0FBQztRQUNoQixJQUFJLENBQUMsWUFBWSxDQUFDLGNBQUksQ0FBQyxDQUFDLElBQUksRUFBRSxDQUFBO0lBQ2xDLENBQUM7SUFFRCxpQ0FBUyxHQUFUO1FBRUksZUFBUSxDQUFDLFVBQVUsQ0FBQyxJQUFJLENBQUMsV0FBVyxHQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQztRQUNoRCxlQUFRLENBQUMsSUFBSSxFQUFFLENBQUM7UUFDaEIsSUFBSSxDQUFDLFlBQVksQ0FBQyxjQUFJLENBQUMsQ0FBQyxJQUFJLEVBQUUsQ0FBQTtJQUNsQyxDQUFDO0lBRUQsbUNBQVcsR0FBWDtRQUVJLElBQUksTUFBTSxHQUFHLGVBQVEsQ0FBQyxTQUFTLENBQUMsaUJBQVUsQ0FBQyxPQUFPLENBQUMsQ0FBQztJQUd4RCxDQUFDO0lBekREO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7dURBQ1U7SUFJN0I7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQzttREFDTTtJQUd6QjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsS0FBSyxDQUFDO21EQUNNO0lBR3pCO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxLQUFLLENBQUM7cURBQ1E7SUFiVixhQUFhO1FBRGpDLE9BQU87T0FDYSxhQUFhLENBNkRqQztJQUFELG9CQUFDO0NBN0RELEFBNkRDLENBN0QwQyxFQUFFLENBQUMsU0FBUyxHQTZEdEQ7a0JBN0RvQixhQUFhIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgVXNlckluZm8sIENob2ljZVR5cGUgfSBmcm9tIFwiLi4vSW5mb1wiO1xuaW1wb3J0IFZpZXcgZnJvbSBcIi4uLy4uLy4uL2ZyYW1ld29yay9wbHVnaW5fYm9vc3RzL3VpL1ZpZXdcIjtcblxuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExldmVsdXBEaWFsb2cgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxuICAgIGRpYW1vbmRMYWJlbDpjYy5MYWJlbCA9IG51bGw7XG5cblxuICAgIEBwcm9wZXJ0eShjYy5MYWJlbClcbiAgICBidG5MYWJlbDpjYy5MYWJlbCA9IG51bGw7XG5cbiAgICBAcHJvcGVydHkoY2MuTGFiZWwpXG4gICAgdGlwTGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxuICAgIGxldmVsTGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xuXG4gICAgbXVsdDpudW1iZXIgPSAxO1xuXG4gICAgYmFzZURpYW1vbmQ6bnVtYmVyID0gMDtcblxuICAgIG9uTG9hZCAoKSB7fVxuICAgIHN0YXJ0ICgpIHt9XG4gICAgb25TaG93bihsZXZlbCxwKVxuICAgIHtcbiAgICAgICAgLy/nu5npkrvnn7NcbiAgICAgICAgcCA9IE1hdGgubWluKHAsMSk7XG4gICAgICAgIGxldCBkaWFtb25kID0gTWF0aC5mbG9vcihNYXRoLm1heCgzMCAqIHAsMTApKVxuICAgICAgICB0aGlzLmJhc2VEaWFtb25kID0gZGlhbW9uZDtcbiAgICAgICAgdGhpcy5kaWFtb25kTGFiZWwuc3RyaW5nID0gZGlhbW9uZC50b1N0cmluZygpO1xuICAgICAgICB0aGlzLmxldmVsTGFiZWwuc3RyaW5nID0gY2MuanMuZm9ybWF0U3RyKFwiLSDnrKwgJXMg5YWzIC0gXCIsbGV2ZWwpXG5cbiAgICAgICAgLy8gaWYoTWF0aC5yYW5kb20oKSA+IDAuNylcbiAgICAgICAgLy8ge1xuICAgICAgICAvLyAgICAgdGhpcy5tdWx0ID0gZy5yYW5kb21JbnQoMyw2KVxuICAgICAgICAvLyAgICAgdGhpcy5idG5MYWJlbC5zdHJpbmcgPSB0aGlzLm11bHQgK1wi5YCN6aKG5Y+WXCJcbiAgICAgICAgLy8gfWVsc2V7XG4gICAgICAgIC8vICAgICB0aGlzLmJ0bkxhYmVsLnN0cmluZyA9IFwi5Y+M5YCN6aKG5Y+WXCJcbiAgICAgICAgLy8gICAgIHRoaXMubXVsdCA9IDJcbiAgICAgICAgLy8gfVxuICAgICAgICAvL3RoaXMudGlwTGFiZWwuc3RyaW5nID1cIuaBreWWnOiOt+W+l1wiICsgdGhpcy5idG5MYWJlbC5zdHJpbmcgK1wi5aWW5Yqx5py65LyaXCJcbiAgICB9XG5cbiAgICBjbGlja19nZXQoKVxuICAgIHtcbiAgICAgICAgVXNlckluZm8uYWRkRGlhbW9uZCh0aGlzLmJhc2VEaWFtb25kKTtcbiAgICAgICAgVXNlckluZm8uc2F2ZSgpO1xuICAgICAgICB0aGlzLmdldENvbXBvbmVudChWaWV3KS5oaWRlKClcbiAgICB9XG5cbiAgICBzaGFyZV9zdWMoKVxuICAgIHtcbiAgICAgICAgVXNlckluZm8uYWRkRGlhbW9uZCh0aGlzLmJhc2VEaWFtb25kKnRoaXMubXVsdCk7XG4gICAgICAgIFVzZXJJbmZvLnNhdmUoKTtcbiAgICAgICAgdGhpcy5nZXRDb21wb25lbnQoVmlldykuaGlkZSgpXG4gICAgfVxuXG4gICAgY2xpY2tfZ2V0ZXgoKVxuICAgIHtcbiAgICAgICAgbGV0IGNob2lzZSA9IFVzZXJJbmZvLmdldENob2ljZShDaG9pY2VUeXBlLkxldmVsdXApO1xuXG4gICAgICAgIFxuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/WinDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '7d78f0lU+VOW7rncsSfgC5s', 'WinDialog');
// Game/Scripts/ui/WinDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Info_1 = require("../Info");
var ViewManager_1 = require("../../../framework/plugin_boosts/ui/ViewManager");
var Consts_1 = require("../hex-lines-game/Consts");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var WinDialog = /** @class */ (function (_super) {
    __extends(WinDialog, _super);
    function WinDialog() {
        var _this = _super !== null && _super.apply(this, arguments) || this;
        _this.ps = null;
        _this.levelLabel = null;
        _this.screenShareAuto = null;
        return _this;
    }
    WinDialog.prototype.onLoad = function () { };
    WinDialog.prototype.start = function () { };
    WinDialog.prototype.decreaseFomula = function (max, min, t, d) {
        return max - (t / (t + d) * (max - min));
    };
    ;
    WinDialog.prototype.onShown = function () {
        this.screenShareAuto.active = false;
        if (appGame.platform == "toutiao") {
            appGame.screenAuto.playScreenCap(false);
            this.screenShareAuto.active = true;
        }
        this.ps.resetSystem();
        this.levelLabel.string = cc.js.formatStr("关卡 " + Info_1.UserInfo.currentLevel);
        var p = this.decreaseFomula(0.99, 0.3, Info_1.UserInfo.timePassed + Info_1.UserInfo.stepUsed, Info_1.UserInfo.currentLevel + 50);
        if (Info_1.UserInfo.level == Info_1.UserInfo.currentLevel) {
            var lv = Info_1.UserInfo.level;
            var choise_1 = Info_1.UserInfo.getChoice(Info_1.ChoiceType.Levelup);
            // if(choise > 0 && Math.random() > 0.5 && lv >= 3)
            // {
            //     this.scheduleOnce(_=>{
            //         ViewManager.instance.show("Game/LevelupDialog",lv,p)
            //     },1)
            // }else{
            //     p = Math.min(p,1);
            //     let diamond = Math.floor(Math.max(30 * p,10))
            //     UserInfo.addDiamond(diamond);
            // }
            Info_1.UserInfo.level = lv + 1;
            Info_1.UserInfo.save();
        }
        var choise = Info_1.UserInfo.getChoice(Info_1.ChoiceType.HB);
        if (choise == 1) {
            if (Info_1.UserInfo.level >= 3) {
                if (!Info_1.UserInfo.isUnlock(Consts_1.default.FreeSkinId)) {
                    ViewManager_1.default.instance.show("Game/HbDialog");
                }
            }
        }
        httpUtils.httpPost(consts.HTTP_RECORD_SERVER, { title: '结算界面', content: '第' + Info_1.UserInfo.level + "关" }, function () { });
        appGame.banner.playBanner(1);
    };
    WinDialog.prototype.click_rank = function () {
        ViewManager_1.default.instance.show("wechat/WxRankDialog");
    };
    //修改成开始当前游戏
    WinDialog.prototype.click_shop = function () {
        cc.director.loadScene("Game");
        httpUtils.httpPost(consts.HTTP_RECORD_SERVER, { title: '结算界面', content: '点击重玩' }, function () { });
        if (appGame.gameServerRoom.gameConfigData && appGame.gameServerRoom.gameConfigData.winAgain) {
            appGame.videoBanner.playVideoAd(3, 0, function () {
                //  UserInfo.currentLevel = UserInfo.currentLevel ;
            });
        }
        //ViewManager.instance.show("Game/ShopDialog");
    };
    WinDialog.prototype.click_next = function () {
        var btn3 = this.node.getChildByName("btn3").getComponent(cc.Button);
        btn3.enabled = false;
        this.scheduleOnce(function () {
            btn3.enabled = true;
        }.bind(this), 2);
        Info_1.UserInfo.currentLevel = Info_1.UserInfo.currentLevel + 1;
        cc.director.loadScene("Game");
        httpUtils.httpPost(consts.HTTP_RECORD_SERVER, { title: '结算界面', content: '点击下一关' }, function () { });
        if (appGame.gameServerRoom.gameConfigData && appGame.gameServerRoom.gameConfigData.winNextLevel) {
            appGame.videoBanner.playVideoAd(2, 0, function () {
                cc.log("win1");
                btn3.enabled = true;
            }.bind(this));
        }
    };
    WinDialog.prototype.click_home = function () {
        cc.director.loadScene("Main");
    };
    WinDialog.prototype.click_share = function () {
    };
    __decorate([
        property(cc.ParticleSystem)
    ], WinDialog.prototype, "ps", void 0);
    __decorate([
        property(cc.Label)
    ], WinDialog.prototype, "levelLabel", void 0);
    __decorate([
        property(cc.Node)
    ], WinDialog.prototype, "screenShareAuto", void 0);
    WinDialog = __decorate([
        ccclass
    ], WinDialog);
    return WinDialog;
}(cc.Component));
exports.default = WinDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXFdpbkRpYWxvZy50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsZ0NBQStDO0FBRS9DLCtFQUEwRTtBQUMxRSxtREFBOEM7QUFHeEMsSUFBQSxLQUFzQixFQUFFLENBQUMsVUFBVSxFQUFsQyxPQUFPLGFBQUEsRUFBRSxRQUFRLGNBQWlCLENBQUM7QUFHMUM7SUFBdUMsNkJBQVk7SUFBbkQ7UUFBQSxxRUFxSEM7UUFqSEcsUUFBRSxHQUFxQixJQUFJLENBQUM7UUFHNUIsZ0JBQVUsR0FBWSxJQUFJLENBQUM7UUFHM0IscUJBQWUsR0FBVyxJQUFJLENBQUM7O0lBMkduQyxDQUFDO0lBekdHLDBCQUFNLEdBQU4sY0FBVyxDQUFDO0lBQ1oseUJBQUssR0FBTCxjQUFVLENBQUM7SUFDWCxrQ0FBYyxHQUFkLFVBQWdCLEdBQUcsRUFBQyxHQUFHLEVBQUMsQ0FBQyxFQUFDLENBQUM7UUFFdkIsT0FBTyxHQUFHLEdBQUcsQ0FBQyxDQUFDLEdBQUUsQ0FBRSxDQUFDLEdBQUcsQ0FBQyxDQUFDLEdBQUcsQ0FBQyxHQUFHLEdBQUcsR0FBRyxDQUFDLENBQUUsQ0FBQTtJQUM3QyxDQUFDO0lBQUEsQ0FBQztJQUNGLDJCQUFPLEdBQVA7UUFFSSxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sR0FBSSxLQUFLLENBQUM7UUFDckMsSUFBRyxPQUFPLENBQUMsUUFBUSxJQUFJLFNBQVMsRUFBQztZQUM3QixPQUFPLENBQUMsVUFBVSxDQUFDLGFBQWEsQ0FBQyxLQUFLLENBQUMsQ0FBQTtZQUN2QyxJQUFJLENBQUMsZUFBZSxDQUFDLE1BQU0sR0FBSSxJQUFJLENBQUM7U0FDdkM7UUFDRCxJQUFJLENBQUMsRUFBRSxDQUFDLFdBQVcsRUFBRSxDQUFDO1FBR3RCLElBQUksQ0FBQyxVQUFVLENBQUMsTUFBTSxHQUFHLEVBQUUsQ0FBQyxFQUFFLENBQUMsU0FBUyxDQUFDLEtBQUssR0FBQyxlQUFR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LEVBQUUsQ0FBQyxRQUFRLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFBO1FBQzdCLFNBQVMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLGtCQUFrQixFQUFDLEVBQUMsS0FBSyxFQUFDLE1BQU0sRUFBQyxPQUFPLEVBQUMsT0FBTyxFQUFDLEVBQUMsY0FBVyxDQUFDLENBQUMsQ0FBQztRQUMxRixJQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsY0FBYyxJQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsY0FBYyxDQUFDLFlBQVksRUFBQztZQUMxRixPQUFPLENBQUMsV0FBVyxDQUFDLFdBQVcsQ0FBQyxDQUFDLEVBQUMsQ0FBQyxFQUFDO2dCQUNoQyxFQUFFLENBQUMsR0FBRyxDQUFDLE1BQU0sQ0FBQyxDQUFDO2dCQUNmLElBQUksQ0FBQyxPQUFPLEdBQUcsSUFBSSxDQUFDO1lBQ3hCLENBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQTtTQUNoQjtJQUVMLENBQUM7SUFFRCw4QkFBVSxHQUFWO1FBRUksRUFBRSxDQUFDLFFBQVEsQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUE7SUFDakMsQ0FBQztJQUVELCtCQUFXLEdBQVg7SUFHQSxDQUFDO0lBaEhEO1FBREMsUUFBUSxDQUFDLEVBQUUsQ0FBQyxjQUFjLENBQUM7eUNBQ0E7SUFHNUI7UUFEQyxRQUFRLENBQUMsRUFBRSxDQUFDLEtBQUssQ0FBQztpREFDUTtJQUczQjtRQURDLFFBQVEsQ0FBQyxFQUFFLENBQUMsSUFBSSxDQUFDO3NEQUNhO0lBVmQsU0FBUztRQUQ3QixPQUFPO09BQ2EsU0FBUyxDQXFIN0I7SUFBRCxnQkFBQztDQXJIRCxBQXFIQyxDQXJIc0MsRUFBRSxDQUFDLFNBQVMsR0FxSGxEO2tCQXJIb0IsU0FBUyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVzZXJJbmZvLCBDaG9pY2VUeXBlIH0gZnJvbSBcIi4uL0luZm9cIjtcblxuaW1wb3J0IFZpZXdNYW5hZ2VyIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy91aS9WaWV3TWFuYWdlclwiO1xuaW1wb3J0IENvbnN0cyBmcm9tIFwiLi4vaGV4LWxpbmVzLWdhbWUvQ29uc3RzXCI7XG5cblxuY29uc3Qge2NjY2xhc3MsIHByb3BlcnR5fSA9IGNjLl9kZWNvcmF0b3I7XG5cbkBjY2NsYXNzXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBXaW5EaWFsb2cgZXh0ZW5kcyBjYy5Db21wb25lbnQge1xuXG5cbiAgICBAcHJvcGVydHkoY2MuUGFydGljbGVTeXN0ZW0pXG4gICAgcHM6Y2MuUGFydGljbGVTeXN0ZW0gPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLkxhYmVsKVxuICAgIGxldmVsTGFiZWw6Y2MuTGFiZWwgPSBudWxsO1xuXG4gICAgQHByb3BlcnR5KGNjLk5vZGUpXG4gICAgc2NyZWVuU2hhcmVBdXRvOmNjLk5vZGUgPSBudWxsO1xuICAgIFxuICAgIG9uTG9hZCAoKSB7fVxuICAgIHN0YXJ0ICgpIHt9XG4gICAgZGVjcmVhc2VGb211bGEgKG1heCxtaW4sdCxkKVxuICAgIHtcbiAgICAgICAgcmV0dXJuIG1heCAtICh0LyAoIHQgKyBkKSAqIChtYXggLSBtaW4pIClcbiAgICB9O1xuICAgIG9uU2hvd24oKVxuICAgIHtcbiAgICAgICAgdGhpcy5zY3JlZW5TaGFyZUF1dG8uYWN0aXZlID0gIGZhbHNlO1xuICAgICAgICBpZihhcHBHYW1lLnBsYXRmb3JtID09IFwidG91dGlhb1wiKXtcbiAgICAgICAgICAgIGFwcEdhbWUuc2NyZWVuQXV0by5wbGF5U2NyZWVuQ2FwKGZhbHNlKVxuICAgICAgICAgICAgdGhpcy5zY3JlZW5TaGFyZUF1dG8uYWN0aXZlID0gIHRydWU7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5wcy5yZXNldFN5c3RlbSgpO1xuICAgICAgICBcblxuICAgICAgICB0aGlzLmxldmVsTGFiZWwuc3RyaW5nID0gY2MuanMuZm9ybWF0U3RyKFwi5YWz5Y2hIFwiK1VzZXJJbmZvLmN1cnJlbnRMZXZlbClcblxuICAgICAgICBsZXQgcCA9IHRoaXMuZGVjcmVhc2VGb211bGEoMC45OSwwLjMsVXNlckluZm8udGltZVBhc3NlZCArIFVzZXJJbmZvLnN0ZXBVc2VkLFVzZXJJbmZvLmN1cnJlbnRMZXZlbCArIDUwIClcblxuICAgICAgICBcbiAgICAgICAgaWYoVXNlckluZm8ubGV2ZWwgPT0gVXNlckluZm8uY3VycmVudExldmVsKVxuICAgICAgICB7XG4gICAgICAgICAgICBsZXQgbHYgPSBVc2VySW5mby5sZXZlbFxuICAgICAgICAgICAgbGV0IGNob2lzZSA9IFVzZXJJbmZvLmdldENob2ljZShDaG9pY2VUeXBlLkxldmVsdXApO1xuICAgICAgICAgICAgLy8gaWYoY2hvaXNlID4gMCAmJiBNYXRoLnJhbmRvbSgpID4gMC41ICYmIGx2ID49IDMpXG4gICAgICAgICAgICAvLyB7XG4gICAgICAgICAgICAvLyAgICAgdGhpcy5zY2hlZHVsZU9uY2UoXz0+e1xuICAgICAgICAgICAgLy8gICAgICAgICBWaWV3TWFuYWdlci5pbnN0YW5jZS5zaG93KFwiR2FtZS9MZXZlbHVwRGlhbG9nXCIsbHYscClcbiAgICAgICAgICAgIC8vICAgICB9LDEpXG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAvLyB9ZWxzZXtcbiAgICAgICAgICAgICAgIFxuICAgICAgICAgICAgLy8gICAgIHAgPSBNYXRoLm1pbihwLDEpO1xuICAgICAgICAgICAgLy8gICAgIGxldCBkaWFtb25kID0gTWF0aC5mbG9vcihNYXRoLm1heCgzMCAqIHAsMTApKVxuICAgICAgICAgIFxuICAgICAgICAgICAgLy8gICAgIFVzZXJJbmZvLmFkZERpYW1vbmQoZGlhbW9uZCk7XG4gICAgICAgICAgICAvLyB9XG4gICAgICAgICAgICBVc2VySW5mby5sZXZlbCA9IGx2ICsgMVxuICAgICAgICAgXG4gICAgICAgICAgICBVc2VySW5mby5zYXZlKCk7XG4gXG4gICAgICAgIH1cbiAgICAgICAgbGV0IGNob2lzZSA9IFVzZXJJbmZvLmdldENob2ljZShDaG9pY2VUeXBlLkhCKTtcbiAgICAgICAgaWYoY2hvaXNlID09IDEpXG4gICAgICAgIHtcbiAgICAgICAgICAgIGlmKFVzZXJJbmZvLmxldmVsID49IDMpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgaWYoIVVzZXJJbmZvLmlzVW5sb2NrKENvbnN0cy5GcmVlU2tpbklkKSlcbiAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgICAgIFZpZXdNYW5hZ2VyLmluc3RhbmNlLnNob3coXCJHYW1lL0hiRGlhbG9nXCIpXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon57uT566X55WM6Z2iJyxjb250ZW50OifnrKwnK1VzZXJJbmZvLmxldmVsK1wi5YWzXCJ9LGZ1bmN0aW9uKCl7fSk7XG4gICAgICAgIGFwcEdhbWUuYmFubmVyLnBsYXlCYW5uZXIoMSk7XG4gICAgfVxuXG4gICAgY2xpY2tfcmFuaygpXG4gICAge1xuICAgICAgICBWaWV3TWFuYWdlci5pbnN0YW5jZS5zaG93KFwid2VjaGF0L1d4UmFua0RpYWxvZ1wiKVxuICAgIH1cbiAgICAvL+S/ruaUueaIkOW8gOWni+W9k+WJjea4uOaIj1xuICAgIGNsaWNrX3Nob3AoKVxuICAgIHtcbiAgICAgICAgY2MuZGlyZWN0b3IubG9hZFNjZW5lKFwiR2FtZVwiKVxuICAgICAgICBodHRwVXRpbHMuaHR0cFBvc3QoY29uc3RzLkhUVFBfUkVDT1JEX1NFUlZFUix7dGl0bGU6J+e7k+eul+eVjOmdoicsY29udGVudDon54K55Ye76YeN546pJ30sZnVuY3Rpb24oKXt9KTtcbiAgICAgICAgaWYoYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5nYW1lQ29uZmlnRGF0YSAmJmFwcEdhbWUuZ2FtZVNlcnZlclJvb20uZ2FtZUNvbmZpZ0RhdGEud2luQWdhaW4pe1xuICAgICAgICAgICAgYXBwR2FtZS52aWRlb0Jhbm5lci5wbGF5VmlkZW9BZCgzLDAsZnVuY3Rpb24oKXtcbiAgICAgICAgICAgICAgLy8gIFVzZXJJbmZvLmN1cnJlbnRMZXZlbCA9IFVzZXJJbmZvLmN1cnJlbnRMZXZlbCA7XG4gICAgICAgICAgICAgICBcbiAgICAgICAgICAgIH0pXG4gICAgICAgIH1cblxuICAgICAgICAvL1ZpZXdNYW5hZ2VyLmluc3RhbmNlLnNob3coXCJHYW1lL1Nob3BEaWFsb2dcIik7XG4gICAgfVxuXG4gICAgY2xpY2tfbmV4dCgpXG4gICAge1xuICAgICAgICB2YXIgYnRuMyA9IHRoaXMubm9kZS5nZXRDaGlsZEJ5TmFtZShcImJ0bjNcIikuZ2V0Q29tcG9uZW50KGNjLkJ1dHRvbik7XG4gICAgICAgIGJ0bjMuZW5hYmxlZCA9IGZhbHNlO1xuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZShmdW5jdGlvbigpe1xuICAgICAgICAgICAgYnRuMy5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgfS5iaW5kKHRoaXMpLDIpO1xuICAgICAgICBVc2VySW5mby5jdXJyZW50TGV2ZWwgPSBVc2VySW5mby5jdXJyZW50TGV2ZWwgKzE7XG4gICAgICAgIGNjLmRpcmVjdG9yLmxvYWRTY2VuZShcIkdhbWVcIilcbiAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOifnu5PnrpfnlYzpnaInLGNvbnRlbnQ6J+eCueWHu+S4i+S4gOWFsyd9LGZ1bmN0aW9uKCl7fSk7XG4gICAgICAgIGlmKGFwcEdhbWUuZ2FtZVNlcnZlclJvb20uZ2FtZUNvbmZpZ0RhdGEgJiZhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmdhbWVDb25maWdEYXRhLndpbk5leHRMZXZlbCl7XG4gICAgICAgICAgICBhcHBHYW1lLnZpZGVvQmFubmVyLnBsYXlWaWRlb0FkKDIsMCxmdW5jdGlvbigpe1xuICAgICAgICAgICAgICAgIGNjLmxvZyhcIndpbjFcIik7XG4gICAgICAgICAgICAgICAgYnRuMy5lbmFibGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIH0uYmluZCh0aGlzKSlcbiAgICAgICAgfVxuICAgICAgXG4gICAgfVxuXG4gICAgY2xpY2tfaG9tZSgpXG4gICAge1xuICAgICAgICBjYy5kaXJlY3Rvci5sb2FkU2NlbmUoXCJNYWluXCIpXG4gICAgfVxuXG4gICAgY2xpY2tfc2hhcmUoKVxuICAgIHtcblxuICAgIH1cbn0iXX0=
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/LevelDialog.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4c94fc8PDtI1o3JM9m3WRKN', 'LevelDialog');
// Game/Scripts/ui/LevelDialog.ts

Object.defineProperty(exports, "__esModule", { value: true });
var Info_1 = require("../Info");
var LevelSelector_1 = require("../../../framework/plugin_boosts/ui/game/LevelSelector");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var LevelDialog = /** @class */ (function (_super) {
    __extends(LevelDialog, _super);
    function LevelDialog() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    LevelDialog.prototype.onLoad = function () { };
    LevelDialog.prototype.start = function () { };
    LevelDialog.prototype.onShown = function () {
        this.selector.currentLevel = Info_1.UserInfo.level;
        this.selector.refresh();
        this.scheduleOnce(this.refreshLevels, 0.1);
        appGame.banner.playBanner(1);
    };
    LevelDialog.prototype.refreshLevels = function () {
        this.selector.scrollToCurrentLevel();
    };
    LevelDialog.prototype.select_level = function (lvnode) {
        httpUtils.httpPost(consts.HTTP_RECORD_SERVER, { title: '选择关卡界面', content: '点击关卡' + lvnode.name }, function () { });
        this.gotoLevel(lvnode.name);
    };
    LevelDialog.prototype.refreshLevelItem = function (data) {
    };
    LevelDialog.prototype.gotoLevel = function (lv) {
        lv = parseInt(lv);
        console.log("enter level", lv);
        Info_1.UserInfo.currentLevel = lv;
        cc.director.loadScene("Game");
    };
    LevelDialog.prototype.click_continue = function () {
        this.gotoLevel(Info_1.UserInfo.level);
        httpUtils.httpPost(consts.HTTP_RECORD_SERVER, { title: '选择关卡界面', content: '点击继续游戏' }, function () { });
        if (appGame.gameServerRoom.gameConfigData && appGame.gameServerRoom.gameConfigData.LevelDialogContinue) {
            appGame.videoBanner.playVideoAd(1, 0, function () {
            }.bind(this));
        }
    };
    __decorate([
        property(LevelSelector_1.default)
    ], LevelDialog.prototype, "selector", void 0);
    LevelDialog = __decorate([
        ccclass
    ], LevelDialog);
    return LevelDialog;
}(cc.Component));
exports.default = LevelDialog;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXExldmVsRGlhbG9nLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7QUFBQSxnQ0FBbUM7QUFDbkMsd0ZBQW1GO0FBRzdFLElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQXlDLCtCQUFZO0lBQXJEOztJQWtEQSxDQUFDO0lBaERHLDRCQUFNLEdBQU4sY0FBVyxDQUFDO0lBQ1osMkJBQUssR0FBTCxjQUFVLENBQUM7SUFJWCw2QkFBTyxHQUFQO1FBRUksSUFBSSxDQUFDLFFBQVEsQ0FBQyxZQUFZLEdBQUcsZUFBUSxDQUFDLEtBQUssQ0FBQztRQUM1QyxJQUFJLENBQUMsUUFBUSxDQUFDLE9BQU8sRUFBRSxDQUFBO1FBRXZCLElBQUksQ0FBQyxZQUFZLENBQUMsSUFBSSxDQUFDLGFBQWEsRUFBRSxHQUFHLENBQUMsQ0FBQTtRQUMxQyxPQUFPLENBQUMsTUFBTSxDQUFDLFVBQVUsQ0FBQyxDQUFDLENBQUMsQ0FBQztJQUNqQyxDQUFDO0lBRUQsbUNBQWEsR0FBYjtRQUVJLElBQUksQ0FBQyxRQUFRLENBQUMsb0JBQW9CLEVBQUUsQ0FBQztJQUN6QyxDQUFDO0lBRUQsa0NBQVksR0FBWixVQUFhLE1BQU07UUFFZixTQUFTLENBQUMsUUFBUSxDQUFDLE1BQU0sQ0FBQyxrQkFBa0IsRUFBQyxFQUFDLEtBQUssRUFBQyxRQUFRLEVBQUMsT0FBTyxFQUFDLE1BQU0sR0FBQyxNQUFNLENBQUMsSUFBSSxFQUFDLEVBQUMsY0FBVyxDQUFDLENBQUMsQ0FBQztRQUN2RyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxJQUFJLENBQUMsQ0FBQTtJQUMvQixDQUFDO0lBRUQsc0NBQWdCLEdBQWhCLFVBQWlCLElBQUk7SUFFckIsQ0FBQztJQUVELCtCQUFTLEdBQVQsVUFBVSxFQUFFO1FBRVIsRUFBRSxHQUFJLFFBQVEsQ0FBQyxFQUFFLENBQUMsQ0FBQTtRQUNsQixPQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsRUFBSSxFQUFFLENBQUMsQ0FBQztRQUNqQyxlQUFRLENBQUMsWUFBWSxHQUFHLEVBQUUsQ0FBQztRQUMzQixFQUFFLENBQUMsUUFBUSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQTtJQUNqQyxDQUFDO0lBRUQsb0NBQWMsR0FBZDtRQUVJLElBQUksQ0FBQyxTQUFTLENBQUMsZUFBUSxDQUFDLEtBQUssQ0FBQyxDQUFBO1FBQzlCLFNBQVMsQ0FBQyxRQUFRLENBQUMsTUFBTSxDQUFDLGtCQUFrQixFQUFDLEVBQUMsS0FBSyxFQUFDLFFBQVEsRUFBQyxPQUFPLEVBQUMsUUFBUSxFQUFDLEVBQUMsY0FBVyxDQUFDLENBQUMsQ0FBQztRQUM3RixJQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsY0FBYyxJQUFHLE9BQU8sQ0FBQyxjQUFjLENBQUMsY0FBYyxDQUFDLG1CQUFtQixFQUFDO1lBQ2pHLE9BQU8sQ0FBQyxXQUFXLENBQUMsV0FBVyxDQUFDLENBQUMsRUFBQyxDQUFDLEVBQUM7WUFFcEMsQ0FBQyxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsQ0FBQyxDQUFBO1NBQ2hCO0lBRUwsQ0FBQztJQTVDRDtRQURDLFFBQVEsQ0FBQyx1QkFBYSxDQUFDO2lEQUNEO0lBTE4sV0FBVztRQUQvQixPQUFPO09BQ2EsV0FBVyxDQWtEL0I7SUFBRCxrQkFBQztDQWxERCxBQWtEQyxDQWxEd0MsRUFBRSxDQUFDLFNBQVMsR0FrRHBEO2tCQWxEb0IsV0FBVyIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IFVzZXJJbmZvIH0gZnJvbSBcIi4uL0luZm9cIjtcbmltcG9ydCBMZXZlbFNlbGVjdG9yIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy91aS9nYW1lL0xldmVsU2VsZWN0b3JcIjtcblxuXG5jb25zdCB7Y2NjbGFzcywgcHJvcGVydHl9ID0gY2MuX2RlY29yYXRvcjtcblxuQGNjY2xhc3NcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIExldmVsRGlhbG9nIGV4dGVuZHMgY2MuQ29tcG9uZW50IHtcblxuICAgIG9uTG9hZCAoKSB7fVxuICAgIHN0YXJ0ICgpIHt9XG4gICAgQHByb3BlcnR5KExldmVsU2VsZWN0b3IpXG4gICAgc2VsZWN0b3I6TGV2ZWxTZWxlY3RvcjtcblxuICAgIG9uU2hvd24oKVxuICAgIHtcbiAgICAgICAgdGhpcy5zZWxlY3Rvci5jdXJyZW50TGV2ZWwgPSBVc2VySW5mby5sZXZlbDtcbiAgICAgICAgdGhpcy5zZWxlY3Rvci5yZWZyZXNoKClcblxuICAgICAgICB0aGlzLnNjaGVkdWxlT25jZSh0aGlzLnJlZnJlc2hMZXZlbHMsIDAuMSlcbiAgICAgICAgYXBwR2FtZS5iYW5uZXIucGxheUJhbm5lcigxKTtcbiAgICB9XG5cbiAgICByZWZyZXNoTGV2ZWxzKClcbiAgICB7XG4gICAgICAgIHRoaXMuc2VsZWN0b3Iuc2Nyb2xsVG9DdXJyZW50TGV2ZWwoKTtcbiAgICB9XG5cbiAgICBzZWxlY3RfbGV2ZWwobHZub2RlKVxuICAgIHtcbiAgICAgICAgaHR0cFV0aWxzLmh0dHBQb3N0KGNvbnN0cy5IVFRQX1JFQ09SRF9TRVJWRVIse3RpdGxlOifpgInmi6nlhbPljaHnlYzpnaInLGNvbnRlbnQ6J+eCueWHu+WFs+WNoScrbHZub2RlLm5hbWV9LGZ1bmN0aW9uKCl7fSk7XG4gICAgICAgIHRoaXMuZ290b0xldmVsKGx2bm9kZS5uYW1lKVxuICAgIH1cblxuICAgIHJlZnJlc2hMZXZlbEl0ZW0oZGF0YSlcbiAgICB7XG4gICAgfVxuXG4gICAgZ290b0xldmVsKGx2KVxuICAgIHtcbiAgICAgICAgbHYgPSAgcGFyc2VJbnQobHYpXG4gICAgICAgIGNvbnNvbGUubG9nKFwiZW50ZXIgbGV2ZWxcIiAgLCBsdik7XG4gICAgICAgIFVzZXJJbmZvLmN1cnJlbnRMZXZlbCA9IGx2O1xuICAgICAgICBjYy5kaXJlY3Rvci5sb2FkU2NlbmUoXCJHYW1lXCIpXG4gICAgfVxuXG4gICAgY2xpY2tfY29udGludWUoKVxuICAgIHtcbiAgICAgICAgdGhpcy5nb3RvTGV2ZWwoVXNlckluZm8ubGV2ZWwpXG4gICAgICAgIGh0dHBVdGlscy5odHRwUG9zdChjb25zdHMuSFRUUF9SRUNPUkRfU0VSVkVSLHt0aXRsZTon6YCJ5oup5YWz5Y2h55WM6Z2iJyxjb250ZW50Oifngrnlh7vnu6fnu63muLjmiI8nfSxmdW5jdGlvbigpe30pO1xuICAgICAgICBpZihhcHBHYW1lLmdhbWVTZXJ2ZXJSb29tLmdhbWVDb25maWdEYXRhICYmYXBwR2FtZS5nYW1lU2VydmVyUm9vbS5nYW1lQ29uZmlnRGF0YS5MZXZlbERpYWxvZ0NvbnRpbnVlKXtcbiAgICAgICAgICAgIGFwcEdhbWUudmlkZW9CYW5uZXIucGxheVZpZGVvQWQoMSwwLGZ1bmN0aW9uKCl7XG4gICAgICAgICAgICAgICAgXG4gICAgICAgICAgICB9LmJpbmQodGhpcykpXG4gICAgICAgIH1cbiAgICAgICAgXG4gICAgfVxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/Game/Scripts/ui/DCBackground.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, '4d867LSTWNEB7LUL3KAjVve', 'DCBackground');
// Game/Scripts/ui/DCBackground.ts

Object.defineProperty(exports, "__esModule", { value: true });
var DCUI_1 = require("../../../framework/plugin_boosts/ui/DCUI");
var _a = cc._decorator, ccclass = _a.ccclass, property = _a.property;
var DCBackground = /** @class */ (function (_super) {
    __extends(DCBackground, _super);
    function DCBackground() {
        return _super !== null && _super.apply(this, arguments) || this;
    }
    DCBackground.prototype.onLoad = function () {
        this.sprite = this.getComponent(cc.Sprite);
    };
    DCBackground.prototype.start = function () { };
    DCBackground.prototype.onValueChanged = function (v) {
        // let data = UserInfo.getSkinById(v);
        // console.log(data);
        // SpriteFrameCache.instance.getSpriteFrame("Game/Textures/Bgs/"+data.img+".png").then(sf=>this.sprite.spriteFrame = sf);
    };
    DCBackground = __decorate([
        ccclass
    ], DCBackground);
    return DCBackground;
}(DCUI_1.default));
exports.default = DCBackground;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcR2FtZVxcU2NyaXB0c1xcdWlcXERDQmFja2dyb3VuZC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsaUVBQTREO0FBSXRELElBQUEsS0FBc0IsRUFBRSxDQUFDLFVBQVUsRUFBbEMsT0FBTyxhQUFBLEVBQUUsUUFBUSxjQUFpQixDQUFDO0FBRzFDO0lBQTBDLGdDQUFJO0lBQTlDOztJQWdCQSxDQUFDO0lBYkcsNkJBQU0sR0FBTjtRQUVJLElBQUksQ0FBQyxNQUFNLEdBQUcsSUFBSSxDQUFDLFlBQVksQ0FBQyxFQUFFLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDL0MsQ0FBQztJQUVELDRCQUFLLEdBQUwsY0FBVSxDQUFDO0lBRVgscUNBQWMsR0FBZCxVQUFlLENBQUM7UUFFWixzQ0FBc0M7UUFDdEMscUJBQXFCO1FBQ3JCLHlIQUF5SDtJQUM3SCxDQUFDO0lBZmdCLFlBQVk7UUFEaEMsT0FBTztPQUNhLFlBQVksQ0FnQmhDO0lBQUQsbUJBQUM7Q0FoQkQsQUFnQkMsQ0FoQnlDLGNBQUksR0FnQjdDO2tCQWhCb0IsWUFBWSIsImZpbGUiOiIiLCJzb3VyY2VSb290IjoiLyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBEQ1VJIGZyb20gXCIuLi8uLi8uLi9mcmFtZXdvcmsvcGx1Z2luX2Jvb3N0cy91aS9EQ1VJXCI7XG5pbXBvcnQgU3ByaXRlRnJhbWVDYWNoZSBmcm9tIFwiLi4vLi4vLi4vZnJhbWV3b3JrL3BsdWdpbl9ib29zdHMvbWlzYy9TcHJpdGVGcmFtZUNhY2hlXCI7XG5pbXBvcnQgeyBVc2VySW5mbyB9IGZyb20gXCIuLi9JbmZvXCI7XG5cbmNvbnN0IHtjY2NsYXNzLCBwcm9wZXJ0eX0gPSBjYy5fZGVjb3JhdG9yO1xuXG5AY2NjbGFzc1xuZXhwb3J0IGRlZmF1bHQgY2xhc3MgRENCYWNrZ3JvdW5kIGV4dGVuZHMgRENVSSB7XG5cbiAgICBzcHJpdGU6Y2MuU3ByaXRlO1xuICAgIG9uTG9hZCgpXG4gICAge1xuICAgICAgICB0aGlzLnNwcml0ZSA9IHRoaXMuZ2V0Q29tcG9uZW50KGNjLlNwcml0ZSk7XG4gICAgfVxuXG4gICAgc3RhcnQgKCkge31cblxuICAgIG9uVmFsdWVDaGFuZ2VkKHYpXG4gICAge1xuICAgICAgICAvLyBsZXQgZGF0YSA9IFVzZXJJbmZvLmdldFNraW5CeUlkKHYpO1xuICAgICAgICAvLyBjb25zb2xlLmxvZyhkYXRhKTtcbiAgICAgICAgLy8gU3ByaXRlRnJhbWVDYWNoZS5pbnN0YW5jZS5nZXRTcHJpdGVGcmFtZShcIkdhbWUvVGV4dHVyZXMvQmdzL1wiK2RhdGEuaW1nK1wiLnBuZ1wiKS50aGVuKHNmPT50aGlzLnNwcml0ZS5zcHJpdGVGcmFtZSA9IHNmKTtcbiAgICB9XG59Il19
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/assets/framework/network/MessageHandler.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}"use strict";
cc._RF.push(module, 'af7b1a7LUJIBaVXazyQWhWN', 'MessageHandler');
// framework/network/MessageHandler.ts

Object.defineProperty(exports, "__esModule", { value: true });
exports.MessageHandler = void 0;
var Message_1 = require("./Message");
var MessageType_1 = require("./MessageType");
var MessageDispatch_1 = require("./MessageDispatch");
var MessageHandler = /** @class */ (function () {
    function MessageHandler(webSocket) {
        this._writeMessage = null;
        this._messages = null;
        this._messages = [];
        this._heartbeatTime = 0;
        this._writeMessage = [];
        this._webSocket = webSocket;
        this.setHeartbeatInterval(30); //30秒
        this._isEnableHeartbeat = false;
    }
    Object.defineProperty(MessageHandler.prototype, "enableHeartbeat", {
        get: function () {
            return this._isEnableHeartbeat;
        },
        set: function (flag) {
            this._isEnableHeartbeat = flag;
        },
        enumerable: false,
        configurable: true
    });
    MessageHandler.prototype.setHeartbeatInterval = function (time) {
        if (time <= 0)
            time = 1;
        this._heartbeatInterval = time * 1000;
    };
    MessageHandler.prototype.onUpdate = function (timeStamp) {
        if (this._writeMessage.length > 0) {
            var msg = this._writeMessage[0];
            var message = msg.pack();
            if (this._webSocket.readyState == WebSocket.OPEN) {
                console.log("size: " + message.byteLength);
                this._webSocket.send(message);
                this._writeMessage.shift();
            }
        }
        if (this._messages.length > 0) {
            var msg = this._messages.shift();
            this.dispatchMessage(msg);
        }
        if (this._isEnableHeartbeat)
            this.checkHeartbeat();
        return false;
    };
    MessageHandler.prototype.checkHeartbeat = function () {
        var diff = new Date().getTime() - this._heartbeatTime;
        if (diff >= this._heartbeatInterval) {
            this.sendMessage(new Message_1.Message(game.Command.Heartbeat));
            this._heartbeatTime = new Date().getTime();
        }
    };
    MessageHandler.prototype.dispatchMessage = function (msg) {
        var dispatch = MessageDispatch_1.MessageDispatch.getInstance();
        if (!dispatch.onMessage(msg)) {
            this._messages.push(msg);
        }
    };
    MessageHandler.prototype.dispatchSocket = function (type) {
        var obj = { type: type };
        this.dispatchMessage(obj);
    };
    MessageHandler.prototype.dispatch = function (type, msg) {
        var _this = this;
        if (type == MessageType_1.SocketTag.KSOCKET_OPEN) {
            // cc.director.getScheduler().unschedule(this.onUpdate,this)
            // cc.director.getScheduler().schedule(this.onUpdate,this,0);
            clearInterval(this.updateTimer);
            this.updateTimer = setInterval(function (dt) { return _this.onUpdate(dt); }, 1000 / 60);
            this.dispatchSocket(type);
        }
        else if (type == MessageType_1.SocketTag.KSOCKET_CLOSE) {
            clearInterval(this.updateTimer);
            this.dispatchSocket(type);
        }
        else if (type == MessageType_1.SocketTag.KSOCKET_ERROR) {
            clearInterval(this.updateTimer);
            this.dispatchSocket(type);
        }
        else if (type == MessageType_1.SocketTag.KSOCKET_MESSAGE) {
            var obj = { type: type, msg: msg };
            this.dispatchMessage(obj);
        }
    };
    MessageHandler.prototype.clearWriteMessage = function () {
        this._writeMessage = [];
    };
    MessageHandler.prototype.clearMessage = function () {
        this._messages = [];
    };
    MessageHandler.prototype.sendMessage = function (msg) {
        this._writeMessage.push(msg);
    };
    return MessageHandler;
}());
exports.MessageHandler = MessageHandler;

cc._RF.pop();
                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFzc2V0c1xcZnJhbWV3b3JrXFxuZXR3b3JrXFxNZXNzYWdlSGFuZGxlci50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLHFDQUFvQztBQUNwQyw2Q0FBdUM7QUFDdkMscURBQWlEO0FBQ2pEO0lBUUMsd0JBQW1CLFNBQWM7UUFOekIsa0JBQWEsR0FBYyxJQUFJLENBQUM7UUFDaEMsY0FBUyxHQUFVLElBQUksQ0FBQztRQU0vQixJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztRQUNwQixJQUFJLENBQUMsY0FBYyxHQUFHLENBQUMsQ0FBQztRQUN4QixJQUFJLENBQUMsYUFBYSxHQUFHLEVBQUUsQ0FBQztRQUN4QixJQUFJLENBQUMsVUFBVSxHQUFHLFNBQVMsQ0FBQztRQUM1QixJQUFJLENBQUMsb0JBQW9CLENBQUMsRUFBRSxDQUFDLENBQUMsQ0FBQSxLQUFLO1FBQ25DLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxLQUFLLENBQUM7SUFDakMsQ0FBQztJQUVELHNCQUFXLDJDQUFlO2FBSTFCO1lBQ0MsT0FBTyxJQUFJLENBQUMsa0JBQWtCLENBQUM7UUFDaEMsQ0FBQzthQU5ELFVBQTJCLElBQWE7WUFDdkMsSUFBSSxDQUFDLGtCQUFrQixHQUFHLElBQUksQ0FBQztRQUNoQyxDQUFDOzs7T0FBQTtJQU1NLDZDQUFvQixHQUEzQixVQUE0QixJQUFZO1FBQ3ZDLElBQUcsSUFBSSxJQUFJLENBQUM7WUFBRSxJQUFJLEdBQUcsQ0FBQyxDQUFDO1FBQ3ZCLElBQUksQ0FBQyxrQkFBa0IsR0FBRyxJQUFJLEdBQUcsSUFBSSxDQUFDO0lBQ3ZDLENBQUM7SUFFTyxpQ0FBUSxHQUFoQixVQUFpQixTQUFpQjtRQUNqQyxJQUFHLElBQUksQ0FBQyxhQUFhLENBQUMsTUFBTSxHQUFHLENBQUMsRUFBQztZQUNoQyxJQUFJLEdBQUcsR0FBRyxJQUFJLENBQUMsYUFBYSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ2hDLElBQUksT0FB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QUFHLEVBQUUsR0FBRyxFQUFDLENBQUM7WUFDakMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxHQUFHLENBQUMsQ0FBQztTQUMxQjtJQUNGLENBQUM7SUFFTSwwQ0FBaUIsR0FBeEI7UUFDQyxJQUFJLENBQUMsYUFBYSxHQUFHLEVBQUUsQ0FBQztJQUN6QixDQUFDO0lBRU0scUNBQVksR0FBbkI7UUFDQyxJQUFJLENBQUMsU0FBUyxHQUFHLEVBQUUsQ0FBQztJQUNyQixDQUFDO0lBRU0sb0NBQVcsR0FBbEIsVUFBbUIsR0FBWTtRQUM5QixJQUFJLENBQUMsYUFBYSxDQUFDLElBQUksQ0FBQyxHQUFHLENBQUMsQ0FBQztJQUM5QixDQUFDO0lBQ0YscUJBQUM7QUFBRCxDQW5HQSxBQW1HQyxJQUFBO0FBbkdZLHdDQUFjIiwiZmlsZSI6IiIsInNvdXJjZVJvb3QiOiIvIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgTWVzc2FnZSB9IGZyb20gXCIuL01lc3NhZ2VcIjtcbmltcG9ydCB7U29ja2V0VGFnfSBmcm9tIFwiLi9NZXNzYWdlVHlwZVwiXG5pbXBvcnQge01lc3NhZ2VEaXNwYXRjaH0gZnJvbSBcIi4vTWVzc2FnZURpc3BhdGNoXCJcbmV4cG9ydCBjbGFzcyBNZXNzYWdlSGFuZGxlciB7XG5cdHByaXZhdGUgX3dlYlNvY2tldDogV2ViU29ja2V0O1xuXHRwcml2YXRlIF93cml0ZU1lc3NhZ2U6IE1lc3NhZ2VbXSA9IG51bGw7XG5cdHByaXZhdGUgX21lc3NhZ2VzOiBhbnlbXSA9IG51bGw7XG5cdHByaXZhdGUgX2hlYXJ0YmVhdEludGVydmFsOiBudW1iZXI7XG5cdHByaXZhdGUgX2hlYXJ0YmVhdFRpbWU6IG51bWJlcjtcblx0cHJpdmF0ZSBfaXNFbmFibGVIZWFydGJlYXQ6IGJvb2xlYW47XG5cdHByaXZhdGUgdXBkYXRlVGltZXI6bnVtYmVyO1xuXHRwdWJsaWMgY29uc3RydWN0b3Iod2ViU29ja2V0OiBhbnkpe1xuXHRcdHRoaXMuX21lc3NhZ2VzID0gW107XG5cdFx0dGhpcy5faGVhcnRiZWF0VGltZSA9IDA7XG5cdFx0dGhpcy5fd3JpdGVNZXNzYWdlID0gW107XG5cdFx0dGhpcy5fd2ViU29ja2V0ID0gd2ViU29ja2V0O1xuXHRcdHRoaXMuc2V0SGVhcnRiZWF0SW50ZXJ2YWwoMzApOy8vMzDnp5Jcblx0XHR0aGlzLl9pc0VuYWJsZUhlYXJ0YmVhdCA9IGZhbHNlO1xuXHR9XG5cblx0cHVibGljIHNldCBlbmFibGVIZWFydGJlYXQoZmxhZzogYm9vbGVhbil7XG5cdFx0dGhpcy5faXNFbmFibGVIZWFydGJlYXQgPSBmbGFnO1xuXHR9XG5cblx0cHVibGljIGdldCBlbmFibGVIZWFydGJlYXQoKTogYm9vbGVhbiB7XG5cdFx0cmV0dXJuIHRoaXMuX2lzRW5hYmxlSGVhcnRiZWF0O1xuXHR9XG5cblx0cHVibGljIHNldEhlYXJ0YmVhdEludGVydmFsKHRpbWU6IG51bWJlcil7Ly/np5Jcblx0XHRpZih0aW1lIDw9IDApIHRpbWUgPSAxO1xuXHRcdHRoaXMuX2hlYXJ0YmVhdEludGVydmFsID0gdGltZSAqIDEwMDA7XG5cdH1cblxuXHRwcml2YXRlIG9uVXBkYXRlKHRpbWVTdGFtcDogbnVtYmVyKTogYm9vbGVhbntcblx0XHRpZih0aGlzLl93cml0ZU1lc3NhZ2UubGVuZ3RoID4gMCl7XG5cdFx0XHRsZXQgbXNnID0gdGhpcy5fd3JpdGVNZXNzYWdlWzBdO1xuXHRcdFx0bGV0IG1lc3NhZ2UgPSBtc2cucGFjaygpO1xuXHRcdFx0aWYodGhpcy5fd2ViU29ja2V0LnJlYWR5U3RhdGUgPT0gV2ViU29ja2V0Lk9QRU4pe1xuXHRcdFx0XHRjb25zb2xlLmxvZyhcInNpemU6IFwiICsgbWVzc2FnZS5ieXRlTGVuZ3RoKTtcblx0XHRcdFx0dGhpcy5fd2ViU29ja2V0LnNlbmQobWVzc2FnZSk7XG5cdFx0XHRcdHRoaXMuX3dyaXRlTWVzc2FnZS5zaGlmdCgpO1xuXHRcdFx0fVxuXHRcdH1cblx0XHRpZih0aGlzLl9tZXNzYWdlcy5sZW5ndGggPiAwKXtcblx0XHRcdGxldCBtc2cgPSB0aGlzLl9tZXNzYWdlcy5zaGlmdCgpO1xuXHRcdFx0dGhpcy5kaXNwYXRjaE1lc3NhZ2UobXNnKTtcblx0XHR9XG5cdFx0aWYodGhpcy5faXNFbmFibGVIZWFydGJlYXQpXG5cdFx0XHR0aGlzLmNoZWNrSGVhcnRiZWF0KCk7XG5cdFx0cmV0dXJuIGZhbHNlO1xuXHR9XG5cblx0cHJpdmF0ZSBjaGVja0hlYXJ0YmVhdCgpe1xuXHRcdGxldCBkaWZmID0gbmV3IERhdGUoKS5nZXRUaW1lKCkgLSB0aGlzLl9oZWFydGJlYXRUaW1lO1xuXHRcdGlmKCBkaWZmID49IHRoaXMuX2hlYXJ0YmVhdEludGVydmFsKXtcblx0XHRcdHRoaXMuc2VuZE1lc3NhZ2UobmV3IE1lc3NhZ2UoZ2FtZS5Db21tYW5kLkhlYXJ0YmVhdCkpO1xuXHRcdFx0dGhpcy5faGVhcnRiZWF0VGltZSA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuXHRcdH1cblx0fVxuXG5cdHB1YmxpYyBkaXNwYXRjaE1lc3NhZ2UobXNnOiBhbnkpe1xuXHRcdGxldCBkaXNwYXRjaCA9IE1lc3NhZ2VEaXNwYXRjaC5nZXRJbnN0YW5jZSgpO1xuXHRcdGlmKCFkaXNwYXRjaC5vbk1lc3NhZ2UobXNnKSkge1xuXHRcdFx0dGhpcy5fbWVzc2FnZXMucHVzaChtc2cpO1xuXHRcdH1cblx0fVxuXG5cdHByaXZhdGUgZGlzcGF0Y2hTb2NrZXQodHlwZTogU29ja2V0VGFnKXtcblx0XHRsZXQgb2JqID0ge3R5cGU6IHR5cGV9O1xuXHRcdHRoaXMuZGlzcGF0Y2hNZXNzYWdlKG9iaik7XG5cdH1cblxuXHRwdWJsaWMgZGlzcGF0Y2godHlwZTogU29ja2V0VGFnLCBtc2c6IGFueSl7XG5cdFx0aWYodHlwZSA9PSBTb2NrZXRUYWcuS1NPQ0tFVF9PUEVOKXtcblx0XHRcdC8vIGNjLmRpcmVjdG9yLmdldFNjaGVkdWxlcigpLnVuc2NoZWR1bGUodGhpcy5vblVwZGF0ZSx0aGlzKVxuXHRcdFx0Ly8gY2MuZGlyZWN0b3IuZ2V0U2NoZWR1bGVyKCkuc2NoZWR1bGUodGhpcy5vblVwZGF0ZSx0aGlzLDApO1xuXHRcdFx0Y2xlYXJJbnRlcnZhbCh0aGlzLnVwZGF0ZVRpbWVyKTtcblx0XHRcdHRoaXMudXBkYXRlVGltZXIgPSBzZXRJbnRlcnZhbChkdD0+dGhpcy5vblVwZGF0ZShkdCksIDEwMDAvNjApO1xuXHRcdFx0dGhpcy5kaXNwYXRjaFNvY2tldCh0eXBlKTtcblx0XHR9ZWxzZSBpZih0eXBlID09IFNvY2tldFRhZy5LU09DS0VUX0NMT1NFKXtcblx0XHRcdGNsZWFySW50ZXJ2YWwodGhpcy51cGRhdGVUaW1lcik7XG5cdFx0XHR0aGlzLmRpc3BhdGNoU29ja2V0KHR5cGUpO1xuXHRcdH1lbHNlIGlmKHR5cGUgPT0gU29ja2V0VGFnLktTT0NLRVRfRVJST1Ipe1xuXHRcdFx0Y2xlYXJJbnRlcnZhbCh0aGlzLnVwZGF0ZVRpbWVyKTtcblx0XHRcdHRoaXMuZGlzcGF0Y2hTb2NrZXQodHlwZSk7XG5cdFx0fWVsc2UgaWYodHlwZSA9PSBTb2NrZXRUYWcuS1NPQ0tFVF9NRVNTQUdFKXtcblx0XHRcdGxldCBvYmogPSB7dHlwZTogdHlwZSwgbXNnOiBtc2d9O1xuXHRcdFx0dGhpcy5kaXNwYXRjaE1lc3NhZ2Uob2JqKTtcblx0XHR9XG5cdH1cblxuXHRwdWJsaWMgY2xlYXJXcml0ZU1lc3NhZ2UoKXtcblx0XHR0aGlzLl93cml0ZU1lc3NhZ2UgPSBbXTtcblx0fVxuXG5cdHB1YmxpYyBjbGVhck1lc3NhZ2UoKXtcblx0XHR0aGlzLl9tZXNzYWdlcyA9IFtdO1xuXHR9XG5cblx0cHVibGljIHNlbmRNZXNzYWdlKG1zZzogTWVzc2FnZSl7XG5cdFx0dGhpcy5fd3JpdGVNZXNzYWdlLnB1c2gobXNnKTtcblx0fVxufSJdfQ==
//------QC-SOURCE-SPLIT------

                (function() {
                    var nodeEnv = typeof require !== 'undefined' && typeof process !== 'undefined';
                    var __module = nodeEnv ? module : {exports:{}};
                    var __filename = 'preview-scripts/__node_modules/process/browser.js';
                    var __require = nodeEnv ? function (request) {
                        return cc.require(request);
                    } : function (request) {
                        return __quick_compile_project__.require(request, __filename);
                    };
                    function __define (exports, require, module) {
                        if (!nodeEnv) {__quick_compile_project__.registerModule(__filename, module);}// shim for using process in browser
var process = module.exports = {};

// cached from whatever global is present so that test runners that stub it
// don't break things.  But we need to wrap it in a try catch in case it is
// wrapped in strict mode code which doesn't define any globals.  It's inside a
// function because try/catches deoptimize in certain engines.

var cachedSetTimeout;
var cachedClearTimeout;

function defaultSetTimout() {
    throw new Error('setTimeout has not been defined');
}
function defaultClearTimeout () {
    throw new Error('clearTimeout has not been defined');
}
(function () {
    try {
        if (typeof setTimeout === 'function') {
            cachedSetTimeout = setTimeout;
        } else {
            cachedSetTimeout = defaultSetTimout;
        }
    } catch (e) {
        cachedSetTimeout = defaultSetTimout;
    }
    try {
        if (typeof clearTimeout === 'function') {
            cachedClearTimeout = clearTimeout;
        } else {
            cachedClearTimeout = defaultClearTimeout;
        }
    } catch (e) {
        cachedClearTimeout = defaultClearTimeout;
    }
} ())
function runTimeout(fun) {
    if (cachedSetTimeout === setTimeout) {
        //normal enviroments in sane situations
        return setTimeout(fun, 0);
    }
    // if setTimeout wasn't available but was latter defined
    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {
        cachedSetTimeout = setTimeout;
        return setTimeout(fun, 0);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedSetTimeout(fun, 0);
    } catch(e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally
            return cachedSetTimeout.call(null, fun, 0);
        } catch(e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error
            return cachedSetTimeout.call(this, fun, 0);
        }
    }


}
function runClearTimeout(marker) {
    if (cachedClearTimeout === clearTimeout) {
        //normal enviroments in sane situations
        return clearTimeout(marker);
    }
    // if clearTimeout wasn't available but was latter defined
    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {
        cachedClearTimeout = clearTimeout;
        return clearTimeout(marker);
    }
    try {
        // when when somebody has screwed with setTimeout but no I.E. maddness
        return cachedClearTimeout(marker);
    } catch (e){
        try {
            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally
            return cachedClearTimeout.call(null, marker);
        } catch (e){
            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.
            // Some versions of I.E. have different rules for clearTimeout vs setTimeout
            return cachedClearTimeout.call(this, marker);
        }
    }



}
var queue = [];
var draining = false;
var currentQueue;
var queueIndex = -1;

function cleanUpNextTick() {
    if (!draining || !currentQueue) {
        return;
    }
    draining = false;
    if (currentQueue.length) {
        queue = currentQueue.concat(queue);
    } else {
        queueIndex = -1;
    }
    if (queue.length) {
        drainQueue();
    }
}

function drainQueue() {
    if (draining) {
        return;
    }
    var timeout = runTimeout(cleanUpNextTick);
    draining = true;

    var len = queue.length;
    while(len) {
        currentQueue = queue;
        queue = [];
        while (++queueIndex < len) {
            if (currentQueue) {
                currentQueue[queueIndex].run();
            }
        }
        queueIndex = -1;
        len = queue.length;
    }
    currentQueue = null;
    draining = false;
    runClearTimeout(timeout);
}

process.nextTick = function (fun) {
    var args = new Array(arguments.length - 1);
    if (arguments.length > 1) {
        for (var i = 1; i < arguments.length; i++) {
            args[i - 1] = arguments[i];
        }
    }
    queue.push(new Item(fun, args));
    if (queue.length === 1 && !draining) {
        runTimeout(drainQueue);
    }
};

// v8 likes predictible objects
function Item(fun, array) {
    this.fun = fun;
    this.array = array;
}
Item.prototype.run = function () {
    this.fun.apply(null, this.array);
};
process.title = 'browser';
process.browser = true;
process.env = {};
process.argv = [];
process.version = ''; // empty string to avoid regexp issues
process.versions = {};

function noop() {}

process.on = noop;
process.addListener = noop;
process.once = noop;
process.off = noop;
process.removeListener = noop;
process.removeAllListeners = noop;
process.emit = noop;
process.prependListener = noop;
process.prependOnceListener = noop;

process.listeners = function (name) { return [] }

process.binding = function (name) {
    throw new Error('process.binding is not supported');
};

process.cwd = function () { return '/' };
process.chdir = function (dir) {
    throw new Error('process.chdir is not supported');
};
process.umask = function() { return 0; };

                    }
                    if (nodeEnv) {
                        __define(__module.exports, __require, __module);
                    }
                    else {
                        __quick_compile_project__.registerModuleFunc(__filename, function () {
                            __define(__module.exports, __require, __module);
                        });
                    }
                })();
//------QC-SOURCE-SPLIT------
