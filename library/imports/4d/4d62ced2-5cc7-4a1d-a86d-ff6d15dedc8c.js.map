{"version":3,"sources":["assets\\gameComon\\scripts\\ad\\banner.js"],"names":["AppGame","require","Banner","cc","Class","properties","ctor","instance","statics","create","data","initWithData","targetBannerAdWidth","sys","platform","BYTEDANCE_GAME","tt","getSystemInfoSync","windowWidth","windowHeight","width","height","adId","appGame","gameServerRoom","adConfig","bannerId","toutiao","adUnitId","console","log","globalData","bannerAd","createBannerAd","style","top","left","refreshSize","httpUtils","httpPost","consts","HTTP_RECORD_SERVER","title","content","desc","WECHAT_GAME","qq","QQ","wx","WX","scheduleCallBack","playBanner","sceneId","refreshTime","gameConfigData","isbanner","director","getScheduler","enableForTarget","schedule","unschedule","BAIDU_GAME","destroy","swan","baidu","appId","appSid","onLoad","show","then","err","hide","onResize","size","onError","listener","errCode","errMsg","module","exports"],"mappings":"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","sourceRoot":"/","sourcesContent":["const AppGame = require(\"../model/appGame\");\r\n\r\nvar Banner = cc.Class({\r\n    properties: {\r\n    },\r\n    ctor(){\r\n        this.instance = null;\r\n    },\r\n    statics: {\r\n        create: function (data) {\r\n            if(!this.instance){\r\n                this.instance = new Banner();\r\n                this.instance.initWithData(data);\r\n                return this.instance;\r\n            }\r\n        }\r\n    },\r\n    initWithData: function (data) {\r\n        this.targetBannerAdWidth = 200;\r\n        if(cc.sys.platform == cc.sys.BYTEDANCE_GAME){ //头条平台\r\n            const{windowWidth,windowHeight} = tt.getSystemInfoSync();\r\n            this.width = windowWidth;\r\n            this.height = windowHeight;\r\n            this.adId = '3o8m16pp3e54cqcd5t';\r\n            if(appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.bannerId && appGame.gameServerRoom.adConfig.bannerId.toutiao){\r\n                this.adId = appGame.gameServerRoom.adConfig.bannerId.toutiao.adUnitId;\r\n            }\r\n            console.log(\"banner 第一次创建\")\r\n            this.globalData = {\r\n                bannerAd: tt.createBannerAd({\r\n                    adUnitId: this.adId,\r\n                    //adIntervals:30,\r\n                    style: {\r\n                        width: this.targetBannerAdWidth,\r\n                        top: this.height - (this.targetBannerAdWidth / 16) * 9, // 根据系统约定尺寸计算出广告高度\r\n                        left : (this.width - this.targetBannerAdWidth) / 2,\r\n                    },\r\n                }),\r\n            }\r\n            this.refreshSize();\r\n            httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:'广告位banner',content:'创建成功',desc:this.adId},function(){\r\n            });\r\n        }else if(cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'QQ'){\r\n            const { windowWidth, windowHeight } = qq.getSystemInfoSync();\r\n            this.width = windowWidth;\r\n            this.height = windowHeight;\r\n            this.adId = '4ef215ca5af9c3b454e9d22a676f7992';\r\n            if(appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.bannerId && appGame.gameServerRoom.adConfig.bannerId.QQ){\r\n                this.adId = appGame.gameServerRoom.adConfig.bannerId.QQ.adUnitId;\r\n            }\r\n            console.log(\"banner 第一次创建\")\r\n            //this.targetBannerAdWidth = 300;\r\n            this.globalData = {\r\n                bannerAd: qq.createBannerAd({\r\n                    adUnitId: this.adId,\r\n                    style: {\r\n                        //width: this.targetBannerAdWidth,\r\n                        //top: this.height - (this.targetBannerAdWidth / 16) * 9, // 根据系统约定尺寸计算出广告高度\r\n                        //left: (this.width - this.targetBannerAdWidth) / 2,\r\n                        width: this.targetBannerAdWidth,\r\n                        top: this.height - (this.targetBannerAdWidth / 16) * 9, // 根据系统约定尺寸计算出广告高度\r\n                        left: (this.width - this.targetBannerAdWidth) / 2,\r\n                    },\r\n                }),\r\n            }\r\n            this.refreshSize();\r\n            httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:'广告位banner',content:'创建成功',desc:this.adId},function(){\r\n            });\r\n        }\r\n        else if(cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'WX'){\r\n            const { windowWidth, windowHeight } = wx.getSystemInfoSync();\r\n            this.width = windowWidth;\r\n            this.height = windowHeight;\r\n            this.adId = '4ef215ca5af9c3b454e9d22a676f7992';\r\n            if(appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.bannerId && appGame.gameServerRoom.adConfig.bannerId.WX){\r\n                this.adId = appGame.gameServerRoom.adConfig.bannerId.WX.adUnitId;\r\n            }\r\n            console.log(\"banner 第一次创建\")\r\n            this.globalData = {\r\n                bannerAd: wx.createBannerAd({\r\n                    adUnitId: this.adId,\r\n                    style: {\r\n                        width: this.targetBannerAdWidth,\r\n                        top: this.height - (this.targetBannerAdWidth / 16) * 9, // 根据系统约定尺寸计算出广告高度\r\n                        left: (this.width - this.targetBannerAdWidth) / 2,\r\n                    },\r\n                }),\r\n            }\r\n            this.refreshSize();\r\n            httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:'广告位banner',content:'创建成功',desc:this.adId},function(){\r\n            });\r\n        }\r\n    },\r\n    scheduleCallBack:function(){\r\n        console.log(\"n秒后刷新\")\r\n        this.playBanner(3);\r\n        this.playBanner(2);\r\n    },\r\n    /*\r\n    *sceneId 1 普通的展示   2 N秒刷新展示   3 隐藏\r\n    */\r\n    playBanner:function(sceneId,refreshTime = 30){\r\n        if(cc.sys.platform == cc.sys.BYTEDANCE_GAME && appGame.gameServerRoom.gameConfigData&&\r\n            appGame.gameServerRoom.gameConfigData.isbanner){\r\n            console.log(\"banner return\")\r\n            return;\r\n        }\r\n        cc.director.getScheduler().enableForTarget(this);\r\n        if(sceneId!=3){\r\n            if(sceneId==2){\r\n                cc.director.getScheduler().schedule(this.scheduleCallBack,this,refreshTime);\r\n            }else{\r\n                cc.director.getScheduler().unschedule(this.scheduleCallBack,this) \r\n            }\r\n            \r\n            if(cc.sys.platform == cc.sys.BYTEDANCE_GAME){ //头条平台\r\n                if(this.globalData && this.globalData.bannerAd){\r\n                    console.log(\"banner 隐藏\")\r\n                }else{\r\n                    console.log(\"banner 创建\")\r\n                    this.globalData = {\r\n                        bannerAd: tt.createBannerAd({\r\n                            adUnitId: this.adId,\r\n                            //adIntervals:30,\r\n                            style: {\r\n                                width: this.targetBannerAdWidth,\r\n                                top: this.height - (this.targetBannerAdWidth / 16) * 9, // 根据系统约定尺寸计算出广告高度\r\n                                left : (this.width - this.targetBannerAdWidth) / 2,\r\n                            },\r\n                        }),\r\n                    }\r\n                    this.refreshSize();\r\n                    httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:'广告位banner',content:'创建成功',desc:this.adId},function(){\r\n                    });\r\n                }                \r\n            }else if(cc.sys.platform == cc.sys.BAIDU_GAME){//百度\r\n                if(this.globalData && this.globalData.bannerAd){\r\n                    this.globalData.bannerAd.destroy();\r\n                    this.globalData.bannerAd = null;\r\n                }\r\n                const{windowWidth,windowHeight} = swan.getSystemInfoSync();\r\n                this.width = windowWidth;\r\n                this.height = windowHeight;\r\n                if(appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.bannerId && appGame.gameServerRoom.adConfig.bannerId.baidu){\r\n                    this.adId = appGame.gameServerRoom.adConfig.bannerId.baidu.adUnitId;\r\n                }\r\n                if(appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.bannerId && appGame.gameServerRoom.adConfig.bannerId.baidu){\r\n                    this.appId = appGame.gameServerRoom.adConfig.bannerId.baidu.appSid;\r\n                }\r\n                this.globalData = {\r\n                    bannerAd: swan.createBannerAd({\r\n                        adUnitId: this.adId,\r\n                        appSid:this.appId,\r\n                        style: {\r\n                            width: this.width,\r\n                            top: this.height - (this.targetBannerAdWidth / 16) * 9, // 根据系统约定尺寸计算出广告高度\r\n                            left : (this.width - this.targetBannerAdWidth) / 2,\r\n                        },\r\n                    }),\r\n                }\r\n                this.refreshSize();\r\n                httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:'广告位banner',content:'创建成功',desc:this.adId},function(){\r\n                });\r\n            }else if(cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'QQ'){//QQ\r\n                if(this.globalData && this.globalData.bannerAd){\r\n                    this.globalData.bannerAd.destroy();\r\n                    this.globalData.bannerAd = null;\r\n                }\r\n                const{windowWidth,windowHeight} = qq.getSystemInfoSync();\r\n                this.width = windowWidth;\r\n                this.height = windowHeight;\r\n                if(appGame.gameServerRoom.adConfig && appGame.gameServerRoom.adConfig.bannerId && appGame.gameServerRoom.adConfig.bannerId.QQ){\r\n                    this.adId = appGame.gameServerRoom.adConfig.bannerId.QQ.adUnitId;\r\n                }\r\n                this.globalData = {\r\n                    bannerAd: qq.createBannerAd({\r\n                        adUnitId: this.adId,\r\n                        style: {\r\n                            width: this.width,\r\n                            top: this.height - (this.targetBannerAdWidth / 16) * 9, // 根据系统约定尺寸计算出广告高度\r\n                            left : (this.width - this.targetBannerAdWidth) / 2,\r\n                        },\r\n                    }),\r\n                }\r\n                this.refreshSize();\r\n                httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:'广告位banner',content:'创建成功',desc:this.adId},function(){\r\n                });\r\n            }\r\n            if(this.globalData && this.globalData.bannerAd){\r\n                console.log(\"播放banner广告\")\r\n                if(cc.sys.platform == cc.sys.BAIDU_GAME){//百度\r\n                    this.globalData.bannerAd.onLoad(() => {\r\n                        console.log('百度banner 加载完成');\r\n                        this.globalData.bannerAd.show().then(() => {\r\n                            console.log(\"展示成功\")\r\n                            httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:'广告位banner',content:'展示成功',desc:this.adId},function(){\r\n                            });\r\n                        }).catch((err) => {\r\n                            console.log(\"展示失败\")\r\n                            httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:'广告位banner',content:'展示失败',desc:this.adId},function(){\r\n                            });\r\n                        });\r\n                    });\r\n                }else if(cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'QQ'){\r\n                    this.globalData.bannerAd.onLoad(() => {\r\n                        console.log('qqBanner 加载完成');\r\n                        this.globalData.bannerAd.show();\r\n                        console.log(\"展示成功\")\r\n                        httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:'广告位banner',content:'展示成功',desc:this.adId},function(){\r\n                        });\r\n                    });\r\n                }else{\r\n                    console.log(\"开始展示广告\")\r\n                    this.globalData.bannerAd.show().then(() => {\r\n                        console.log(\"展示成功\")\r\n                        httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:'广告位banner',content:'展示成功',desc:this.adId},function(){\r\n                        });\r\n                    }).catch((err) => {\r\n                        console.log(\"展示失败\")\r\n                        httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:'广告位banner',content:'展示失败',desc:this.adId},function(){\r\n                        });\r\n                    });\r\n                }\r\n            }\r\n        }else{\r\n            cc.director.getScheduler().unschedule(this.scheduleCallBack,this) \r\n            if(cc.sys.platform == cc.sys.BYTEDANCE_GAME){ //头条平台\r\n                if(this.globalData && this.globalData.bannerAd){\r\n                    this.globalData.bannerAd.hide();\r\n                    this.globalData.bannerAd.destroy();\r\n                    this.globalData.bannerAd = null;\r\n                    console.log(\"字节平台banner 销毁\")\r\n                    this.globalData = {\r\n                        bannerAd: tt.createBannerAd({\r\n                            adUnitId: this.adId,\r\n                            //adIntervals:30,\r\n                            style: {\r\n                                width: this.targetBannerAdWidth,\r\n                                top: this.height - (this.targetBannerAdWidth / 16) * 9, // 根据系统约定尺寸计算出广告高度\r\n                                left : (this.width - this.targetBannerAdWidth) / 2,\r\n                            },\r\n                        }),\r\n                    }\r\n                    this.refreshSize();\r\n                    httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:'广告位banner',content:'隐藏创建成功',desc:this.adId},function(){\r\n                    });\r\n                }\r\n            }else if (cc.sys.platform == cc.sys.WECHAT_GAME&& appGame.platform == 'WX') { //微信平台\r\n                if (this.globalData && this.globalData.bannerAd) {\r\n                    this.globalData.bannerAd.hide();\r\n                    this.globalData.bannerAd.destroy();\r\n                    this.globalData.bannerAd = null;\r\n                    console.log(\"banner 销毁\")\r\n                    this.globalData = {\r\n                        bannerAd: wx.createBannerAd({\r\n                            adUnitId: this.adId,\r\n                            style: {\r\n                                width: this.targetBannerAdWidth,\r\n                                top: this.height - (this.targetBannerAdWidth / 16) * 9, // 根据系统约定尺寸计算出广告高度\r\n                                left: (this.width - this.targetBannerAdWidth) / 2,\r\n                            },\r\n                        }),\r\n                    }\r\n                    this.refreshSize();\r\n                    httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:'广告位banner',content:'隐藏创建成功',desc:this.adId},function(){\r\n                    });\r\n                }\r\n            }else if(cc.sys.platform == cc.sys.WECHAT_GAME && appGame.platform == 'QQ'){\r\n                this.globalData.bannerAd.hide();\r\n                httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:'广告位banner',content:'隐藏',desc:this.adId},function(){\r\n                });\r\n            }\r\n        }\r\n    },\r\n    refreshSize(){\r\n        // 尺寸调整时会触发回调，通过回调拿到的广告真实宽高再进行定位适配处理\r\n        // 注意：如果在回调里再次调整尺寸，要确保不要触发死循环！！！\r\n        if(this.globalData && this.globalData.bannerAd){\r\n            if(cc.sys.platform == cc.sys.BYTEDANCE_GAME || cc.sys.platform == cc.sys.WECHAT_GAME|| cc.sys.platform == cc.sys.BAIDU_GAME){ //头条平台\r\n                this.globalData.bannerAd.onResize((size) => {\r\n                    console.log(\"banner shezhi大小\"+this.height+\"   \"+this.width)\r\n                    this.globalData.bannerAd.style.top = this.height - size.height;\r\n                    this.globalData.bannerAd.style.left = (this.width - size.width) / 2;\r\n                    //this.globalData.bannerAd.offResize();\r\n                });\r\n            }\r\n            this.globalData.bannerAd.onError((listener) => {\r\n                console.log(\"banner 出错\"+listener.errCode+listener.errMsg)\r\n                httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:'广告位banner',content:this.adId,desc:listener.errCode+listener.errMsg},function(){\r\n                });\r\n                // appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_LOADTIP, {\r\n                //     content:\"出错啦！！！\"\r\n                //  });\r\n                //this.globalData.bannerAd.offError();\r\n            });\r\n        }\r\n    },\r\n});\r\nmodule.exports = Banner;"]}