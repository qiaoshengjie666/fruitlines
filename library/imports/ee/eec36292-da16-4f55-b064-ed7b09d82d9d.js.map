{"version":3,"sources":["assets\\gameComon\\scripts\\loadTip.js"],"names":["cc","Class","Component","properties","contentLabel","Label","onLoad","string","show","opts","content","node","active","_forceUpdateRenderData","spaceWidth","getContentSize","width","labelWidth","view","getVisibleSize","overflow","Overflow","NONE","height","CLAMP","enableWrapText","Math","floor","opacity","stopAllActions","runAction","sequence","fadeIn","delayTime","callFunc","bind","start"],"mappings":";;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAEAA,EAAE,CAACC,KAAH,CAAS;AACL,aAASD,EAAE,CAACE,SADP;AAGLC,EAAAA,UAAU,EAAE;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAC,IAAAA,YAAY,EAACJ,EAAE,CAACK;AAhBR,GAHP;AAsBL;AAEAC,EAAAA,MAxBK,oBAwBK;AACN,SAAKF,YAAL,CAAkBG,MAAlB,GAA2B,EAA3B;AACH,GA1BI;AA4BLC,EAAAA,IA5BK,gBA4BAC,IA5BA,EA4BK;AACNA,IAAAA,IAAI,GAAGA,IAAI,IAAI,EAAf;;AACA,QAAIA,IAAI,CAACC,OAAT,EAAkB;AACd,WAAKC,IAAL,CAAUC,MAAV,GAAmB,IAAnB;AACA,WAAKR,YAAL,CAAkBG,MAAlB,GAA2BE,IAAI,CAACC,OAAhC;;AACA,WAAKN,YAAL,CAAkBS,sBAAlB,CAAyC,IAAzC;;AACA,UAAIC,UAAU,GAAG,KAAKV,YAAL,CAAkBO,IAAlB,CAAuBI,cAAvB,GAAwCC,KAAzD;AACA,UAAIC,UAAU,GAAGjB,EAAE,CAACkB,IAAH,CAAQC,cAAR,GAAyBH,KAAzB,GAA+B,GAAhD;;AACA,UAAGF,UAAU,GAACG,UAAd,EAAyB;AACrB,aAAKb,YAAL,CAAkBgB,QAAlB,GAA6BpB,EAAE,CAACK,KAAH,CAASgB,QAAT,CAAkBC,IAA/C;AACA,aAAKlB,YAAL,CAAkBO,IAAlB,CAAuBK,KAAvB,GAA+BF,UAA/B;AACA,aAAKV,YAAL,CAAkBO,IAAlB,CAAuBY,MAAvB,GAAgC,KAAKnB,YAAL,CAAkBO,IAAlB,CAAuBI,cAAvB,GAAwCQ,MAAxE;AACA,aAAKZ,IAAL,CAAUK,KAAV,GAAkBF,UAAU,GAAC,EAA7B;AACA,aAAKH,IAAL,CAAUY,MAAV,GAAmB,EAAnB;AACH,OAND,MAMK;AACD,aAAKnB,YAAL,CAAkBgB,QAAlB,GAA6BpB,EAAE,CAACK,KAAH,CAASgB,QAAT,CAAkBG,KAA/C;AACA,aAAKpB,YAAL,CAAkBqB,cAAlB,GAAmC,IAAnC;AACA,aAAKrB,YAAL,CAAkBO,IAAlB,CAAuBK,KAAvB,GAA+BC,UAA/B;AACA,aAAKb,YAAL,CAAkBO,IAAlB,CAAuBY,MAAvB,GAAgC,KAAKnB,YAAL,CAAkBO,IAAlB,CAAuBI,cAAvB,GAAwCQ,MAAxC,GAA+CG,IAAI,CAACC,KAAL,CAAWb,UAAU,GAACG,UAAtB,IAAkC,EAAjH;AACA,aAAKN,IAAL,CAAUK,KAAV,GAAkBC,UAAU,GAAC,EAA7B;AACA,aAAKN,IAAL,CAAUY,MAAV,GAAmB,KAAKG,IAAI,CAACC,KAAL,CAAWb,UAAU,GAACG,UAAtB,IAAkC,EAA1D;AACH;AACJ;;AACD,SAAKN,IAAL,CAAUiB,OAAV,GAAoB,CAApB;AACA,SAAKjB,IAAL,CAAUkB,cAAV;AACA,SAAKlB,IAAL,CAAUmB,SAAV,CAAoB9B,EAAE,CAAC+B,QAAH,CAAY/B,EAAE,CAACgC,MAAH,CAAU,GAAV,CAAZ,EAA2BhC,EAAE,CAACiC,SAAH,CAAa,CAAb,CAA3B,EAA2CjC,EAAE,CAACkC,QAAH,CAAY,YAAU;AACjF,WAAKvB,IAAL,CAAUC,MAAV,GAAmB,KAAnB;AACH,KAF0E,CAEzEuB,IAFyE,CAEpE,IAFoE,CAAZ,CAA3C,CAApB;AAGH,GAxDI;AA0DLC,EAAAA,KA1DK,mBA0DI,CAER,CA5DI,CA8DL;;AA9DK,CAAT","sourceRoot":"/","sourcesContent":["// Learn cc.Class:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/class.html\r\n// Learn Attribute:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/reference/attributes.html\r\n// Learn life-cycle callbacks:\r\n//  - https://docs.cocos.com/creator/manual/en/scripting/life-cycle-callbacks.html\r\n\r\ncc.Class({\r\n    extends: cc.Component,\r\n\r\n    properties: {\r\n        // foo: {\r\n        //     // ATTRIBUTES:\r\n        //     default: null,        // The default value will be used only when the component attaching\r\n        //                           // to a node for the first time\r\n        //     type: cc.SpriteFrame, // optional, default is typeof default\r\n        //     serializable: true,   // optional, default is true\r\n        // },\r\n        // bar: {\r\n        //     get () {\r\n        //         return this._bar;\r\n        //     },\r\n        //     set (value) {\r\n        //         this._bar = value;\r\n        //     }\r\n        // },\r\n        contentLabel:cc.Label,\r\n    },\r\n\r\n    // LIFE-CYCLE CALLBACKS:\r\n\r\n    onLoad () {\r\n        this.contentLabel.string = '';\r\n    },\r\n\r\n    show(opts){\r\n        opts = opts || {};\r\n        if (opts.content) {\r\n            this.node.active = true;\r\n            this.contentLabel.string = opts.content;\r\n            this.contentLabel._forceUpdateRenderData(true);\r\n            let spaceWidth = this.contentLabel.node.getContentSize().width;\r\n            let labelWidth = cc.view.getVisibleSize().width-200\r\n            if(spaceWidth<labelWidth){\r\n                this.contentLabel.overflow = cc.Label.Overflow.NONE;\r\n                this.contentLabel.node.width = spaceWidth;\r\n                this.contentLabel.node.height = this.contentLabel.node.getContentSize().height;\r\n                this.node.width = spaceWidth+30;\r\n                this.node.height = 80;\r\n            }else{\r\n                this.contentLabel.overflow = cc.Label.Overflow.CLAMP;\r\n                this.contentLabel.enableWrapText = true;\r\n                this.contentLabel.node.width = labelWidth;\r\n                this.contentLabel.node.height = this.contentLabel.node.getContentSize().height+Math.floor(spaceWidth/labelWidth)*40;\r\n                this.node.width = labelWidth+30;\r\n                this.node.height = 80 + Math.floor(spaceWidth/labelWidth)*50;\r\n            }            \r\n        }\r\n        this.node.opacity = 0;\r\n        this.node.stopAllActions();\r\n        this.node.runAction(cc.sequence(cc.fadeIn(0.5),cc.delayTime(1),cc.callFunc(function(){\r\n            this.node.active = false;\r\n        }.bind(this))));\r\n    },\r\n\r\n    start () {\r\n\r\n    },\r\n\r\n    // update (dt) {},\r\n});\r\n"]}