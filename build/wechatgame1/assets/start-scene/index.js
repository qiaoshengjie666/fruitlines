window.__require=function t(e,n,o){function i(s,r){if(!n[s]){if(!e[s]){var c=s.split("/");if(c=c[c.length-1],!e[c]){var l="function"==typeof __require&&__require;if(!r&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var u=n[s]={exports:{}};e[s][0].call(u.exports,function(t){return i(e[s][1][t]||t)},u,u.exports,t,e,n,o)}return n[s].exports}for(var a="function"==typeof __require&&__require,s=0;s<o.length;s++)i(o[s]);return i}({Animal:[function(t,e,n){"use strict";cc._RF.push(e,"ba634us93lPYrBZpOaL4ofo","Animal"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.sprite=null,e.animation=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.animation=this.getComponentInChildren(cc.Animation),this.animation.on("finished",this.onFinish,this)},e.prototype.onFinish=function(t,e){"animal_jump"==e.clip.name&&this.animation.play("animal_idle")},e.prototype.start=function(){this.animation.play("animal_idle")},e.prototype.connected=function(){this.animation.play("animal_jump").wrapMode=cc.WrapMode.Normal},e.prototype._loopJump=function(){this.animation.play("animal_jump").wrapMode=cc.WrapMode.Loop},e.prototype.loopJump=function(t){this.scheduleOnce(this._loopJump,this.randomFloat(0,t))},e.prototype.randomFloat=function(t,e){return Math.random()*(e-t)+t},__decorate([a(cc.Sprite)],e.prototype,"sprite",void 0),__decorate([i],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],BoostsAction:[function(t,e,n){"use strict";cc._RF.push(e,"47da3PXgqdE55aSvY0ox9B4","BoostsAction"),Object.defineProperty(n,"__esModule",{value:!0}),n.Shake=n.V2ChangeAction=n.ValueChangeAction=void 0;var o=function(t){function e(e,n,o,i,a){var s=t.call(this)||this;return s.delta=s.sub(o,n),s.setDuration(e),s.callback=i,s.start=n,s.end=o,s.callbackTarget=a,s}return __extends(e,t),e.prototype.sub=function(t,e){return t-e},e.prototype.add=function(t,e){return t+e},e.prototype.mul=function(t,e){return t*e},e.prototype.update=function(t){t=this._computeEaseTime(t);var e=this.add(this.start,this.mul(this.delta,t));this.callback.call(this.callbackTarget,e)},e}(cc.ActionInterval);n.ValueChangeAction=o;var i=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.sub=function(t,e){return t.sub(t,e)},e.prototype.add=function(t,e){return t.add(t,e)},e.prototype.mul=function(t,e){return t.mul(t,e)},e}(o);n.V2ChangeAction=i;var a=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._initial_x=0,e._initial_y=0,e._strength_x=0,e._strength_y=0,e}return __extends(e,t),e.create=function(t,n,o){var i=new e;return i.initWithDuration(t,n,o),i},e.prototype.initWithDuration=function(t,e,n){return cc.ActionInterval.prototype.initWithDuration.apply(this,arguments),this._strength_x=e,this._strength_y=n,!0},e.prototype.fgRangeRand=function(t,e){return Math.random()*(e-t)+t},e.prototype.update=function(){var t=this.fgRangeRand(-this._strength_x,this._strength_x),e=this.fgRangeRand(-this._strength_y,this._strength_y);this.getTarget().setPosition(t+this._initial_x,e+this._initial_y)},e.prototype.startWithTarget=function(t){cc.ActionInterval.prototype.startWithTarget.apply(this,arguments),this._initial_x=t.x,this._initial_y=t.y},e.prototype.stop=function(){this.getTarget().setPosition(new cc.Vec2(this._initial_x,this._initial_y)),cc.ActionInterval.prototype.stop.apply(this)},e}(cc.ActionInterval);n.Shake=a,cc._RF.pop()},{}],1:[function(t,e){var n,o,i=e.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function r(t){if(n===setTimeout)return setTimeout(t,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(t,0);try{return n(t,0)}catch(e){try{return n.call(null,t,0)}catch(e){return n.call(this,t,0)}}}function c(t){if(o===clearTimeout)return clearTimeout(t);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(t);try{return o(t)}catch(e){try{return o.call(null,t)}catch(e){return o.call(this,t)}}}(function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(t){n=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(t){o=s}})();var l,u=[],d=!1,p=-1;function h(){d&&l&&(d=!1,l.length?u=l.concat(u):p=-1,u.length&&f())}function f(){if(!d){var t=r(h);d=!0;for(var e=u.length;e;){for(l=u,u=[];++p<e;)l&&l[p].run();p=-1,e=u.length}l=null,d=!1,c(t)}}function g(t,e){this.fun=t,this.array=e}function m(){}i.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];u.push(new g(t,e)),1!==u.length||d||r(f)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(){return[]},i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],ClickAudioManager:[function(t,e,n){"use strict";cc._RF.push(e,"679c3x/ZwhD8KnIy6p5lX5y","ClickAudioManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./ClickAudio"),i=cc._decorator,a=i.ccclass,s=i.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audio=null,e.elastic=!1,e}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.each=function(t){if(t.getComponent(cc.Button)){var e=t.getComponent(o.default);null==e&&((e=t.addComponent(o.default)).elastic=this.elastic,e.audio=this.audio)}},e.prototype.start=function(){},__decorate([s({type:cc.AudioClip})],e.prototype,"audio",void 0),__decorate([s],e.prototype,"elastic",void 0),__decorate([a],e)}(cc.Component);n.default=r,cc._RF.pop()},{"./ClickAudio":"ClickAudio"}],ClickAudio:[function(t,e,n){"use strict";cc._RF.push(e,"5ee8a8X6jFF5qtYOWlGoNww","ClickAudio"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../gamesys/Device"),i=cc._decorator,a=i.ccclass,s=i.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.audio=null,e.elastic=!1,e._oldScale=1,e}return __extends(e,t),e.prototype.anim2=function(){var t=cc.scaleBy(.6,.9,.9).easing(cc.easeElasticOut(.3));this.node.runAction(t)},e.prototype.anim2back=function(){var t=cc.scaleTo(.6,this._oldScale,this._oldScale).easing(cc.easeElasticOut(.3));this.node.runAction(t)},e.prototype.onLoad=function(){var t=this;if(this.elastic){var e=this.getComponent(cc.Button);e.transition=cc.Button.Transition.COLOR,e.normalColor=cc.Color.WHITE,e.pressedColor=new cc.Color(200,200,200),this._oldScale=this.node.scale}this.node.on("touchstart",function(){t.elastic&&t.anim2()},this.node),this.node.on("touchend",function(){o.default.playEffect(t.audio,!1),t.elastic&&t.anim2back()}),this.node.on("touchcancel",function(){t.elastic&&t.anim2back()})},__decorate([s({type:cc.AudioClip})],e.prototype,"audio",void 0),__decorate([s],e.prototype,"elastic",void 0),__decorate([a],e)}(cc.Component);n.default=r,cc._RF.pop()},{"../gamesys/Device":"Device"}],Common:[function(t,e,n){"use strict";cc._RF.push(e,"d6d4aCOiTtJz6R1xuSQrtdC","Common"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../misc/SpriteFrameCache"),i=function(){function t(){}return t.loadJson=function(t){return new Promise(function(e){cc.loader.loadRes(t,cc.JsonAsset,function(t,n){e(n.json)})})},t.sleep=function(t){return new Promise(function(e){setTimeout(function(){e()},1e3*t)})},t.isGreaterDays=function(t,e){if(void 0===e&&(e=7),(new Date).getTime()-t>864e5*e)return!0},t.setDisplay=function(t,e){o.default.instance.getSpriteFrame(e).then(function(e){t.spriteFrame=e})},t.generate_action=function(t){return cc.scaleTo(t.time,t.scale_x,t.scale_y)},t.jellyJump=function(t){var e=this.generate_action({time:.06,scale_x:.7,scale_y:.7,scale_z:1}),n=this.generate_action({time:.07,scale_x:1,scale_y:1.4,scale_z:1}),o=cc.scaleTo(.8,1.3).easing(cc.easeElasticOut(.3)),i=cc.sequence(e,n,o);t.runAction(i)},t.jellyJump2=function(t,e,n){t.scale=e;var o=cc.scaleTo(.8,n,n).easing(cc.easeElasticOut(.3));t.runAction(o)},t.moveBezier=function(t,e,n,o,i,a){void 0===o&&(o=null),void 0===i&&(i=1),void 0===a&&(a=0);var s=cc.instantiate(t);s.opacity=255,s.setPosition(e);var r=[],c=e.x,l=e.y,u=n.x,d=n.y;return r[0]=cc.v2(c,l),r[1]=cc.v2(c+.5*Math.abs(u-c+100),l+.5*Math.abs(d-l+100)),r[2]=cc.v2(u,d),s.runAction(cc.sequence(cc.delayTime(a),cc.bezierTo(i,r),cc.fadeOut(.3),cc.callFunc(o))),s},t}();n.default=i,cc._RF.pop()},{"../misc/SpriteFrameCache":"SpriteFrameCache"}],ConnectManager:[function(t,e,n){"use strict";cc._RF.push(e,"ac5faec2blDKJorwXTfZFZx","ConnectManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.connManager=void 0;var o=t("./Socket"),i=function(){function t(){this._allConns=null,this._allConns={}}return t.getInstance=function(){return null==this._instance&&(this._instance=new t),this._instance},t.prototype.create=function(t,e){if(null==this._allConns[t]){var n=new o.Socket(e);this._allConns[t]=n,null==this._defaultKey&&(this._defaultKey=t)}},t.prototype.setDefaultKey=function(t){null!=t&&this._allConns[t]&&(this._defaultKey=t)},t.prototype.getDefault=function(){return this.getConn(this._defaultKey)},t.prototype.getConn=function(t){return null==t?null:null!=this._allConns[t]?this._allConns[t]:null},t.prototype.sendMessage=function(t,e){null==e&&(e=this._defaultKey);var n=this.getConn(e);null!=n&&n.sendMessage(t)},t.prototype.enableHeartbeat=function(t){this.getConn(t).enableHeartbeat(!0)},t.prototype.sendCustomMessage=function(t){var e=this.getConn(this._defaultKey);null!=e&&e.sendCustomMessage(t)},t.prototype.remove=function(t){var e=this.getConn(t);null!=e&&(delete this._allConns[t],e.close())},t._instance=null,t}();n.connManager=i.getInstance(),cc._RF.pop()},{"./Socket":"Socket"}],Consts:[function(t,e,n){"use strict";cc._RF.push(e,"ccf28Nj1JdBbY/NtYiwJtcW","Consts"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.CenterY=0,t.CenterX=0,t.ColSize=84,t.RowSize=61,t.StagePageCount=3,t.FreeSkinId=5,t}();n.default=o,cc._RF.pop()},{}],DCBackground:[function(t,e,n){"use strict";cc._RF.push(e,"4d867LSTWNEB7LUL3KAjVve","DCBackground"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../framework/plugin_boosts/ui/DCUI"),i=cc._decorator,a=i.ccclass,s=(i.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){this.sprite=this.getComponent(cc.Sprite)},e.prototype.start=function(){},e.prototype.onValueChanged=function(){},__decorate([a],e)}(o.default));n.default=s,cc._RF.pop()},{"../../../framework/plugin_boosts/ui/DCUI":"DCUI"}],DCLabel:[function(t,e,n){"use strict";cc._RF.push(e,"a56c0Fh1bpDto6UwDov+u7M","DCLabel"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./DCUI"),i=cc._decorator,a=i.ccclass,s=(i.property,i.requireComponent),r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){this.label=this.getComponent(cc.Label)},e.prototype.onValueChanged=function(t){t||(console.log("[DCLabel] warn!","not found field "+this.dataBind),t="0"),this.label.string=t},__decorate([a,s(cc.Label)],e)}(o.default);n.default=r,cc._RF.pop()},{"./DCUI":"DCUI"}],DCPandoraPoint:[function(t,e,n){"use strict";cc._RF.push(e,"7213alSGlhOObvGLLyQvhtZ","DCPandoraPoint"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./DCUI"),i=t("./PandoraPoint"),a=cc._decorator,s=a.ccclass,r=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){this.point=this.getComponent(i.default)},e.prototype.onValueChanged=function(t){this.point.setNumber(t)},__decorate([s],e)}(o.default));n.default=r,cc._RF.pop()},{"./DCUI":"DCUI","./PandoraPoint":"PandoraPoint"}],DCParticleSystem:[function(t,e,n){"use strict";cc._RF.push(e,"f51daFLsqdJ/4k4IuDQeRuR","DCParticleSystem"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../framework/plugin_boosts/ui/DCUI"),i=t("../Info"),a=cc._decorator,s=a.ccclass,r=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.onValueChanged=function(t){var e=this,n=i.UserInfo.getSkinById(t);this.ps&&this.ps.node&&this.ps.node.destroy(),cc.loader.loadRes("Game/Particles/"+n.ps,cc.ParticleAsset,function(t,o){console.log(n.ps,o);var i=new cc.Node;e.ps=i.addComponent(cc.ParticleSystem),e.ps.file=o,e.node.addChild(i)})},__decorate([s],e)}(o.default));n.default=r,cc._RF.pop()},{"../../../framework/plugin_boosts/ui/DCUI":"DCUI","../Info":"Info"}],DCSprite:[function(t,e,n){"use strict";cc._RF.push(e,"82b09vMdyFCOb0NEdBTtZHy","DCSprite"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./DCUI"),i=t("../misc/SpriteFrameCache"),a=cc._decorator,s=a.ccclass,r=(a.property,a.requireComponent),c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){this.sprite=this.getComponent(cc.Sprite)},e.prototype.refreshSpriteFrame=function(t){var e=this;i.default.instance.getSpriteFrame(t).then(function(t){e.sprite.spriteFrame=t}).catch(function(){console.log("request imageUrl error :"+t)})},e.prototype.onValueChanged=function(t){this.refreshSpriteFrame(t)},__decorate([s,r(cc.Sprite)],e)}(o.default);n.default=c,cc._RF.pop()},{"../misc/SpriteFrameCache":"SpriteFrameCache","./DCUI":"DCUI"}],DCToggle:[function(t,e,n){"use strict";cc._RF.push(e,"f9e52WLze5MBrhxXx/fWqyL","DCToggle"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./DCUI"),i=cc._decorator,a=i.ccclass,s=i.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.revserse=!1,e.autosync=!0,e}return __extends(e,t),e.prototype.onLoad=function(){if(this.toggle=this.getComponent(cc.Toggle),this.autosync){var t=new cc.Component.EventHandler;t.component="DCToggle",t.target=this.node,t.handler="onChecked",this.toggle.checkEvents.push(t)}},e.prototype.onChecked=function(t){this.isFromSelf||(this.revserse?this.setDCValue(!t.isChecked):this.setDCValue(t.isChecked))},e.prototype.setChecked=function(t){this.isFromSelf=!0,t?this.toggle.check():this.toggle.uncheck(),this.isFromSelf=!1},e.prototype.onValueChanged=function(t){this.revserse?this.setChecked(!t):this.setChecked(t)},__decorate([s({tooltip:"If reverse is enabled ,checked is false !, unchecked is true"})],e.prototype,"revserse",void 0),__decorate([s({tooltip:" Make sure data bind type should be boolean"})],e.prototype,"autosync",void 0),__decorate([a],e)}(o.default);n.default=r,cc._RF.pop()},{"./DCUI":"DCUI"}],DCUI:[function(t,e,n){"use strict";cc._RF.push(e,"e4171eQC3dMO4x8/Td1XV1Y","DCUI"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../misc/DataCenter"),i=cc._decorator,a=i.ccclass,s=i.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dataBind="",e}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.setDCKey=function(t){this.dataBind=t,this.setListener()},e.prototype.setListener=function(){o.default.off(this.dataBind,this.dataChanged,this),o.default.on(this.dataBind,this.dataChanged,this)},e.prototype.onValueChanged=function(){},e.prototype.setDCValue=function(t){o.default.set(this.dataBind,t)},e.prototype.dataChanged=function(t){this.onValueChanged(t)},e.prototype.onEnable=function(){this.setListener(),this.onValueChanged(o.default.get(this.dataBind))},e.prototype.onDisable=function(){o.default.off(this.dataBind,this.dataChanged,this)},__decorate([s()],e.prototype,"dataBind",void 0),__decorate([a],e)}(cc.Component);n.default=r,cc._RF.pop()},{"../misc/DataCenter":"DataCenter"}],DailyGetDialog:[function(t,e,n){"use strict";cc._RF.push(e,"d3b8fModWBPmovqTucbpm5C","DailyGetDialog"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../Info"),i=t("../../../framework/plugin_boosts/ui/View"),a=cc._decorator,s=a.ccclass,r=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.diamond=0,e.rewardLabel=null,e}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.onShown=function(){this.diamond=g.randomInt(20,50),this.rewardLabel.string=cc.js.formatStr("\u94bb\u77f3 x "+this.diamond)},e.prototype.click_get=function(){o.UserInfo.addDiamond(this.diamond),o.UserInfo.dailyGetTime=(new Date).getTime(),o.UserInfo.save(),this.getComponent(i.default).hide()},e.prototype.share_succ=function(){o.UserInfo.addDiamond(2*this.diamond),o.UserInfo.dailyGetTime=(new Date).getTime(),o.UserInfo.save(),this.getComponent(i.default).hide()},e.prototype.click_get_double=function(){0==o.UserInfo.getChoice(o.ChoiceType.DailyGet)&&this.share_succ()},__decorate([r(cc.Label)],e.prototype,"rewardLabel",void 0),__decorate([s],e)}(cc.Component);n.default=c,cc._RF.pop()},{"../../../framework/plugin_boosts/ui/View":"View","../Info":"Info"}],DataCenter:[function(t,e,n){"use strict";cc._RF.push(e,"2946dm7U5hPgIxciZRaL5Q+","DataCenter"),Object.defineProperty(n,"__esModule",{value:!0}),n.field=n.dc=void 0;var o=t("../utils/EventManager"),i={},a={};n.dc=function(t,e){return void 0===e&&(e=!0),function(n){n.prototype.constructor,a[n]={name:t,serializable:e}}},n.field=function(t){return function(e,n){t&&t.default&&(e[n]=t.default);var o=e.constructor,a=i[o];null==a&&(a=[],i[o]=a),a.push(n)}};var s=function(){function t(){this.__namespace="DataCenter",this.kvs={},this.kts={},this.kvs={},this.kts={}}return t.prototype.registerFields=function(t){console.log(this);var e=this.__proto__.constructor,n=i[e],o=a[e];for(var s in n){var r=n[s];"function"!=typeof r&&(this.register(r,this[r]),delete this[r])}t=t||o.name,this.endRegister(t,o.serializable)},t.prototype.register=function(t,e){var n=this.constructor.prototype,o=this;n.__defineGetter__(t,function(){return o.getData(t)}),n.__defineSetter__(t,function(e){o.setData(t,e)}),this.kvs[t]=e;var i=typeof e;this.kts[t]=i,console.log("[DataCenter] register :"+t+":"+e+"("+i+")")},t.prototype.setData=function(t,e){var n=this.kvs[t];if(n!=e){var i=this.kts[t],a=this._field_(t);i!=typeof e&&(console.warn("[DataCenter] wrong type <"+typeof e+"> for :"+a+"<"+i+"> ,converting..."),"number"==i?e=Number(e):"boolean"==i&&(e="true"==e)),this.kvs[t]=e,console.log("[DataCenter] onValueChanged",a,e),o.event.emit(a,e,n)}},t.prototype._field_=function(t){return this.__namespace+"."+t},t.prototype.getData=function(t){return this.kvs[t]},t.prototype.limit=function(t,e,n){return t>n?n:t<e?0:t},t.prototype.addData=function(t,e){if(null!=(e=Number(e))){var n=this.kvs[t],i=Number(n)+e;this.kvs[t]=i,o.event.emit(this._field_(t),i,n)}},t.prototype.load=function(){for(var t in this.kvs){var e=localStorage.getItem(this._field_(t)),n=e;if(e){var o=this.kts[t];"number"==o?n=Number(e):"boolean"==o&&(n="true"==e)}else n=this.getData(t);this.kvs[t]=n}},t.prototype.save=function(){for(var t in console.log("[DataCenter] save :=================================="),this.kvs){var e=this.kvs[t],n=this._field_(t);localStorage.setItem(n,e.toString()),console.log(cc.js.formatStr("%s:%s",n,e))}console.log("[DataCenter] save succ :==================================")},t.prototype.endRegister=function(e,n){void 0===n&&(n=!0),this.__namespace=e,t.alldata[e]=this,n&&(this.load(),this.save())},t.off=function(t,e,n){o.event.off(t,e,n)},t.on=function(t,e,n){o.event.on(t,e,n),this.set(t,this.get(t))},t.get=function(e){var n=e.split("."),o=n[0],i=n[1],a=t.alldata[o];return a?a[i]:null},t.set=function(e,n){var o=e.split("."),i=o[0],a=o[1],s=t.alldata[i];s&&(s[a]=n)},t.register=function(t){var e=new t;return e.registerFields(),e},t.alldata={},t}();n.default=s,cc._RF.pop()},{"../utils/EventManager":"EventManager"}],Device:[function(t,e,n){"use strict";cc._RF.push(e,"b88b4v3H5tF7ozLVLmzIPqR","Device"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.setSoundsEnable=function(e){t.setSFXEnable(e),t.setBGMEnable(e)},t.setSFXEnable=function(e){cc.audioEngine.setEffectsVolume(1==e?1:0),t.isSfxEnabled=e,e?cc.audioEngine.resumeAllEffects():cc.audioEngine.pauseAllEffects()},t.useCCAudioEngine=function(){this._useCCAudioEngine=!0},t.useDefaultAudioEngine=function(){this._useCCAudioEngine=!1},t.setBGMEnable=function(e){cc.audioEngine.setMusicVolume(1==e?1:0),t.isBgmEnabled=e,e?cc.audioEngine.resumeMusic():cc.audioEngine.pauseMusic()},t.playEffect=function(e,n){if(void 0===n&&(n=!1),t.isSfxEnabled){if(cc.sys.platform!=cc.sys.QQ_PLAY)return cc.audioEngine.playEffect(e,n);if(this._useCCAudioEngine)return cc.audioEngine.playEffect(e,n)}},t.stopMusic=function(){cc.audioEngine.stopMusic()},t.playMusic=function(e,n){if(void 0===n&&(n=!0),t.isBgmEnabled)return cc.audioEngine.playMusic(e,n)},t.vibrate=function(){cc.sys.WECHAT_GAME==cc.sys.platform?wx.vibrateShort():console.log("not support vibrate on except-wx platfrom ")},t.isSfxEnabled=!0,t.isBgmEnabled=!0,t._useCCAudioEngine=!1,t}();n.default=o,cc._RF.pop()},{}],EventManager:[function(t,e,n){"use strict";cc._RF.push(e,"334c9avVx5ILbx/6NU/H45V","EventManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.event=void 0;var o=function(){function t(){this._eventList={}}return t.prototype.on=function(t,e,n){var o;null!=this._eventList[t]?(o=this._eventList[t]).push({listen:e,target:n}):((o=new Array).push({listen:e,target:n}),this._eventList[t]=o)},t.prototype.off=function(t,e,n){if(null==e||e instanceof Function||(n=e,e=null),null!=this._eventList[t])if(null==e&&null==n)delete this._eventList[t];else for(var o=this._eventList[t],i=o.length-1;i>=0;i--)null!=e&&null!=n?o[i].listen==e&&o[i].target==n&&o.splice(i,1):null!=e&&o[i].listen==e?o.splice(i,1):null!=n&&o[i].target==n&&o.splice(i,1)},t.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];var o=!1;if(null!=this._eventList[t]){var i=this._eventList[t];console.log("emit message: ",t,i.length);for(var a=0;a<i.length;a++){var s=i[a];null!=s.target?s.listen.apply(s.target,e)&&(o=!0):s.listen.apply(this,e)&&(o=!0)}}return o},t}();n.event=new o,cc._RF.pop()},{}],FSM:[function(t,e,n){"use strict";cc._RF.push(e,"83f52qrCghNrKS6jOC/j6I0","FSM"),Object.defineProperty(n,"__esModule",{value:!0}),n.State=void 0;var o=cc._decorator,i=(o.ccclass,o.property,function(){function t(t,e){this.__interval_callbacks=[],this.interval_id=0,this.id=t,this.name=e}return t.prototype.onEnter=function(){},t.prototype.onExit=function(){},t.prototype.onUpdate=function(){},t.prototype.on=function(){},t.prototype.off=function(){},t.prototype.clearIntervals=function(){this.__interval_callbacks.splice(0,this.__interval_callbacks.length)},t.prototype.setInterval=function(t,e,n){var o=++this.interval_id;return this.__interval_callbacks.push({id:o,callback:e,target:n,interval:t,timer:0}),o},t.prototype.clearInterval=function(t){this.__interval_callbacks.splice(this.__interval_callbacks.indexOf(t))},t.prototype.setTimeout=function(t,e,n){var o=++this.interval_id;return this.__interval_callbacks.push({id:o,callback:e,target:n,delay:t,timer:0}),o},t.prototype.clearTimeout=function(t){this.clearInterval(t)},t.prototype.invokeIntervals=function(t){for(var e=0;e<this.__interval_callbacks.length;e++){var n=this.__interval_callbacks[e];n.timer=n.timer+t,n.interval?n.timer>=n.interval&&(n.timer=0,n.callback.call(n.target)):n.delay&&n.timer>=n.delay&&(n.callback.call(n.target),this.__interval_callbacks.splice(e),e--)}},t}());n.State=i;var a=function(t){function e(e,n,o,i){var a=t.call(this,n,o)||this,s=cc.js.formatStr(i,"onEnter",a.name),r=cc.js.formatStr(i,"onUpdate",a.name),c=cc.js.formatStr(i,"onExit",a.name);return a.__target=e,a.__enterFunc=a.__target[s],a.__updateFunc=a.__target[r],a.__exitFunc=a.__target[c],a}return __extends(e,t),e.prototype.onEnter=function(t){this.clearIntervals(),this.__enterFunc&&this.__enterFunc.call(this.__target,this,t)},e.prototype.onExit=function(){this.__exitFunc&&this.__exitFunc.call(this.__target,this)},e.prototype.onUpdate=function(t){this.invokeIntervals(t),this.__updateFunc&&this.__updateFunc.call(this.__target,this,t)},e}(i),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.timeElapsed=0,e._states={},e._isPaused=!1,e.log=!1,e}return __extends(e,t),Object.defineProperty(e.prototype,"target",{get:function(){return this._target},enumerable:!1,configurable:!0}),e.prototype.init=function(t){this._target=t,this.timeElapsed=0},e.prototype.getState=function(t){return this._states[t]},e.prototype.getCurrentState=function(){return this.c},e.prototype.getPreviousState=function(){return this.p},e.prototype.addStates=function(t,e){void 0===e&&(e="%s_%sState");var n=Object.keys(t),o=n.length/2;this.namePattern=e;for(var i=0;i<o;i++){var a=n[i],s=t[a];this.addState(a,s)}},e.prototype.addState=function(t,e,n,o,i,s){this.log&&console.log("[FSM]"+this.target.__classname__+"("+this.target.name+") Add State :",t,e);var r=new a(this.target,t,e,this.namePattern);this._states[t]=r,n&&(r.__enterFunc=n),o&&(r.__exitFunc=o),i&&(r.__updateFunc=i),s&&(r.__target=s)},e.prototype.enterState=function(t,e){this.timeElapsed=0;var n=this._states[t];this.c=n,n.onEnter(e),this.log&&console.log("[FSM]"+this.target.__classname__+" First State:",n.name)},e.prototype.revertState=function(){this.changeState(this.p.id)},e.prototype.pause=function(){this._isPaused=!0},e.prototype.resume=function(){this._isPaused=!1},e.prototype.resetCurrentState=function(){this.timeElapsed=0,console.log(cc.js.formatStr("[FSM] %s reset currentState",this.target.__classname__)),this.c.onExit(),this.c.onEnter()},e.prototype.changeState=function(t,e){var n=this._states[t];null!=n?this._isPaused?console.warn("[FSM] fsm is paused ! "+this.target.__classname__+" changeState to <"+n.name+"> failed!"):t!=this.c.id&&(this.timeElapsed=0,this.c.onExit(),this.p=this.c,this.c=n,this.log&&console.log(cc.js.formatStr("[FSM] %s (%s): %s -> %s",this.target.__classname__,this.name,this.p.name,n.name)),this.c.onEnter(e)):console.warn("[FSM] invalid state for stateId "+t+" of : "+this.target.__classname__)},e.prototype.isInState=function(t){return this.c==this._states[t]},e.prototype.update=function(t){this._isPaused||(e.debug&&(t=.016),this.timeElapsed+=t,this.c&&this.c.onUpdate(t))},e.debug=!1,e}(cc.Component);n.default=s,cc._RF.pop()},{}],FrameSwitch:[function(t,e,n){"use strict";cc._RF.push(e,"92ea6+rkJ5BQ7Twyd4FI92I","FrameSwitch"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,s=(o.requireComponent,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.frames=[],e.target=null,e._index=0,e.randomOnLoad=!1,e}return __extends(e,t),e.prototype.onLoad=function(){null==this.target&&(this.target=this.getComponent(cc.Sprite)),this.randomOnLoad&&this.switchRandom()},e.prototype.switchRandom=function(){},Object.defineProperty(e.prototype,"index",{get:function(){return this._index},set:function(t){this.switch(t)},enumerable:!1,configurable:!0}),e.prototype.switch=function(t){var e=this.frames.length,n=Math.min(Math.max(0,t),e-1);this.target.spriteFrame=this.frames[n],this._index=n},e.prototype.start=function(){},__decorate([a([cc.SpriteFrame])],e.prototype,"frames",void 0),__decorate([a(cc.Sprite)],e.prototype,"target",void 0),__decorate([a],e.prototype,"randomOnLoad",void 0),__decorate([i],e)}(cc.Component));n.default=s,cc._RF.pop()},{}],Game:[function(t,e,n){"use strict";cc._RF.push(e,"4c9b5SEXlhDAqXGat0NcWmI","Game"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./Res"),i=t("./HexonTile"),a=t("./GridManager"),s=t("../../../framework/plugin_boosts/misc/InputSystem"),r=t("../Info"),c=t("./Animal"),l=t("../../../framework/plugin_boosts/ui/ViewManager"),u=t("../../../framework/plugin_boosts/ui/ToastManager"),d=cc._decorator,p=d.ccclass,h=d.property,f=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._isGameOver=!1,e._moveCount=0,e._playTime=0,e._colCount=6,e._rowCount=7,e._pickedTile=null,e.tileLayer=null,e.levelLabel=null,e.timeLabel=null,e.stepLabel=null,e.focusNode=null,e._figureList=[],e.perfectMoveCount=0,e}var n;return __extends(e,t),n=e,e.prototype.get_isGameOver=function(){return this._isGameOver},e.prototype.get_minCol=function(){return this._levelData.mincol},e.prototype.get_moveCount=function(){return this._moveCount},e.prototype.loadLevel=function(t){t=Math.min(t,o.R.levelJson.json.levels.length-1),this._levelData=o.R.levelJson.json.levels[t],this.levelLabel.string=t+"",1==t&&this.scheduleOnce(this.openGuide,.1)},e.prototype.openGuide=function(){l.default.instance.show("Game/OpenGuide")},e.prototype.onLoad=function(){var t=this;n.instance=this,this.loadLevel(r.UserInfo.currentLevel),this.hideFocus(),this._tileList=[],this._rowCount=this._levelData.size,this._colCount-=1;for(var e=0,c=this._rowCount;c>e;){var l,u=e++,d=[];l=u<=this._rowCount/2?this._levelData.mincol+u:this._levelData.mincol-1+this._rowCount-u;for(var p=0;l>p;){var h=p++,f=cc.instantiate(o.R.TilePrefab),g=f.getComponent(i.default);f.parent=this.tileLayer,f.zIndex=this._rowCount-u,g.set_row(u),g.set_col(h);var m=cc.instantiate(o.R.TileShadow),_=m.getComponent(i.default);_.set_row(u),_.set_col(h),m.y-=3,m.parent=this.tileLayer,m.zIndex=0,d.push(g)}this._tileList.push(d),appGame.gameServerRoom.emit(consts.CLIENT_GAME_START,{}),appGame.banner.playBanner(2),this.schedule(function(){console.log("\u63d2\u5c4f\u5e7f\u544a=="),appGame.interstitialAd&&appGame.interstitialAd.playAd("\u63d2\u5c4f")},60),this.schedule(function(){console.log("\u79ef\u6728\u5e7f\u544a=="),appGame.qqblockad&&appGame.qqblockad.playBlockad(!0)},30)}this._gridManager=this.tileLayer.addComponent(a.default),this._gridManager.init(this._levelData.mincol),this.setFigure(),this.addComponent(s.InputSystem),r.UserInfo.timePassed=0,r.UserInfo.stepUsed=0,this.schedule(function(){r.UserInfo.timePassed+=1,t.timeLabel.string=r.UserInfo.timePassed+"s",t.stepLabel.string=r.UserInfo.stepUsed+"\u6b65"},1)},e.prototype.onTouchBegan=function(t){var e=this;if(!e._isGameOver){var n=t.currentTouch.getLocation();n=this.node.convertToNodeSpaceAR(n);var i=e.findTileByPos(n.x,n.y);if(null!=i&&0!=i.get_animal()){for(cc.audioEngine.playEffect(o.R.audio_down,!1),e._pickedTile=i,e.removeGridFromTile(e._pickedTile),e._pickedTile.connect(null),null!=e._pickedTile.targetTile&&(e.removeGridFromTile(e._pickedTile.targetTile),e._pickedTile.targetTile.connect(null),e._pickedTile.targetTile.set_isConnecting(!1)),e._pickedTile.set_isConnecting(!0),i=e._pickedTile.getHead();null!=i;)i.set_isConnecting(!0),i=i.connectedTile;this.showFocus(e._pickedTile.get_animal()),this.moveFocus(n)}this.checkCompelete()}},e.prototype.checkCompelete=function(){this.checkConnectedAll()&&this.checkFillAll()},e.prototype.isTileConnected=function(t,e){var n,o=t._row;n=t._col+(o<=this._rowCount/2?0:t._row-(this._rowCount/2|0));var i,a=e._row;return i=e._col+(a<=this._rowCount/2?0:e._row-(this._rowCount/2|0)),o-1==a&&n-1==i||o-1==a&&n==i||o==a&&n-1==i||o==a&&n+1==i||o+1==a&&n==i||o+1==a&&n+1==i},e.prototype.onTouchMoved=function(t){var e=this;if(!e._isGameOver){var n=t.currentTouch.getLocation();n=this.node.convertToNodeSpaceAR(n);var o=e.findTileByPos(n.x,n.y);if(null!=e._pickedTile&&null!=o)if(e.isTileConnected(e._pickedTile,o)){if(0==o.get_animal())(null==e._pickedTile.targetTile||null==e._pickedTile.reverseConnectedTile)&&(e._gridManager.setState(e._pickedTile.get_row(),e._pickedTile.get_col(),o.get_row(),o.get_col(),!0),e._pickedTile.connect(o),e._pickedTile=o,e._pickedTile.set_isConnecting(!0));else if(o.get_animal()==e._pickedTile.get_animal())if(0!=o.isChangable||o.equals(e._pickedTile.getHead())){for(e._pickedTile=o,o=e._pickedTile;null!=o&&null!=o.connectedTile;)e._gridManager.setState(o.get_row(),o.get_col(),o.connectedTile.get_row(),o.connectedTile.get_col(),!1),o=o.connectedTile;e._pickedTile.connect(null)}else null==o.reverseConnectedTile&&(e._gridManager.setState(e._pickedTile.get_row(),e._pickedTile.get_col(),o.get_row(),o.get_col(),!0),e._pickedTile.connect(o),e._pickedTile=o)}else if(o.get_animal()==e._pickedTile.get_animal()&&!o.equals(e._pickedTile)&&null!=o.connectedTile){for(e._pickedTile=o,o=e._pickedTile;null!=o&&null!=o.connectedTile;)e._gridManager.setState(o.get_row(),o.get_col(),o.connectedTile.get_row(),o.connectedTile.get_col(),!1),o=o.connectedTile;e._pickedTile.connect(null)}this.moveFocus(n)}},e.prototype.onTouchEnded=function(){var t=this,e=!1;if(!t._isGameOver){if(null!=t._pickedTile){var n=t._pickedTile.getHead();for(null!=t._pickedTile.animalSprite&&null!=n&&null!=n.animalSprite&&(e=!0,t._pickedTile.animalSprite.connected(),n.animalSprite.connected());null!=n;)n.set_isConnecting(!1),n=n.connectedTile;t._moveCount++,r.UserInfo.stepUsed++}t._pickedTile=null,this.hideFocus(),t.checkConnectedAll()&&(t.checkFillAll()?(t._isGameOver=!0,t.danceAll()):u.Toast.make("\u5fc5\u987b\u586b\u6ee1\u6240\u6709\u683c\u5b50")),1!=e||t._isGameOver||cc.audioEngine.playEffect(o.R.audio_link,!1)}},e.prototype.showFocus=function(t){console.log(t),this.focusNode.active=!0,this.focusNode.zIndex=100,this.focusNode.color=o.R.colors[t].clone()},e.prototype.moveFocus=function(t){this.focusNode.position=t},e.prototype.hideFocus=function(){this.focusNode.active=!1},e.prototype.danceAll=function(){cc.audioEngine.playEffect(o.R.audio_win,!1);for(var t=0,e=this._tileList;t<e.length;){var n=e[t];++t;for(var i=0;i<n.length;){var a=n[i];++i,null!=a.animalSprite&&a.animalSprite.loopJump(1)}}this.scheduleOnce(this.showWinDialog,1)},e.prototype.showWinDialog=function(){l.default.instance.show("Game/WinDialog")},e.prototype.click_pause=function(){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u6e38\u620f\u754c\u9762",content:"\u70b9\u51fb\u8fd4\u56de"},function(){}),l.default.instance.show("Game/PauseDialog")},e.prototype.click_share=function(){},e.prototype.setFigure=function(){this._figureList=[];for(var t=[],e=0;10>e;)e++,t.push(null);e=0;for(var n=this._levelData.figure;e<n.length;){var i=n[e];++e;var a=this._tileList[i[0]][i[1]],s=a.get_borderPosition(),r=i[2],l=cc.instantiate(o.R.animalPrefabs[r-1]);a.animalSprite=l.getComponent(c.default),l.setPosition(s.x,s.y),l.parent=this.tileLayer,l.zIndex=110,a.set_animal(i[2]),a.isChangable=!1,this._figureList.push(a),null==t[i[2]]?t[i[2]]=a:(a.targetTile=t[i[2]],t[i[2]].targetTile=a)}this.perfectMoveCount=this._figureList.length/2|0},e.prototype.findTileByPos=function(t,e){for(var n=null,o=1e6,i=cc.v2(t,e),a=this._tileList,s=0;s<a.length;++s)for(var r=a[s],c=0;c<r.length;++c){var l=r[c],u=r[c].node.position,d=i.sub(u).mag();d<50&&d<o&&(o=d,n=l)}return n},e.prototype.removeGridFromTile=function(t){for(;null!=t&&null!=t.connectedTile;)this._gridManager.setState(t.get_row(),t.get_col(),t.connectedTile.get_row(),t.connectedTile.get_col(),!1),t=t.connectedTile},e.prototype.checkFillAll=function(){for(var t=0,e=this._tileList;t<e.length;){var n=e[t];++t;for(var o=0;o<n.length;){var i=n[o];if(++o,0==i.get_animal())return!1}}return!0},e.prototype.checkConnectedAll=function(){for(var t=0,e=this._tileList;t<e.length;){var n=e[t];++t;for(var o=0;o<n.length;){var i=n[o];if(++o,null!=i.targetTile){var a=i.getHead(),s=i.getTail();if(0==i.targetTile.equals(a)&&0==i.targetTile.equals(s))return!1}}}return!0},e.instance=null,__decorate([h(cc.Node)],e.prototype,"tileLayer",void 0),__decorate([h(cc.Label)],e.prototype,"levelLabel",void 0),__decorate([h(cc.Label)],e.prototype,"timeLabel",void 0),__decorate([h(cc.Label)],e.prototype,"stepLabel",void 0),__decorate([h(cc.Node)],e.prototype,"focusNode",void 0),n=__decorate([p],e)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../framework/plugin_boosts/misc/InputSystem":"InputSystem","../../../framework/plugin_boosts/ui/ToastManager":"ToastManager","../../../framework/plugin_boosts/ui/ViewManager":"ViewManager","../Info":"Info","./Animal":"Animal","./GridManager":"GridManager","./HexonTile":"HexonTile","./Res":"Res"}],GetDialog:[function(t,e,n){"use strict";cc._RF.push(e,"714f07aCe9N55KDdTLTUVv8","GetDialog"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../framework/plugin_boosts/ui/View"),i=t("../Info"),a=t("../../../framework/plugin_boosts/ui/ViewManager"),s=cc._decorator,r=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.diamondLabel=null,e.count=0,e.node_close=null,e}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.share_suc=function(){i.UserInfo.addDiamond(2*this.count),i.UserInfo.save(),this.getComponent(o.default).hide(),a.default.instance.show("Game/LuckyDialog")},e.prototype.click_double=function(){var t=i.UserInfo.getChoice(i.ChoiceType.Get);1==t||0==t&&this.share_suc()},e.prototype.onShown=function(t){this.count=t,this.diamondLabel.string="+"+t,this.node_close.active=!1,this.unschedule(this.delayShow),this.scheduleOnce(this.delayShow,2)},e.prototype.delayShow=function(){this.node_close.active=!0},e.prototype.click_no=function(){this.getComponent(o.default).hide(),i.UserInfo.addDiamond(this.count),i.UserInfo.save(),a.default.instance.show("Game/LuckyDialog")},__decorate([c(cc.Label)],e.prototype,"diamondLabel",void 0),__decorate([c(cc.Node)],e.prototype,"node_close",void 0),__decorate([r],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../../../framework/plugin_boosts/ui/View":"View","../../../framework/plugin_boosts/ui/ViewManager":"ViewManager","../Info":"Info"}],GridManager:[function(t,e,n){"use strict";cc._RF.push(e,"3b45a0/RCtHwJWRliu8sGTN","GridManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./ds/IntMap"),i=t("./Game"),a=t("./Res"),s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._minCol=null,e}return __extends(e,t),e.prototype.addGrid=function(t,e,n){null==this._gridList&&(this._gridList=new o.default),this._gridList.exists(t)||this._gridList.set(t,new o.default),this._gridList.get(t).set(e,n)},e.prototype.init=function(t){this._minCol=t},e.prototype.start=function(){var t=i.default.instance._rowCount,e=i.default.instance._tileList;this._gridList=new o.default;for(var n=0;t>n;)for(var s=n++,r=0,c=(t/2>=s?this._minCol+s:this._minCol-1+t-s)-1;c>r;){var l=r++,u=e[s][l].get_borderPosition(),d=e[s][l+1].get_borderPosition(),p=cc.v2((u.x+d.x)/2,(u.y+d.y)/2);(m=cc.instantiate(a.R.Line46)).setPosition(p),m.active=!1,m.parent=this.node,m.zIndex=109,this.addGrid(s+s,l+l+1,m)}for(n=0,s=t/2|0;s>n;)for(c=t/2>=(r=n++)?this._minCol+r:this._minCol-1+t-r,l=0;c>l;){u=l++;for(var h=0;2>h;h++){var f=e[r][u].get_borderPosition(),g=e[r+1][u+h].get_borderPosition();f=cc.v2((f.x+g.x)/2,(f.y+g.y)/2);var m=null;(m=0==h?cc.instantiate(a.R.Line37):cc.instantiate(a.R.Line19)).setPosition(f),m.active=!1,m.parent=this.node,m.zIndex=109,this.addGrid(r+r+1,u+u+h,m)}}for(n=0,s=t/2|0;s>n;)for(c=t/2>=(r=t-(r=n++)-1)?this._minCol+r:this._minCol-1+t-r,l=0;c>l;){u=l++;for(var _=0;2>_;_++)f=e[r][u].get_borderPosition(),g=e[r-1][u+_].get_borderPosition(),f=cc.v2((f.x+g.x)/2,(f.y+g.y)/2),m=null,(m=0==_?cc.instantiate(a.R.Line19):cc.instantiate(a.R.Line37)).setPosition(f),m.active=!1,m.zIndex=109,m.parent=this.node,this.addGrid(r+r-1,u+u+_,m)}},e.prototype.setState=function(t,e,n,o,i){if(this._gridList.exists(t+n)){var a=this._gridList.get(t+n);a.exists(e+o)&&(a.get(e+o).active=i)}},e}(cc.Component);n.default=s,cc._RF.pop()},{"./Game":"Game","./Res":"Res","./ds/IntMap":"IntMap"}],HbDialog:[function(t,e,n){"use strict";cc._RF.push(e,"ec5aa26/dhLhpV83mVeVmkA","HbDialog"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../framework/plugin_boosts/ui/ViewManager"),i=t("../../../framework/plugin_boosts/ui/ToastManager"),a=t("../hex-lines-game/Res"),s=t("../Info"),r=t("../../../framework/plugin_boosts/gamesys/Device"),c=t("../../../framework/plugin_boosts/ui/View"),l=cc._decorator,u=l.ccclass,d=(l.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.click=function(){s.UserInfo.getChoice(s.ChoiceType.HB)},e.prototype.share_suc=function(){var t=a.R.skinConfig.json[3];i.Toast.make("\u606d\u559c\u83b7\u5f97\u76ae\u80a4 \uff1a"+t.text),r.default.playEffect(a.R.audio_unlock),s.UserInfo.unlock(t.id),s.UserInfo.selectedSkin=t.id,s.UserInfo.save(),o.default.instance.show("Game/ShopDialog"),this.getComponent(c.default).hide()},__decorate([u],e)}(cc.Component));n.default=d,cc._RF.pop()},{"../../../framework/plugin_boosts/gamesys/Device":"Device","../../../framework/plugin_boosts/ui/ToastManager":"ToastManager","../../../framework/plugin_boosts/ui/View":"View","../../../framework/plugin_boosts/ui/ViewManager":"ViewManager","../Info":"Info","../hex-lines-game/Res":"Res"}],HexonTile:[function(t,e,n){"use strict";cc._RF.push(e,"64d50rBFZhG5qLba7sOg6x9","HexonTile"),Object.defineProperty(n,"__esModule",{value:!0});var o,i=t("./Consts"),a=t("./Game"),s=t("./Res"),r=cc._decorator,c=r.ccclass,l=r.property;(function(t){t[t.Empty=0]="Empty",t[t.Type1=1]="Type1",t[t.Type2=2]="Type2",t[t.Type3=3]="Type3",t[t.Type4=4]="Type4",t[t.Type5=5]="Type5",t[t.Type6=6]="Type6",t[t.Type7=7]="Type7"})(o||(o={}));var u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._col=0,e._row=0,e._animal=0,e.isChangable=!0,e._isConnecting=!1,e.connectedTile=null,e.reverseConnectedTile=null,e.targetTile=null,e._sprite=null,e._baseSprite=null,e.animalSprite=null,e._tileType=0,e}return __extends(e,t),e.prototype.get_col=function(){return this._col},e.prototype.set_col=function(t){return this._col=t,t=this._col-(this._row<=a.default.instance._rowCount/2?a.default.instance.get_minCol()+this._row:a.default.instance.get_minCol()-1+a.default.instance._rowCount-this._row)/2+.5,this._baseSprite.node.x=i.default.CenterX+t*i.default.ColSize,this._col},e.prototype.get_row=function(){return this._row},e.prototype.set_row=function(t){return this._row=t,this._baseSprite.node.y=i.default.CenterY+(this._row-(a.default.instance._rowCount/2|0))*i.default.RowSize,this._row},e.prototype.get_borderPosition=function(){return this._baseSprite.node.position},e.prototype.get_isConnecting=function(){return this._isConnecting},e.prototype.set_isConnecting=function(t){return this._isConnecting=t,this.set_tileType(this._tileType),this._isConnecting},e.prototype.get_animal=function(){return this._animal},e.prototype.set_animal=function(t){switch(this._animal=t,t){case 1:this.set_tileType(o.Type1);break;case 2:this.set_tileType(o.Type2);break;case 3:this.set_tileType(o.Type3);break;case 4:this.set_tileType(o.Type4);break;case 5:this.set_tileType(o.Type5);break;case 6:this.set_tileType(o.Type6);break;case 7:this.set_tileType(o.Type7);break;default:this.set_tileType(o.Empty)}return this._animal},e.prototype.getTileTexture=function(t,e,n){if(0==t)return s.R.tileTextures[0];var o;return o=e?t:n?14+t:7+t,s.R.tileTextures[o]},e.prototype.set_tileType=function(t){if(this._tileType=t,this.isChangable&&this.get_isConnecting())this._baseSprite.spriteFrame=this.getTileTexture(this.get_animal(),!0,!1);else{var e,n=this.getTail();e=!this.isChangable&&null!=this.reverseConnectedTile||null!=n&&!n.isChangable?this.getTileTexture(this.get_animal(),!1,!0):this.getTileTexture(this.get_animal(),!1,!1),this._baseSprite.spriteFrame=e}return this._tileType},e.prototype.onAdded=function(){this.set_tileType(o.Empty)},e.prototype.connect=function(t){null==t?null!=this.connectedTile&&(1==this.connectedTile.isChangable&&this.connectedTile.set_animal(0),this.connectedTile.connect(null),this.connectedTile=this.connectedTile.reverseConnectedTile=null):(this.connectedTile=t,t.set_animal(this.get_animal()),t.reverseConnectedTile=this)},e.prototype.getTail=function(){for(var t=this.connectedTile,e=null;null!=t;)e=t,t=t.connectedTile;return e},e.prototype.getHead=function(){for(var t=this.reverseConnectedTile,e=null;null!=t;)e=t,t=t.reverseConnectedTile;return e},e.prototype.equals=function(t){return null!=t&&this.get_row()==t.get_row()&&this.get_col()==t.get_col()},e.prototype.start=function(){},__decorate([l({type:cc.Sprite,visible:!0,displayName:"Animal Sprite"})],e.prototype,"_sprite",void 0),__decorate([l({type:cc.Sprite,visible:!0,displayName:"Base Sprite"})],e.prototype,"_baseSprite",void 0),__decorate([c],e)}(cc.Component);n.default=u,cc._RF.pop()},{"./Consts":"Consts","./Game":"Game","./Res":"Res"}],InfiniteBackground:[function(t,e,n){"use strict";cc._RF.push(e,"ea63dhsLFFNTK51F3JClP8v","InfiniteBackground"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.bgNode=null,e.camera=null,e.currentNode=null,e.repeatCount=0,e}return __extends(e,t),e.prototype.onLoad=function(){this.currentNode=this.bgNode,this.size=this.currentNode.getContentSize(),this.nodepool=new cc.NodePool},e.prototype.start=function(){null==this.prev&&(this.prev=cc.instantiate(this.bgNode),this.node.addChild(this.prev),this.prev.y=-this.size.height)},e.prototype.reset=function(){this.repeatCount=0},e.prototype.update=function(){if(null!=this.currentNode){var t=cc.Vec2.ZERO;if(this.camera.getWorldToCameraPoint(this.currentNode.position,t),this.prev,t.y<10&&null==this.next){this.pre_prev=this.prev,this.prev=this.currentNode;var e=this.nodepool.get();null==e&&(e=cc.instantiate(this.currentNode)),e.setPosition(0,this.size.height*++this.repeatCount),this.node.addChild(e),this.currentNode=e,this.camera.getWorldToCameraPoint(e.position,t),this.next=null}t.y>this.size.height-10&&this.pre_prev&&this.nodepool.put(this.pre_prev)}},__decorate([a(cc.Node)],e.prototype,"bgNode",void 0),__decorate([a(cc.Camera)],e.prototype,"camera",void 0),__decorate([i],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],Info:[function(t,e,n){"use strict";cc._RF.push(e,"894ddeHxZNOMqD6BW+YheZr","Info"),Object.defineProperty(n,"__esModule",{value:!0}),n.UserInfo=n.ChoiceType=void 0;var o=t("../../framework/plugin_boosts/misc/DataCenter"),i=t("./hex-lines-game/Res"),a=t("../../framework/plugin_boosts/ui/ToastManager"),s=t("../../framework/plugin_boosts/gamesys/Device");(function(t){t[t.DailyGet=0]="DailyGet",t[t.Levelup=1]="Levelup",t[t.Get=2]="Get",t[t.Shop=3]="Shop",t[t.BannerAdRefresh=4]="BannerAdRefresh",t[t.HB=5]="HB"})(n.ChoiceType||(n.ChoiceType={}));var r=function(t){function e(){var e=t.call(this)||this;return e.choices=[],e.version="6",e.level=1,e.selectedSkin="2",e.dailyGetTime=new Date(2018,1,1).getTime(),e.freedrawTime=e.dailyGetTime,e.luckyVideoWatchTime=e.dailyGetTime,e.shopFreeDiamondTime=e.dailyGetTime,e.diamond=0,e.sfx_enabled=!0,e.firstTimeReach=!1,e.luckyVideoWatchCount=0,e.timePassed=0,e.stepUsed=0,e.currentLevel=1,e.unlock(e.selectedSkin),setTimeout(function(){e.save()},6e4),e}return __extends(e,t),e.prototype.getChoice=function(t){return this.choices[t]||0},e.prototype.init=function(){},e.prototype.onGetConfig=function(t){if(t){var e=t[0];e&&(this.choices=JSON.parse(e[this.version]))}},e.prototype.addDiamond=function(t,e){void 0===e&&(e=!0),this.diamond+="number"==typeof t?t:parseInt(t),e&&(a.Toast.make("\u83b7\u5f97\u94bb\u77f3 x"+t),s.default.playEffect(i.R.audio_get_diamond)),this.firstTimeReach||this.diamond>=500&&(a.Toast.make("\u54c7\u53ef\u4ee5\u4e70\u76ae\u80a4\u4e86\uff0c\u5feb\u53bb\u76ae\u80a4\u5546\u5e97\u770b\u770b\u5427!",2),this.firstTimeReach=!0,n.UserInfo.save())},e.prototype.isUnlock=function(t){var e=localStorage.getItem("unlocked_"+t);return!!e&&"1"==e},e.prototype.isAllUnlocked=function(){for(var t=0,e=0;e<i.R.skinConfig.json.length;e++){var o=i.R.skinConfig.json[e];n.UserInfo.isUnlock(o.id)&&t++}return t==i.R.skinConfig.json.length},e.prototype.getSkinById=function(t){return i.R.skinConfig.json.filter(function(e){return e.id==t})[0]},e.prototype.unlock=function(t){localStorage.setItem("unlocked_"+t,"1")},__decorate([o.field()],e.prototype,"level",void 0),__decorate([o.field()],e.prototype,"selectedSkin",void 0),__decorate([o.field()],e.prototype,"dailyGetTime",void 0),__decorate([o.field()],e.prototype,"freedrawTime",void 0),__decorate([o.field()],e.prototype,"luckyVideoWatchTime",void 0),__decorate([o.field()],e.prototype,"shopFreeDiamondTime",void 0),__decorate([o.field()],e.prototype,"diamond",void 0),__decorate([o.field()],e.prototype,"sfx_enabled",void 0),__decorate([o.field()],e.prototype,"firstTimeReach",void 0),__decorate([o.field()],e.prototype,"luckyVideoWatchCount",void 0),__decorate([o.dc("Info")],e)}(o.default);n.default=r,n.UserInfo=o.default.register(r),cc._RF.pop()},{"../../framework/plugin_boosts/gamesys/Device":"Device","../../framework/plugin_boosts/misc/DataCenter":"DataCenter","../../framework/plugin_boosts/ui/ToastManager":"ToastManager","./hex-lines-game/Res":"Res"}],InputSystem:[function(t,e,n){"use strict";cc._RF.push(e,"4643c14ws5Msox+teVpsIzz","InputSystem"),Object.defineProperty(n,"__esModule",{value:!0}),n.InputSystem=n.Input=void 0;var o=t("./JoyStick"),i=cc._decorator,a=i.ccclass,s=i.property;n.Input=null;var r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._target=null,e.keys={},e.__touchVec=cc.Vec2.ZERO,e.radius_axis=256,e.joyStick=null,e.__lastTouch=cc.Vec2.ZERO,e.moveOffset=cc.Vec2.ZERO,e.__curTouchId=-1,e}return __extends(e,t),e.prototype.setDelegate=function(t){this._target=t},e.prototype.onLoad=function(){n.Input=this;for(var t=this.getComponents(cc.Component),e=0;e<t.length;e++){var o=t[e];if(o!=this&&(o.onTouchBegan||o.onTouchEnded||o.onTouchMoved)){this._target=o;break}}console.log("InputSystem Component -> target:",this._target)},e.prototype.start=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.triggerKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.triggerKeyUp,this),this.node.on(cc.Node.EventType.TOUCH_START,this.triggerTouchBegan,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.triggerTouchMoved,this),this.node.on(cc.Node.EventType.TOUCH_END,this.triggerTouchEnded,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.triggerTouchCanceled,this)},Object.defineProperty(e.prototype,"touch",{get:function(){return this.__touch},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"axis",{get:function(){return this.joyStick?this.joyStick.axis:this.__touchVec},enumerable:!1,configurable:!0}),e.prototype.getKey=function(t){return this.keys[t]},e.prototype.triggerKeyUp=function(){this._target.onKeyUp&&this._target.onKeyUp(event),this.keys[event.key]=!1},e.prototype.triggerKeyDown=function(){this._target.onKeyDown&&this._target.onKeyDown(event),this.keys[event.key]=!0},e.prototype.triggerTouchEnded=function(t){-1!=this.__curTouchId&&t.getID()!=this.__curTouchId||(this.__curTouchId=-1,this._target.onTouchEnded&&this._target.onTouchEnded(t),this.__touch=null,this.__touchVec=cc.Vec2.ZERO,t.currentTouch&&this.joyStick&&this.joyStick.touchEnd(t.currentTouch.getLocation()),this.moveOffset=cc.Vec2.ZERO)},e.prototype.triggerTouchMoved=function(t){-1!=this.__curTouchId&&t.getID()!=this.__curTouchId||(this._target.onTouchMoved&&this._target.onTouchMoved(t),this.__touch=t.currentTouch.getLocation(),this.moveOffset=this.__touch.sub(this.__lastTouch),this.__touch&&this.__startLocation&&(this.__touchVec=this.__touch.sub(this.__startLocation),this.joyStick&&this.joyStick.touchMove(this.__touch)),this.__lastTouch=this.__touch)},e.prototype.triggerTouchBegan=function(t){-1!=this.__curTouchId&&t.getID()!=this.__curTouchId||(this._target.onTouchBegan&&this._target.onTouchBegan(t),this.__curTouchId=t.getID(),this.__startLocation=t.currentTouch.getLocation(),this.__touch=t.currentTouch.getLocation(),this.__lastTouch=this.__touch,this.joyStick&&this.joyStick.touchStart(this.__startLocation))},e.prototype.triggerTouchCanceled=function(t){this.triggerTouchEnded(t)},e.prototype.onEnable=function(){this.schedule(this.checkTouch,.02)},e.prototype.onDisable=function(){this.unschedule(this.checkTouch)},e.prototype.checkTouch=function(){this.__touch&&(this.moveOffset=this.__touch.sub(this.__lastTouch))},__decorate([s(o.default)],e.prototype,"joyStick",void 0),__decorate([a],e)}(cc.Component);n.InputSystem=r,cc._RF.pop()},{"./JoyStick":"JoyStick"}],IntMap:[function(t,e,n){"use strict";cc._RF.push(e,"11eeadKZERHbLgjtZ/2KsFr","IntMap"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.h={}}return t.prototype.set=function(t,e){this.h[t]=e},t.prototype.get=function(t){return this.h[t]},t.prototype.exists=function(t){return this.h.hasOwnProperty(t)},t.prototype.remove=function(t){return!!this.h.hasOwnProperty(t)&&(delete this.h[t],!0)},t.prototype.keys=function(){var t,e=[];for(t in this.h)this.h.hasOwnProperty(t)&&e.push(0|t);return com.iter(e)},t}();n.default=o,cc._RF.pop()},{}],Intersection:[function(t,e,n){"use strict";cc._RF.push(e,"2f4dfDdP95AjIAwGFL34sfm","Intersection"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.circleIntersectRect=function(t,e,n){var o,i;o=t.x<n.x?n.x:t.x>n.x+n.width?n.x+n.width:t.x,i=t.y<n.y?n.y:t.y>n.y+n.height?n.y+n.height:t.y;var a=cc.v2(o,i);return a.subSelf(t),a.magSqr()<e*e},t}();n.default=o,cc._RF.pop()},{}],JoyStick:[function(t,e,n){"use strict";cc._RF.push(e,"297d6dgG6ZIJJ+ZjeNWq2ub","JoyStick"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.outterCircle=null,e.innerCircle=null,e.radius=250,e.innerCircleRadius=20,e.releaseAfterOver=!1,e.dynamicJoystick=!1,e.autoRadius=!1,e.isReleased=!1,e._startPos=cc.Vec2.ZERO,e}return __extends(e,t),e.prototype.onLoad=function(){this.autoRadius&&(this.radius=this.outterCircle.getBoundingBox().height/2),this.innerCircle.setPosition(0,0),this.node.active=!1},e.prototype.start=function(){this.releaseStick()},e.prototype.releaseStick=function(){var t=cc.moveTo(.5,cc.Vec2.ZERO).easing(cc.easeExponentialOut());this.innerCircle.runAction(t),this.isReleased=!0,this.dynamicJoystick&&this.scheduleOnce(this.delayClose,1)},e.prototype.delayClose=function(){this.node.active=!1},Object.defineProperty(e.prototype,"axis",{get:function(){if(this.isReleased)return cc.Vec2.ZERO;var t=this.innerCircle.getPosition();return t.normalizeSelf(),t},enumerable:!1,configurable:!0}),e.prototype.move=function(t){t.mag()>this.radius&&(this.releaseAfterOver&&this.releaseStick(),t.normalizeSelf(),t.mulSelf(this.radius)),this.innerCircle.setPosition(t)},e.prototype.touchStart=function(t){if(this.enabled){if(this.isReleased=!1,this._startPos=t,this.unschedule(this.delayClose),this.node.active=!0,this.dynamicJoystick){var e=this.node.getParent().convertToNodeSpaceAR(t);this.node.setPosition(e)}this.move(cc.Vec2.ZERO)}},e.prototype.touchMove=function(t){if(this.enabled){var e=t.sub(this._startPos);this.move(e)}},e.prototype.touchEnd=function(){this.enabled&&this.releaseStick()},__decorate([a(cc.Node)],e.prototype,"outterCircle",void 0),__decorate([a(cc.Node)],e.prototype,"innerCircle",void 0),__decorate([a],e.prototype,"radius",void 0),__decorate([a],e.prototype,"innerCircleRadius",void 0),__decorate([a],e.prototype,"releaseAfterOver",void 0),__decorate([a],e.prototype,"dynamicJoystick",void 0),__decorate([a],e.prototype,"autoRadius",void 0),__decorate([i],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],LevelDialog:[function(t,e,n){"use strict";cc._RF.push(e,"4c94fc8PDtI1o3JM9m3WRKN","LevelDialog"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../Info"),i=t("../../../framework/plugin_boosts/ui/game/LevelSelector"),a=cc._decorator,s=a.ccclass,r=a.property,c=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.onShown=function(){this.selector.currentLevel=o.UserInfo.level,this.selector.refresh(),this.scheduleOnce(this.refreshLevels,.1),appGame.banner.playBanner(1)},e.prototype.refreshLevels=function(){this.selector.scrollToCurrentLevel()},e.prototype.select_level=function(t){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u9009\u62e9\u5173\u5361\u754c\u9762",content:"\u70b9\u51fb\u5173\u5361"+t.name},function(){}),this.gotoLevel(t.name)},e.prototype.refreshLevelItem=function(){},e.prototype.gotoLevel=function(t){t=parseInt(t),console.log("enter level",t),o.UserInfo.currentLevel=t,cc.director.loadScene("Game")},e.prototype.click_continue=function(){this.gotoLevel(o.UserInfo.level),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u9009\u62e9\u5173\u5361\u754c\u9762",content:"\u70b9\u51fb\u7ee7\u7eed\u6e38\u620f"},function(){}),appGame.gameServerRoom.gameConfigData&&appGame.gameServerRoom.gameConfigData.LevelDialogContinue&&appGame.videoBanner.playVideoAd(1,0,function(){}.bind(this))},__decorate([r(i.default)],e.prototype,"selector",void 0),__decorate([s],e)}(cc.Component);n.default=c,cc._RF.pop()},{"../../../framework/plugin_boosts/ui/game/LevelSelector":"LevelSelector","../Info":"Info"}],LevelSelector:[function(t,e,n){"use strict";cc._RF.push(e,"b7942O9SJ1JFpcT0/D7YiFO","LevelSelector"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,s=(o.help,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.pageview=null,e.template=null,e.onSelectLevel=new cc.Component.EventHandler,e.onRefreshItem=new cc.Component.EventHandler,e.index=0,e.max=9,e.itemCountPerPage=0,e.pages=[],e.currentLevel=1,e.autoScrollToCurrentLevel=!0,e}return __extends(e,t),e.prototype.selectLevel=function(t){this.onSelectLevel?this.onSelectLevel.emit([t.target,Number(t.target.name)]):console.warn("LevelSelector: onSelectLevel callback is nil")},e.prototype.onLoad=function(){this.pages.splice(0,this.pages.length),this.itemCountPerPage=this.template.childrenCount;var t=Math.floor(this.max/this.itemCountPerPage);this.max%this.itemCountPerPage>0&&(t+=1);for(var e=0;e<t-1;e++){var n=cc.instantiate(this.template);this.pageview.addPage(n),this.pages.push(n)}this.pages.push(this.template);for(var o=0;o<t;o++){n=this.pages[o];for(var i=0;i<n.childrenCount;i++){var a=n.children[i],s=a.getChildByName("label"),r=o*this.itemCountPerPage+Number(i)+1;r>this.max&&(a.active=!1),a.name=r+"",s.getComponent(cc.Label).string=a.name}}},e.prototype.refreshItem=function(t,e){e>this.currentLevel?(t.opacity=100,t.getComponent(cc.Button).enabled=!1):(t.opacity=255,t.getComponent(cc.Button).enabled=!0)},e.prototype.refresh=function(){console.log("LevelSelctor: refresh");for(var t=0;t<this.pages.length;t++)for(var e=this.pages[t],n=0;n<e.childrenCount;n++){var o=e.children[n],i=t*this.itemCountPerPage+Number(n)+1;this.refreshItem(o,i),this.onRefreshItem.emit([o,i])}this.autoScrollToCurrentLevel&&this.scrollToCurrentLevel()},e.prototype.start=function(){},e.prototype.scrollToCurrentLevel=function(){var t=this.currentLevel,e=Math.floor(t/this.itemCountPerPage);0==t%this.itemCountPerPage&&(e-=1),this.pageview.scrollToPage(e,.3)},e.prototype.nextPage=function(){this.pageview.scrollToPage(this.pageview.getCurrentPageIndex()+1,.3)},e.prototype.prevPage=function(){this.pageview.scrollToPage(this.pageview.getCurrentPageIndex()-1,.3)},__decorate([a(cc.PageView)],e.prototype,"pageview",void 0),__decorate([a(cc.Node)],e.prototype,"template",void 0),__decorate([a(cc.Component.EventHandler)],e.prototype,"onSelectLevel",void 0),__decorate([a(cc.Component.EventHandler)],e.prototype,"onRefreshItem",void 0),__decorate([a],e.prototype,"index",void 0),__decorate([a],e.prototype,"max",void 0),__decorate([i],e)}(cc.Component));n.default=s,cc._RF.pop()},{}],LevelupDialog:[function(t,e,n){"use strict";cc._RF.push(e,"192e1nHc39B4b1vo/mjTFG2","LevelupDialog"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../Info"),i=t("../../../framework/plugin_boosts/ui/View"),a=cc._decorator,s=a.ccclass,r=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.diamondLabel=null,e.btnLabel=null,e.tipLabel=null,e.levelLabel=null,e.mult=1,e.baseDiamond=0,e}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.onShown=function(t,e){e=Math.min(e,1);var n=Math.floor(Math.max(30*e,10));this.baseDiamond=n,this.diamondLabel.string=n.toString(),this.levelLabel.string=cc.js.formatStr("- \u7b2c %s \u5173 - ",t)},e.prototype.click_get=function(){o.UserInfo.addDiamond(this.baseDiamond),o.UserInfo.save(),this.getComponent(i.default).hide()},e.prototype.share_suc=function(){o.UserInfo.addDiamond(this.baseDiamond*this.mult),o.UserInfo.save(),this.getComponent(i.default).hide()},e.prototype.click_getex=function(){o.UserInfo.getChoice(o.ChoiceType.Levelup)},__decorate([r(cc.Label)],e.prototype,"diamondLabel",void 0),__decorate([r(cc.Label)],e.prototype,"btnLabel",void 0),__decorate([r(cc.Label)],e.prototype,"tipLabel",void 0),__decorate([r(cc.Label)],e.prototype,"levelLabel",void 0),__decorate([s],e)}(cc.Component);n.default=c,cc._RF.pop()},{"../../../framework/plugin_boosts/ui/View":"View","../Info":"Info"}],LoadingManager:[function(t,e,n){"use strict";cc._RF.push(e,"48049jD6zJMmoi+cPkRhX7D","LoadingManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.Loading=void 0;var o=cc._decorator,i=o.ccclass,a=o.property;n.Loading=null;var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefab=null,e.loadingNode=null,e.loadingSprite=null,e.loadingText=null,e.blockEventComp=null,e._callback=null,e._target=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.loadingNode=cc.instantiate(this.prefab),this.blockEventComp=this.loadingNode.getComponent(cc.BlockInputEvents),this.loadingNode.parent=this.node,this.loadingNode.zIndex=9999,this.loadingSprite=this.loadingNode.getComponentInChildren(cc.Sprite),this.loadingText=this.loadingNode.getComponentInChildren(cc.Label),this.hide(),n.Loading=this},e.prototype.start=function(){this.loadingSprite.node.runAction(cc.rotateBy(4,360).repeatForever())},e.prototype.dealyClose=function(){this.hide(),this._callback&&this._callback.call(this._target)},e.prototype.show=function(t,e,n,o,i){void 0===e&&(e=null),void 0===n&&(n=!0),void 0===o&&(o=null),void 0===i&&(i=null),this.loadingNode.active=!0,this.loadingNode.resumeAllActions(),this.blockEventComp.enabled=n,this._callback=o,this._target=i,e&&(this.loadingText.string=e),t>0&&(this.unschedule(this.dealyClose),this.scheduleOnce(this.dealyClose,t))},e.prototype.hide=function(){this.loadingNode.active=!1,this.loadingNode.pauseAllActions()},__decorate([a(cc.Prefab)],e.prototype,"prefab",void 0),__decorate([i],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],LocalLifeSystem:[function(t,e,n){"use strict";cc._RF.push(e,"550c0O4ualLIYQoOOiFtGsz","LocalLifeSystem"),Object.defineProperty(n,"__esModule",{value:!0}),n.LifeSystem=n.LocalLifeSystem=void 0;var o=t("../utils/EventManager"),i=t("../misc/Signal"),a=function(){function t(){this.sec_per_live=300,this.live_free_get=5,this.max_freeLives_seconds=this.live_free_get*this.sec_per_live,this.livesSeconds=0,this.isEnabledAutoRecovery=!0,this.recoverySignal=new i.default}return t.prototype.init=function(t,e){void 0===t&&(t=null),void 0===e&&(e=null),this.sec_per_live=t||this.sec_per_live,this.live_free_get=e||this.live_free_get,this.max_freeLives_seconds=this.sec_per_live*this.live_free_get,this.livesSeconds=0,this.lastLifeSaveTime=Number(localStorage.getItem("sys_life_lastLifeSaveTime")||(new Date).getTime()),o.event.on("onEnterForeground",this.onEnterForeground,this),this.onTimeRequested((new Date).getTime()),console.log("\u4f53\u529b\u7cfb\u7edf\u521d\u59cb\u5316",this)},t.prototype.onEnterForeground=function(){this.onTimeRequested((new Date).getTime())},Object.defineProperty(t.prototype,"nextLifeTime",{get:function(){return(this.lives+1)*this.sec_per_live-this.livesSeconds},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lives",{get:function(){return Math.floor(this.livesSeconds/this.sec_per_live)},enumerable:!1,configurable:!0}),t.prototype.save=function(){this.lastLifeSaveTime=(new Date).getTime(),localStorage.setItem("sys_life_lastLifeSaveTime",this.lastLifeSaveTime+"")},t.prototype.onTimeRequested=function(t){if(this.lastLifeSaveTime){var e=Math.floor((t-this.lastLifeSaveTime)/1e3);this.livesSeconds=Math.min(this.max_freeLives_seconds,e)}},t.prototype.startCheck=function(t,e){var n=this;if(!this.task_checkLives){var o=t.call(e);this.task_checkLives=setInterval(function(){var i=t.call(e);o!=i&&i==n.live_free_get-1&&(n.livesSeconds=0,n.save()),i<n.live_free_get&&(n.livesSeconds=n.livesSeconds+1,i+n.lives>i&&(console.log("\u83b7\u5f97\u5728\u7ebf\u5956\u52b1\u4e00\u9897\u661f",n.lives),n.recoverySignal.fire(n.lives),n.livesSeconds=0,n.save())),o=i},1e3)}},t}();n.LocalLifeSystem=a,n.LifeSystem=new a,cc._RF.pop()},{"../misc/Signal":"Signal","../utils/EventManager":"EventManager"}],LocalTimeSystem:[function(t,e,n){"use strict";cc._RF.push(e,"2f847KAJNJCwrvg4K3CKFUv","LocalTimeSystem"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.init=function(e){null!=e&&null!=e&&(t.utc_sec=e,cc.sys.WECHAT_GAME==cc.sys.platform&&(wx.onHide(this.onHidden),wx.onShow(this.onShown)))},t.startTimer=function(){this.timer=setInterval(function(){t.utc_sec+=1e3},1e3)},t.stopTimer=function(){clearInterval(this.timer)},t.getSec=function(){return t.utc_sec||(new Date).getTime()/1e3},t.getDate=function(){if(t.utc_sec){var e=new Date;return e.setTime(1e3*t.utc_sec),e}return new Date},t.onHidden=function(){console.log("game enter background")},t.onShown=function(){console.log("game enter foreground")},t}();n.default=o,cc._RF.pop()},{}],LuckyDialog:[function(t,e,n){"use strict";cc._RF.push(e,"a94275+JmtMx6iZb18iwKTe","LuckyDialog"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../framework/plugin_boosts/ui/ToastManager"),i=t("../../../framework/plugin_boosts/ui/ViewManager"),a=t("../../../framework/plugin_boosts/ui/View"),s=t("../Info"),r=t("../../../framework/plugin_boosts/gamesys/Device"),c=t("../hex-lines-game/Res"),l=t("../../../framework/plugin_boosts/ui/UIFunctions"),u=cc._decorator,d=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._canRotate=!0,e.sprites=[],e.labels=[],e.btn_freedraw=null,e.btn_videodraw=null,e.freedrawTip=null,e.drawLabel=null,e.pool=[],e.isGreaterDate=function(t,e){var n=t.getTime()-e.getTime();return n>864e5||n>0&&t.getDate()!=e.getDate()},e}var n;return __extends(e,t),n=e,e.prototype.start=function(){},e.prototype.share_succ=function(){this.startDraw(),s.UserInfo.freedrawTime=(new Date).getTime(),s.UserInfo.save(),this.onShown()},e.prototype.click_freeedraw=function(){},e.prototype.onLoad=function(){for(var t=0;t<c.R.luckyConfig.json.length;t++)for(var e=c.R.luckyConfig.json[t],n=parseFloat(e.chance),o=0;o<2*n;o++)this.pool.push(t);this.pool.shuffle(),console.log(this.pool)},e.prototype.startDraw=function(){var t=g.getRandomInArray(this.pool);this.startWheel(t),r.default.playEffect(c.R.audio_draw)},e.prototype.isNextDay=function(t){return this.isGreaterDate(new Date,new Date(t))},e.prototype.click_videodraw=function(){if(s.UserInfo.luckyVideoWatchCount>=n.MaxVideoCount){if(!this.isNextDay(s.UserInfo.luckyVideoWatchTime))return;s.UserInfo.luckyVideoWatchCount=0,s.UserInfo.luckyVideoWatchTime=(new Date).getTime()}},e.prototype.calculateAngle=function(t){return 60*-(t-1)-30-1440-this.wheelSp.node.rotation%360},e.prototype.onShown=function(){s.UserInfo.luckyVideoWatchCount>=n.MaxVideoCount?(this.drawLabel.string="\u5df2\u7528\u5b8c",l.default.setButtonEnabled(this.btn_videodraw,!1)):(this.drawLabel.string="\u770b\u89c6\u9891\u62bd\u5956",l.default.setButtonEnabled(this.btn_videodraw,!0)),g.isGreaterDate(new Date,new Date(s.UserInfo.freedrawTime))?(this.btn_freedraw.interactable=!0,this.btn_freedraw.node.opacity=255,this.freedrawTip.active=!1):(this.btn_freedraw.interactable=!1,this.btn_freedraw.node.opacity=100,this.freedrawTip.active=!0);for(var t=0;t<c.R.luckyConfig.json.length;t++){var e=c.R.luckyConfig.json[t];this.labels[t].string=e.gold_reward+""}},e.prototype.startWheel=function(t){console.log("target wheel:",t);var e=this.calculateAngle(t);if(this._canRotate){this._canRotate=!1;var n=cc.rotateBy(Math.abs(e/400),e),i=cc.callFunc(function(){this._canRotate=!0,this.showRes(t)}.bind(this)),a=cc.sequence(n,i);this.wheelSp.node.runAction(a.easing(cc.easeQuadraticActionInOut()))}else o.Toast.make("\u6b63\u5728\u7ed9\u60a8\u6311\u9009\u5956\u54c1...")},e.prototype.showRes=function(t){var e=c.R.luckyConfig.json[t];isNaN(Number(e.gold_reward))?(o.Toast.make("\u606d\u559c\u4f60\u62bd\u4e2d\u4e86 "+e.gold_reward),s.UserInfo.unlock(g.randomInt(0,6))):(this.getComponent(a.default).hide(),i.default.instance.show("Game/GetDialog",e.gold_reward))},e.prototype.update=function(){},e.prototype.click_close=function(){this._canRotate?this.getComponent(a.default).hide():o.Toast.make("\u6b63\u5728\u7ed9\u60a8\u6311\u9009\u5956\u54c1...")},e.MaxVideoCount=5,__decorate([p(cc.Sprite)],e.prototype,"wheelSp",void 0),__decorate([p([cc.Sprite])],e.prototype,"sprites",void 0),__decorate([p([cc.Label])],e.prototype,"labels",void 0),__decorate([p(cc.Button)],e.prototype,"btn_freedraw",void 0),__decorate([p(cc.Button)],e.prototype,"btn_videodraw",void 0),__decorate([p(cc.Node)],e.prototype,"freedrawTip",void 0),__decorate([p(cc.Label)],e.prototype,"drawLabel",void 0),n=__decorate([d],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../framework/plugin_boosts/gamesys/Device":"Device","../../../framework/plugin_boosts/ui/ToastManager":"ToastManager","../../../framework/plugin_boosts/ui/UIFunctions":"UIFunctions","../../../framework/plugin_boosts/ui/View":"View","../../../framework/plugin_boosts/ui/ViewManager":"ViewManager","../Info":"Info","../hex-lines-game/Res":"Res"}],Main:[function(t,e,n){"use strict";cc._RF.push(e,"979d2m9WlRN0519FkcUBa5E","Main"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../framework/plugin_boosts/ui/ViewManager"),i=t("../../framework/plugin_boosts/gamesys/Device"),a=t("./hex-lines-game/Res"),s=t("../../framework/plugin_boosts/ui/ToastManager"),r=cc._decorator,c=r.ccclass,l=(r.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}var n;return __extends(e,t),n=e,e.prototype.onLoad=function(){n.instance=this,i.default.playMusic(a.R.audio_bgm)},e.prototype.isNextDay=function(t){return this.isGreaterDate(new Date,new Date(t))},e.prototype.isGreaterDate=function(t,e){var n=t.getTime()-e.getTime();return n>864e5||n>0&&t.getDate()!=e.getDate()},e.prototype.start=function(){appGame.gameServerRoom.emit(consts.CLIENT_GAME_START,function(){appGame.banner.playBanner(2)})},e.prototype.click_play=function(){o.default.instance.show("Game/LevelDialog")},e.prototype.toggle_sfx=function(t){i.default.setSoundsEnable(!t.isChecked)},e.prototype.click_skin=function(){o.default.instance.show("Game/ShopDialog")},e.prototype.click_rank=function(){o.default.instance.show("wechat/WxRankDialog")},e.prototype.onShare=function(){},e.prototype.click_share=function(){},e.prototype.click_luck=function(){o.default.instance.show("Game/LuckyDialog")},e.prototype.click_more=function(){s.Toast.make("\u656c\u8bf7\u671f\u5f85")},e.instance=null,n=__decorate([c],e)}(cc.Component));n.default=l,cc._RF.pop()},{"../../framework/plugin_boosts/gamesys/Device":"Device","../../framework/plugin_boosts/ui/ToastManager":"ToastManager","../../framework/plugin_boosts/ui/ViewManager":"ViewManager","./hex-lines-game/Res":"Res"}],MessageBase:[function(t,e,n){"use strict";cc._RF.push(e,"dde8btrP25FeqHeKW+G4Pfb","MessageBase"),Object.defineProperty(n,"__esModule",{value:!0}),n.MessageBase=void 0;var o=t("./MessageType"),i=t("./Message"),a=t("./ConnectManager"),s=function(){function t(){for(var t in this.Cmd={},this.Error={},this._allFuncs={},game.Command){var e=game.Command[t];this.Cmd[e]=t}for(var t in game.ErrorCode)e=game.ErrorCode[t],this.Error[e]=t}return t.prototype.useSocketKey=function(t){this._socketKey=t},t.prototype.addListener=function(t,e){this._allFuncs[t]=e},t.prototype.removeListener=function(t){null!=this._allFuncs[t]&&(this._allFuncs[t]=null)},t.prototype.onMessage=function(t){if(t.type==o.SocketTag.KSOCKET_MESSAGE){var e=new Uint8Array(t.msg),n=new flatbuffers.ByteBuffer(e),i=game.Package.getRootAsPackage(n);return null!=this._allFuncs[i.cmd()]?this._allFuncs[i.cmd()].call(this,i):this.onHandler(i)}return this.onSocket(t.type),!0},t.prototype.onSocket=function(){},t.prototype.onHandler=function(){return!1},t.prototype.sendMessage=function(t){a.connManager.sendMessage(t,this._socketKey)},t.prototype.onDestory=function(){this._allFuncs=null},t.prototype.send=function(t,e,n,o){void 0===e&&(e=""),void 0===n&&(n=null),void 0===o&&(o=null),console.log("Send Message : ["+this.Cmd[t]+"]");var s=a.connManager.getDefault(),r=new i.Message(t),c=game[e];if(null!=c){null==o&&(o=this.createBuilder());var l=c["start"+e],u=c["end"+e];l.call(c,o),n&&n(o),o.finish(u.call(c,o)),r.addBuilder(o)}else r.addString(e);s.sendMessage(r)},t.prototype.createBuilder=function(){return new flatbuffers.Builder},t}();n.MessageBase=s,cc._RF.pop()},{"./ConnectManager":"ConnectManager","./Message":"Message","./MessageType":"MessageType"}],MessageBoxComponent:[function(t,e,n){"use strict";cc._RF.push(e,"5d14c63Zc1PupexE+EkksQp","MessageBoxComponent"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./View"),i=t("./MessageBoxManager"),a=cc._decorator,s=a.ccclass,r=a.property,c=(a.executeInEditMode,a.playOnFocus,function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.node_title=null,e.node_content=null,e.btn_ok=null,e.btn_cancel=null,e.messageBoxCallback=null,e.label_ok=null,e.label_cancel=null,e.group_ok_cancel=null,e.group_ok=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.label_ok=this.btn_ok.getChildByName("Label").getComponent(cc.Label),this.label_cancel=this.btn_cancel.getChildByName("Label").getComponent(cc.Label),this.getComponent(o.default).setDelegate(this),this.bgAnimation=this.node.getChildByName("bg").getComponent(cc.Animation)},e.prototype.onHidden=function(){},e.prototype.onShown=function(t){this.node_title.string=t.title,this.node_content.string=t.content,this.messageBoxCallback=t.callback,t.extra&&(this.label_ok.string=t.extra.okText,this.label_cancel.string=t.extra.cancelText),t.buttons==i.MessageBox.OK_CANCEL?(this.group_ok_cancel.active=!0,this.group_ok.active=!1):(this.group_ok.active=!0,this.group_ok_cancel.active=!1)},e.prototype.start=function(){},e.prototype.on_btn_ok_clicked=function(){this.messageBoxCallback&&this.messageBoxCallback.call(null,i.MessageBox.OK),this.getComponent(o.default).hide()},e.prototype.on_btn_cancel_clicked=function(){this.messageBoxCallback&&this.messageBoxCallback.call(null,i.MessageBox.CANCEL),this.getComponent(o.default).hide()},__decorate([r(cc.Label)],e.prototype,"node_title",void 0),__decorate([r(cc.Label)],e.prototype,"node_content",void 0),__decorate([r(cc.Node)],e.prototype,"btn_ok",void 0),__decorate([r(cc.Node)],e.prototype,"btn_cancel",void 0),__decorate([r(cc.Node)],e.prototype,"group_ok_cancel",void 0),__decorate([r(cc.Node)],e.prototype,"group_ok",void 0),__decorate([s],e)}(cc.Component));n.default=c,cc._RF.pop()},{"./MessageBoxManager":"MessageBoxManager","./View":"View"}],MessageBoxManager:[function(t,e,n){"use strict";cc._RF.push(e,"bc48cBqkERHuJx+iKzOzwOV","MessageBoxManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.MessageBox=void 0;var o=t("./ViewManager"),i=cc._decorator,a=i.ccclass,s=i.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefab=null,e}var n;return __extends(e,t),n=e,e.prototype.onLoad=function(){n.instance=this},e.instance=null,__decorate([s(cc.Prefab)],e.prototype,"prefab",void 0),n=__decorate([a],e)}(cc.Component);n.default=r;var c=function(){function t(){}return t.prototype.start=function(){},t.show=function(t,e,n,i){return e=null==e||null==e?"\u63d0\u793a":e,new Promise(function(a){o.default.instance.showFromPrefab(r.instance.prefab,"MessageBox",{title:e,content:t,buttons:n,extra:i,callback:function(t){a(t)}})})},t.OK=1,t.CANCEL=0,t.OK_CANCEL=2,t}();n.MessageBox=c,cc._RF.pop()},{"./ViewManager":"ViewManager"}],MessageDispatch:[function(t,e,n){"use strict";cc._RF.push(e,"27032HakQBLd5OVLXAxtzCc","MessageDispatch"),Object.defineProperty(n,"__esModule",{value:!0}),n.MessageDispatch=void 0;var o=function(){function t(){this._handler=null,this._allMessageBases={}}return t.getInstance=function(){return null==this._instace&&(this._instace=new t),this._instace},t.prototype.register=function(t,e){return null==t?null:null==e?null:(null==this._allMessageBases[t]&&(this._allMessageBases[t]=[]),this._allMessageBases[t].push(e),e)},t.prototype.isNull=function(t){var e=this._allMessageBases[t];return null!=e&&e.length>0},t.prototype.registerUnique=function(t,e){if(null==t)return null;var n=this._allMessageBases[t];return null!=n&&n.length>0?this._allMessageBases[t][0]:this.register(t,e)},t.prototype.getBean=function(t){if(null==t)return null;var e=this._allMessageBases[t];return null!=e&&e.length>0?e[0]:null},t.prototype.unRegister=function(t){var e=this._allMessageBases[t];if(null!=e){for(var n=0;n<e.length;n++)e[n].onDestory();this._allMessageBases[t]=null,delete this._allMessageBases[t]}},t.prototype.onMessage=function(t){for(var e in this._allMessageBases)if(null!=this._allMessageBases[e])for(var n=this._allMessageBases[e],o=0;o<n.length;o++)if(n[o].onMessage(t))return!0;return!1},t._instace=null,t}();n.MessageDispatch=o,cc._RF.pop()},{}],MessageHandler:[function(t,e,n){"use strict";cc._RF.push(e,"af7b1a7LUJIBaVXazyQWhWN","MessageHandler"),Object.defineProperty(n,"__esModule",{value:!0}),n.MessageHandler=void 0;var o=t("./Message"),i=t("./MessageType"),a=t("./MessageDispatch"),s=function(){function t(t){this._writeMessage=null,this._messages=null,this._messages=[],this._heartbeatTime=0,this._writeMessage=[],this._webSocket=t,this.setHeartbeatInterval(30),this._isEnableHeartbeat=!1}return Object.defineProperty(t.prototype,"enableHeartbeat",{get:function(){return this._isEnableHeartbeat},set:function(t){this._isEnableHeartbeat=t},enumerable:!1,configurable:!0}),t.prototype.setHeartbeatInterval=function(t){t<=0&&(t=1),this._heartbeatInterval=1e3*t},t.prototype.onUpdate=function(){if(this._writeMessage.length>0){var t=(e=this._writeMessage[0]).pack();this._webSocket.readyState==WebSocket.OPEN&&(console.log("size: "+t.byteLength),this._webSocket.send(t),this._writeMessage.shift())}if(this._messages.length>0){var e=this._messages.shift();this.dispatchMessage(e)}return this._isEnableHeartbeat&&this.checkHeartbeat(),!1},t.prototype.checkHeartbeat=function(){(new Date).getTime()-this._heartbeatTime>=this._heartbeatInterval&&(this.sendMessage(new o.Message(game.Command.Heartbeat)),this._heartbeatTime=(new Date).getTime())},t.prototype.dispatchMessage=function(t){a.MessageDispatch.getInstance().onMessage(t)||this._messages.push(t)},t.prototype.dispatchSocket=function(t){var e={type:t};this.dispatchMessage(e)},t.prototype.dispatch=function(t,e){var n=this;if(t==i.SocketTag.KSOCKET_OPEN)clearInterval(this.updateTimer),this.updateTimer=setInterval(function(t){return n.onUpdate(t)},1e3/60),this.dispatchSocket(t);else if(t==i.SocketTag.KSOCKET_CLOSE)clearInterval(this.updateTimer),this.dispatchSocket(t);else if(t==i.SocketTag.KSOCKET_ERROR)clearInterval(this.updateTimer),this.dispatchSocket(t);else if(t==i.SocketTag.KSOCKET_MESSAGE){var o={type:t,msg:e};this.dispatchMessage(o)}},t.prototype.clearWriteMessage=function(){this._writeMessage=[]},t.prototype.clearMessage=function(){this._messages=[]},t.prototype.sendMessage=function(t){this._writeMessage.push(t)},t}();n.MessageHandler=s,cc._RF.pop()},{"./Message":"Message","./MessageDispatch":"MessageDispatch","./MessageType":"MessageType"}],MessageType:[function(t,e,n){"use strict";cc._RF.push(e,"9f654W7umlMeasjS7fKQj29","MessageType"),Object.defineProperty(n,"__esModule",{value:!0}),n.SocketTag=void 0,function(t){t[t.KSOCKET_OPEN=0]="KSOCKET_OPEN",t[t.KSOCKET_CLOSE=1]="KSOCKET_CLOSE",t[t.KSOCKET_MESSAGE=2]="KSOCKET_MESSAGE",t[t.KSOCKET_ERROR=3]="KSOCKET_ERROR"}(n.SocketTag||(n.SocketTag={})),cc._RF.pop()},{}],Message:[function(t,e,n){"use strict";cc._RF.push(e,"fb4e0zpbzJB4YN77Kns7y3M","Message"),Object.defineProperty(n,"__esModule",{value:!0}),n.Message=void 0;var o=function(){function t(t){this._cmd=t,this._data=null}return t.prototype.addBuilder=function(t){this._data=t.asUint8Array()},t.prototype.addString=function(t){this._data=t},t.prototype.pack=function(){var t=this.toString().asUint8Array(),e=new Uint8Array(t);return console.log("send message: "+e),e.buffer},t.prototype.toString=function(){var t=new flatbuffers.Builder,e=null;null!=this._data&&(e=t.createString(this._data)),game.Package.startPackage(t),game.Package.addCmd(t,this._cmd),null!=this._data&&game.Package.addData(t,e);var n=game.Package.endPackage(t);return t.finish(n),t},t}();n.Message=o,cc._RF.pop()},{}],Net:[function(t,e,n){"use strict";cc._RF.push(e,"9e139lB+RRCNpxXRSqgoURG","Net"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.httpGet=function(t,e){var n=cc.loader.getXMLHttpRequest();n.onreadystatechange=function(){if(4===n.readyState&&n.status>=200&&n.status<300){var t=n.responseText;e(t)}},n.open("GET",t,!0),cc.sys.isNative&&n.setRequestHeader("Accept-Encoding","gzip,deflate"),n.timeout=5e3,n.send()},t.httpPost=function(t,e,n){var o=cc.loader.getXMLHttpRequest();o.onreadystatechange=function(){if(4===o.readyState&&o.status>=200&&o.status<300){var t=o.responseText;n(t)}else n(-1)},o.open("POST",t,!0),cc.sys.isNative&&o.setRequestHeader("Accept-Encoding","gzip,deflate"),o.timeout=5e3,o.send(e)},t}();n.default=o,cc._RF.pop()},{}],PandoraPoint:[function(t,e,n){"use strict";cc._RF.push(e,"3f36aidibxFPY2TBTu8gRyi","PandoraPoint"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.numberVisible=!0,e}return __extends(e,t),e.prototype.onLoad=function(){this.sprite=this.getComponent(cc.Sprite),this.label=this.getComponentInChildren(cc.Label),this.label.node.active=this.numberVisible},e.prototype.start=function(){},e.prototype.setNumber=function(t){this.numberVisible&&(this.label.string=t+""),this.numberVisible&&(this.label.node.active=0!=t),this.sprite.enabled=0!=t},__decorate([a],e.prototype,"numberVisible",void 0),__decorate([i],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],PauseDialog:[function(t,e,n){"use strict";cc._RF.push(e,"83fb9osUoVEppfk8B6mkJYV","PauseDialog"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){appGame.banner.playBanner(1)},e.prototype.click_share=function(){},e.prototype.click_home=function(){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u6e38\u620f\u754c\u9762",content:"\u70b9\u51fb\u8fd4\u56de\u4e3b\u754c\u9762"},function(){}),cc.director.loadScene("Main")},e.prototype.click_restart=function(){cc.director.loadScene("Game"),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u8fd4\u56de\u754c\u9762",content:"\u91cd\u65b0\u5f00\u59cb"},function(){}),appGame.gameServerRoom.gameConfigData&&appGame.gameServerRoom.gameConfigData.PauseDialogRestart&&appGame.videoBanner.playVideoAd(4,0,function(){})},__decorate([i],e)}(cc.Component));n.default=a,cc._RF.pop()},{}],PoolManager:[function(t,e,n){"use strict";cc._RF.push(e,"69495bpMX5Av5pbrNxnGI8/","PoolManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e,n){this.nodePool={},this.nodes={},this.managed=!1,this.aliveObjects=[],this.onCreateObject=e,this.target=n,this.root=t,t&&t.on(cc.Node.EventType.CHILD_REMOVED,this.onNodeRemove,this)}return t.prototype.onNodeRemove=function(t){this.put(t)},t.prototype.objects=function(){return this.aliveObjects},t.prototype.clearAlives=function(){for(;0<this.aliveObjects.length;)this.aliveObjects[0].removeFromParent()},t.prototype.getPool=function(t){"string"==typeof t&&"number"==typeof t||(t=t._uuid||t.name);var e=this.nodePool[t];return null==e&&(e=new cc.NodePool,this.nodePool[t]=e),e},t.prototype.get=function(t){var e=this.getPool(t).get();return this.onCreateObject&&null==e?(e=this.onCreateObject.call(this.target,t),this.root&&e.setParent(this.root),e||console.warn(e,"onCreateObject must return an object"),this.managed&&this.aliveObjects.push(e),this.nodes[e.uuid]=t,e):(this.root&&e.setParent(this.root),this.managed&&this.aliveObjects.push(e),e)},t.prototype.tag=function(t,e){this.nodes[t.uuid]=e},t.prototype.put=function(t,e){void 0===e&&(e=null),null==e&&(e=this.nodes[t.uuid]),this.getPool(e).put(t),this.managed&&this.aliveObjects.splice(this.aliveObjects.indexOf(t),1)},t.prototype.clear=function(t){if(this.managed&&this.aliveObjects.splice(0,this.aliveObjects.length),t)this.getPool(t).clear();else for(var e in this.nodePool)this.nodePool[e].clear()},t.prototype.size=function(t){return this.getPool(t).size()},t}();n.default=o,cc._RF.pop()},{}],PsFxPlayer:[function(t,e,n){"use strict";cc._RF.push(e,"dc35b3gh69DGIz45mLQJxDM","PsFxPlayer"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./PsFx"),i=t("./Device"),a=cc._decorator,s=a.ccclass,r=a.property,c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.prefab=null,e._fx=null,e.spriteFrame=null,e.duration=-1,e.randomRotaion=!1,e}return __extends(e,t),e.prototype.start=function(){},Object.defineProperty(e.prototype,"fx",{get:function(){if(null==this._fx&&this.prefab){var t=cc.instantiate(this.prefab);if(null==t)return null;var e=t.getComponent(o.default);null==e&&(e=this.addComponent(o.default)),t.setPosition(0,0),t.setParent(this.node),this._fx=e}return this._fx},enumerable:!1,configurable:!0}),e.prototype.isPlaying=function(){return this.fx.isPlaying},e.prototype.onEnable=function(){},e.prototype.onDisable=function(){var t=this._fx;t&&(t.node.active=!1)},e.prototype.sleep=function(t){return new Promise(function(e){setTimeout(function(){e()},t)})},e.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){var t;return __generator(this,function(e){switch(e.label){case 0:return i.default.playEffect(this.audioClip,!1),(t=this.fx)?(t.node.active=!0,this.randomRotaion&&t.reset(),[2,t.play(this.audioClip,this.spriteFrame)]):[3,1];case 1:return this.duration>0?[4,this.sleep(1e3*this.duration)]:[3,3];case 2:e.sent(),e.label=3;case 3:return[2]}})})},__decorate([r(cc.Prefab)],e.prototype,"prefab",void 0),__decorate([r(cc.SpriteFrame)],e.prototype,"spriteFrame",void 0),__decorate([r({type:cc.AudioClip})],e.prototype,"audioClip",void 0),__decorate([r],e.prototype,"duration",void 0),__decorate([r],e.prototype,"randomRotaion",void 0),__decorate([s],e)}(cc.Component);n.default=c,cc._RF.pop()},{"./Device":"Device","./PsFx":"PsFx"}],PsFx:[function(t,e,n){"use strict";cc._RF.push(e,"5e90fpm8LtO1JagTdF3cTrm","PsFx"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./Device"),i=cc._decorator,a=i.ccclass,s=i.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.particles=[],e.animations=[],e.armature=null,e.isPlaying=!1,e.sfx=null,e.sprite=null,e.playedTime=0,e.duration=-1,e.fadeAfterFinish=-1,e.repeatTime=1,e.removeAfterFinish=!1,e}return __extends(e,t),e.prototype.onLoad=function(){null==this.sprite&&(this.sprite=this.getComponent(cc.Sprite));var t=this.getComponent(cc.Animation);t&&this.animations.push(t);var e=this.getComponent(cc.ParticleSystem);e&&this.particles.push(e);for(var n=0;n<this.node.childrenCount;n++){var o=this.node.children[n],i=o.getComponent(cc.ParticleSystem);if(i)this.particles.push(i);else{var a=o.getComponent(cc.Animation);a&&this.animations.push(a)}}"undefined"!=typeof dragonBones&&(this.armature=this.getComponent(dragonBones.ArmatureDisplay),this.armature||(this.armature=this.getComponentInChildren(dragonBones.ArmatureDisplay)))},e.prototype.play=function(t,e){var n=this;void 0===t&&(t=null),void 0===e&&(e=null),this.isPlaying=!0;var i=0;t&&(this.sfx=t),e&&(this.sprite.spriteFrame=e),this.node.active=!0;for(var a=0;a<this.particles.length;a++)(s=this.particles[a]).resetSystem(),i<s.duration&&(i=s.duration+s.life+s.lifeVar);for(a=0;a<this.animations.length;a++){var s,r=(s=this.animations[a]).getClips();if(r&&r.length>0){var c=r[0],l=c.duration/c.speed;l>i&&(i=l),s.play(c.name)}}if(this.sfx&&o.default.playEffect(this.sfx,!1),this.armature){if(this.armature.playAnimation("",this.repeatTime),(i=this.duration)<=0)return new Promise(function(t){n.armature.addEventListener(dragonBones.EventObject.COMPLETE,function(){console.log("armature play complete"),n.removeAfterFinish?n.node.removeFromParent():n.fadeOnFinish(t)})})}else i+=.1;return new Promise(function(t){setTimeout(function(){n.isValid&&(n.removeAfterFinish?n.node.removeFromParent():n.fadeOnFinish(t))},1e3*i)})},e.prototype.fadeOnFinish=function(t){this.isPlaying=!1;for(var e=0;e<this.particles.length;e++)this.particles[e].stopSystem();if(this.fadeAfterFinish>0){var n=cc.sequence(cc.fadeOut(this.fadeAfterFinish),cc.callFunc(t));this.node.runAction(n)}else t()},e.prototype.reset=function(){this.playedTime=0},e.prototype.start=function(){},__decorate([s({type:cc.AudioClip})],e.prototype,"sfx",void 0),__decorate([s(cc.Sprite)],e.prototype,"sprite",void 0),__decorate([s],e.prototype,"duration",void 0),__decorate([s],e.prototype,"fadeAfterFinish",void 0),__decorate([s],e.prototype,"repeatTime",void 0),__decorate([s],e.prototype,"removeAfterFinish",void 0),__decorate([a],e)}(cc.Component);n.default=r,cc._RF.pop()},{"./Device":"Device"}],PsSpawner:[function(t,e,n){"use strict";cc._RF.push(e,"12e8aPL0IBPxYKO3t/sxN/O","PsSpawner"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./PsFx"),i=t("./PoolManager"),a=cc._decorator,s=a.ccclass,r=(a.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.onLoad=function(){this.poolmgr=new i.default},e.prototype.start=function(){},e.prototype.clear=function(){this.poolmgr&&this.poolmgr.clear()},e.prototype.getFx=function(t){var e=this;return new Promise(function(n){var i=e.poolmgr.get(t);if(null==i){if(!(t instanceof cc.Prefab))return void cc.loader.loadRes(t,cc.Prefab,function(a,s){(i=cc.instantiate(s)).setParent(e.node);var r=i.getComponent(o.default);r.name=t,n(r)});i=cc.instantiate(t),e.poolmgr.tag(i,t)}i.setParent(e.node),i.active=!1;var a=i.getComponent(o.default);a.reset(),n(a)})},e.prototype.onFxFinshPlay=function(t){this.poolmgr.put(t.node)},e.prototype.play=function(t,e,n,o,i){return void 0===e&&(e=cc.Vec2.ZERO),void 0===n&&(n=0),__awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(s){switch(s.label){case 0:return[4,this.getFx(t)];case 1:return(a=s.sent()).node.position=e,a.node.rotation=n,[4,a.play(o,i)];case 2:return s.sent(),this.onFxFinshPlay(a),[2]}})})},e.prototype.play2=function(t,e,n,o){return void 0===e&&(e=cc.Vec2.ZERO),void 0===n&&(n=0),void 0===o&&(o=0),__awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return[4,this.getFx(t)];case 1:return(i=a.sent()).node.position=e,i.node.scale=o,i.node.rotation=n,[4,i.play()];case 2:return a.sent(),this.onFxFinshPlay(i),[2]}})})},e.prototype.play3=function(t,e){return __awaiter(this,void 0,void 0,function(){var n,o=this;return __generator(this,function(i){switch(i.label){case 0:return[4,this.getFx(t)];case 1:return(n=i.sent()).node.position=e,n.play().then(function(){return o.onFxFinshPlay(n)}),[2,n.node]}})})},__decorate([s],e)}(cc.Component));n.default=r,cc._RF.pop()},{"./PoolManager":"PoolManager","./PsFx":"PsFx"}],Res:[function(t,e,n){"use strict";cc._RF.push(e,"81fb28+15NDNaH9M81MKxwU","Res"),Object.defineProperty(n,"__esModule",{value:!0}),n.R=void 0;var o=cc._decorator,i=o.ccclass,a=o.property;n.R=null;var s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.levelJson=null,e.TilePrefab=null,e.TileShadow=null,e.Line46=null,e.Line37=null,e.Line19=null,e.audio_bgm=null,e.audio_unlock=null,e.audio_invalid=null,e.audio_draw=null,e.audio_down=null,e.audio_win=null,e.audio_link=null,e.audio_get_diamond=null,e.tileTextures=[],e.animalPrefabs=[],e.skinConfig=null,e.luckyConfig=null,e.colors=[],e}return __extends(e,t),e.prototype.onLoad=function(){n.R=this},e.prototype.start=function(){},__decorate([a(cc.JsonAsset)],e.prototype,"levelJson",void 0),__decorate([a(cc.Prefab)],e.prototype,"TilePrefab",void 0),__decorate([a(cc.Prefab)],e.prototype,"TileShadow",void 0),__decorate([a(cc.Prefab)],e.prototype,"Line46",void 0),__decorate([a(cc.Prefab)],e.prototype,"Line37",void 0),__decorate([a(cc.Prefab)],e.prototype,"Line19",void 0),__decorate([a({type:cc.AudioClip})],e.prototype,"audio_bgm",void 0),__decorate([a({type:cc.AudioClip})],e.prototype,"audio_unlock",void 0),__decorate([a({type:cc.AudioClip})],e.prototype,"audio_invalid",void 0),__decorate([a({type:cc.AudioClip})],e.prototype,"audio_draw",void 0),__decorate([a({type:cc.AudioClip})],e.prototype,"audio_down",void 0),__decorate([a({type:cc.AudioClip})],e.prototype,"audio_win",void 0),__decorate([a({type:cc.AudioClip})],e.prototype,"audio_link",void 0),__decorate([a({type:cc.AudioClip})],e.prototype,"audio_get_diamond",void 0),__decorate([a([cc.SpriteFrame])],e.prototype,"tileTextures",void 0),__decorate([a([cc.Prefab])],e.prototype,"animalPrefabs",void 0),__decorate([a(cc.JsonAsset)],e.prototype,"skinConfig",void 0),__decorate([a(cc.JsonAsset)],e.prototype,"luckyConfig",void 0),__decorate([a([cc.Color])],e.prototype,"colors",void 0),__decorate([i],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],ShopDialog:[function(t,e,n){"use strict";cc._RF.push(e,"1b7cbT64WtHxpoRfvlVr4EN","ShopDialog"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./ShopItemTemplate"),i=t("../../../framework/plugin_boosts/misc/SpriteFrameCache"),a=t("../hex-lines-game/Res"),s=t("../Info"),r=t("../../../framework/plugin_boosts/ui/ToastManager"),c=t("../../../framework/plugin_boosts/gamesys/Device"),l=t("../Main"),u=cc._decorator,d=u.ccclass,p=u.property,h=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.scrollview=null,e.freeDiamondLabel=null,e.freeDiamondBtn=null,e}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.onShown=function(){var t=this;this.scrollview.showlist(function(e,n){var a=e.getComponent(o.default);a.data=n,a.diamondLabel.string=n.cost;var r=!s.UserInfo.isUnlock(n.id);a.btnBuyNode.active=r,a.maskNode.active=r,a.borderNode.color=cc.Color.WHITE,a.titleLabel.string=n.text,a.selectedFlag.active=s.UserInfo.selectedSkin==n.id,a.btnSignal.add(t.click_unlock,t),i.default.instance.getSpriteFrame("Game/Textures/ThumbBgs/"+n.mini_img+".jpg").then(function(t){return a.bgmini.spriteFrame=t})},a.R.skinConfig.json)},e.prototype.refreshBtnStatus=function(){},e.prototype.click_close=function(){},e.prototype.share_succ=function(){s.UserInfo.addDiamond(50),s.UserInfo.shopFreeDiamondTime=(new Date).getTime(),s.UserInfo.save(),this.refreshBtnStatus()},e.prototype.click_free=function(){var t=s.UserInfo.getChoice(s.ChoiceType.Shop);1==t||0==t&&this.share_succ()},e.prototype.selectBg=function(t){s.UserInfo.selectedSkin=t.id,s.UserInfo.save(),this.onShown()},e.prototype.click_unlock=function(t){if(s.UserInfo.isUnlock(t.id))return this.selectBg(t),void r.Toast.make("\u5df2\u9009\u62e9 "+t.text);s.UserInfo.diamond>=t.cost?(s.UserInfo.diamond-=t.cost,s.UserInfo.unlock(t.id),this.selectBg(t),r.Toast.make(cc.js.formatStr("%s\u5df2\u89e3\u9501",t.text)),c.default.playEffect(a.R.audio_unlock),l.default.instance&&l.default.instance.refreshRedpoints()):(r.Toast.make("\u94bb\u77f3\u4e0d\u8db3"),c.default.playEffect(a.R.audio_invalid))},__decorate([p(cc.ScrollView)],e.prototype,"scrollview",void 0),__decorate([p(cc.Label)],e.prototype,"freeDiamondLabel",void 0),__decorate([p(cc.Button)],e.prototype,"freeDiamondBtn",void 0),__decorate([d],e)}(cc.Component);n.default=h,cc._RF.pop()},{"../../../framework/plugin_boosts/gamesys/Device":"Device","../../../framework/plugin_boosts/misc/SpriteFrameCache":"SpriteFrameCache","../../../framework/plugin_boosts/ui/ToastManager":"ToastManager","../Info":"Info","../Main":"Main","../hex-lines-game/Res":"Res","./ShopItemTemplate":"ShopItemTemplate"}],ShopItemTemplate:[function(t,e,n){"use strict";cc._RF.push(e,"0b667/xvIZJapTB+ZTBqkHL","ShopItemTemplate"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../../../framework/plugin_boosts/misc/Signal"),i=cc._decorator,a=i.ccclass,s=i.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.titleLabel=null,e.selectedFlag=null,e.bgmini=null,e.btnBuyNode=null,e.maskNode=null,e.borderNode=null,e.diamondLabel=null,e.btnSignal=new o.default,e.data=null,e}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.click_unlock=function(){this.btnSignal.fire(this.data)},__decorate([s(cc.Label)],e.prototype,"titleLabel",void 0),__decorate([s(cc.Node)],e.prototype,"selectedFlag",void 0),__decorate([s(cc.Sprite)],e.prototype,"bgmini",void 0),__decorate([s(cc.Node)],e.prototype,"btnBuyNode",void 0),__decorate([s(cc.Node)],e.prototype,"maskNode",void 0),__decorate([s(cc.Node)],e.prototype,"borderNode",void 0),__decorate([s(cc.Label)],e.prototype,"diamondLabel",void 0),__decorate([a],e)}(cc.Component);n.default=r,cc._RF.pop()},{"../../../framework/plugin_boosts/misc/Signal":"Signal"}],Signal:[function(t,e,n){"use strict";cc._RF.push(e,"bf602DYuhZP7Z8VfN9eJFzO","Signal"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(t,e){this.add(t,e)}return t.prototype.add=function(t,e){this.callback=t,this.target=e},t.prototype.fire=function(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.callback&&(t=this.callback).call.apply(t,__spreadArrays([this.target],e))},t.prototype.on=function(t,e){this.callback=t,this.target=e},t.prototype.clear=function(){this.callback=null},t}();n.default=o,cc._RF.pop()},{}],Socket:[function(t,e,n){"use strict";cc._RF.push(e,"8cfb4mvQk5BQqbWZvml7K36","Socket"),Object.defineProperty(n,"__esModule",{value:!0}),n.Socket=void 0;var o=t("./MessageHandler"),i=t("./MessageType"),a=function(){function t(t){this._config=null,this._reconnetTimes=200,this._defaultTimeout=1e4,this.retryTimer=0,this.initSocket(t)}return t.prototype.initSocket=function(t){this._config=t,this._config.timeout||(this._config.timeout=this._defaultTimeout),this._config.retime&&(this._reconnetTimes=this._config.retime),this.connect()},t.prototype.connect=function(){var t=this,e=this._config.host;this._config.port&&(e=this._config.host+":"+this._config.port),console.log("start connect server>>>>",e),this._webSocket=new WebSocket(e),this._messageHandler=new o.MessageHandler(this._webSocket),this._webSocket.onopen=function(){return t.onSocketOpen()},this._webSocket.onmessage=function(e){return t.onReceiveMessage(e)},this._webSocket.onclose=function(){return t.onSocketClose()},this._webSocket.onerror=function(){return t.onSocketError()}},t.prototype.close=function(){this._webSocket&&this._webSocket.close()},t.prototype.flush=function(){},t.prototype.enableHeartbeat=function(t){this._messageHandler.enableHeartbeat=t},t.prototype.onSocketOpen=function(){console.log("connect "+this._config.host+" success"),this._messageHandler.dispatch(i.SocketTag.KSOCKET_OPEN,"")},t.prototype.onReceiveMessage=function(t){var e=this;void 0===t&&(t=null),console.log("websocket receive message:"+t.data),"undefined"==typeof wx?this.toArrayBuffer(t.data).then(function(t){e._messageHandler.dispatch(i.SocketTag.KSOCKET_MESSAGE,t)}):this._messageHandler.dispatch(i.SocketTag.KSOCKET_MESSAGE,t.data)},t.prototype.toArrayBuffer=function(t){var e,n=new FileReader;return n.readAsArrayBuffer(t),new Promise(function(t){n.onload=function(){e=n.result,t(e)}})},t.prototype.sendMessage=function(t){return this._webSocket.readyState==WebSocket.OPEN&&(this._messageHandler.sendMessage(t),!0)},t.prototype.sendCustomMessage=function(t){this._messageHandler.dispatchMessage(t)},t.prototype.reconnect=function(){var e=this;t.count>=2||this._webSocket.readyState==WebSocket.OPEN?clearTimeout(this.retryTimer):(this._webSocket.readyState==WebSocket.CLOSED&&this.connect(),this.retryTimer=setTimeout(function(){e.reconnect()},this._reconnetTimes))},t.prototype.onSocketClose=function(t){void 0===t&&(t=null),this._messageHandler.dispatch(i.SocketTag.KSOCKET_CLOSE,""),console.log("websocket connect close.",this._webSocket.readyState),this.close(),this.reconnect()},t.prototype.onSocketError=function(t){void 0===t&&(t=null),this._messageHandler.dispatch(i.SocketTag.KSOCKET_ERROR,""),console.log("websocket io error.")},t.count=0,t}();n.Socket=a,cc._RF.pop()},{"./MessageHandler":"MessageHandler","./MessageType":"MessageType"}],SpriteFrameCache:[function(t,e,n){"use strict";cc._RF.push(e,"8756by7qCVIPpJ06/9qmobv","SpriteFrameCache"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){this.frames={}}return Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=new t),this._instance},enumerable:!1,configurable:!0}),t.prototype.getSpriteFrame=function(t){return __awaiter(this,void 0,Promise,function(){var e,n=this;return __generator(this,function(){return null==(e=this.frames[t])?[2,new Promise(function(o,i){t&&""!=t?-1==t.indexOf("http")?cc.loader.loadRes(t,cc.SpriteFrame,function(e,a){e?i():a?(n.addSpriteFrame(t,a),o(a)):i()}):cc.loader.load({url:t,type:"png"},function(a,s){a?i():s?(e=new cc.SpriteFrame(s),n.addSpriteFrame(t,e),o(e)):i()}):i("empty-url")})]:[2,new Promise(function(t){return t(e)})]})})},t.prototype.addSpriteFrame=function(t,e){return this.frames[t]=e,e},t.prototype.clear=function(){for(var t in this.frames){var e=this.frames[t];cc.loader.release(e),delete this.frames[t]}},t.prototype.remove=function(t){var e=this.frames[t];cc.loader.release(e),delete this.frames[t]},t}();n.default=o,cc._RF.pop()},{}],ToastComponent:[function(t,e,n){"use strict";cc._RF.push(e,"c4ad6Rf0DpFeay8D3aly6IU","ToastComponent"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./UIFunctions"),i=cc._decorator,a=i.ccclass,s=i.property,r=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e}return __extends(e,t),e.prototype.onLoad=function(){this.animations=o.default.getChildrenAnimations(this.node)},e.prototype.start=function(){},e.prototype.hide=function(t){this.node.active=!0,o.default.doHideAnimations(this.animations,t)||(this.node.active=!1,t&&t(this))},e.prototype.show=function(t){this.label.string=t,o.default.doShowAnimations(this.animations)},__decorate([s(cc.Label)],e.prototype,"label",void 0),__decorate([a],e)}(cc.Component);n.default=r,cc._RF.pop()},{"./UIFunctions":"UIFunctions"}],ToastManager:[function(t,e,n){"use strict";cc._RF.push(e,"129ed5o6uNHDKhz6KoueBpN","ToastManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.Toast=void 0;var o=t("./ToastComponent"),i=cc._decorator,a=i.ccclass,s=i.property;n.Toast=null;var r=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.start=function(){this.toastPool=new cc.NodePool,n.Toast=this},e.prototype.onDestroy=function(){this.toastPool.clear()},e.prototype.make=function(t,e){void 0===e&&(e=1.3);var n=this.toastPool.get(),i=null;return null==n?null==(i=(n=cc.instantiate(this.prefab)).getComponent(o.default))&&console.warn("Toast.make : Toast Prefab must contains ToastComponent"):i=n.getComponent(o.default),null==n.parent&&this.node.addChild(n,99999),this.show(i,t,e),i},e.prototype.show=function(t,e,n){var o=this;t.show(e),this.scheduleOnce(function(){t.hide(function(){o.toastPool.put(t.node),console.log("Toast.hide toastpool size:",o.toastPool.size())})},n)},__decorate([s(cc.Prefab)],e.prototype,"prefab",void 0),__decorate([a],e)}(cc.Component);n.default=r,cc._RF.pop()},{"./ToastComponent":"ToastComponent"}],UIComponent:[function(t,e,n){"use strict";cc._RF.push(e,"0dc9dQt58ZCx4tQ3mcNvEZr","UIComponent"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return __extends(e,t),e.prototype.hide=function(){this.node.active=!1},e.prototype.show=function(){this.node.active=!0},__decorate([i],e)}(cc.Component));n.default=a,cc._RF.pop()},{}],UIFunctions:[function(t,e,n){"use strict";cc._RF.push(e,"10205trRZVOELcrvc3TW2mW","UIFunctions"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function t(){}return t.getChildrenAnimations=function(t){var e=[];(o=t.getComponent(cc.Animation))&&e.push(o);for(var n=0;n<t.childrenCount;n++){var o;(o=t.children[n].getComponent(cc.Animation))&&e.push(o)}return e},t.stopAnimations=function(t){t.forEach(function(t){t.stop()})},t.doShowAnimations=function(t,e,n){var o,i=0;if(t.forEach(function(t){var e=t.getClips();if(e.length>0){var n=e[0];t.play(n.name).wrapMode=cc.WrapMode.Normal,n.duration>i&&(i=n.duration,o=t)}}),e){var a=function(){o&&o.off("finished",a),e.call(n)};o?o.on("finished",a):e.call(n)}},t.isAnimationRunning=function(){return!1},t.doHideAnimations=function(t,e,n){var o,i=!1,a=0;if(t.forEach(function(t){var e=t.getClips();if(2==e.length){var n=e[e.length-1];i=!0,t.play(n.name),n.duration>a&&(a=n.duration,o=t)}else 1==e.length&&(n=e[0],i=!0,t.play(n.name).wrapMode=cc.WrapMode.Reverse,n.duration>a&&(a=n.duration,o=t))}),o&&e){var s=function(){o.off("finished",s),e.call(n)};o.on("finished",s)}return i},t.getToggleIndex=function(t){for(var e=t.node.getParent(),n=0;n<e.childrenCount;n++){var o=e.children[n];if(t.node==o)return n}return-1},t.selectToggleIndex=function(t,e){if(null!=t){var n=t.children[e];if(n){var o=n.getComponent(cc.Toggle);o&&(console.log("[UIFunction.selectToggleIndex] :"+e),o.check())}else console.warn("[UIFunction.selectToggleIndex] :cannot find toggle with index:"+e)}else console.warn("[UIFunction.selectToggleIndex] : invalid toggleContainer :")},t.setTouchEnabled=function(){},t.setButtonEnabled=function(t,e){t.node.opacity=e?255:125,t.interactable=e},t}();n.default=o,cc._RF.pop()},{}],ViewManager:[function(t,e,n){"use strict";cc._RF.push(e,"c0f79TopoBICobmtQjrjutG","ViewManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./View"),i=cc._decorator,a=i.ccclass,s=i.property,r="[ViewManager]",c=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._views={},e.modal=null,e.modalOpacity=160,e}var n;return __extends(e,t),n=e,e.prototype.onLoad=function(){n.instance=this,this.modal.active=!1,this.modal.zIndex=999},e.prototype.onEnable=function(){},e.prototype.onDestroy=function(){for(var t in this._views)delete this._views[t]},e.prototype.start=function(){},e.prototype.getVisibleDialog=function(){for(var t in this._views){var e=this._views[t];if(e.isDialog&&this.isVisible(t))return e}return null},e.prototype.hasVisibleDialog=function(){for(var t in this._views)if(this._views[t].isDialog&&this.isVisible(t))return!0;return!1},e.prototype.isVisible=function(t){var e;return!!(e="string"==typeof t?this._views[t]:t)&&e.node.active},e.prototype.attachViewComp=function(t){var e=null;return null!=e&&null!=e||(null==(e=t.getComponent(o.default))&&(e=t.addComponent(o.default)).init(t.name),this._views[t.name]=e),e},e.prototype.showView=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];return this.modal.active=t.isDialog,(this.hasVisibleDialog()||t.isDialog)&&(this.modal.active=!0),t.isDialog&&(this.modal.opacity=t.opacity),t.show.apply(t,e)},e.prototype.showFromPrefab=function(t,e){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a=this._views[e];if(null==a){var s=cc.instantiate(t);null==(a=s.getComponent(o.default))&&((a=s.addComponent(o.default)).isDialog=!0);var c=a.getComponent(cc.Widget);c&&(c.target=cc.find("Canvas")),a.init(e),this._views[e]=a,a.isDialog,this.node.addChild(s,1e3)}return this.node.color.setA(255),console.log(r,"show view:"+e),this.showView.apply(this,__spreadArrays([a],n))},e.prototype.showFromPrefabPath=function(t){for(var e=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=this._views[t];if(null!=i&&null!=i)return this.modal.active=i.isDialog,(this.hasVisibleDialog()||i.isDialog)&&(this.modal.active=!0,this.modal.opacity=i.opacity),console.log(r,"show view:"+t,n),i.show.apply(i,n);console.log("start load prefab:"+t);var a=(new Date).getTime();cc.loader.loadRes(t,cc.Prefab,function(o,i){console.log(r,"prefab loaded : "+t+" "+((new Date).getTime()-a)+"ms"),e.showFromPrefab.apply(e,__spreadArrays([i,t],n))})},e.prototype.preload=function(t){var e=this,n=this._views[t];null!=n&&null!=n||cc.loader.loadRes(t,cc.Prefab,function(i,a){console.log(r,"preload view"+t);var s=cc.instantiate(a),c=(n=s.getComponent(o.default)).getComponent(cc.Widget);c&&(c.target=cc.find("Canvas")),n.init(t),e._views[t]=n,n.isDialog,e.node.addChild(s,1e3),n.hide()})},e.prototype.disableTouch=function(t){var e=t.getComponent(o.default);e&&(e.touchEnabled=!1)},e.prototype.enableTouch=function(t){var e=t.getComponent(o.default);e&&(e.touchEnabled=!0)},e.prototype.show=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if("string"==typeof t)return this.showFromPrefabPath.apply(this,__spreadArrays([t],e));if(null!=t&&null!=t){t.node&&(t=t.node);var o=this.attachViewComp(t);return this.showView.apply(this,__spreadArrays([o],e))}},e.prototype.hide=function(t,e){if(void 0===e&&(e=!0),"string"!=typeof t){if(null==t||null==t)return;this.attachViewComp(t),t=t.name}var n=this._views[t];null!=n&&null!=n&&(n.node.active=!1,n.isDialog&&(this.modal.active=!1),this.hasVisibleDialog()&&(this.modal.active=!0),e&&n.doHideAnimation(),n.onHidden())},e.prototype.checkViewStacks=function(){var t=this.getVisibleDialog();t&&(this.modal.active=!0,this.modal.opacity=t.opacity)},e.prototype.hideAll=function(){for(var t in this._views)this.hide(t)},__decorate([s(cc.Node)],e.prototype,"modal",void 0),__decorate([s],e.prototype,"modalOpacity",void 0),n=__decorate([a],e)}(cc.Component);n.default=c,cc._RF.pop()},{"./View":"View"}],View:[function(t,e,n){"use strict";cc._RF.push(e,"e1217OaHDFCEbPP4vjLJXLh","View"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("./UIComponent"),i=t("./ViewManager"),a=t("./UIFunctions"),s=cc._decorator,r=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isDialog=!1,e.hasWidget=!1,e.opacity=160,e.childrenAnimation=!1,e.touchBlocker=null,e.touchBlockerComp=null,e.animations=[],e._isHiding=!1,e}return __extends(e,t),e.prototype.emit=function(t,e){t.emit(e)},e.prototype.call=function(){},e.prototype.setDelegate=function(t){this.target=t},e.prototype.onLoad=function(){if(this.touchBlocker=new cc.Node,this.touchBlocker.name="TouchBlocker",this.touchBlocker.width=2e3,this.touchBlocker.height=2e3,this.touchBlockerComp=this.touchBlocker.addComponent(cc.BlockInputEvents),this.node.addChild(this.touchBlocker,1e3),this.childrenAnimation)this.animations=a.default.getChildrenAnimations(this.node);else{var t=this.node.getComponent(cc.Animation);t&&this.animations.push(t)}for(var e=this.getComponents(cc.Component),n=0;n<e.length;n++){var o=e[n];if(o!=this&&(o.onShown||o.onHidden)){this.target=o;break}}},e.prototype.start=function(){this.touchEnabled=!0},e.prototype.init=function(t){this.name=t},e.prototype.hideAnimationCallback=function(){this.node.active=this.visible,i.default.instance.checkViewStacks()},e.prototype.doHideAnimation=function(){this.node.active=!0,this._isHiding=!0,a.default.doHideAnimations(this.animations,this.hideAnimationCallback,this)||(this.node.active=!1,this._isHiding=!1),console.log("[View] hide:",this.name),this._visibleDirty=!1},e.prototype.isInHideAnimation=function(){return this._isHiding},e.prototype.onHidden=function(){this._visibleDirty=!1,this.target&&this.target.onHidden&&this.target.onHidden()},e.prototype.hide=function(t){void 0===t&&(t=0),1==t?httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u8fd4\u56de\u754c\u9762",content:"\u70b9\u51fb\u5173\u95ed"},function(){}):2==t&&httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5173\u5361\u9009\u62e9\u754c\u9762",content:"\u70b9\u51fb\u5173\u95ed"},function(){}),this.touchEnabled=!1,i.default.instance.hide(this.node)},Object.defineProperty(e.prototype,"visible",{get:function(){return this._visibleDirty},enumerable:!1,configurable:!0}),e.prototype.showAnimationNextFrame=function(t){var e=this;this.scheduleOnce(function(){a.default.doShowAnimations(e.animations,t)},0)},Object.defineProperty(e.prototype,"touchEnabled",{get:function(){return!this.touchBlocker.active},set:function(t){this.touchBlocker.active=!t},enumerable:!1,configurable:!0}),e.prototype.show=function(){for(var e=this,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return t.prototype.show.call(this),console.log("[View] show:",this.name,n),a.default.stopAnimations(this.animations),new Promise(function(t){var o,i=e,s=function(){i.touchEnabled||(i.touchEnabled=!0),t()};e.hasWidget?e.showAnimationNextFrame(s):a.default.doShowAnimations(e.animations,s),e._visibleDirty=!0,e.target&&e.target.onShown&&(o=e.target).onShown.apply(o,n)})},__decorate([c],e.prototype,"isDialog",void 0),__decorate([c],e.prototype,"hasWidget",void 0),__decorate([c],e.prototype,"opacity",void 0),__decorate([c],e.prototype,"childrenAnimation",void 0),__decorate([r],e)}(o.default);n.default=l,cc._RF.pop()},{"./UIComponent":"UIComponent","./UIFunctions":"UIFunctions","./ViewManager":"ViewManager"}],WinDialog:[function(t,e,n){"use strict";cc._RF.push(e,"7d78f0lU+VOW7rncsSfgC5s","WinDialog"),Object.defineProperty(n,"__esModule",{value:!0});var o=t("../Info"),i=t("../../../framework/plugin_boosts/ui/ViewManager"),a=t("../hex-lines-game/Consts"),s=cc._decorator,r=s.ccclass,c=s.property,l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.ps=null,e.levelLabel=null,e}return __extends(e,t),e.prototype.onLoad=function(){},e.prototype.start=function(){},e.prototype.decreaseFomula=function(t,e,n,o){return t-n/(n+o)*(t-e)},e.prototype.onShown=function(){if(this.ps.resetSystem(),this.levelLabel.string=cc.js.formatStr("\u5173\u5361 "+o.UserInfo.currentLevel),this.decreaseFomula(.99,.3,o.UserInfo.timePassed+o.UserInfo.stepUsed,o.UserInfo.currentLevel+50),o.UserInfo.level==o.UserInfo.currentLevel){var t=o.UserInfo.level;o.UserInfo.getChoice(o.ChoiceType.Levelup),o.UserInfo.level=t+1,o.UserInfo.save()}1==o.UserInfo.getChoice(o.ChoiceType.HB)&&o.UserInfo.level>=3&&(o.UserInfo.isUnlock(a.default.FreeSkinId)||i.default.instance.show("Game/HbDialog")),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u7ed3\u7b97\u754c\u9762",content:"\u7b2c"+o.UserInfo.level+"\u5173"},function(){}),appGame.banner.playBanner(1)},e.prototype.click_rank=function(){i.default.instance.show("wechat/WxRankDialog")},e.prototype.click_shop=function(){cc.director.loadScene("Game"),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u7ed3\u7b97\u754c\u9762",content:"\u70b9\u51fb\u91cd\u73a9"},function(){}),appGame.gameServerRoom.gameConfigData&&appGame.gameServerRoom.gameConfigData.winAgain&&appGame.videoBanner.playVideoAd(3,0,function(){})},e.prototype.click_next=function(){var t=this.node.getChildByName("btn3").getComponent(cc.Button);t.enabled=!1,this.scheduleOnce(function(){t.enabled=!0}.bind(this),2),o.UserInfo.currentLevel=o.UserInfo.currentLevel+1,cc.director.loadScene("Game"),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u7ed3\u7b97\u754c\u9762",content:"\u70b9\u51fb\u4e0b\u4e00\u5173"},function(){}),appGame.gameServerRoom.gameConfigData&&appGame.gameServerRoom.gameConfigData.winNextLevel&&appGame.videoBanner.playVideoAd(2,0,function(){cc.log("win1"),t.enabled=!0}.bind(this))},e.prototype.click_home=function(){cc.director.loadScene("Main")},e.prototype.click_share=function(){},__decorate([c(cc.ParticleSystem)],e.prototype,"ps",void 0),__decorate([c(cc.Label)],e.prototype,"levelLabel",void 0),__decorate([r],e)}(cc.Component);n.default=l,cc._RF.pop()},{"../../../framework/plugin_boosts/ui/ViewManager":"ViewManager","../Info":"Info","../hex-lines-game/Consts":"Consts"}],androidHelper:[function(t,e){"use strict";cc._RF.push(e,"e14abL3OJ9GPoS9lM+R5fsf","androidHelper"),e.exports={start:function(){},getPhonePlatFrom:function(){return jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","getPhonePlatFrom","()Ljava/lang/String;")},getGameName:function(){return jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","getGameName","()Ljava/lang/String;")},clearWelcomeImage:function(){console.log("clear welcome image..."),cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","removeLaunchImage","()V")},replacePhoto:function(t,e){cc.eventManager.removeCustomListeners("updateImag"),cc.eventManager.addCustomListener("updateImag",function(t){e(t.getUserData().a)}),jsb.reflection.callStaticMethod("org/cocos2dx/Photo","getLocalImag","(Ljava/lang/String;)Ljava/lang/String;",t)},getPhonePlatFromType:function(){var t=jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","getPhoneType","()Ljava/lang/String;");return parseInt(t)},getVersion:function(){return jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","getLocationVersion","()Ljava/lang/String;")},getChildVersion:function(){return jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","getChildVersion","()Ljava/lang/String;")},getPhoneModel:function(){return jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","getPhoneModel","()Ljava/lang/String;")},getPhoneDeviceID:function(){return jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","deviceID","()Ljava/lang/String;")},getYybIsLogin:function(){return jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","isYybLogin","()Ljava/lang/String;")},getInviteCode:function(){return jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","getInviteInformation","()Ljava/lang/String;")},getRoomNum:function(){return jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","getHouseInformation","()Ljava/lang/String;")},qqLogin:function(t){cc.eventManager.removeCustomListeners("qqLoginResult"),cc.eventManager.addCustomListener("qqLoginResult",function(e){t(e.getUserData().a)}),jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","qqLogin","()V")},wechatLogin:function(t){cc.eventManager.removeCustomListeners("wechatLoginResult"),cc.eventManager.addCustomListener("wechatLoginResult",function(e){t(e.getUserData().a)}),jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","wechatLogin","()V")},deviceLogin:function(){return jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","deviceLogin","(Ljava/lang/String;)Ljava/lang/String;","")},wechatPay:function(t,e){cc.eventManager.removeCustomListeners("wechatPayResult"),cc.eventManager.addCustomListener("wechatPayResult",function(t){e(t.getUserData().a)}),jsb.reflection.callStaticMethod("org/cocos2dx/WechatPay","wechatPay","(Ljava/lang/String;)Ljava/lang/String;",t)},alipayPay:function(t,e){cc.eventManager.removeCustomListeners("alipayPayResult"),cc.eventManager.addCustomListener("alipayPayResult",function(t){e(t.getUserData().a)}),jsb.reflection.callStaticMethod("org/cocos2dx/AlipayPay","alipayPay","(Ljava/lang/String;)Ljava/lang/String;",t)},wechatShare:function(t,e){cc.eventManager.removeCustomListeners("shareWechatResult"),cc.eventManager.addCustomListener("shareWechatResult",function(t){e(Number(t.getUserData().a))}),jsb.reflection.callStaticMethod("org/cocos2dx/WeChat","useWeiXin","(Ljava/lang/String;I)V",t.str,t.type)},openWechat:function(){jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","openWechat","()V")},openQQ:function(){jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","qqHelp","(Ljava/lang/String;)V","2983816547")},playNetSound:function(t,e){cc.eventManager.removeCustomListeners("playNetSoundOver"),cc.eventManager.addCustomListener("playNetSoundOver",function(t){e(t.getUserData().a)}),jsb.reflection.callStaticMethod("org/cocos2dx/SoundInfo","playNetSound","(Ljava/lang/String;)V",t)},playRecorderBegin:function(){jsb.reflection.callStaticMethod("org/cocos2dx/SoundInfo","playRecorderBegin","()V")},playRecorderEnd:function(){jsb.reflection.callStaticMethod("org/cocos2dx/SoundInfo","playRecorderEnd","()V")},uploadRecorder:function(){cc.eventManager.removeCustomListeners("playSoundUrl"),app.playerMgr.getRecordToken(function(t){cc.eventManager.addCustomListener("playSoundUrl",function(t){app.playerMgr.uploadRecord(t.getUserData().a,function(){})}),jsb.reflection.callStaticMethod("org/cocos2dx/SoundInfo","uploadRecorder","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t.url,t.name,t.token)})},getLocationInfo:function(t){if(1==app.creatorPlatformType||2==app.creatorPlatformType)cc.eventManager.removeCustomListeners("baiDuLocationResult"),cc.eventManager.addCustomListener("baiDuLocationResult",function(e){var n=e.getUserData().a.split("###");t({x:n[0],y:n[1]})}),jsb.reflection.callStaticMethod("org/cocos2dx/Map","getLocationInfo","(Ljava/lang/String;)V","cocos");else{var e="108.883452###34.232702".split("###");t({x:e[0],y:e[1]})}},openSetting:function(){jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","openSetting","()V")},getPhoneElectric:function(t){cc.eventManager.removeCustomListeners("getElectric"),cc.eventManager.addCustomListener("getElectric",function(e){t(e.getUserData().a)})},checkApkUpdate:function(t,e,n){cc.eventManager.removeCustomListeners("havingnNewVersion"),cc.eventManager.addCustomListener("havingnNewVersion",function(t){n(t.getUserData().a)}),jsb.reflection.callStaticMethod("com/douyer/helper/VersionManager","checkupVersion","(Ljava/lang/String;Ljava/lang/String;)V",t,e)},thirdLogin:function(t,e){"huawei"==app.phonePlatFrom?(cc.eventManager.removeCustomListeners("accessToken"),cc.eventManager.addCustomListener("accessToken",function(t){e(t.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/huawei/sdk/HuaWeiPay","huaWeiInit","(Ljava/lang/String;)V","MIICcwIBADANBgkqhkiG9w0BAQEFAASCAl0wggJZAgEAAoGBAIyo98FF4bIG0mxNGk2b7so/PBSajxYHYPb2lZQj7ebg6ODIq+6hFO2hdqQ+jOTlQVlVqeAqJncTVBsMPm3s+vrnp42RqzFMYo3b6214VQfjiPjjFXoXUYRU66vfqk5hjaz4TMNJ0BS+PcYB3Yn8dgrhSTrVRYfiYOEbUjy6EKMDAgMBAAECf33Sp807taiKcbBvSBgkZHaGGjhUCaqq7xH7gdICUc01YxuwZhwP+6iVxoslaONYMBy5hDwBeGcL4zBOw4mRcu+flIwNPLS7gZ3UM1XwnlIN6e2IjQSsYbIdXfQ/4Z4Mqhy+v1wv+IjBIR/4t2haxrKJKgVlSEds3tHBQZeko0ECQQD1MzTHtwHZoeP8UtCxUEE8cYoNXRg5lX69hx7y14Y4c//tksSWre2EDkMDzICkyndQrNwY38xrilT1ylO5TEchAkEAktsA4sn50qet+GUBO1T5UvyfhdBcBqZeeAVzpFf2Em1WgWGQGZxQ5ZnY9Uz6uvVMycdYhUfpoAiUZAyNcok5owJAXNfBwWlTIwPAnrcA3FLGEMvw+PRqCsvHTJ5QIqVm5hNOMbekBmXfDGSWDWcuwrcDDKIXSLfc4E9lshelMgFm4QJALwA2vV7lPP17mYdCKKoejefaampwOZSfoYwlIdEhKW6jBA+knf3Aimt926yChrmhlObfNvD4HccBLzAxSRoQPwJALQbPOM6lrHl2qCP+SoJI0xhmIFevkl181YYeXx+3hk1X/fSL/Y9mphaNcbOGc0qAWVhWkcjPeXoE9rzDrjFSmw==")):"oppo"==app.phonePlatFrom?(cc.eventManager.removeCustomListeners("OloginResult"),cc.eventManager.addCustomListener("OloginResult",function(t){e(t.getUserData().a)}),jsb.reflection.callStaticMethod("org/cocos2dx/PayOPPO","Ologin","()V")):"telecom"==app.phonePlatFrom?(cc.eventManager.removeCustomListeners("dianxinLoginResult"),cc.eventManager.addCustomListener("dianxinLoginResult",function(t){e(t.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/dianxin/sdk/DianXinSdk","gotoLogin","()V")):"xiaomi"==app.phonePlatFrom||"meizu"==app.phonePlatFrom?(cc.eventManager.removeCustomListeners("YiSDKLoginCallBack"),cc.eventManager.addCustomListener("YiSDKLoginCallBack",function(t){e(t.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/yijie/sdk/Yisdk","YiSDKInit","(Ljava/lang/String;)V",1)):"yyb"==app.phonePlatFrom?(cc.eventManager.removeCustomListeners("yybLoginResult"),cc.eventManager.addCustomListener("yybLoginResult",function(t){e(t.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/yyb/sdk/YYBhelper","gotoLogin","(Ljava/lang/String;)V",t)):"uc"==app.phonePlatFrom?(cc.eventManager.removeCustomListeners("loginResult"),cc.eventManager.addCustomListener("loginResult",function(t){e(t.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/uc/sdk/UcSdkCode","ucInit","()V")):"360"==app.phonePlatFrom&&(cc.eventManager.removeCustomListeners("loginCallBack"),cc.eventManager.addCustomListener("loginCallBack",function(t){e(t.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/q360/sdk/Sdk360","login360","()V"))},thirdPay:function(t,e){"huawei"==app.phonePlatFrom?(cc.eventManager.removeCustomListeners("huaWeiPayResult"),cc.eventManager.addCustomListener("huaWeiPayResult",function(t){e(t.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/huawei/sdk/HuaWeiPay","huaWeiPay","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t.name,t.price,t.name,t.orderNo,t.key,t.url)):"oppo"==app.phonePlatFrom?(cc.eventManager.removeCustomListeners("OpayResult"),cc.eventManager.addCustomListener("OpayResult",function(t){e(t.getUserData().a)}),jsb.reflection.callStaticMethod("org/cocos2dx/PayOPPO","Opay","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t.name,t.url,t.price,t.orderNo)):"vivo"==app.phonePlatFrom?(cc.eventManager.removeCustomListeners("VPayResult"),cc.eventManager.addCustomListener("VPayResult",function(t){e(t.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/vivo/sdk/VivoSDK","VPay","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t.orderNo,t.url,t.name,t.price)):"xiaomi"==app.phonePlatFrom||"meizu"==app.phonePlatFrom?(cc.eventManager.removeCustomListeners("YiSDKPayResult"),cc.eventManager.addCustomListener("YiSDKPayResult",function(t){e(t.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/yijie/sdk/Yisdk","YiSDKPay","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t.name,t.price,t.orderNo,t.url)):"yyb"==app.phonePlatFrom?(cc.eventManager.removeCustomListeners("yybPayResult"),cc.eventManager.addCustomListener("yybPayResult",function(t){e(t.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/yyb/sdk/YYBhelper","gotoPay","(Ljava/lang/String;)V",t.price)):"telecom"==app.phonePlatFrom?(cc.eventManager.removeCustomListeners("dianxinPayResult"),cc.eventManager.addCustomListener("dianxinPayResult",function(t){e(t.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/dianxin/sdk/DianXinSdk","DianXinPay","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t.price,t.orderNo,t.name)):"baidu"==app.phonePlatFrom?(cc.eventManager.removeCustomListeners("baiduResult"),cc.eventManager.addCustomListener("baiduResult",function(t){e(t.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/baidu/sdk/BaiduSdk","pay","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t.baiduPayId,t.price,t.name,t.orderNo)):"uc"==app.phonePlatFrom&&"wk"==app.appKey?(cc.eventManager.removeCustomListeners("payResult"),cc.eventManager.addCustomListener("payResult",function(t){e(t.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/uc/sdk/UcSdkCode","ucSdkPay","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t.price,t.orderNo,t.url,t.accountId,t.sign)):"uc"==app.phonePlatFrom&&"sd"==app.appKey?(cc.eventManager.removeCustomListeners("payResult"),cc.eventManager.addCustomListener("payResult",function(t){e(t.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/uc/sdk/UcSdkCode","ucSdkPay","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t.name,t.price,t.orderNo,t.url)):"360"==app.phonePlatFrom&&(cc.eventManager.removeCustomListeners("sdk360PayResult"),cc.eventManager.addCustomListener("sdk360PayResult",function(t){e(t.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/q360/sdk/Sdk360","pay360","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t.price,t.name,t.id,t.orderNo,t.url))},loginOut:function(t){"yyb"==app.phonePlatFrom?(cc.eventManager.removeCustomListeners("yybSDKLoginOutCallBack"),cc.eventManager.addCustomListener("yybSDKLoginOutCallBack",function(e){t(e.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/yyb/sdk/YYBhelper","ChangeAccount","()V")):(cc.eventManager.removeCustomListeners("logOutOk"),cc.eventManager.addCustomListener("logOutOk",function(e){t(e.getUserData().a)}),jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","loginOut","()V"))},exitGame:function(){"huawei"==app.phonePlatFrom||("oppo"==app.phonePlatFrom?jsb.reflection.callStaticMethod("org/cocos2dx/PayOPPO","Oexit","()V"):"xiaomi"==app.phonePlatFrom||"meizu"==app.phonePlatFrom||"yyb"==app.phonePlatFrom?jsb.reflection.callStaticMethod("com/helper/yijie/sdk/Yisdk","YiSDKExit","()V"):"vivo"==app.phonePlatFrom?jsb.reflection.callStaticMethod("com/helper/vivo/sdk/VivoSDK","vivoLoginOut","()V"):"telecom"==app.phonePlatFrom?jsb.reflection.callStaticMethod("com/helper/dianxin/sdk/DianXinSdk","dianxinSdkExit","()V"):"baidu"==app.phonePlatFrom?jsb.reflection.callStaticMethod("com/helper/baidu/sdk/BaiduSdk","quitBaiDu","()V"):"uc"==app.phonePlatFrom?jsb.reflection.callStaticMethod("com/helper/uc/sdk/UcSdkCode","ucSdkExit","()V"):"360"==app.phonePlatFrom&&jsb.reflection.callStaticMethod("com/helper/q360/sdk/Sdk360","quit360","()V"))},getNetworkInfo:function(){return jsb.reflection.callStaticMethod("org/cocos2dx/NetUtil","checkNetworkInfoCreator","()Ljava/lang/String;")},installApk:function(t){jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","installApk","(Ljava/lang/String;)V",t)},getApkFile:function(){return jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","getApkFile","()Ljava/lang/String;")},uploadApk:function(t,e,n){cc.eventManager.removeCustomListeners("uploadApkProgress"),cc.eventManager.addCustomListener("uploadApkProgress",function(t){n(t.getUserData().a)}),jsb.reflection.callStaticMethod("org/cocos2dx/UploadApk","uploadApkFromCreator","(Ljava/lang/String;Ljava/lang/String;)V",t,e)},openUrl:function(t){jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","openUrl","(Ljava/lang/String;)V",t)},openInUrl:function(t,e,n,o,i,a){jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","openInUrl","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",t,e,n,o,i,a)},stopApkDownLoad:function(){jsb.reflection.callStaticMethod("org/cocos2dx/UploadApk","stopUpLoad","()V")},setScreenChange:function(){jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","setScreenChange","(Ljava/lang/String;)V",url)},judgeIfInstallApk:function(t,e){return jsb.reflection.callStaticMethod("org/cocos2dx/UploadApk","judgeIfInstallApk","(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;",t,e)},deleAllFiles:function(){jsb.reflection.callStaticMethod("org/cocos2dx/UploadApk","deleAllFiles","()V")},copyToClipboard:function(t){jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","qpCopy","(Ljava/lang/String;)V",t)}},cc._RF.pop()},{}],appGame:[function(t,e){"use strict";cc._RF.push(e,"ed2f8mb9M5M3JYlDEliFk1E","appGame"),t("emitter");var n=cc.Class({properties:{},ctor:function(){cc.log("create new AppGame start");var e;this.gameServerRoom={},this.videoBanner={},this.interstitialAd={},this.banner={},this.nativeAd={},this.qqappbox={},this.qqblockad={},this.gridAd={},this.deviceInfo="",this.userId="",this.nativeAdData=null,this.visibleSize=cc.view.getVisibleSize(),this.platform="",cc.sys.platform==cc.sys.BYTEDANCE_GAME?(this.packageVersion="1.0.4",this.platform="toutiao"):cc.sys.platform==cc.sys.WECHAT_GAME?(this.packageVersion="1.0.0",this.platform="QQ"):cc.sys.platform==cc.sys.BAIDU_GAME?(this.packageVersion="1.0.0",this.platform="baidu"):cc.sys.platform==cc.sys.OPPO_GAME?(this.packageVersion="1.0.0",this.platform="oppo"):cc.sys.platform==cc.sys.XIAOMI_GAME?(this.packageVersion="1.0.0",this.platform="xiaomi"):cc.sys.platform==cc.sys.VIVO_GAME?(this.packageVersion="1.0.0",this.platform="vivo"):cc.sys.platform==cc.sys.ANDROID?(this.packageVersion="1.0.0",this.platform="android"):(this.packageVersion="1.0.0",this.platform="html5"),this.audioMgr=(e=new(t("audioMgr"))(this),cc.log("\u521d\u59cb\u5316AppGame\u65f6\u5df2\u521b\u5efa%s","audioMgr"),e),this.emitter=new o(this),cc.log("create new AppGame end"),this.show2Hide()},statics:{init:function(){window.appGame?cc.log("have window.app, so do nothing"):(cc.log("have no window.AppGame"),window.consts=t("consts"),window.httpUtils=t("httpUtils"),window.async=t("async"),window.underscore=t("underscore"),window.util=t("util"),window.platformFun=t("platformFun"),cc.sys.os==cc.sys.OS_ANDROID&&(window.androidHelper=t("androidHelper")),window.appGame=new n)}},show2Hide:function(){cc.game.on(cc.game.EVENT_SHOW,function(){appGame.interstitialAd&&appGame.interstitialAd.playAd(),appGame.gameServerRoom&&appGame.gameServerRoom.isHadWord&&util.spreadWordFun(),console.log("game enter fore on")}),cc.game.on(cc.game.EVENT_HIDE,function(){console.log("game enter back on"),appGame.gameServerRoom&&appGame.gameServerRoom.wordRid&&util.spreadClose(appGame.gameServerRoom.wordRid)})}});e.exports=n;var o=function(){var t=this.addEventListener;this.on=this.addEventListener=function(e,n,o){t.call(this,e,n,o)};var e=this.removeEventListener;this.off=this.removeEventListener=function(t,n){e.call(this,t,n)}};o.prototype=new EventEmitter,cc._RF.pop()},{androidHelper:"androidHelper",async:"async",consts:"consts",emitter:"emitter",httpUtils:"httpUtils",platformFun:"platformFun",underscore:"underscore",util:"util"}],async:[function(t,e){(function(t,n){"use strict";cc._RF.push(e,"35852wUtjRNI6/OdR5fjH33","async"),function(){var o,i,a={};function s(){}function r(t){var e=!1;return function(){if(e)throw new Error("Callback was already called.");e=!0,t.apply(this,arguments)}}function c(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}null!=(o="object"==typeof window&&this===window?window:"object"==typeof n&&this===n?n:this)&&(i=o.async),a.noConflict=function(){return o.async=i,a};var l=Object.prototype.toString,u=Array.isArray||function(t){return"[object Array]"===l.call(t)};function d(t){return u(t)||"number"==typeof t.length&&t.length>=0&&t.length%1==0}function p(t,e){return d(t)?h(t,e):m(t,e)}function h(t,e){for(var n=-1,o=t.length;++n<o;)e(t[n],n,t)}function f(t,e){for(var n=-1,o=t.length,i=Array(o);++n<o;)i[n]=e(t[n],n,t);return i}function g(t){return f(Array(t),function(t,e){return e})}function m(t,e){h(v(t),function(n){e(t[n],n)})}var _,v=Object.keys||function(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push(n);return e};function y(t){var e,n,o=-1;return d(t)?(e=t.length,function(){return++o<e?o:null}):(n=v(t),e=n.length,function(){return++o<e?n[o]:null})}function b(t,e){e=e||0;var n=-1,o=t.length;e&&(o=(o-=e)<0?0:o);for(var i=Array(o);++n<o;)i[n]=t[n+e];return i}function C(t){return function(e,n,o){return t(e,o)}}function S(t){return function(e,n,o){o=c(o||s);var i=y(e=e||[]);if(t<=0)return o(null);var a=!1,l=0,u=!1;(function s(){if(a&&l<=0)return o(null);for(;l<t&&!u;){var c=i();if(null===c)return a=!0,void(l<=0&&o(null));l+=1,n(e[c],c,r(function(t){l-=1,t?(o(t),u=!0):s()}))}})()}}function T(t){return function(e,n,o){return t(a.eachOf,e,n,o)}}function R(t,e){return function(n,o,i){return e(S(t),n,o,i)}}function k(t){return function(e,n,o){return t(a.eachOfSeries,e,n,o)}}function w(t,e,n,o){o=c(o||s);var i=[];t(e,function(t,e,o){n(t,function(t,n){i[e]=n,o(t)})},function(t){o(t,i)})}function E(t){return R(t,w)}function I(t,e,n,o){var i=[];t(e=f(e,function(t,e){return{index:e,value:t}}),function(t,e,o){n(t.value,function(e){e&&i.push(t),o()})},function(){o(f(i.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})}function D(t,e,n,o){var i=[];t(e=f(e,function(t,e){return{index:e,value:t}}),function(t,e,o){n(t.value,function(e){e||i.push(t),o()})},function(){o(f(i.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})}function M(t,e,n,o){t(e,function(t,e,i){n(t,function(e){e?(o(t),o=s):i()})},function(){o()})}function A(t,e,n){n=n||s;var o=d(e)?[]:{};t(e,function(t,e,n){t(function(t){var i=b(arguments,1);i.length<=1&&(i=i[0]),o[e]=i,n(t)})},function(t){n(t,o)})}function P(t,e,n,o){var i=[];t(e,function(t,e,o){n(t,function(t,e){i=i.concat(e||[]),o(t)})},function(t){o(t,i)})}function L(t,e,n){if(null==e)e=1;else if(0===e)throw new Error("Concurrency must not be zero");function o(t,e,n,o){if(null!=o&&"function"!=typeof o)throw new Error("task callback must be a function");if(t.started=!0,u(e)||(e=[e]),0===e.length&&t.idle())return a.setImmediate(function(){t.drain()});h(e,function(e){var i={data:e,callback:o||s};n?t.tasks.unshift(i):t.tasks.push(i),t.tasks.length===t.concurrency&&t.saturated()}),a.setImmediate(t.process)}function i(t,e){return function(){c-=1;var n=arguments;h(e,function(t){t.callback.apply(t,n)}),t.tasks.length+c===0&&t.drain(),t.process()}}var c=0,l={tasks:[],concurrency:e,saturated:s,empty:s,drain:s,started:!1,paused:!1,push:function(t,e){o(l,t,!1,e)},kill:function(){l.drain=s,l.tasks=[]},unshift:function(t,e){o(l,t,!0,e)},process:function(){if(!l.paused&&c<l.concurrency&&l.tasks.length)for(;c<l.concurrency&&l.tasks.length;){var e=n?l.tasks.splice(0,n):l.tasks.splice(0,l.tasks.length),o=f(e,function(t){return t.data});0===l.tasks.length&&l.empty(),c+=1;var a=r(i(l,e));t(o,a)}},length:function(){return l.tasks.length},running:function(){return c},idle:function(){return l.tasks.length+c===0},pause:function(){l.paused=!0},resume:function(){if(!1!==l.paused){l.paused=!1;for(var t=Math.min(l.concurrency,l.tasks.length),e=1;e<=t;e++)a.setImmediate(l.process)}}};return l}function B(t){return function(e){var n=b(arguments,1);e.apply(null,n.concat([function(e){var n=b(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&h(n,function(e){console[t](e)}))}]))}}function O(t){return function(e,n,o){t(g(e),n,o)}}function x(t,e){function n(){var n=this,o=b(arguments),i=o.pop();return t(e,function(t,e,i){t.apply(n,o.concat([i]))},i)}if(arguments.length>2){var o=b(arguments,2);return n.apply(this,o)}return n}function F(t){return function(){var e=b(arguments),n=e.pop();e.push(function(){var t=arguments;o?a.setImmediate(function(){n.apply(null,t)}):n.apply(null,t)});var o=!0;t.apply(this,e),o=!1}}"function"==typeof setImmediate&&(_=setImmediate),void 0!==t&&t.nextTick?(a.nextTick=t.nextTick,a.setImmediate=_?function(t){_(t)}:a.nextTick):_?(a.nextTick=function(t){_(t)},a.setImmediate=a.nextTick):(a.nextTick=function(t){setTimeout(t,0)},a.setImmediate=a.nextTick),a.forEach=a.each=function(t,e,n){return a.eachOf(t,C(e),n)},a.forEachSeries=a.eachSeries=function(t,e,n){return a.eachOfSeries(t,C(e),n)},a.forEachLimit=a.eachLimit=function(t,e,n,o){return S(e)(t,C(n),o)},a.forEachOf=a.eachOf=function(t,e,n){n=c(n||s);var o=d(t=t||[])?t.length:v(t).length,i=0;if(!o)return n(null);function a(t){t?n(t):(i+=1)>=o&&n(null)}p(t,function(n,o){e(t[o],o,r(a))})},a.forEachOfSeries=a.eachOfSeries=function(t,e,n){n=c(n||s);var o=y(t=t||[]),i=o();(function s(){var c=!0;if(null===i)return n(null);e(t[i],i,r(function(t){if(t)n(t);else{if(null===(i=o()))return n(null);c?a.nextTick(s):s()}})),c=!1})()},a.forEachOfLimit=a.eachOfLimit=function(t,e,n,o){S(e)(t,n,o)},a.map=T(w),a.mapSeries=k(w),a.mapLimit=function(t,e,n,o){return E(e)(t,n,o)},a.inject=a.foldl=a.reduce=function(t,e,n,o){a.eachOfSeries(t,function(t,o,i){n(e,t,function(t,n){e=n,i(t)})},function(t){o(t||null,e)})},a.foldr=a.reduceRight=function(t,e,n,o){var i=f(t,function(t){return t}).reverse();a.reduce(i,e,n,o)},a.select=a.filter=T(I),a.selectSeries=a.filterSeries=k(I),a.reject=T(D),a.rejectSeries=k(D),a.detect=T(M),a.detectSeries=k(M),a.any=a.some=function(t,e,n){a.eachOf(t,function(t,o,i){e(t,function(t){t&&(n(!0),n=s),i()})},function(){n(!1)})},a.all=a.every=function(t,e,n){a.eachOf(t,function(t,o,i){e(t,function(t){t||(n(!1),n=s),i()})},function(){n(!0)})},a.sortBy=function(t,e,n){function o(t,e){var n=t.criteria,o=e.criteria;return n<o?-1:n>o?1:0}a.map(t,function(t,n){e(t,function(e,o){e?n(e):n(null,{value:t,criteria:o})})},function(t,e){if(t)return n(t);n(null,f(e.sort(o),function(t){return t.value}))})},a.auto=function(t,e){e=c(e||s);var n=v(t),o=n.length;if(!o)return e(null);var i={},r=[];function l(t){r.unshift(t)}function d(t){for(var e=0;e<r.length;e+=1)if(r[e]===t)return void r.splice(e,1)}function p(){o--,h(r.slice(0),function(t){t()})}l(function(){o||e(null,i)}),h(n,function(n){var o=u(t[n])?t[n]:[t[n]];function s(t){var o=b(arguments,1);if(o.length<=1&&(o=o[0]),t){var s={};h(v(i),function(t){s[t]=i[t]}),s[n]=o,e(t,s)}else i[n]=o,a.setImmediate(p)}for(var r,c=o.slice(0,Math.abs(o.length-1))||[],f=c.length;f--;){if(!(r=t[c[f]]))throw new Error("Has inexistant dependency");if(u(r)&&~r.indexOf(n))throw new Error("Has cyclic dependencies")}function g(){return t=function(t,e){return t&&i.hasOwnProperty(e)},e=!0,h(c,function(n){e=t(e,n)}),e&&!i.hasOwnProperty(n);var t,e}g()?o[o.length-1](s,i):l(function t(){g()&&(d(t),o[o.length-1](s,i))})})},a.retry=function(t,e,n){var o=[];function i(i,s){function r(t,e){return function(n){t(function(t,o){n(!t||e,{err:t,result:o})},s)}}for(;t;)o.push(r(e,!(t-=1)));a.series(o,function(t,e){e=e[e.length-1],(i||n)(e.err,e.result)})}return"function"==typeof t&&(n=e,e=t,t=5),t=parseInt(t,10)||5,n?i():i},a.waterfall=function(t,e){if(e=c(e||s),!u(t)){var n=new Error("First argument to waterfall must be an array of functions");return e(n)}if(!t.length)return e();(function t(n){return function(o){if(o)e.apply(null,arguments);else{var i=b(arguments,1),a=n.next();a?i.push(t(a)):i.push(e),F(n).apply(null,i)}}})(a.iterator(t))()},a.parallel=function(t,e){A(a.eachOf,t,e)},a.parallelLimit=function(t,e,n){A(S(e),t,n)},a.series=function(t,e){e=e||s;var n=d(t)?[]:{};a.eachOfSeries(t,function(t,e,o){t(function(t){var i=b(arguments,1);i.length<=1&&(i=i[0]),n[e]=i,o(t)})},function(t){e(t,n)})},a.iterator=function(t){return function e(n){function o(){return t.length&&t[n].apply(null,arguments),o.next()}return o.next=function(){return n<t.length-1?e(n+1):null},o}(0)},a.apply=function(t){var e=b(arguments,1);return function(){return t.apply(null,e.concat(b(arguments)))}},a.concat=T(P),a.concatSeries=k(P),a.whilst=function(t,e,n){t()?e(function(o){if(o)return n(o);a.whilst(t,e,n)}):n(null)},a.doWhilst=function(t,e,n){t(function(o){if(o)return n(o);var i=b(arguments,1);e.apply(null,i)?a.doWhilst(t,e,n):n(null)})},a.until=function(t,e,n){t()?n(null):e(function(o){if(o)return n(o);a.until(t,e,n)})},a.doUntil=function(t,e,n){t(function(o){if(o)return n(o);var i=b(arguments,1);e.apply(null,i)?n(null):a.doUntil(t,e,n)})},a.queue=function(t,e){return L(function(e,n){t(e[0],n)},e,1)},a.priorityQueue=function(t,e){function n(t,e){return t.priority-e.priority}function o(t,e,n){for(var o=-1,i=t.length-1;o<i;){var a=o+(i-o+1>>>1);n(e,t[a])>=0?o=a:i=a-1}return o}function i(t,e,i,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(t.started=!0,u(e)||(e=[e]),0===e.length)return a.setImmediate(function(){t.drain()});h(e,function(e){var c={data:e,priority:i,callback:"function"==typeof r?r:s};t.tasks.splice(o(t.tasks,c,n)+1,0,c),t.tasks.length===t.concurrency&&t.saturated(),a.setImmediate(t.process)})}var r=a.queue(t,e);return r.push=function(t,e,n){i(r,t,e,n)},delete r.unshift,r},a.cargo=function(t,e){return L(t,1,e)},a.log=B("log"),a.dir=B("dir"),a.memoize=function(t,e){var n={},o={};function i(){var i=b(arguments),s=i.pop(),r=e.apply(null,i);r in n?a.nextTick(function(){s.apply(null,n[r])}):r in o?o[r].push(s):(o[r]=[s],t.apply(null,i.concat([function(){n[r]=b(arguments);var t=o[r];delete o[r];for(var e=0,i=t.length;e<i;e++)t[e].apply(null,arguments)}])))}return e=e||function(t){return t},i.memo=n,i.unmemoized=t,i},a.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},a.times=O(a.map),a.timesSeries=O(a.mapSeries),a.timesLimit=function(t,e,n,o){return a.mapLimit(g(t),e,n,o)},a.seq=function(){var t=arguments;return function(){var e=this,n=b(arguments),o=n.slice(-1)[0];"function"==typeof o?n.pop():o=s,a.reduce(t,n,function(t,n,o){n.apply(e,t.concat([function(){var t=arguments[0],e=b(arguments,1);o(t,e)}]))},function(t,n){o.apply(e,[t].concat(n))})}},a.compose=function(){return a.seq.apply(null,Array.prototype.reverse.call(arguments))},a.applyEach=function(){var t=b(arguments);return x.apply(null,[a.eachOf].concat(t))},a.applyEachSeries=function(){var t=b(arguments);return x.apply(null,[a.eachOfSeries].concat(t))},a.forever=function(t,e){var n=r(e||s),o=F(t);(function t(e){if(e)return n(e);o(t)})()},a.ensureAsync=F,void 0!==e&&e.exports?e.exports=a:"undefined"!=typeof define&&define.amd?define([],function(){return a}):o.async=a}(),cc._RF.pop()}).call(this,t("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:1}],audioMgr:[function(t,e){"use strict";cc._RF.push(e,"cc057iIkENNC6PSrpbMmYVg","audioMgr");var n=cc.Class({properties:{bgmAudioID:-1,audioId:1,gameMusicAudio:!0,bgUrl:"",bgLoop:!1},ctor:function(){cc.sys.localStorage.setItem("gameMusic",1);var t=cc.sys.localStorage.getItem("gameMusic");this.gameMusicAudio=null!=t&&""!=t,cc.game.on(cc.game.EVENT_HIDE,function(){cc.audioEngine.pauseAll()}),cc.game.on(cc.game.EVENT_SHOW,function(){cc.audioEngine.resumeAll()})},getUrl:function(t,e){this.gameMusicAudio&&cc.assetManager.loadBundle("sound",function(n,o){o.load(t,cc.AudioClip,function(t,n){e(n)}.bind(this))}.bind(this))},getMusicStatus:function(t){var e=cc.sys.localStorage.getItem("gameMusic");t(null!=e&&""!=e)},setMusicOnOff:function(t){t?(this.gameMusicAudio=!0,cc.sys.localStorage.setItem("gameMusic",1),this.bgUrl&&this.playBGM(this.bgUrl,this.bgLoop)):(this.stopAll(),this.gameMusicAudio=!1,cc.sys.localStorage.removeItem("gameMusic"))},playBGM:function(t,e){this.bgUrl=t,this.bgLoop=e,this.getUrl(t,function(t){cc.audioEngine.stop(this.bgmAudioID),this.bgmAudioID=cc.audioEngine.playMusic(t,e),cc.log("this.bgmAudioID====="+this.bgmAudioID)}.bind(this))},playSFX:function(t){this.getUrl(t,function(t){this.audioId=cc.audioEngine.play(t,!1,1)}.bind(this))},pauseBGM:function(){cc.log("pauseBGM"),cc.audioEngine.pause(this.bgmAudioID)},resumeBGM:function(){this.gameMusicAudio&&(cc.log("resumeBGM"),cc.audioEngine.resume(this.bgmAudioID))},pauseAll:function(){cc.audioEngine.pauseAll()},resumeAll:function(){cc.audioEngine.resumeAll()},stopAll:function(){cc.audioEngine.stopAll()}});e.exports=n,cc._RF.pop()},{}],banner:[function(t,e){"use strict";cc._RF.push(e,"4d62c7SXMdKHaht/20V3tyM","banner"),t("../model/appGame");var n=cc.Class({properties:{},ctor:function(){this.instance=null},statics:{create:function(t){if(!this.instance)return this.instance=new n,this.instance.initWithData(t),this.instance}},initWithData:function(){if(this.targetBannerAdWidth=200,cc.sys.platform==cc.sys.BYTEDANCE_GAME){var t=tt.getSystemInfoSync(),e=t.windowWidth,n=t.windowHeight;this.width=e,this.height=n,this.adId="3o8m16pp3e54cqcd5t",appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.bannerId&&appGame.gameServerRoom.commonConfig.bannerId.toutiao&&(this.adId=appGame.gameServerRoom.commonConfig.bannerId.toutiao.adUnitId),console.log("banner \u7b2c\u4e00\u6b21\u521b\u5efa"),this.globalData={bannerAd:tt.createBannerAd({adUnitId:this.adId,style:{width:this.targetBannerAdWidth,top:this.height-this.targetBannerAdWidth/16*9,left:(this.width-this.targetBannerAdWidth)/2}})},this.refreshSize(),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4dbanner",content:"\u521b\u5efa\u6210\u529f",desc:this.adId},function(){})}else if(cc.sys.platform==cc.sys.WECHAT_GAME&&"QQ"==appGame.platform){var o=qq.getSystemInfoSync(),i=o.windowWidth,a=o.windowHeight;this.width=i,this.height=a,this.adId="4ef215ca5af9c3b454e9d22a676f7992",appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.bannerId&&appGame.gameServerRoom.commonConfig.bannerId.QQ&&(this.adId=appGame.gameServerRoom.commonConfig.bannerId.QQ.adUnitId),console.log("banner \u7b2c\u4e00\u6b21\u521b\u5efa"),this.globalData={bannerAd:qq.createBannerAd({adUnitId:this.adId,style:{width:this.targetBannerAdWidth,top:this.height-this.targetBannerAdWidth/16*9,left:(this.width-this.targetBannerAdWidth)/2}})},this.refreshSize(),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4dbanner",content:"\u521b\u5efa\u6210\u529f",desc:this.adId},function(){})}else if(cc.sys.platform==cc.sys.WECHAT_GAME&&"WX"==appGame.platform){var s=wx.getSystemInfoSync(),r=s.windowWidth,c=s.windowHeight;this.width=r,this.height=c,this.adId="4ef215ca5af9c3b454e9d22a676f7992",appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.bannerId&&appGame.gameServerRoom.commonConfig.bannerId.WX&&(this.adId=appGame.gameServerRoom.commonConfig.bannerId.WX.adUnitId),console.log("banner \u7b2c\u4e00\u6b21\u521b\u5efa"),this.globalData={bannerAd:wx.createBannerAd({adUnitId:this.adId,style:{width:this.targetBannerAdWidth,top:this.height-this.targetBannerAdWidth/16*9,left:(this.width-this.targetBannerAdWidth)/2}})},this.refreshSize(),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4dbanner",content:"\u521b\u5efa\u6210\u529f",desc:this.adId},function(){})}},scheduleCallBack:function(){console.log("n\u79d2\u540e\u5237\u65b0"),this.playBanner(3),this.playBanner(2)},playBanner:function(t,e){var n=this;if(void 0===e&&(e=30),cc.director.getScheduler().enableForTarget(this),3!=t){if(2==t?cc.director.getScheduler().schedule(this.scheduleCallBack,this,e):cc.director.getScheduler().unschedule(this.scheduleCallBack,this),cc.sys.platform==cc.sys.BYTEDANCE_GAME)this.globalData&&this.globalData.bannerAd?console.log("banner \u9690\u85cf"):(console.log("banner \u521b\u5efa"),this.globalData={bannerAd:tt.createBannerAd({adUnitId:this.adId,style:{width:this.targetBannerAdWidth,top:this.height-this.targetBannerAdWidth/16*9,left:(this.width-this.targetBannerAdWidth)/2}})},this.refreshSize(),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4dbanner",content:"\u521b\u5efa\u6210\u529f",desc:this.adId},function(){}));else if(cc.sys.platform==cc.sys.BAIDU_GAME){this.globalData&&this.globalData.bannerAd&&(this.globalData.bannerAd.destroy(),this.globalData.bannerAd=null);var o=swan.getSystemInfoSync(),i=o.windowWidth,a=o.windowHeight;this.width=i,this.height=a,appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.bannerId&&appGame.gameServerRoom.commonConfig.bannerId.baidu&&(this.adId=appGame.gameServerRoom.commonConfig.bannerId.baidu.adUnitId),appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.bannerId&&appGame.gameServerRoom.commonConfig.bannerId.baidu&&(this.appId=appGame.gameServerRoom.commonConfig.bannerId.baidu.appSid),this.globalData={bannerAd:swan.createBannerAd({adUnitId:this.adId,appSid:this.appId,style:{width:this.width,top:this.height-this.targetBannerAdWidth/16*9,left:(this.width-this.targetBannerAdWidth)/2}})},this.refreshSize(),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4dbanner",content:"\u521b\u5efa\u6210\u529f",desc:this.adId},function(){})}else if(cc.sys.platform==cc.sys.WECHAT_GAME&&"QQ"==appGame.platform){this.globalData&&this.globalData.bannerAd&&(this.globalData.bannerAd.destroy(),this.globalData.bannerAd=null);var s=qq.getSystemInfoSync(),r=s.windowWidth,c=s.windowHeight;this.width=r,this.height=c,appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.bannerId&&appGame.gameServerRoom.commonConfig.bannerId.QQ&&(this.adId=appGame.gameServerRoom.commonConfig.bannerId.QQ.adUnitId),this.globalData={bannerAd:qq.createBannerAd({adUnitId:this.adId,style:{width:this.width,top:this.height-this.targetBannerAdWidth/16*9,left:(this.width-this.targetBannerAdWidth)/2}})},this.refreshSize(),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4dbanner",content:"\u521b\u5efa\u6210\u529f",desc:this.adId},function(){})}this.globalData&&this.globalData.bannerAd&&(console.log("\u64ad\u653ebanner\u5e7f\u544a"),cc.sys.platform==cc.sys.BAIDU_GAME?this.globalData.bannerAd.onLoad(function(){console.log("\u767e\u5ea6banner \u52a0\u8f7d\u5b8c\u6210"),n.globalData.bannerAd.show().then(function(){console.log("\u5c55\u793a\u6210\u529f"),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4dbanner",content:"\u5c55\u793a\u6210\u529f",desc:n.adId},function(){})}).catch(function(){console.log("\u5c55\u793a\u5931\u8d25"),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4dbanner",content:"\u5c55\u793a\u5931\u8d25",desc:n.adId},function(){})})}):cc.sys.platform==cc.sys.WECHAT_GAME&&"QQ"==appGame.platform?this.globalData.bannerAd.onLoad(function(){console.log("qqBanner \u52a0\u8f7d\u5b8c\u6210"),n.globalData.bannerAd.show(),console.log("\u5c55\u793a\u6210\u529f"),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4dbanner",content:"\u5c55\u793a\u6210\u529f",desc:n.adId},function(){})}):(console.log("\u5f00\u59cb\u5c55\u793a\u5e7f\u544a"),this.globalData.bannerAd.show().then(function(){console.log("\u5c55\u793a\u6210\u529f"),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4dbanner",content:"\u5c55\u793a\u6210\u529f",desc:n.adId},function(){})}).catch(function(){console.log("\u5c55\u793a\u5931\u8d25"),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4dbanner",content:"\u5c55\u793a\u5931\u8d25",desc:n.adId},function(){})})))}else cc.director.getScheduler().unschedule(this.scheduleCallBack,this),cc.sys.platform==cc.sys.BYTEDANCE_GAME?this.globalData&&this.globalData.bannerAd&&(this.globalData.bannerAd.hide(),this.globalData.bannerAd.destroy(),this.globalData.bannerAd=null,console.log("\u5b57\u8282\u5e73\u53f0banner \u9500\u6bc1"),this.globalData={bannerAd:tt.createBannerAd({adUnitId:this.adId,style:{width:this.targetBannerAdWidth,top:this.height-this.targetBannerAdWidth/16*9,left:(this.width-this.targetBannerAdWidth)/2}})},this.refreshSize(),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4dbanner",content:"\u9690\u85cf\u521b\u5efa\u6210\u529f",desc:this.adId},function(){})):cc.sys.platform==cc.sys.WECHAT_GAME&&"WX"==appGame.platform?this.globalData&&this.globalData.bannerAd&&(this.globalData.bannerAd.hide(),this.globalData.bannerAd.destroy(),this.globalData.bannerAd=null,console.log("banner \u9500\u6bc1"),this.globalData={bannerAd:wx.createBannerAd({adUnitId:this.adId,style:{width:this.targetBannerAdWidth,top:this.height-this.targetBannerAdWidth/16*9,left:(this.width-this.targetBannerAdWidth)/2}})},this.refreshSize(),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4dbanner",content:"\u9690\u85cf\u521b\u5efa\u6210\u529f",desc:this.adId},function(){})):cc.sys.platform==cc.sys.WECHAT_GAME&&"QQ"==appGame.platform&&(this.globalData.bannerAd.hide(),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4dbanner",content:"\u9690\u85cf",desc:this.adId},function(){}))},refreshSize:function(){var t=this;this.globalData&&this.globalData.bannerAd&&(cc.sys.platform!=cc.sys.BYTEDANCE_GAME&&cc.sys.platform!=cc.sys.WECHAT_GAME&&cc.sys.platform!=cc.sys.BAIDU_GAME||this.globalData.bannerAd.onResize(function(e){console.log("banner shezhi\u5927\u5c0f"+t.height+"   "+t.width),t.globalData.bannerAd.style.top=t.height-e.height,t.globalData.bannerAd.style.left=(t.width-e.width)/2}),this.globalData.bannerAd.onError(function(e){console.log("banner \u51fa\u9519"),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4dbanner",content:t.adId,desc:e.errCode+e.errMsg},function(){})}))}});e.exports=n,cc._RF.pop()},{"../model/appGame":"appGame"}],changeGame:[function(t,e){"use strict";cc._RF.push(e,"afdd0LsL2lP35RKLODURjeW","changeGame"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onChangeGameBtnCallBack,this)},start:function(){},onChangeGameBtnCallBack:function(){cc.sys.platform==cc.sys.BYTEDANCE_GAME&&"ios"!==tt.getSystemInfoSync().platform&&tt.showMoreGamesModal({appLaunchOptions:[{appId:"tt7fbb0906e080eb91",extraData:{}},{appId:"tt71aa0717ee919412",extraData:{}},{appId:"tt83a9f5141c9278e6",extraData:{}},{appId:"tt1b516dec846adc47",extraData:{}},{appId:"ttcf78b9c550430232",extraData:{}},{appId:"tt62341489fd0f437a",extraData:{}}],success:function(t){console.log("success",t.errMsg)},fail:function(t){console.log("fail",t.errMsg)}})}}),cc._RF.pop()},{}],com:[function(t,e){"use strict";cc._RF.push(e,"e25bakBQd9I5LmDR7yLx+Jf","com");var n=function(){};n.dateStr=function(t){var e=t.getMonth()+1,n=t.getDate(),o=t.getHours(),i=t.getMinutes(),a=t.getSeconds();return t.getFullYear()+"-"+(10>e?"0"+e:""+e)+"-"+(10>n?"0"+n:""+n)+" "+(10>o?"0"+o:""+o)+":"+(10>i?"0"+i:""+i)+":"+(10>a?"0"+a:""+a)},n.strDate=function(t){switch(t.length){case 8:t=t.split(":");var e=new Date;return e.setTime(0),e.setUTCHours(t[0]),e.setUTCMinutes(t[1]),e.setUTCSeconds(t[2]),e;case 10:return t=t.split("-"),new Date(t[0],t[1]-1,t[2],0,0,0);case 19:return e=t.split(" "),t=e[0].split("-"),e=e[1].split(":"),new Date(t[0],t[1]-1,t[2],e[0],e[1],e[2]);default:throw"Invalid date format : "+t}},n.cca=function(t,e){var n=t.charCodeAt(e);return n!=n?void 0:n},n.substr=function(t,e,n){return null!=e&&0!=e&&null!=n&&0>n?"":(null==n&&(n=t.length),0>e?0>(e=t.length+e)&&(e=0):0>n&&(n=t.length+n-e),t.substr(e,n))},n.remove=function(t,e){var n=t.indexOf(e);return-1!=n&&(t.splice(n,1),!0)},n.iter=function(t){return{cur:0,arr:t,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}},cc._RF.pop()},{}],consts:[function(t,e){"use strict";cc._RF.push(e,"f36fcCR/lBD/qmR2CZ3f4L4","consts"),e.exports={CLIENT_GAME_START:"client.onGameStart",LOCAL_EVENT_POPUP_LOADTIP:"localEventPopupLoadTip",LOCAL_EVENT_POPUP_DIALOG:"localEventPopupDialog",LOCAL_EVENT_POPUP_GAME_COMMON:"localEventPopupGameCommon",LOCAL_GAME_RESULT_NATIVE_AD:"client.onResultNativeAD",CLIENT_GAME_VIDEO_SHOW:"client.onGameShowVideo",CLIENT_GAME_RESULT_VIDEO_SHOW:"client.onGameResultShowVideo",CLIENT_GAME_PLAY_VIDEO:"client.onGamePlayVideo",HTTP_RECORD_SERVER:"https://l.h5120.com/te/tk/gameapplist",HTTP_EVENT_MIDDLE_DESK_CONFIG:"client.onGameMiddleDeskConfig",HTTP_RECORD_PACKAGE:"com.snmi.crazyremove",HTTP_RECORD_PACKAGENAME:"\u75af\u72c2\u6d88\u6d88\u6d88",GAME_ID:15,HTTP_GET_PAAS_DATA_SERVER:"https://cs.snmi.cn/game/GetGameValue",HTTP_GET_GAME_DATA_SERVER:"https://cs.snmi.cn/switch/GetGameValue",HTTP_SPREAD_WORD:"https://s.snmi.cn/game/kl",HTTP_SPREAD_REPORT:"https://t.h5data.com/d/gkl?",HTTP_SPREAD_CLOSE:"https://t.h5data.com/d/gclose?rid="},cc._RF.pop()},{}],dialogBox:[function(t,e){"use strict";cc._RF.push(e,"b7b24I8RWhMxIogfhVLnP+c","dialogBox");var n=cc.Class({extends:cc.Component,properties:{titleLabel:cc.Label,contentLabel:cc.Label,confirmButton:cc.Button,cancelButton:cc.Button,okButton:cc.Button,confirmLabel:cc.Label,cancelLabel:cc.Label,okLabel:cc.Label,confirmCallback:null,cancelCallback:null},onLoad:function(){this.confirmButton.node.active=!1,this.okButton.node.active=!1,this.cancelButton.node.active=!1,this.confirmButton.node.on(cc.Node.EventType.TOUCH_END,this.onConfirmBtnClicked,this),this.cancelButton.node.on(cc.Node.EventType.TOUCH_END,this.onCancelBtnClicked,this),this.okButton.node.on(cc.Node.EventType.TOUCH_END,this.onOkBtnClicked,this)},onConfirmBtnClicked:function(){this.confirmCallback&&this.confirmCallback(),this.hide()},onCancelBtnClicked:function(){this.cancelCallback&&this.cancelCallback(),this.hide()},onOkBtnClicked:function(){this.onConfirmBtnClicked(),this.hide()},show:function(t){(t=t||{}).content&&(this.contentLabel.string=t.content),this.confirmLabel.string=t.confirmLabel||"",this.cancelLabel.string=t.cancelLabel||"",this.okLabel.string=t.okLabel||"",this.confirmCallback=t.confirmCB||t.okCB,this.cancelCallback=t.cancelCB,this.okButton.node.active=!!t.okCB,this.confirmButton.node.active=!t.okCB,this.cancelButton.node.active=!t.okCB},hide:function(){this.node.removeFromParent()}});e.exports=n,cc._RF.pop()},{}],easing:[function(t,e,n){"use strict";function o(t,e,n,o){return n-i(o-t,0,n,o)+e}function i(t,e,n,o){return(t/=o)<1/2.75?7.5625*n*t*t+e:t<2/2.75?n*(7.5625*(t-=1.5/2.75)*t+.75)+e:t<2.5/2.75?n*(7.5625*(t-=2.25/2.75)*t+.9375)+e:n*(7.5625*(t-=2.625/2.75)*t+.984375)+e}cc._RF.push(e,"e6742QWT6FGKZZTNPiWFV4s","easing"),Object.defineProperty(n,"__esModule",{value:!0}),n.easeInOutBounce=n.easeOutBounce=n.easeInBounce=n.easeInOutBack=n.easeOutBack=n.easeInBack=n.easeInOutElastic=n.easeOutElastic=n.easeInElastic=n.easeInOutCirc=n.easeOutCirc=n.easeInCirc=n.easeInOutExpo=n.easeOutExpo=n.easeInExpo=n.easeInOutSine=n.easeOutSine=n.easeInSine=n.easeInOutQuint=n.easeOutQuint=n.easeInQuint=n.easeInOutQuart=n.easeOutQuart=n.easeInQuart=n.easeInOutCubic=n.easeOutCubic=n.easeInCubic=n.easeInOutQuad=n.easeOutQuad=n.easeInQuad=n.linear=void 0,n.linear=function(t,e,n,o){return n*t/o+e},n.easeInQuad=function(t,e,n,o){return n*(t/=o)*t+e},n.easeOutQuad=function(t,e,n,o){return-n*(t/=o)*(t-2)+e},n.easeInOutQuad=function(t,e,n,o){return(t/=o/2)<1?n/2*t*t+e:-n/2*(--t*(t-2)-1)+e},n.easeInCubic=function(t,e,n,o){return n*(t/=o)*t*t+e},n.easeOutCubic=function(t,e,n,o){return n*((t=t/o-1)*t*t+1)+e},n.easeInOutCubic=function(t,e,n,o){return(t/=o/2)<1?n/2*t*t*t+e:n/2*((t-=2)*t*t+2)+e},n.easeInQuart=function(t,e,n,o){return n*(t/=o)*t*t*t+e},n.easeOutQuart=function(t,e,n,o){return-n*((t=t/o-1)*t*t*t-1)+e},n.easeInOutQuart=function(t,e,n,o){return(t/=o/2)<1?n/2*t*t*t*t+e:-n/2*((t-=2)*t*t*t-2)+e},n.easeInQuint=function(t,e,n,o){return n*(t/=o)*t*t*t*t+e},n.easeOutQuint=function(t,e,n,o){return n*((t=t/o-1)*t*t*t*t+1)+e},n.easeInOutQuint=function(t,e,n,o){return(t/=o/2)<1?n/2*t*t*t*t*t+e:n/2*((t-=2)*t*t*t*t+2)+e},n.easeInSine=function(t,e,n,o){return-n*Math.cos(t/o*(Math.PI/2))+n+e},n.easeOutSine=function(t,e,n,o){return n*Math.sin(t/o*(Math.PI/2))+e},n.easeInOutSine=function(t,e,n,o){return-n/2*(Math.cos(Math.PI*t/o)-1)+e},n.easeInExpo=function(t,e,n,o){return 0===t?e:n*Math.pow(2,10*(t/o-1))+e},n.easeOutExpo=function(t,e,n,o){return t===o?e+n:n*(1-Math.pow(2,-10*t/o))+e},n.easeInOutExpo=function(t,e,n,o){return 0===t?e:t===o?e+n:(t/=o/2)<1?n/2*Math.pow(2,10*(t-1))+e:n/2*(2-Math.pow(2,-10*--t))+e},n.easeInCirc=function(t,e,n,o){return-n*(Math.sqrt(1-(t/=o)*t)-1)+e},n.easeOutCirc=function(t,e,n,o){return n*Math.sqrt(1-(t=t/o-1)*t)+e},n.easeInOutCirc=function(t,e,n,o){return(t/=o/2)<1?-n/2*(Math.sqrt(1-t*t)-1)+e:n/2*(Math.sqrt(1-(t-=2)*t)+1)+e},n.easeInElastic=function(t,e,n,o){var i=1.70158,a=0,s=n;return 0===t?e:1==(t/=o)?e+n:(a||(a=.3*o),s<Math.abs(n)?(s=n,i=a/4):i=a/(2*Math.PI)*Math.asin(n/s),-s*Math.pow(2,10*(t-=1))*Math.sin(2*(t*o-i)*Math.PI/a)+e)},n.easeOutElastic=function(t,e,n,o){var i=1.70158,a=0,s=n;return 0===t?e:1==(t/=o)?e+n:(a||(a=.3*o),s<Math.abs(n)?(s=n,i=a/4):i=a/(2*Math.PI)*Math.asin(n/s),s*Math.pow(2,-10*t)*Math.sin(2*(t*o-i)*Math.PI/a)+n+e)},n.easeInOutElastic=function(t,e,n,o){var i=1.70158,a=0,s=n;return 0===t?e:2==(t/=o/2)?e+n:(a||(a=.3*1.5*o),s<Math.abs(n)?(s=n,i=a/4):i=a/(2*Math.PI)*Math.asin(n/s),t<1?s*Math.pow(2,10*(t-=1))*Math.sin(2*(t*o-i)*Math.PI/a)*-.5+e:s*Math.pow(2,-10*(t-=1))*Math.sin(2*(t*o-i)*Math.PI/a)*.5+n+e)},n.easeInBack=function(t,e,n,o,i){return void 0===i&&(i=1.70158),n*(t/=o)*t*((i+1)*t-i)+e},n.easeOutBack=function(t,e,n,o,i){return void 0===i&&(i=1.70158),n*((t=t/o-1)*t*((i+1)*t+i)+1)+e},n.easeInOutBack=function(t,e,n,o,i){return void 0===i&&(i=1.70158),(t/=o/2)<1?n/2*t*t*((1+(i*=1.525))*t-i)+e:n/2*((t-=2)*t*((1+(i*=1.525))*t+i)+2)+e},n.easeInBounce=o,n.easeOutBounce=i,n.easeInOutBounce=function(t,e,n,a){return t<a/2?.5*o(2*t,0,n,a)+e:.5*i(2*t-a,0,n,a)+.5*n+e},cc._RF.pop()},{}],emitter:[function(t,e){"use strict";function n(t){if(t)return o(t)}function o(t){for(var e in n.prototype)t[e]=n.prototype[e];return t}cc._RF.push(e,"bebe1jW6dZFa5TewiY9r4WZ","emitter"),e.exports=n,window.EventEmitter=n,n.prototype.on=n.prototype.addEventListener=function(t,e,n){var o=null;return e&&n?(o=e.bind(n)).fn=e:o=e,this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(o),this},n.prototype.once=function(t,e,n){var o=this;function i(){o.off(t,i),e.apply(n||this,arguments)}return this._callbacks=this._callbacks||{},i.fn=e,this._callbacks=this._callbacks||{},(this._callbacks[t]=this._callbacks[t]||[]).push(i),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeEventListener=function(t,e){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,o=this._callbacks[t];if(!o)return this;if(1==arguments.length)return delete this._callbacks[t],this;for(var i=0;i<o.length;i++)if((n=o[i])===e||n.fn===e){o.splice(i,1);break}return this},n.prototype.emit=function(t){this._callbacks=this._callbacks||{};var e=[].slice.call(arguments,1),n=this._callbacks[t];if(n)for(var o=0,i=(n=n.slice(0)).length;o<i;++o)n[o].apply(this,e);return this},n.prototype.listeners=function(t){return this._callbacks=this._callbacks||{},this._callbacks[t]||[]},n.prototype.hasListeners=function(t){return!!this.listeners(t).length},cc._RF.pop()},{}],"g - 001":[function(t,e,n){"use strict";cc._RF.push(e,"bfe6ayXISRPGJZU9+VRaz62","g - 001"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,s=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.label=null,e.text="hello",e}return __extends(e,t),e.prototype.start=function(){},e.prototype.randomInt=function(t,e){null==e&&(e=t,t=0);var n=Math.random()*(e-t);return Math.floor(n)+t},e.prototype.getRandomInArray=function(t){if(t)return t[g.randomInt(0,t.length)]},e.prototype.randomFloat=function(t,e){return Math.random()*(e-t)+t},e.prototype.isNextDay=function(t){return g.isGreaterDate(new Date,new Date(t))},e.prototype.isGreaterDate=function(t,e){var n=t.getTime()-e.getTime();return n>864e5||n>0&&t.getDate()!=e.getDate()},__decorate([a(cc.Label)],e.prototype,"label",void 0),__decorate([a],e.prototype,"text",void 0),__decorate([i],e)}(cc.Component);n.default=s,cc._RF.pop()},{}],gameSceneManager:[function(t,e){"use strict";cc._RF.push(e,"6be4flAQQJHL6gxxNXHg9Az","gameSceneManager");var n=null,o=cc.Class({extends:cc.Component,properties:{},onLoad:function(){null==n&&((n=t("appGame")).init(),this.initAppData(function(){var e=t("roomGame");appGame.gameServerRoom=e.create({})}.bind(this))),appGame.emitter.on(consts.HTTP_EVENT_MIDDLE_DESK_CONFIG,this.refreshGameConfig),appGame.emitter.on(consts.LOCAL_EVENT_POPUP_LOADTIP,this.showLoadTipFun),appGame.emitter.on(consts.LOCAL_EVENT_POPUP_DIALOG,this.showDialogFun),appGame.emitter.on(consts.LOCAL_EVENT_POPUP_GAME_COMMON,this.showCommonUIFun)},onDestroy:function(){appGame.emitter.off(consts.HTTP_EVENT_MIDDLE_DESK_CONFIG,this.refreshGameConfig),appGame.emitter.off(consts.LOCAL_EVENT_POPUP_DIALOG,this.showDialogFun),appGame.emitter.off(consts.LOCAL_EVENT_POPUP_LOADTIP,this.showLoadTipFun),appGame.emitter.off(consts.LOCAL_EVENT_POPUP_GAME_COMMON,this.showCommonUIFun)},refreshGameConfig:function(){var e=t("videoBanner");appGame.videoBanner=e.create({});var n=t("interstitialAd");appGame.interstitialAd=n.create({});var o=t("banner");appGame.banner=o.create({});var i=t("wxnativeAd");appGame.nativeAd=i.create({});var a=t("wxgridAd");appGame.gridAd=a.create({});var s=t("qqAppBox");appGame.qqappbox=s.create({});var r=t("qqBlockAd");appGame.qqblockad=r.create({})},initAppData:function(t){if(appGame.userId=cc.sys.localStorage.getItem("snmi_guid"),null!=appGame.userId&&""!=appGame.userId||(appGame.userId=util.guid(),cc.sys.localStorage.setItem("snmi_guid",appGame.userId)),cc.sys.platform===cc.sys.VIVO_GAME?qg&&qg.getSystemInfo({success:function(t){appGame.deviceInfo=t}}):cc.sys.platform==cc.sys.BAIDU_GAME?swan.getSystemInfo({success:function(t){console.log(t),appGame.deviceInfo=t},fail:function(){console.log("getSystemInfo \u8c03\u7528\u5931\u8d25")}}):cc.sys.platform==cc.sys.BYTEDANCE_GAME?tt.getSystemInfo({success:function(t){console.log(t),appGame.deviceInfo=t},fail:function(){console.log("getSystemInfo \u8c03\u7528\u5931\u8d25")}}):cc.sys.platform==cc.sys.MOBILE_BROWSER||cc.sys.platform==cc.sys.DESKTOP_BROWSER?appGame.deviceInfo="":cc.sys.platform==cc.sys.OPPO_GAME?qg.getSystemInfo({success:function(t){appGame.deviceInfo=t},fail:function(){},complete:function(){}}):cc.sys.platform==cc.sys.XIAOMI_GAME?qg.getSystemInfo({success:function(t){appGame.deviceInfo=t},fail:function(){},complete:function(){}}):(cc.sys.platform,cc.sys.ANDROID,appGame.deviceInfo=""),"html5"==appGame.platform){var e=cc.sys.localStorage.getItem("snmi_loadtime"),n=0;null!=e&&(n=(new Date).getTime()-parseInt(e)),n=(n/1e3).toFixed(2),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u8fdb\u5165APP",content:"\u8fdb\u5165\u65f6\u957f",desc:n+"\u79d2"},function(){})}else httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u767b\u5f55",content:"\u8fdb\u5165\u4e3b\u754c\u9762"},function(){});var o=cc.sys.localStorage.getItem("snmi_bingdu_entercount");null==o||""==o?(o=1,cc.sys.localStorage.setItem("snmi_bingdu_entercount",1)):(o=parseInt(o),o++,cc.sys.localStorage.setItem("snmi_bingdu_entercount",o)),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u6253\u5f00APP",content:"\u8fdb\u5165\u6e38\u620f\u6b21\u6570\u7edf\u8ba1",desc:o+"\u6b21"},function(){}),t()},disConnectFun:function(){appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_DIALOG,{title:"\u63d0\u793a",content:"\u7f51\u7edc\u5df2\u65ad\u5f00\n\u662f\u5426\u9000\u51fa\u91cd\u8fde\uff1f",okLabel:"\u786e\u5b9a",okCB:function(){}.bind(this)})},showCommonUIFun:function(t){(function(t,e){t&&t.prefabName&&(cc.log("prefabName=="+t.prefabName),cc.assetManager.loadBundle("comPrefab",function(n,o){o.load(t.prefabName,cc.Prefab,function(n,o){if(n)cc.error(n);else{var i=!1,a=cc.find("Canvas");if(a.childrenCount>0)for(var s=0;s<a.children.length;s++)if(a.children[s].name==t.prefabName){i=!0;break}if(!i){var r=cc.instantiate(o);a.addChild(r);var c=r.getComponent(t.prefabName);c&&c.show&&c.show(t),r.zIndex=e,r.active=!0}}}.bind(this))}.bind(this)))})(t=t||{},t.zIndex||1300)},showDialogFun:function(t){(function(t,e,n){cc.assetManager.loadBundle("comPrefab",function(t,o){o.load("dialogBox",cc.Prefab,function(t,o){if(t)cc.error(t);else{var i=cc.find("Canvas");if(i.childrenCount>0)for(var a=0;a<i.children.length;a++)"dialogBox"==i.children[a].name&&i.children[a].removeFromParent();var s=cc.instantiate(o);i.addChild(s);var r=s.getComponent("dialogBox");r&&r.show&&r.show(e),s.zIndex=n,s.active=!0}}.bind(this))}.bind(this))})(0,t=t||{},t.zIndex||1400)},showLoadTipFun:function(t){(function(t,e,n){cc.assetManager.loadBundle("comPrefab",function(t,o){o.load("loadTip",cc.Prefab,function(t,o){if(t)cc.error(t);else{var i=cc.find("Canvas");if(i.childrenCount>0)for(var a=0;a<i.children.length;a++)"loadTip"==i.children[a].name&&i.children[a].removeFromParent();var s=cc.instantiate(o);i.addChild(s);var r=s.getComponent("loadTip");r&&r.show&&r.show(e),s.zIndex=n,s.active=!0}}.bind(this))}.bind(this))})(0,t=t||{},t.zIndex||1500)},showGameHelpFun:function(t){(function(t,e,n){cc.loader.loadRes("gameComon/prefab/helpPanel",cc.Prefab,function(t,o){if(t)cc.error(t);else{var i=cc.instantiate(o);cc.find("Canvas").addChild(i);var a=i.getComponent("helpPanel");a&&a.show&&a.show(e),i.zIndex=n,i.active=!0}})})(0,t=t||{},t.zIndex||1e3)}});e.exports=o,cc._RF.pop()},{appGame:"appGame",banner:"banner",interstitialAd:"interstitialAd",qqAppBox:"qqAppBox",qqBlockAd:"qqBlockAd",roomGame:"roomGame",videoBanner:"videoBanner",wxgridAd:"wxgridAd",wxnativeAd:"wxnativeAd"}],horn:[function(t,e){"use strict";cc._RF.push(e,"40fbfZFpRVEpo0R8nzzeIHb","horn"),cc.Class({extends:cc.Component,properties:{sprite:[cc.SpriteFrame],bg:cc.Sprite},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onClickTouchEnd,this),appGame.audioMgr.getMusicStatus(function(t){this.bg.spriteFrame=t?this.sprite[0]:this.sprite[1]}.bind(this))},start:function(){},onClickTouchEnd:function(){appGame.audioMgr.getMusicStatus(function(t){appGame.audioMgr.setMusicOnOff(!t),this.bg.spriteFrame=t?this.sprite[1]:this.sprite[0]}.bind(this))}}),cc._RF.pop()},{}],httpUtils:[function(t,e){"use strict";cc._RF.push(e,"1c82dl9OYBOLaaJO15Yt8bQ","httpUtils"),e.exports={onLoad:function(){},httpGet:function(t,e){var n=cc.loader.getXMLHttpRequest();n.onreadystatechange=function(){if(4===n.readyState&&n.status>=200&&n.status<300){var t=n.responseText;e&&e(null,t)}else 4===n.readyState&&(n.status>400||0==n.status)&&e&&e(n.status)},n.onerror=function(){cc.log("httpUtils onreadystatechange  onerror===="+n.readyState+"==="+n.status),(4==n.readyState&&0==n.status||1==n.readyState&&0==n.status)&&e&&e(503)},cc.sys.isNative&&n.setRequestHeader("Accept-Encoding","gzip,deflate"),n.open("GET",t,!0),n.timeout=5e3,n.send()},httpGets:function(t,e){cc.log("url=="+t);var n=cc.loader.getXMLHttpRequest(),o=!1,i=setTimeout(function(){o=!0,n.abort(),e()},2e3);n.onreadystatechange=function(){if(4==n.readyState){if(o)return;if(clearTimeout(i),n.status>=200&&n.status<300){var t=n.responseText;t&&e(t)}else(n.status>400||0==n.status)&&e("false")}},n.open("GET",t,!0),n.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),cc.sys.isNative&&n.setRequestHeader("Accept-Encoding","gzip,deflate"),n.send()},httpPost:function(t,e,n){var o=[],i=cc.sys.localStorage.getItem("snmi_guid");o.snmi=encodeURIComponent(JSON.stringify(i)),o.deviceInfo=encodeURIComponent(JSON.stringify(appGame.deviceInfo)),o.timestamp=(new Date).getTime();var a={package:consts.HTTP_RECORD_PACKAGE,packageName:consts.HTTP_RECORD_PACKAGENAME,packageVersion:appGame.packageVersion,versionCode:"1",platfrom:appGame.platform};o.manifest=encodeURIComponent(JSON.stringify(a)),o.title=encodeURIComponent(e.title),o.content=encodeURIComponent(e.content),e.desc?o.desc=encodeURIComponent(e.desc):o.desc=encodeURIComponent("");var s=cc.loader.getXMLHttpRequest();s.onreadystatechange=function(){if(4===s.readyState&&s.status>=200&&s.status<300){var t=s.responseText;t&&n(t)}else n(-1)};var r=t+"?"+Object.keys(o).map(function(t){return t+"="+o[t]}).join("&");s.open("GET",r,!0),s.send()},httpSendRequest:function(t,e){var n=cc.loader.getXMLHttpRequest(),o=!1,i=setTimeout(function(){o=!0,n.abort(),e(-1)},2e3);n.onreadystatechange=function(){if(4==n.readyState){if(o)return;if(clearTimeout(i),n.status>=200&&n.status<300){var t=n.responseText;if(t){var a=JSON.parse(t);e(a)}else e(1)}else(n.status>400||0==n.status)&&e(-1)}},n.open("POST",t,!0),n.send()},httpPostParam:function(t,e,n){var o=cc.loader.getXMLHttpRequest();o.onreadystatechange=function(){if(console.log("xhr.readyState="+o.readyState+"  xhr.status="+o.status),4===o.readyState&&o.status>=200&&o.status<300){var t=o.responseText;if(t){var e=JSON.parse(t);n(e)}}else n(-1)},o.open("POST",t,!0),o.timeout=5e3;var i=JSON.stringify(e);o.send(i)},loadNetToNativeImg:function(t,e){var n=jsb.fileUtils.getWritablePath()+"img/",o=n+MD5(t)+".png";function i(){cc.loader.load(o,function(t,n){if(t)cc.error(t);else{var o=new cc.SpriteFrame(n);o&&(o.retain(),e(o))}})}if(jsb.fileUtils.isFileExist(o))return cc.log("Remote is find"+o),void i();var a=function(t){void 0!==t?(jsb.fileUtils.isDirectoryExist(n)||jsb.fileUtils.createDirectory(n),jsb.fileUtils.writeDataToFile(new Uint8Array(t),o)?(cc.log("Remote write file succeed."),i()):cc.log("Remote write file failed.")):cc.log("Remote download file failed.")},s=new XMLHttpRequest;s.onreadystatechange=function(){cc.log("xhr.readyState  "+s.readyState),cc.log("xhr.status  "+s.status),4===s.readyState&&(200===s.status?(s.responseType="arraybuffer",a(s.response)):a(null))}.bind(this),s.open("GET",t,!0),s.send()}},cc._RF.pop()},{}],interstitialAd:[function(t,e){"use strict";cc._RF.push(e,"65bb3OPXhxMDIngU6dETA4S","interstitialAd");var n=cc.Class({properties:{},ctor:function(){this.instance=null},statics:{create:function(t){if(!this.instance)return this.instance=new n,this.instance.initWithData(t),this.instance}},initWithData:function(){this.adId="",cc.sys.platform==cc.sys.WECHAT_GAME?(this.adId="d0cde0940f440d92729726f90c72d71a",appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.interstitialId&&appGame.gameServerRoom.commonConfig.interstitialId.QQ&&(this.adId=appGame.gameServerRoom.commonConfig.interstitialId.QQ.adUnitId),this.globalData={interstitialAd:qq.createInterstitialAd({adUnitId:this.adId})},console.log("\u63d2\u5c4f\u5e7f\u544a=="+this.adId)):cc.sys.platform==cc.sys.WECHAT_GAME&&"WX"==appGame.platform?(this.adId="c5b484afd6953432",appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.interstitialId&&appGame.gameServerRoom.commonConfig.interstitialId.WX&&(this.adId=appGame.gameServerRoom.commonConfig.interstitialId.WX.adUnitId)):cc.sys.platform==cc.sys.BYTEDANCE_GAME&&(this.adId="15c24vd9ppqti8jgb3",appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.interstitialId&&appGame.gameServerRoom.commonConfig.interstitialId.toutiao&&(this.adId=appGame.gameServerRoom.commonConfig.interstitialId.toutiao.adUnitId))},showInterstitial:function(){var t=this;this.globalData.interstitialAd.show().catch(function(t){console.error("show",t)}),this.globalData.interstitialAd.load().then(function(){return console.log("\u63d2\u5c4f\u663e\u793a\u6210\u529f"),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u63d2\u5c4f\u5e7f\u544a",content:"\u573a\u666f:"+t.adId,desc:"\u663e\u793a\u6210\u529f"},function(){}),t.globalData.interstitialAd.show()}).catch(function(e){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u63d2\u5c4f\u5e7f\u544a",content:"\u573a\u666f:"+t.adId,desc:"\u663e\u793a\u5931\u8d25"},function(){}),console.log("\u63d2\u5c4f\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",e)}),this.globalData.interstitialAd.onError(function(e){console.log("\u5f53\u524d\u5e73\u53f022 =="+cc.sys.platform),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u63d2\u5c4f",content:"\u5c55\u793a\u5931\u8d25+\u5e7f\u544a\u4f4d+"+t.adId+"\u539f\u56e0+"+e.errMsg},function(){})})},playAd:function(){var t=this;if(console.log("\u64ad\u653e\u63d2\u5c4f\u5e7f\u544a=="),cc.sys.platform==cc.sys.BYTEDANCE_GAME)this.globalData&&this.globalData.interstitialAd&&(this.globalData.interstitialAd.destroy(),this.globalData.interstitialAd=null),this.globalData={interstitialAd:tt.createInterstitialAd({adUnitId:this.adId})},httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u63d2\u5c4f",content:"\u521b\u5efa\u6210\u529f+\u5e7f\u544a\u4f4d+"+this.adId},function(){}),this.globalData.interstitialAd.load().then(function(){return console.log("\u63d2\u5c4f\u663e\u793a\u6210\u529f"),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u63d2\u5c4f\u5e7f\u544a",content:"\u663e\u793a\u6210\u529f"},function(){}),t.globalData.interstitialAd.show()}).catch(function(t){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u63d2\u5c4f\u5e7f\u544a",content:"\u663e\u793a\u5931\u8d25"},function(){}),console.log("\u63d2\u5c4f\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",t)}),this.globalData.interstitialAd.onError(function(e){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u63d2\u5c4f",content:"\u5c55\u793a\u5931\u8d25+\u5e7f\u544a\u4f4d+"+t.adId+"\u539f\u56e0+"+e.errMsg},function(){})});else if(cc.sys.platform==cc.sys.WECHAT_GAME&&"WX"==cc.sys.platform)console.log("\u64ad\u653e\u63d2\u5c4f\u5e7f\u544a=="),this.globalData&&this.globalData.interstitialAd&&(this.globalData.interstitialAd.offError(),this.globalData.interstitialAd.destroy(),this.globalData.interstitialAd=null),appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.interstitialId&&appGame.gameServerRoom.commonConfig.interstitialId.QQ&&(this.adId=appGame.gameServerRoom.commonConfig.interstitialId.QQ.adUnitId),this.globalData={interstitialAd:qq.createInterstitialAd({adUnitId:this.adId})},httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u63d2\u5c4f",content:"\u521b\u5efa\u6210\u529f+\u5e7f\u544a\u4f4d+"+this.adId},function(){}),this.timebanner=setTimeout(function(){this.showInterstitial()}.bind(this),500);else if(console.log("\u63d2\u5c4f\u5e7f\u544a11id=="+this.adId),this.globalData&&this.globalData.interstitialAd){console.log("\u63d2\u5c4f\u5e7f\u544a22id=="+this.adId);var e=this.globalData.interstitialAd;e.load().then(function(){return console.log("\u63d2\u5c4f\u663e\u793a\u6210\u529f"),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u63d2\u5c4f",content:"\u52a0\u8f7d\u6210\u529f+\u5e7f\u544a\u4f4d+"+t.adId},function(){}),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u63d2\u5c4f",content:"\u5c55\u793a\u6210\u529f+\u5e7f\u544a\u4f4d+"+t.adId},function(){}),e.show()}).catch(function(e){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u63d2\u5c4f",content:"\u52a0\u8f7d\u5931\u8d25+\u5e7f\u544a\u4f4d+"+t.adId},function(){}),console.log("\u63d2\u5c4f\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",e)})}}});e.exports=n,cc._RF.pop()},{}],item:[function(t,e){"use strict";cc._RF.push(e,"37e7b3Qh2JMQ5/8DSX2ow5C","item"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.log("item onLoad"),this.node.active=!1},start:function(){},init:function(t){cc.log("item init"),appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.item&&underscore.each(appGame.gameServerRoom.commonConfig.item,function(e){e.id==t&&util.loadBundleSprite(e.bundle,e.sprite,this.node.getComponent(cc.Sprite),function(){this.node.active=!0}.bind(this))}.bind(this))}}),cc._RF.pop()},{}],loadTip:[function(t,e){"use strict";cc._RF.push(e,"eec36KS2hZPVbBk7XsJ2C2d","loadTip"),cc.Class({extends:cc.Component,properties:{contentLabel:cc.Label},onLoad:function(){this.contentLabel.string=""},show:function(t){if((t=t||{}).content){this.node.active=!0,this.contentLabel.string=t.content,this.contentLabel._forceUpdateRenderData(!0);var e=this.contentLabel.node.getContentSize().width,n=cc.view.getVisibleSize().width-200;e<n?(this.contentLabel.overflow=cc.Label.Overflow.NONE,this.contentLabel.node.width=e,this.contentLabel.node.height=this.contentLabel.node.getContentSize().height,this.node.width=e+30,this.node.height=80):(this.contentLabel.overflow=cc.Label.Overflow.CLAMP,this.contentLabel.enableWrapText=!0,this.contentLabel.node.width=n,this.contentLabel.node.height=this.contentLabel.node.getContentSize().height+40*Math.floor(e/n),this.node.width=n+30,this.node.height=80+50*Math.floor(e/n))}this.node.opacity=0,this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeIn(.5),cc.delayTime(1),cc.callFunc(function(){this.node.active=!1}.bind(this))))},start:function(){}}),cc._RF.pop()},{}],lucky:[function(t,e){"use strict";var n,o;cc._RF.push(e,"70c5be0DtlNPI44MyAR/Qdw","lucky"),cc.Class({extends:cc.Component,properties:{touchHide:cc.Node,touch:cc.Node,leftBtn:cc.Node,rightBtn:cc.Node,unsealBtn:cc.Button,closeBtn:cc.Button,getBtn:cc.Button,redDragon:dragonBones.ArmatureDisplay,infoLabel:cc.Label,itemReward:cc.Node,redLabel:cc.Label,openTouch:cc.Node,unsealBtnCallback:null,closeBtnCallback:null,redBagBtnCallback:null,blankCallback:null,getRewardCallBack:null},onLoad:function(){this.touchHide.on(cc.Node.EventType.TOUCH_END,this.clickTouchHideCallBack,this),this.touch.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.touch.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.openTouch.active=!1,this.leftBtn.on(cc.Node.EventType.TOUCH_END,this.onLeftTouchEnd,this),this.rightBtn.on(cc.Node.EventType.TOUCH_END,this.onRightTouchEnd,this),this.unsealBtn.node.active=!1,this.getBtn.node.active=!1,this.closeBtn.node.active=!1,this.closeBtn.node.on(cc.Node.EventType.TOUCH_END,this.clickTouchCloseCallBack,this),this.unsealBtn.node.on(cc.Node.EventType.TOUCH_END,this.onUnsealTouchEnd,this),this.getBtn.node.on(cc.Node.EventType.TOUCH_END,this.onGetTouchEnd,this),this.redDragon.addEventListener(dragonBones.EventObject.COMPLETE,this.animationEventHandler,this),this.infoLabel.string="",this.currentIndex=1,this.itemReward.active=!1},show:function(t){(t=t||{}).config&&(this.luckyConfig=t.config),t.info&&(this.info=t.info),t.unsealCB&&(this.unsealBtnCallback=t.unsealCB),t.closeCB&&(this.closeBtnCallback=t.closeCB),t.redbagCB&&(this.redBagBtnCallback=t.redbagCB),t.blankCB&&(this.blankCallback=t.blankCB),t.rewardCB&&(this.getRewardCallBack=t.rewardCB),this.currentIndex=1,this.showRefreshUI(this.info.isResult)},onDestroy:function(){},showRefreshUI:function(t){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e78\u8fd0\u5927\u5956",content:"\u4e3b\u754c\u9762\u56fe\u6807+\u70b9\u51fb"},function(){}),this.currentIndex=1,this.level=this.info.level||1,this.tollgateConfig=this.luckyConfig.tollgate;for(var e=0;e<this.tollgateConfig.length;e++)if(t&&this.tollgateConfig[e].level==this.level||!t){var n=e+1,i=cc.sys.localStorage.getItem("luckReadyReceive"+n);if(null==i||""==i){this.currentIndex=n;break}}this.refreshItem(this.currentIndex),this.node.active=!0,o=setTimeout(function(){appGame.interstitialAd&&appGame.interstitialAd.playAd(),appGame.banner.playBanner(2)}.bind(this),3e3)},refreshItem:function(t){underscore.each(this.tollgateConfig,function(e,n){if(n==t-1){var o=cc.sys.localStorage.getItem("luckReadyReceive"+t),i=cc.sys.localStorage.getItem("luckUnseal"+t);""!=o&&null!=o?(this.redDragon.playAnimation("dajiang2",1),this.refreshGetReward(t,2)):""!=i&&null!=i?(this.redDragon.playAnimation("dajiang2",1),this.refreshGetReward(t,3)):(this.redDragon.playAnimation("dajiang",2),this.refreshGetReward(t,4))}}.bind(this))},clickTouchHideCallBack:function(){var t=this.luckyConfig.luckyOnOff;t&&t.length>0&&1==t[1].video?appGame.videoBanner.playVideoAd(t[1].force,function(){console.log("\u770b\u89c6\u9891\u6210\u529f"),this.onClientResultPlayAD({sceneId:7,eventId:2,isSuccess:!0}),this.blankCallback&&this.blankCallback()}.bind(this)):(this.onClientResultPlayAD({sceneId:7,eventId:2,isSuccess:!0}),this.blankCallback&&this.blankCallback())},clickTouchCloseCallBack:function(){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e78\u8fd0\u5927\u5956",content:"\u5173\u95ed+\u70b9\u51fb"},function(){}),this.onClientResultPlayAD({sceneId:7,eventId:2,isSuccess:!0}),this.closeBtnCallback&&this.closeBtnCallback()},onTouchStart:function(t){this.startX=t.getLocation().x},onTouchEnd:function(t){var e=t.getLocation().x-this.startX;e<=-10?this.onLeftTouchEnd({}):e>=10?this.onRightTouchEnd({}):this.openTouch.active&&this.onRedBagTouchEnd({})},onLeftTouchEnd:function(){this.currentIndex<=1?appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_LOADTIP,{content:"\u60a8\u5f53\u524d\u5df2\u7ecf\u5728\u7b2c\u4e00\u4e2a\u4e86\uff01"}):(this.currentIndex--,this.refreshItem(this.currentIndex))},onRightTouchEnd:function(){this.currentIndex>=this.tollgateConfig.length?appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_LOADTIP,{content:"\u60a8\u5f53\u524d\u5df2\u7ecf\u5728\u6700\u540e\u4e00\u4e2a\u4e86\uff01"}):(this.currentIndex++,this.refreshItem(this.currentIndex))},onUnsealTouchEnd:function(){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e78\u8fd0\u5927\u5956",content:"\u7acb\u5373\u89e3\u5c01+\u70b9\u51fb"},function(){}),this.unsealBtnCallback&&this.unsealBtnCallback(),this.hide()},onRedBagTouchEnd:function(){if(httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e78\u8fd0\u5927\u5956",content:"\u770b\u6fc0\u52b1\u89c6\u9891\u83b7\u53d6+\u70b9\u51fb"},function(){}),!this.itemReward.active){var t=this.luckyConfig.luckyOnOff;t&&t.length>0&&1==t[0].video?appGame.videoBanner.playVideoAd(t[0].force,function(){console.log("\u770b\u89c6\u9891\u6210\u529f"),this.onClientResultPlayAD({sceneId:7,eventId:1,isSuccess:!0}),this.redBagBtnCallback&&this.redBagBtnCallback()}.bind(this)):(this.onClientResultPlayAD({sceneId:7,eventId:1,isSuccess:!0}),this.redBagBtnCallback&&this.redBagBtnCallback())}},onGetTouchEnd:function(){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e78\u8fd0\u5927\u5956",content:"\u9886\u53d6\u5956\u52b1+\u70b9\u51fb"},function(){}),cc.log("\u9886\u53d6====="+this.currentIndex),this.refreshGetReward(this.currentIndex,1)},refreshGetReward:function(t,e){underscore.each(this.tollgateConfig,function(o,i){if(i==t-1)if(1==e&&this.getRewardCallBack&&this.getRewardCallBack(o.reward.itemId,o.reward.count),this.itemReward.getChildByName("item").getComponent("item").init(o.reward.itemId),this.itemReward.getChildByName("count").getComponent(cc.Label).string="\xd7"+o.reward.count,1==e){cc.log("index==="+t),this.redLabel.node.active=!0,this.itemReward.active=!1,this.redDragon.playAnimation("dajiang2",1),cc.sys.localStorage.setItem("luckReadyReceive"+t,t),this.infoLabel.string=o.reward.info;for(var a=0,s=0;s<this.tollgateConfig.length;s++){var r=s+1,c=cc.sys.localStorage.getItem("luckReadyReceive"+r);if(""==c||null==c)return this.currentIndex=r,this.redDragon.playAnimation("dajiang",2),void this.refreshGetReward(r,4);a++}if(a==this.tollgateConfig.length){for(var l=0;l<this.tollgateConfig.length;l++){var u=l+1;cc.sys.localStorage.removeItem("luckReadyReceive"+u),cc.sys.localStorage.removeItem("luckUnseal"+u)}this.showRefreshUI(this.info.isResult)}}else if(2==e)this.openTouch.active=!1,this.redLabel.node.active=!1,this.itemReward.active=!0,this.getBtn.node.active=!0,this.closeBtn.node.active=!1,this.unsealBtn.node.active=!1,this.getBtn.interactable=!1,this.getBtn.node.off(cc.Node.EventType.TOUCH_END,this.onGetTouchEnd,this),this.getBtn.node.getChildByName("label").getComponent(cc.Label).string="\u5df2\u9886\u53d6",this.infoLabel.string="\u5956\u52b1\u5df2\u9886\u53d6",httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e78\u8fd0\u5927\u5956",content:"\u9886\u53d6\u5956\u52b1+\u70b9\u51fb"},function(){});else if(3==e)this.openTouch.active=!1,this.redLabel.node.active=!1,this.itemReward.active=!0,this.getBtn.node.active=!0,this.closeBtn.node.active=!1,this.unsealBtn.node.active=!1,this.getBtn.interactable=!0,this.getBtn.node.on(cc.Node.EventType.TOUCH_END,this.onGetTouchEnd,this),this.getBtn.node.getChildByName("label").getComponent(cc.Label).string="\u9886\u53d6",this.infoLabel.string="\u606d\u559c\u83b7\u5f97",httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e78\u8fd0\u5927\u5956",content:"\u606d\u559c\u83b7\u5f97\u5f39\u7a97"},function(){});else if(4==e){this.redLabel.node.active=!0,this.itemReward.active=!1,this.getBtn.node.active=!1,this.openTouch.active=!0,this.openTouch.scale=1.4,this.openTouch.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5,1.2),cc.scaleTo(.5,1.5))));var d=this.luckyConfig.luckUnseal;if(d&&1==d.show){var p=1e3*d.delay;n=setTimeout(function(){this.closeBtn.node.active=!0,this.unsealBtn.node.active=!0}.bind(this),p)}else this.closeBtn.node.active=!1,this.unsealBtn.node.active=!1;this.infoLabel.string=o.reward.info}}.bind(this))},animationEventHandler:function(t){t.type===dragonBones.EventObject.COMPLETE&&"dajiang"===t.animationState.name&&this.redDragon.playAnimation("dajiang1",0)},onClientResultPlayAD:function(t){7==t.sceneId&&t.isSuccess&&(1==t.eventId?(httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e78\u8fd0\u5927\u5956",content:"\u770b\u6fc0\u52b1\u89c6\u9891\u83b7\u53d6+\u5df2\u70b9\u51fb"},function(){}),cc.sys.localStorage.setItem("luckUnseal"+this.currentIndex,this.currentIndex),this.redDragon.playAnimation("dajiang2",1),this.refreshGetReward(this.currentIndex,3)):2!=t.eventId&&3!=t.eventId||(3==t.eventId&&httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e78\u8fd0\u5927\u5956",content:"\u5173\u95ed\u754c\u9762+\u5df2\u70b9\u51fb"},function(){}),this.hide()))},hide:function(){clearTimeout(n),clearTimeout(o),appGame.banner.playBanner(3),this.node.removeFromParent()},start:function(){}}),cc._RF.pop()},{}],nativeAd:[function(t,e){"use strict";cc._RF.push(e,"798f3uehO1CeqnH/lESNu8/","nativeAd");var n=cc.Class({properties:{},ctor:function(){this.instance=null},statics:{create:function(t){if(!this.instance)return this.instance=new n,this.instance.initWithData(t),this.instance}},initWithData:function(){cc.sys.platform==cc.sys.OPPO_GAME&&(this.globalData={nativeAd:qg.createNativeAd({adUnitId:"226783"})}),this.globalData&&this.globalData.nativeAd&&(this.globalData.nativeAd.onLoad(function(t){cc.log("\u52a0\u8f7d\u539f\u751f\u5e7f\u544a\u6210\u529f","\uff1a"+JSON.stringify(t)),t.adList&&t.adList.length>0&&(appGame.nativeAdData=t.adList[0]),appGame.gameServerRoom.emit(consts.LOCAL_GAME_RESULT_NATIVE_AD,{})}),this.globalData.nativeAd.onError(function(t){cc.log("\u8bbe\u7f6e\u539f\u751f\u5e7f\u544a\u51fa\u9519\uff1a"+JSON.stringify(t))}))},playAd:function(){if(console.log("\u64ad\u653e\u539f\u751f\u5e7f\u544a=="),this.globalData&&this.globalData.nativeAd){var t=this.globalData.nativeAd;t.load().then(function(){return console.log("\u539f\u751f\u5e7f\u544a\u663e\u793a\u6210\u529f"),t.show()}).catch(function(t){console.log("\u539f\u751f\u5e7f\u544a\u51fa\u73b0\u95ee\u9898",t)})}}});e.exports=n,cc._RF.pop()},{}],platformFun:[function(t,e){"use strict";cc._RF.push(e,"84833vJXhNMwZQ8web99yS6","platformFun"),e.exports={subscribeService:function(){cc.sys.platform==cc.sys.BAIDU_GAME&&swan.subscribeService({templateId:"7519c8966fdd442d93cec1e0a30c3521",subscribeId:"1234",type:"query",success:function(t){swan.showModal({title:"success",content:JSON.stringify(t)})},fail:function(t){swan.showModal({title:"fail",content:JSON.stringify(t)})}})}},cc._RF.pop()},{}],qqAppBox:[function(t,e){"use strict";cc._RF.push(e,"348eeAr679Oq75aKnlLmZ1c","qqAppBox");var n=cc.Class({extends:cc.Component,properties:{},ctor:function(){this.instance=null},statics:{create:function(t){if(!this.instance)return this.instance=new n,this.instance.initWithData(t),this.instance}},initWithData:function(){if(this.boxId="",cc.sys.platform==cc.sys.WECHAT_GAME&&"QQ"==appGame.platform){var t=qq.getSystemInfoSync();this.width=t.windowWidth,this.height=t.windowHeight,util.compareVersion(t.SDKVersion,"1.7.1")>0?(this.boxId="686b9ffc40992b21d352e841f3bb2085",appGame.gameServerRoom.gameConfigData&&appGame.gameServerRoom.gameConfigData.boxId&&appGame.gameServerRoom.gameConfigData.boxId.QQ&&(this.boxId=appGame.gameServerRoom.gameConfigData.boxId.QQ.adUnitId),this.globalData={appbox:qq.createAppBox({adUnitId:this.boxId})}):httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u76d2\u5b50",content:"\u57fa\u7840\u5e93\u7248\u672c\u592a\u4f4e\u4e0d\u521b\u5efa\u5e7f\u544a\u76d2\u5b50"},function(){})}},playBox:function(t){var e=this;this.globalData&&this.globalData.appbox&&(t?this.globalData.appbox.load().then(function(){e.globalData.appbox.show(),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u76d2\u5b50",content:"\u5c55\u793a"},function(){})}):(this.globalData.appbox.destroy(),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u76d2\u5b50",content:"\u9690\u85cf"},function(){})))}});e.exports=n,cc._RF.pop()},{}],qqBlockAd:[function(t,e){"use strict";cc._RF.push(e,"d8a0ccas05AxZHvKiQ9cgNJ","qqBlockAd");var n="",o=cc.Class({extends:cc.Component,properties:{},ctor:function(){this.instance=null},statics:{create:function(t){if(!this.instance)return this.instance=new o,this.instance.initWithData(t),this.instance}},initWithData:function(){this.targetBannerAdWidth=200},playBlockad:function(t){var e=this;if(cc.sys.platform==cc.sys.WECHAT_GAME)if(t){this.globalData&&this.globalData.blockAd&&this.globalData.blockAd.destroy();var o=qq.getSystemInfoSync();this.width=o.windowWidth,this.height=o.windowHeight,util.compareVersion(o.SDKVersion,"1.15.0"),n="672c9551ab8b8b8284a73dde8cf1406a",appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.blockId&&appGame.gameServerRoom.commonConfig.blockId.QQ&&(n=appGame.gameServerRoom.commonConfig.blockId.QQ.adUnitId),this.globalData={blockAd:qq.createBlockAd({adUnitId:n,size:5,orientation:"landscape",style:{left:16,top:this.height-this.targetBannerAdWidth/16*18}})},this.globalData.blockAd.onError(function(t){console.log("globalData blockAd onError",t)}),this.globalData.blockAd.onLoad(function(t){console.log("globalData blockAd onLoad",t),e.globalData.blockAd.show().then(function(){console.log("globalData blockAd show ok"),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u79ef\u6728\u5e7f\u544a",content:"\u5c55\u793a"},function(){})}).catch(function(t){console.log("globalData  blockAd show error",t)})})}else this.globalData&&this.globalData.blockAd&&(this.globalData.blockAd.destroy(),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u79ef\u6728\u5e7f\u544a",content:"\u9690\u85cf"},function(){}))},refreshSize:function(){var t=this;this.globalData&&this.globalData.bannerAd&&cc.sys.platform==cc.sys.WECHAT_GAME&&"QQ"==appGame.platform&&this.globalData.blockAd.onResize(function(e){console.log("\u79ef\u6728\u5e7f\u544a shezhi\u5927\u5c0f"+t.height+"   "+t.width),t.globalData.blockAd.style.top=t.height-e.height,t.globalData.blockAd.style.left=(t.width-e.width)/2})}});e.exports=o,cc._RF.pop()},{}],result:[function(t,e){"use strict";cc._RF.push(e,"33fa5PoD/RJD6LgBnT5ywP1","result"),cc.Class({extends:cc.Component,properties:{title:cc.Label,contentLabel:cc.Label,nextBtn:cc.Button,backBtn:cc.Button,nextBtnCallback:null,backBtnCallback:null},onLoad:function(){this.nextBtn.node.on(cc.Node.EventType.TOUCH_END,this.onNextBtnClicked,this),this.backBtn.node.on(cc.Node.EventType.TOUCH_END,this.onBackBtnClicked,this)},start:function(){},show:function(t){(t=t||{}).nextCB&&(this.nextBtnCallback=t.nextCB),t.backCB&&(this.backBtnCallback=t.backCB),t.info&&(this.info=t.info),t.config&&(this.info.isWin?this.resultConfig=t.config.win:this.resultConfig=t.config.fail),this.refreshUI()},refreshUI:function(){this.info&&(this.title.string=(this.info.isWin,this.resultConfig.title),this.contentLabel.string=(this.info.isWin,this.resultConfig.content),this.nextBtn.node.getChildByName("Background").getChildByName("New Label").getComponent(cc.Label).string=this.resultConfig.btn1.name,this.backBtn.node.getChildByName("Background").getChildByName("New Label").getComponent(cc.Label).string=this.resultConfig.btn2.name,this.nextBtn.node.getChildByName("Background").getChildByName("icon").active=this.resultConfig.btn1.icon,this.backBtn.node.getChildByName("Background").getChildByName("icon").active=this.resultConfig.btn2.icon),appGame.interstitialAd&&appGame.interstitialAd.playAd(),appGame.banner.playBanner(2)},onNextBtnClicked:function(){var t=!1,e=!0;this.resultConfig&&(t=this.resultConfig.btn1.video,e=this.resultConfig.btn1.force),t?appGame.videoBanner.playVideoAd(e,function(){this.nextBtnCallback&&this.nextBtnCallback(this.info.isWin),this.hide()}.bind(this)):(this.nextBtnCallback&&this.nextBtnCallback(this.info.isWin),this.hide())},onBackBtnClicked:function(){var t=!1,e=!0;this.resultConfig&&(t=this.resultConfig.btn2.video,e=this.resultConfig.btn2.force),t?appGame.videoBanner.playVideoAd(e,function(){console.log("\u770b\u89c6\u9891\u6210\u529f"),this.backBtnCallback&&this.backBtnCallback(this.info.isWin),this.hide()}.bind(this)):(this.backBtnCallback&&this.backBtnCallback(this.info.isWin),this.hide())},hide:function(){appGame.banner.playBanner(3),this.node.removeFromParent()}}),cc._RF.pop()},{}],revive:[function(t,e){"use strict";var n,o,i;cc._RF.push(e,"ec134IHnxVI363+v185uOut","revive"),cc.Class({extends:cc.Component,properties:{reviveBtn:cc.Button,backBtn:cc.Button,clock:cc.Node,reviveBtnCallback:null,backBtnCallback:null},onLoad:function(){this.reviveBtn.node.on(cc.Node.EventType.TOUCH_END,this.onReviveBtnClicked,this),this.backBtn.node.on(cc.Node.EventType.TOUCH_END,this.onBackBtnClicked,this)},start:function(){},show:function(t){(t=t||{}).reviveCB&&(this.reviveBtnCallback=t.reviveCB),t.backCB&&(this.backBtnCallback=t.backCB),t.config&&(this.reviveConfig=t.config),this.refreshUI()},refreshUI:function(){this._count=0,this.clock.getComponent(cc.ProgressBar).progress=1,this.reviveConfig.countdown&&this.updateTime(1,this.reviveConfig.countdown,this.reviveConfig.countdown),this.reviveConfig.btn1&&(this.reviveBtn.node.getChildByName("Background").getChildByName("New Label").getComponent(cc.Label).string=this.reviveConfig.btn1.name,this.reviveBtn.node.getChildByName("Background").getChildByName("icon").active=this.reviveConfig.btn1.icon,clearTimeout(o),this.reviveConfig.btn1.delayTime>=0&&(o=setTimeout(function(){this.reviveBtn.node.active=!0}.bind(this),1e3*this.reviveConfig.btn1.delayTime))),this.reviveConfig.btn2&&(this.backBtn.node.getChildByName("Background").getChildByName("New Label").getComponent(cc.Label).string=this.reviveConfig.btn2.name,this.backBtn.node.getChildByName("Background").getChildByName("icon").active=this.reviveConfig.btn2.icon,this.backBtn.node.active=!1,clearTimeout(n),this.reviveConfig.btn2.delayTime>=0&&(n=setTimeout(function(){this.backBtn.node.active=!0}.bind(this),1e3*this.reviveConfig.btn2.delayTime))),appGame.interstitialAd&&appGame.interstitialAd.playAd(),appGame.banner.playBanner(2)},onReviveBtnClicked:function(){var t=!1,e=!0;this.reviveConfig&&(t=this.reviveConfig.btn1.video,e=this.reviveConfig.btn1.force),t?appGame.videoBanner.playVideoAd(e,function(){console.log("\u770b\u89c6\u9891\u6210\u529f"),this.reviveBtnCallback&&this.reviveBtnCallback(),this.hide()}.bind(this)):(this.reviveBtnCallback&&this.reviveBtnCallback(),this.hide())},onBackBtnClicked:function(){var t=!1,e=!0;this.reviveConfig&&(t=this.reviveConfig.btn2.video,e=this.reviveConfig.btn2.force),t?appGame.videoBanner.playVideoAd(e,function(){console.log("\u770b\u89c6\u9891\u6210\u529f"),this.backBtnCallback&&this.backBtnCallback(),this.hide()}.bind(this)):(this.backBtnCallback&&this.backBtnCallback(),this.hide())},updateTime:function(t,e,n){1==t?(e*=1e3,n*=1e3,this._count=e,this.clock&&(this.clock.getComponent(cc.ProgressBar).progress=this._count/n),clearInterval(i),i=setInterval(function(){this._count>100?this._count-=100:(this._count=0,clearInterval(i),this.backBtnCallback&&this.backBtnCallback(),this.hide()),this.clock&&(this.clock.getComponent(cc.ProgressBar).progress=this._count/n)}.bind(this),100)):clearInterval(i)},hide:function(){appGame.banner.playBanner(3),clearInterval(i),clearTimeout(n),clearTimeout(o),this.node.removeFromParent()}}),cc._RF.pop()},{}],roomGame:[function(t,e){"use strict";cc._RF.push(e,"beb9925+ZFD6pMLNAwAhYoo","roomGame");var n=t("room"),o=t("./model/consts"),i=cc.Class({extends:n,statics:{create:function(t){var e=new i;return e.initWithData(t),e}},initWithData:function(t){this._super(t.room),this.videoPath="",this.screenTime=0,this.gameConfigData={},this.wordRid="",this.configSuccess2=!1;var e=o.HTTP_GET_PAAS_DATA_SERVER+"?gameId="+o.GAME_ID+"&plat="+appGame.platform+"&version="+appGame.packageVersion+"&brand=&from=game";console.log("roomgame url==="+e),httpUtils.httpSendRequest(e,function(t){if(console.log("roomgame =="+JSON.stringify(t)),t&&200==t.Code){var e=JSON.parse(t.Detail);e&&(console.log("word=========="+e.word),this.gameConfigData=e,this.isGameStart=!0),this.configSuccess2=!0,this.configSuccess2&&this.configSuccess1&&appGame.gameServerRoom.emit(o.CLIENT_GAME_START,{})}else util.loadJSONData("json","game",function(t){this.gameConfigData=t,this.isGameStart=!0,this.configSuccess2=!0,this.configSuccess2&&this.configSuccess1&&appGame.gameServerRoom.emit(o.CLIENT_GAME_START,{})}.bind(this))}.bind(this))}});e.exports=i,cc._RF.pop()},{"./model/consts":"consts",room:"room"}],room:[function(t,e){"use strict";cc._RF.push(e,"690ef7tcntLt4eCVVAMIQ0O","room");var n=t("emitter"),o=t("./model/consts"),i=cc.Class({extends:n,initWithData:function(){this.commonConfig={},this.configSuccess1=!1,this.isHadWord=!1;var t=o.HTTP_GET_PAAS_DATA_SERVER+"?gameId="+o.GAME_ID+"&plat="+appGame.platform+"&version="+appGame.packageVersion+"&brand=&from=MiddleDesk";console.log("room url==="+t),httpUtils.httpSendRequest(t,function(t){if(console.log("room =="+JSON.stringify(t)),t&&200==t.Code){var e=JSON.parse(t.Detail);e&&(e.word&&(this.isHadWord=!0,util.spreadWordFun()),this.commonConfig=e,this.configSuccess1=!0),appGame.emitter.emit(o.HTTP_EVENT_MIDDLE_DESK_CONFIG,{}),this.configSuccess2&&this.configSuccess1&&appGame.gameServerRoom.emit(o.CLIENT_GAME_START,{})}else util.loadJSONData("comJson","comConfig",function(t){t&&(this.commonConfig=t,this.configSuccess1=!0,t.word&&(this.isHadWord=!0,util.spreadWordFun())),appGame.emitter.emit(o.HTTP_EVENT_MIDDLE_DESK_CONFIG,{}),this.configSuccess2&&this.configSuccess1&&appGame.gameServerRoom.emit(o.CLIENT_GAME_START,{})}.bind(this))}.bind(this))}});e.exports=i,cc._RF.pop()},{"./model/consts":"consts",emitter:"emitter"}],screenrecord:[function(t,e){"use strict";var n;cc._RF.push(e,"4bca2MgtetMQYn5yd8otlgf","screenrecord"),cc.Class({extends:cc.Component,properties:{screenBtn:cc.Node,recordBtn:cc.Node},onLoad:function(){this.screenBtn.on(cc.Node.EventType.TOUCH_END,this.screenBtnCallBack,this),this.recordBtn.on(cc.Node.EventType.TOUCH_END,this.recordBtnCallBack,this),appGame.gameServerRoom.on(consts.CLIENT_GAME_PLAY_VIDEO,this.onPlayVideo,this),appGame.gameServerRoom.on(consts.CLIENT_GAME_RESULT_VIDEO_SHOW,this.onGameResultShowVideo,this),this.screenBtn.active=!1,this.initRefreshUI()},onDestroy:function(){appGame.gameServerRoom.off(consts.CLIENT_GAME_PLAY_VIDEO,this.onPlayVideo,this),appGame.gameServerRoom.off(consts.CLIENT_GAME_RESULT_VIDEO_SHOW,this.onGameResultShowVideo,this)},initRefreshUI:function(){this.isScreening=!1,this.isScreening?this.screenBtn.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string="\u5f55\u5c4f\u4e2d":this.screenBtn.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string="\u5f55\u5c4f"},onPlayVideo:function(){appGame.gameServerRoom.screenTime=(new Date).getTime(),this.screenBtn.active=!1,this.isScreening=!0,console.log("\u5e73\u53f0===="+cc.sys.platform),cc.sys.platform==cc.sys.BYTEDANCE_GAME&&(n||(n=tt.getGameRecorderManager()),n.start({duration:300}),n.onStart(function(){console.log("\u5f00\u59cb\u5f55\u5c4f")}),n.onStop(function(t){console.log(t.videoPath),appGame.gameServerRoom.videoPath=t.videoPath,console.log("\u5f55\u5c4f\u7ed3\u675f")},this))},onGameResultShowVideo:function(){appGame.gameServerRoom.screenTime=(new Date).getTime()-appGame.gameServerRoom.screenTime,this.screenBtn.active=!1,this.screenBtn.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string="\u5f55\u5c4f",console.log("11\u81ea\u52a8\u505c\u6b62\u5f55\u5c4f==="),this.isScreening&&cc.sys.platform==cc.sys.BYTEDANCE_GAME&&(n||(n=tt.getGameRecorderManager()),n.stop(),n.onStop(function(t){appGame.gameServerRoom.videoPath=t.videoPath,appGame.gameServerRoom.emit(consts.CLIENT_GAME_VIDEO_SHOW,{}),console.log("22\u81ea\u52a8\u505c\u6b62\u5f55\u5c4f==="+t.videoPath)}))},screenBtnCallBack:function(){this.isScreening=!this.isScreening,cc.sys.platform==cc.sys.BYTEDANCE_GAME&&(n||(n=tt.getGameRecorderManager()),this.isScreening?(this.screenBtn.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string="\u5f55\u5c4f\u4e2d",n.start({duration:1e5}),n.onStart(function(){console.log("\u5f00\u59cb\u5f55\u5c4f")}),n.onStop(function(t){console.log(t.videoPath),appGame.gameServerRoom.videoPath=t.videoPath,console.log("\u5f55\u5c4f\u7ed3\u675f")},this)):(this.screenBtn.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string="\u5f55\u5c4f",n.stop(),n.onStop(function(t){appGame.gameServerRoom.videoPath=t.videoPath,console.log("\u624b\u52a8\u505c\u6b62\u5f55\u5c4f==="+t.videoPath)})))},recordBtnCallBack:function(){},start:function(){}}),cc._RF.pop()},{}],sign:[function(t,e){"use strict";cc._RF.push(e,"739a6M/ioBOG5JpbKXWT2IE","sign"),cc.Class({extends:cc.Component,properties:{signNode:[cc.Node],closeBtn:cc.Node,signBtn:cc.Node,replenishSignBtn:cc.Node,closeCallback:null,signCallback:null},onLoad:function(){this.reg=!1,this.regArr=[],this.closeBtn.on(cc.Node.EventType.TOUCH_END,this.onCloseBtnClicked,this),this.signBtn.on(cc.Node.EventType.TOUCH_END,this.onClickSignInBtn,this),this.replenishSignBtn.on(cc.Node.EventType.TOUCH_END,this.onClickReplenishSignBtnInBtn,this)},start:function(){},show:function(t){(t=t||{}).config&&t.config.type&&(this.showType=t.config.type),t.config&&t.config.item&&(this.signItem=t.config.item),t.config&&(this.signConfig=t.config),t.backCB&&(this.closeCallback=t.backCB),t.signCB&&(this.signCallback=t.signCB),this.initData(function(){this.showUI()}.bind(this))},initData:function(t){if(this.days=[],this.signItem)for(var e=0;e<this.signItem.length;e++){var n={sign:0,day:"",signType:this.showType};this.days.push(n)}this.singnday=[],this.save_data={};var o=cc.sys.localStorage.getItem("days_sign");if(o&&(this.days=JSON.parse(o),this.days)){var i=!1,a=!0,s=!0,r=!1,c=!1;if(this.days[0]&&this.showType!=this.days[0].signType)i=!0;else{var l=this.getTodayDay();if(1==this.showType){for(var u=0;u<this.days.length;u++)if(this.days[u].day==l){r=!0;break}for(var d=0;d<this.days.length&&(0==this.days[d].sign&&this.days[d].day!=l&&(s=!1),this.days[d].day!=l);d++);}else if(2==this.showType){for(var p=0;p<this.days.length;p++)if(this.days[p].day==l){a=!1;break}}else if(3==this.showType)for(var h=this.weekIndexInMonth(),f=0;f<this.days.length;f++)if(1==this.days[f].sign&&this.days[f].day!=h){c=!0;break}}if(2==this.showType&&a||1==this.showType&&(!s||!r)||3==this.showType&&c||i){cc.sys.localStorage.removeItem("days_sign"),this.days.length=0;for(var g=0;g<this.signItem.length;g++){var m={sign:0,day:"",signType:this.showType};this.days.push(m)}}}t()},showUI:function(){for(var t=0;t<this.signNode.length;t++)this.signNode[t].active=!1,this.signNode[t].getChildByName("item").active=!1,this.signNode[t].getChildByName("New Sprite").active=!1,this.signNode[t].getChildByName("ok").active=!1;for(var e=0;e<this.signItem.length;e++)3==this.signItem.length?this.signNode[e].y=60:e<3&&(this.signNode[e].y=171.521),this.signNode[e].active=!0;for(var n=0;n<this.signItem.length;n++){var o=this.signItem[n];"{}"!=JSON.stringify(o)?(this.signNode[n].getChildByName("item").getComponent("item").init(o.itemId),this.signNode[n].getChildByName("item").active=!0):this.signNode[n].getChildByName("New Sprite").active=!0}this.signConfig&&this.signConfig.btn1&&(this.replenishSignBtn.active=this.signConfig.btn1.show,this.replenishSignBtn.getChildByName("video").active=this.signConfig.btn1.icon),underscore.each(this.days,function(t,e){1==t.sign&&(this.signNode[e].getChildByName("ok").active=!0)}.bind(this)),appGame.banner.playBanner(2)},onClickReplenishSignBtnInBtn:function(){var t=-1;if(1==this.showType||2==this.showType){for(var e=!1,n=0;n<this.days.length;n++)if(1==this.days[n].sign){e=!0;break}if(!e)return void appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_LOADTIP,{content:"\u5f53\u524d\u8fd8\u672a\u7b7e\u5230\uff0c\u8bf7\u5148\u7b7e\u5230"});for(var o=this.getTodayDay(),i=[],a=0;a<this.days.length&&o!=this.days[a].day;a++)1!=this.days[a].sign&&i.push(a);i.length>0&&(t=i[0])}else if(3==this.showType){for(var s=[],r=0;r<this.days.length&&r+1!=this.getWeekDay();r++)0==this.days[r].sign&&s.push(r);s.length>0&&(t=s[0])}var c=!1,l=!0;this.signConfig&&(c=this.signConfig.btn1.video,l=this.signConfig.btn1.force),c?appGame.videoBanner.playVideoAd(l,function(){console.log("\u770b\u89c6\u9891\u6210\u529f"),-1!=t&&(1==this.showType||2==this.showType?(this.days[t].sign=1,this.signNode[t].getChildByName("ok").active=!0,cc.sys.localStorage.setItem("days_sign",JSON.stringify(this.days)),this.signSuccessTip(this.signItem[t],0)):3==this.showType&&(this.days[t].day=this.weekIndexInMonth(),this.days[t].sign=1,this.signNode[t].getChildByName("ok").active=!0,cc.sys.localStorage.setItem("days_sign",JSON.stringify(this.days)),this.signSuccessTip(this.signItem[t],0)))}.bind(this)):-1!=t&&(1==this.showType||2==this.showType?(this.days[t].sign=1,this.signNode[t].getChildByName("ok").active=!0,cc.sys.localStorage.setItem("days_sign",JSON.stringify(this.days)),this.signSuccessTip(this.signItem[t],0)):3==this.showType&&(this.days[t].day=this.weekIndexInMonth(),this.days[t].sign=1,this.signNode[t].getChildByName("ok").active=!0,cc.sys.localStorage.setItem("days_sign",JSON.stringify(this.days)),this.signSuccessTip(this.signItem[t],0)))},onClickSignInBtn:function(){if(1==this.showType||2==this.showType){for(var t=!1,e=0;e<this.days.length;e++)if(1==this.days[e].sign){t=!0;break}if(t){for(var n=this.getTodayDay(),o=!1,i=-1,a=0;a<this.days.length;a++){if(n==this.days[a].day&&(i=a,1==this.days[a].sign)){o=!0;break}if(n==this.days[a].day&&1==this.days[a].sign){o=!0;break}}o?appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_LOADTIP,{content:"\u5df2\u7b7e\u5230"}):(this.days[i].sign=1,this.signNode[i].getChildByName("ok").active=!0,cc.sys.localStorage.setItem("days_sign",JSON.stringify(this.days)),this.signSuccessTip(this.signItem[i],1))}else{for(var s="",r=0;r<this.days.length;r++)s=0==r?this.getTodayDay():this.getNextDay(s),this.days[r].day=s;this.days[0].sign=1,this.signNode[0].getChildByName("ok").active=!0,cc.sys.localStorage.setItem("days_sign",JSON.stringify(this.days)),this.signSuccessTip(this.signItem[0],1)}}else if(3==this.showType){for(var c=!0,l=-1,u=0;u<this.days.length;u++){var d=this.getWeekDay();if(0==this.days[u].sign&&u+1==d){l=u,c=!1;break}}c?appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_LOADTIP,{content:"\u5df2\u7b7e\u5230"}):(this.days[l].day=this.weekIndexInMonth(),this.days[l].sign=1,this.signNode[l].getChildByName("ok").active=!0,cc.sys.localStorage.setItem("days_sign",JSON.stringify(this.days)),this.signSuccessTip(this.signItem[l],1))}},signSuccessTip:function(t,e){if("{}"!=JSON.stringify(t)&&(e&&this.signCallback&&this.signCallback(t.itemId,t.count),appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.item)){var n=underscore.find(appGame.gameServerRoom.commonConfig.item,function(e){return e.id==t.itemId}.bind(this));n&&appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_LOADTIP,{content:"\u5df2\u83b7\u5f97"+n.name+"\u5956\u52b1"})}},onCloseBtnClicked:function(){appGame.banner.playBanner(3),this.closeCallback&&this.closeCallback(),this.node.removeFromParent()},weekIndexInMonth:function(){var t,e=new Date(new Date(this).setDate(1)||(new Date).setDate(1)),n=(new Date).getDate();return t=0===e.getDay()?6:e.getDay()-1,Math.ceil((n+t)/7)},getWeekDay:function(){var t=(new Date).getDay();return 0==t?7:t},getTodayDay:function(){var t=new Date,e=t.getFullYear(),n=t.getMonth()+1,o=t.getDate(),i=e+"-";return n<10&&(i+="0"),i+=n+"-",o<10&&(i+="0"),i+o},getNextDay:function(t){t=+(t=new Date(t))+864e5;var e=(t=new Date(t)).getFullYear(),n=t.getMonth()+1,o=t.getDate(),i=e+"-";return n<10&&(i+="0"),i+=n+"-",o<10&&(i+="0"),i+o}}),cc._RF.pop()},{}],underscore:[function(t,e,n){"use strict";cc._RF.push(e,"ec994o1t0FK6Y0DWnJafEhA","underscore"),function(){var t=window,o=t._,i={},a=Array.prototype,s=Object.prototype,r=Function.prototype,c=a.push,l=a.slice,u=a.concat,d=s.toString,p=s.hasOwnProperty,h=a.forEach,f=a.map,g=a.reduce,m=a.reduceRight,_=a.filter,v=a.every,y=a.some,b=a.indexOf,C=a.lastIndexOf,S=Array.isArray,T=Object.keys,R=r.bind,k=function t(e){return e instanceof t?e:this instanceof t?void(this._wrapped=e):new t(e)};void 0!==n?(void 0!==e&&e.exports&&(n=e.exports=k),n._=k):t._=k,k.VERSION="1.5.2";var w=k.each=k.forEach=function(t,e,n){if(null!=t)if(h&&t.forEach===h)t.forEach(e,n);else if(t.length===+t.length){for(var o=0,a=t.length;o<a;o++)if(e.call(n,t[o],o,t)===i)return}else{var s=k.keys(t);for(o=0,a=s.length;o<a;o++)if(e.call(n,t[s[o]],s[o],t)===i)return}};k.map=k.collect=function(t,e,n){var o=[];return null==t?o:f&&t.map===f?t.map(e,n):(w(t,function(t,i,a){o.push(e.call(n,t,i,a))}),o)};var E="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=function(t,e,n,o){var i=arguments.length>2;if(null==t&&(t=[]),g&&t.reduce===g)return o&&(e=k.bind(e,o)),i?t.reduce(e,n):t.reduce(e);if(w(t,function(t,a,s){i?n=e.call(o,n,t,a,s):(n=t,i=!0)}),!i)throw new TypeError(E);return n},k.reduceRight=k.foldr=function(t,e,n,o){var i=arguments.length>2;if(null==t&&(t=[]),m&&t.reduceRight===m)return o&&(e=k.bind(e,o)),i?t.reduceRight(e,n):t.reduceRight(e);var a=t.length;if(a!==+a){var s=k.keys(t);a=s.length}if(w(t,function(r,c,l){c=s?s[--a]:--a,i?n=e.call(o,n,t[c],c,l):(n=t[c],i=!0)}),!i)throw new TypeError(E);return n},k.find=k.detect=function(t,e,n){var o;return I(t,function(t,i,a){if(e.call(n,t,i,a))return o=t,!0}),o},k.filter=k.select=function(t,e,n){var o=[];return null==t?o:_&&t.filter===_?t.filter(e,n):(w(t,function(t,i,a){e.call(n,t,i,a)&&o.push(t)}),o)},k.reject=function(t,e,n){return k.filter(t,function(t,o,i){return!e.call(n,t,o,i)},n)},k.every=k.all=function(t,e,n){e||(e=k.identity);var o=!0;return null==t?o:v&&t.every===v?t.every(e,n):(w(t,function(t,a,s){if(!(o=o&&e.call(n,t,a,s)))return i}),!!o)};var I=k.some=k.any=function(t,e,n){e||(e=k.identity);var o=!1;return null==t?o:y&&t.some===y?t.some(e,n):(w(t,function(t,a,s){if(o||(o=e.call(n,t,a,s)))return i}),!!o)};k.contains=k.include=function(t,e){return null!=t&&(b&&t.indexOf===b?-1!=t.indexOf(e):I(t,function(t){return t===e}))},k.invoke=function(t,e){var n=l.call(arguments,2),o=k.isFunction(e);return k.map(t,function(t){return(o?e:t[e]).apply(t,n)})},k.pluck=function(t,e){return k.map(t,function(t){return t[e]})},k.where=function(t,e,n){return k.isEmpty(e)?n?void 0:[]:k[n?"find":"filter"](t,function(t){for(var n in e)if(e[n]!==t[n])return!1;return!0})},k.findWhere=function(t,e){return k.where(t,e,!0)},k.max=function(t,e,n){if(!e&&k.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&k.isEmpty(t))return-1/0;var o={computed:-1/0,value:-1/0};return w(t,function(t,i,a){var s=e?e.call(n,t,i,a):t;s>o.computed&&(o={value:t,computed:s})}),o.value},k.min=function(t,e,n){if(!e&&k.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&k.isEmpty(t))return 1/0;var o={computed:1/0,value:1/0};return w(t,function(t,i,a){var s=e?e.call(n,t,i,a):t;s<o.computed&&(o={value:t,computed:s})}),o.value},k.shuffle=function(t){var e,n=0,o=[];return w(t,function(t){e=k.random(n++),o[n-1]=o[e],o[e]=t}),o},k.sample=function(t,e,n){return arguments.length<2||n?t[k.random(t.length-1)]:k.shuffle(t).slice(0,Math.max(0,e))};var D=function(t){return k.isFunction(t)?t:function(e){return e[t]}};k.sortBy=function(t,e,n){var o=D(e);return k.pluck(k.map(t,function(t,e,i){return{value:t,index:e,criteria:o.call(n,t,e,i)}}).sort(function(t,e){var n=t.criteria,o=e.criteria;if(n!==o){if(n>o||void 0===n)return 1;if(n<o||void 0===o)return-1}return t.index-e.index}),"value")};var M=function(t){return function(e,n,o){var i={},a=null==n?k.identity:D(n);return w(e,function(n,s){var r=a.call(o,n,s,e);t(i,r,n)}),i}};k.groupBy=M(function(t,e,n){(k.has(t,e)?t[e]:t[e]=[]).push(n)}),k.indexBy=M(function(t,e,n){t[e]=n}),k.countBy=M(function(t,e){k.has(t,e)?t[e]++:t[e]=1}),k.sortedIndex=function(t,e,n,o){for(var i=(n=null==n?k.identity:D(n)).call(o,e),a=0,s=t.length;a<s;){var r=a+s>>>1;n.call(o,t[r])<i?a=r+1:s=r}return a},k.toArray=function(t){return t?k.isArray(t)?l.call(t):t.length===+t.length?k.map(t,k.identity):k.values(t):[]},k.size=function(t){return null==t?0:t.length===+t.length?t.length:k.keys(t).length},k.first=k.head=k.take=function(t,e,n){if(null!=t)return null==e||n?t[0]:l.call(t,0,e)},k.initial=function(t,e,n){return l.call(t,0,t.length-(null==e||n?1:e))},k.last=function(t,e,n){if(null!=t)return null==e||n?t[t.length-1]:l.call(t,Math.max(t.length-e,0))},k.rest=k.tail=k.drop=function(t,e,n){return l.call(t,null==e||n?1:e)},k.compact=function(t){return k.filter(t,k.identity)};var A=function t(e,n,o){return n&&k.every(e,k.isArray)?u.apply(o,e):(w(e,function(e){k.isArray(e)||k.isArguments(e)?n?c.apply(o,e):t(e,n,o):o.push(e)}),o)};k.flatten=function(t,e){return A(t,e,[])},k.without=function(t){return k.difference(t,l.call(arguments,1))},k.uniq=k.unique=function(t,e,n,o){k.isFunction(e)&&(o=n,n=e,e=!1);var i=n?k.map(t,n,o):t,a=[],s=[];return w(i,function(n,o){(e?o&&s[s.length-1]===n:k.contains(s,n))||(s.push(n),a.push(t[o]))}),a},k.union=function(){return k.uniq(k.flatten(arguments,!0))},k.intersection=function(t){var e=l.call(arguments,1);return k.filter(k.uniq(t),function(t){return k.every(e,function(e){return k.indexOf(e,t)>=0})})},k.difference=function(t){var e=u.apply(a,l.call(arguments,1));return k.filter(t,function(t){return!k.contains(e,t)})},k.zip=function(){for(var t=k.max(k.pluck(arguments,"length").concat(0)),e=new Array(t),n=0;n<t;n++)e[n]=k.pluck(arguments,""+n);return e},k.object=function(t,e){if(null==t)return{};for(var n={},o=0,i=t.length;o<i;o++)e?n[t[o]]=e[o]:n[t[o][0]]=t[o][1];return n},k.indexOf=function(t,e,n){if(null==t)return-1;var o=0,i=t.length;if(n){if("number"!=typeof n)return t[o=k.sortedIndex(t,e)]===e?o:-1;o=n<0?Math.max(0,i+n):n}if(b&&t.indexOf===b)return t.indexOf(e,n);for(;o<i;o++)if(t[o]===e)return o;return-1},k.lastIndexOf=function(t,e,n){if(null==t)return-1;var o=null!=n;if(C&&t.lastIndexOf===C)return o?t.lastIndexOf(e,n):t.lastIndexOf(e);for(var i=o?n:t.length;i--;)if(t[i]===e)return i;return-1},k.range=function(t,e,n){arguments.length<=1&&(e=t||0,t=0),n=arguments[2]||1;for(var o=Math.max(Math.ceil((e-t)/n),0),i=0,a=new Array(o);i<o;)a[i++]=t,t+=n;return a};var P=function(){};k.bind=function(t,e){var n,o;if(R&&t.bind===R)return R.apply(t,l.call(arguments,1));if(!k.isFunction(t))throw new TypeError;return n=l.call(arguments,2),o=function(){if(!(this instanceof o))return t.apply(e,n.concat(l.call(arguments)));P.prototype=t.prototype;var i=new P;P.prototype=null;var a=t.apply(i,n.concat(l.call(arguments)));return Object(a)===a?a:i}},k.partial=function(t){var e=l.call(arguments,1);return function(){return t.apply(this,e.concat(l.call(arguments)))}},k.bindAll=function(t){var e=l.call(arguments,1);if(0===e.length)throw new Error("bindAll must be passed function names");return w(e,function(e){t[e]=k.bind(t[e],t)}),t},k.memoize=function(t,e){var n={};return e||(e=k.identity),function(){var o=e.apply(this,arguments);return k.has(n,o)?n[o]:n[o]=t.apply(this,arguments)}},k.delay=function(t,e){var n=l.call(arguments,2);return setTimeout(function(){return t.apply(null,n)},e)},k.defer=function(t){return k.delay.apply(k,[t,1].concat(l.call(arguments,1)))},k.throttle=function(t,e,n){var o,i,a,s=null,r=0;n||(n={});var c=function(){r=!1===n.leading?0:new Date,s=null,a=t.apply(o,i)};return function(){var l=new Date;r||!1!==n.leading||(r=l);var u=e-(l-r);return o=this,i=arguments,u<=0?(clearTimeout(s),s=null,r=l,a=t.apply(o,i)):s||!1===n.trailing||(s=setTimeout(c,u)),a}},k.debounce=function(t,e,n){var o,i,a,s,r;return function(){a=this,i=arguments,s=new Date;var c=function c(){var l=new Date-s;l<e?o=setTimeout(c,e-l):(o=null,n||(r=t.apply(a,i)))},l=n&&!o;return o||(o=setTimeout(c,e)),l&&(r=t.apply(a,i)),r}},k.once=function(t){var e,n=!1;return function(){return n?e:(n=!0,e=t.apply(this,arguments),t=null,e)}},k.wrap=function(t,e){return function(){var n=[t];return c.apply(n,arguments),e.apply(this,n)}},k.compose=function(){var t=arguments;return function(){for(var e=arguments,n=t.length-1;n>=0;n--)e=[t[n].apply(this,e)];return e[0]}},k.after=function(t,e){return function(){if(--t<1)return e.apply(this,arguments)}},k.keys=T||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var n in t)k.has(t,n)&&e.push(n);return e},k.values=function(t){for(var e=k.keys(t),n=e.length,o=new Array(n),i=0;i<n;i++)o[i]=t[e[i]];return o},k.pairs=function(t){for(var e=k.keys(t),n=e.length,o=new Array(n),i=0;i<n;i++)o[i]=[e[i],t[e[i]]];return o},k.invert=function(t){for(var e={},n=k.keys(t),o=0,i=n.length;o<i;o++)e[t[n[o]]]=n[o];return e},k.functions=k.methods=function(t){var e=[];for(var n in t)k.isFunction(t[n])&&e.push(n);return e.sort()},k.extend=function(t){return w(l.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},k.pick=function(t){var e={},n=u.apply(a,l.call(arguments,1));return w(n,function(n){n in t&&(e[n]=t[n])}),e},k.omit=function(t){var e={},n=u.apply(a,l.call(arguments,1));for(var o in t)k.contains(n,o)||(e[o]=t[o]);return e},k.defaults=function(t){return w(l.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},k.clone=function(t){return k.isObject(t)?k.isArray(t)?t.slice():k.extend({},t):t},k.tap=function(t,e){return e(t),t};var L=function t(e,n,o,i){if(e===n)return 0!==e||1/e==1/n;if(null==e||null==n)return e===n;e instanceof k&&(e=e._wrapped),n instanceof k&&(n=n._wrapped);var a=d.call(e);if(a!=d.call(n))return!1;switch(a){case"[object String]":return e==String(n);case"[object Number]":return e!=+e?n!=+n:0==e?1/e==1/n:e==+n;case"[object Date]":case"[object Boolean]":return+e==+n;case"[object RegExp]":return e.source==n.source&&e.global==n.global&&e.multiline==n.multiline&&e.ignoreCase==n.ignoreCase}if("object"!=typeof e||"object"!=typeof n)return!1;for(var s=o.length;s--;)if(o[s]==e)return i[s]==n;var r=e.constructor,c=n.constructor;if(r!==c&&!(k.isFunction(r)&&r instanceof r&&k.isFunction(c)&&c instanceof c))return!1;o.push(e),i.push(n);var l=0,u=!0;if("[object Array]"==a){if(u=(l=e.length)==n.length)for(;l--&&(u=t(e[l],n[l],o,i)););}else{for(var p in e)if(k.has(e,p)&&(l++,!(u=k.has(n,p)&&t(e[p],n[p],o,i))))break;if(u){for(p in n)if(k.has(n,p)&&!l--)break;u=!l}}return o.pop(),i.pop(),u};k.isEqual=function(t,e){return L(t,e,[],[])},k.isEmpty=function(t){if(null==t)return!0;if(k.isArray(t)||k.isString(t))return 0===t.length;for(var e in t)if(k.has(t,e))return!1;return!0},k.isElement=function(t){return!(!t||1!==t.nodeType)},k.isArray=S||function(t){return"[object Array]"==d.call(t)},k.isObject=function(t){return t===Object(t)},w(["Arguments","Function","String","Number","Date","RegExp"],function(t){k["is"+t]=function(e){return d.call(e)=="[object "+t+"]"}}),k.isArguments(arguments)||(k.isArguments=function(t){return!(!t||!k.has(t,"callee"))}),"function"!=typeof/./&&(k.isFunction=function(t){return"function"==typeof t}),k.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},k.isNaN=function(t){return k.isNumber(t)&&t!=+t},k.isBoolean=function(t){return!0===t||!1===t||"[object Boolean]"==d.call(t)},k.isNull=function(t){return null===t},k.isUndefined=function(t){return void 0===t},k.has=function(t,e){return p.call(t,e)},k.noConflict=function(){return t._=o,this},k.identity=function(t){return t},k.times=function(t,e,n){for(var o=Array(Math.max(0,t)),i=0;i<t;i++)o[i]=e.call(n,i);return o},k.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var B={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};B.unescape=k.invert(B.escape);var O={escape:new RegExp("["+k.keys(B.escape).join("")+"]","g"),unescape:new RegExp("("+k.keys(B.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(t){k[t]=function(e){return null==e?"":(""+e).replace(O[t],function(e){return B[t][e]})}}),k.result=function(t,e){if(null!=t){var n=t[e];return k.isFunction(n)?n.call(t):n}},k.mixin=function(t){w(k.functions(t),function(e){var n=k[e]=t[e];k.prototype[e]=function(){var t=[this._wrapped];return c.apply(t,arguments),U.call(this,n.apply(k,t))}})};var x=0;k.uniqueId=function(t){var e=++x+"";return t?t+e:e},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,G={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=function(t,e,n){var o;n=k.defaults({},n,k.templateSettings);var i=new RegExp([(n.escape||F).source,(n.interpolate||F).source,(n.evaluate||F).source].join("|")+"|$","g"),a=0,s="__p+='";t.replace(i,function(e,n,o,i,r){return s+=t.slice(a,r).replace(N,function(t){return"\\"+G[t]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),o&&(s+="'+\n((__t=("+o+"))==null?'':__t)+\n'"),i&&(s+="';\n"+i+"\n__p+='"),a=r+e.length,e}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{o=new Function(n.variable||"obj","_",s)}catch(c){throw c.source=s,c}if(e)return o(e,k);var r=function(t){return o.call(this,t,k)};return r.source="function("+(n.variable||"obj")+"){\n"+s+"}",r},k.chain=function(t){return k(t).chain()};var U=function(t){return this._chain?k(t).chain():t};k.mixin(k),w(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=a[t];k.prototype[t]=function(){var n=this._wrapped;return e.apply(n,arguments),"shift"!=t&&"splice"!=t||0!==n.length||delete n[0],U.call(this,n)}}),w(["concat","join","slice"],function(t){var e=a[t];k.prototype[t]=function(){return U.call(this,e.apply(this._wrapped,arguments))}}),k.extend(k.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(void 0),cc._RF.pop()},{}],updateTime:[function(t,e){"use strict";var n;cc._RF.push(e,"4cc67JlC1xALoZNsT7RR3yO","updateTime"),cc.Class({extends:cc.Component,properties:{clockNode:cc.Node},onLoad:function(){appGame.gameServerRoom.on("updateCompetitionTime",this.updateTime,this),this.clockNode.getComponent(cc.ProgressBar).progress=1,this._count=0},onDestroy:function(){appGame.gameServerRoom.off("updateCompetitionTime",this.updateTime,this),clearInterval(n)},start:function(){},updateTime:function(t,e,o){1==t?(e*=1e3,o*=1e3,this._count=e,this.clockNode&&(this.clockNode.getComponent(cc.ProgressBar).progress=this._count/o),clearInterval(n),n=setInterval(function(){this._count>100?this._count-=100:(this._count=0,appGame.gameServerRoom.emit("competitionGameOver",2),clearInterval(n)),this.clockNode&&(this.clockNode.getComponent(cc.ProgressBar).progress=this._count/o)}.bind(this),100)):clearInterval(n)}}),cc._RF.pop()},{}],"use_v2.0.x_cc.Toggle_event":[function(t,e){"use strict";cc._RF.push(e,"16452nVLYBF9rx0gR7C2AO8","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}],util:[function(t,e){"use strict";cc._RF.push(e,"8a9f96OA6hCcY7Fl9XOa3ug","util"),e.exports={format:function(t){if("string"!=typeof t){for(var e=[],n=0;n<arguments.length;n++)e.push(inspect(arguments[n]));return e.join(" ")}n=1;for(var o=arguments,i=o.length,a=new RegExp("%%|%s|%d|%j","g"),s=String(t).replace(a,function(t){if("%%"===t)return"%";if(n>=i)return t;switch(t){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":return JSON.stringify(o[n++]);default:return t}}),r=o[n];n<i;r=o[++n])s+=null===r||"object"!=typeof r?" "+r:" "+inspect(r);return s},compareVersion:function(t,e){t=t.split("."),e=e.split(".");for(var n=Math.max(t.length,e.length);t.length<n;)t.push("0");for(;e.length<n;)e.push("0");for(var o=0;o<n;o++){var i=parseInt(t[o]),a=parseInt(e[o]);if(i>a)return 1;if(i<a)return-1}return 0},loadGameAutoAtlas:function(t,e,n,o){cc.resources.load(t,cc.SpriteAtlas,function(t,i){var a=i.getSpriteFrame(e);n.spriteFrame=a,o(!0)}.bind(this))},loadJSONData:function(t,e,n){cc.assetManager.loadBundle(t,function(t,o){o.load(e,cc.JsonAsset,function(t,e){if(!t){var o=e.json;n(o)}}.bind(this))}.bind(this))},loadBundleSprite:function(t,e,n,o){cc.assetManager.loadBundle(t,function(t,i){i.load(e,cc.SpriteFrame,function(t,e){t||(n.spriteFrame=e,o(!0))}.bind(this))}.bind(this))},addChildToParent:function(t,e,n){cc.assetManager.loadBundle("comPrefab",function(o,i){i.load(t,cc.Prefab,function(t,o){if(t)cc.error(t);else{var i=cc.instantiate(o);e.addChild(i),i.getComponent("item").init(n)}}.bind(this))}.bind(this))},guid:function(){function t(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},timeConvertInt:function(t){return parseInt(t/1e3)},random:function(t,e){return Math.floor(Math.random()*(e-t))+t},distance:function(t,e){var n=Math.abs(e.x-t.x),o=Math.abs(e.y-t.y);return Math.sqrt(Math.pow(n,2)+Math.pow(o,2))},goldCrarryBit:function(t){for(var e=[[1e8,"N"],[1e7,"T"],[1e6,"G"],[1e5,"M"],[1e4,"K"],[1e3,"B"]],n=0;n<e.length;n++){var o=t/e[n][0];if(o>1)return""+o.toFixed(1)+e[n][1]}return t},setVirusColor:function(t,e){for(var n=0;n<t.children.length;n++)null!=t.children[n].getComponent("color")&&(t.children[n].color=e),this.setVirusColor(t.children[n],e)},getVirusColorByHp:function(t){for(var e=0;e<gVirusColor.length;e++)if(t<=gVirusColor[e].pro)return gVirusColor[e].color},getVirusScaleByHp:function(t){for(var e=0;e<gVirusColor.length;e++)if(t<=gVirusColor[e].pro)return gVirusScale[e].scale},getRandomSpeed:function(){var t=random(0,gSpeed.length-1);return gSpeed[t]},randAlloc:function(t,e,n,o){if(e*o>t||n*o<t)throw Error("\u6ca1\u6cd5\u6ee1\u8db3\u6700\u6700\u5c11 "+e+" \u6700\u5927 "+n+" \u7684\u6761\u4ef6");for(var i=[],a=t,s=o,r=0;r<o-1;r++){var c=--s*n,l=a-s*e,u=Math.max(e,a-c),d=Math.min(l-u,2*(n-u));i[r]=Math.min(n,u+Math.floor(d*Math.random())),a-=i[r]}return i[o-1]=a,i},copyText:function(t,e){var n;cc.sys.platform!=cc.sys.BYTEDANCE_GAME&&cc.sys.platform!=cc.sys.WECHAT_GAME&&cc.sys.platform!=cc.sys.BAIDU_GAME||(n=cc.sys.platform==cc.sys.BAIDU_GAME?swan:cc.sys.platform==cc.sys.WECHAT_GAME?wx:tt).setClipboardData({data:t,success:function(){cc.sys.platform==cc.sys.BAIDU_GAME&&n.showToast({title:"\u52a0\u8f7d\u5b8c\u6210",icon:"none"}),n.getClipboardData({success:function(){var t=consts.HTTP_SPREAD_REPORT+"rid="+e+"&status=1";httpUtils.httpSendRequest(t,function(){})},fail:function(){var t=consts.HTTP_SPREAD_REPORT+"rid="+e+"&status=0";httpUtils.httpSendRequest(t,function(){})}})},fail:function(){var t=consts.HTTP_SPREAD_REPORT+"rid="+e+"&status=0";httpUtils.httpSendRequest(t,function(){})}})},spreadWordFun:function(){if(cc.sys.platform==cc.sys.BYTEDANCE_GAME||cc.sys.platform==cc.sys.WECHAT_GAME||cc.sys.platform==cc.sys.BAIDU_GAME){var t,e,n;if(cc.sys.platform==cc.sys.BAIDU_GAME){var o=swan.getSystemInfoSync();t=o.host,e=o.brand,n=o.model}else if(cc.sys.platform==cc.sys.WECHAT_GAME){var i=wx.getSystemInfoSync();t=i.appName,e=i.brand,n=i.model}else{var a=tt.getSystemInfoSync();t=a.appName,e=a.brand,n=a.model}var s={did:appGame.userId,package:consts.HTTP_RECORD_PACKAGE,app:t,brand:e,model:n};console.log("param=="+JSON.stringify(s)),httpUtils.httpPostParam(consts.HTTP_SPREAD_WORD,s,function(t){t&&(200==t.code&&t.data?(appGame.gameServerRoom.wordRid=t.rid,util.copyText(t.data,t.rid)):appGame.gameServerRoom.wordRid="")}.bind(this))}},spreadClose:function(t){var e=consts.HTTP_SPREAD_CLOSE+t;httpUtils.httpSendRequest(e,function(){})}},cc._RF.pop()},{}],videoBanner:[function(t,e){"use strict";cc._RF.push(e,"984cbg+bTFE9qHzstOIM3zd","videoBanner");var n="",o="",i=!1,a=cc.Class({properties:{},ctor:function(){this.instance=null},statics:{create:function(t){if(!this.instance)return this.instance=new a,this.instance.initWithData(t),this.instance}},initWithData:function(){this.isForce=!1,this.callback=null,this.count=1,cc.sys.platform==cc.sys.BYTEDANCE_GAME?(n="1gr8f7hvpon3mb2llf",appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.videoId&&appGame.gameServerRoom.commonConfig.videoId.toutiao&&(n=appGame.gameServerRoom.commonConfig.videoId.toutiao.adUnitId),this.globalData={videoAd:tt.createRewardedVideoAd({adUnitId:n})}):cc.sys.platform==cc.sys.WECHAT_GAME&&"WX"==appGame.platform?(n="adunit-168ed0ed4d9f8fad",appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.videoId&&appGame.gameServerRoom.commonConfig.videoId.WX&&(n=appGame.gameServerRoom.commonConfig.videoId.WX.adUnitId),this.globalData={videoAd:wx.createRewardedVideoAd({adUnitId:n})}):cc.sys.platform==cc.sys.WECHAT_GAME&&"QQ"==appGame.platform?(n="29ce1e526c81abd0e8ba8df8b62e0a9e",appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.videoId&&appGame.gameServerRoom.commonConfig.videoId.QQ&&(n=appGame.gameServerRoom.commonConfig.videoId.QQ.adUnitId),this.globalData={videoAd:qq.createRewardedVideoAd({adUnitId:n})}):cc.sys.platform==cc.sys.BAIDU_GAME&&(n="7433930",appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.videoId&&appGame.gameServerRoom.commonConfig.videoId.baidu&&(n=appGame.gameServerRoom.commonConfig.videoId.baidu.adUnitId),appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.videoId&&appGame.gameServerRoom.commonConfig.videoId.baidu&&(o=appGame.gameServerRoom.commonConfig.videoId.baidu.appSid),this.globalData={videoAd:swan.createRewardedVideoAd({adUnitId:n,appSid:o})}),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u6fc0\u52b1\u89c6\u9891",content:"\u521b\u5efa\u6210\u529f+\u5e7f\u544a\u4f4d+"+n},function(){}),cc.sys.platform!=cc.sys.WECHAT_GAME&&this.globalData&&this.globalData.videoAd&&(this.globalData.videoAd.onClose(function(t){t.isEnded?(console.log("\u770b\u5b8c\u89c6\u9891\u5173\u95ed"),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u6fc0\u52b1\u89c6\u9891",content:"\u70b9\u51fb\u5173\u95ed+\u5e7f\u544a\u4f4d+"+n+"\u64ad\u653e\u6210\u529f"},function(){}),this.callback&&this.callback(1),appGame.audioMgr.getMusicStatus(function(t){t&&appGame.audioMgr.setMusicOnOff(t)}.bind(this))):(httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u6fc0\u52b1\u89c6\u9891",content:"\u70b9\u51fb\u5173\u95ed+\u5e7f\u544a\u4f4d+"+n+"\u64ad\u653e\u5931\u8d25"},function(){}),console.log("\u672a\u770b\u5b8c\u89c6\u9891\u5173\u95ed=="+this.isForce),this.isForce||(this.callback&&this.callback(2),appGame.audioMgr.getMusicStatus(function(t){t&&appGame.audioMgr.setMusicOnOff(t)}.bind(this))))}.bind(this)),this.globalData.videoAd.onError(function(t){console.log("\u64ad\u653e\u89c6\u9891\u5e7f\u544a\u51fa\u95ee\u9898"),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u6fc0\u52b1\u89c6\u9891",content:"\u5c55\u793a\u5931\u8d25+\u5e7f\u544a\u4f4d+"+n+"\u539f\u56e0+"+t.errCode+t.errMsg},function(){}),this.isForce||(this.callback&&this.callback(3),appGame.audioMgr.getMusicStatus(function(t){t&&appGame.audioMgr.setMusicOnOff(t)}.bind(this)))}.bind(this)))},playVideoAd:function(t,e,o){if(this.isForce=e,console.log("\u64ad\u653e\u89c6\u9891\u5e7f\u544a"),this.count++,httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u6fc0\u52b1\u89c6\u9891",content:"\u70b9\u51fb\u6b21\u6570+"+this.count+"+\u5e7f\u544a\u4f4d+"+n},function(){}),this.globalData&&this.globalData.videoAd){appGame.audioMgr.getMusicStatus(function(t){t&&appGame.audioMgr.setMusicOnOff(t)}.bind(this));var a=this.globalData.videoAd;if(cc.sys.platform==cc.sys.WECHAT_GAME){console.log("\u64ad\u653e\u5fae\u4fe1\u89c6\u9891"),s&&s.destroy();var s=null;appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.videoId&&appGame.gameServerRoom.commonConfig.videoId.QQ&&(n=appGame.gameServerRoom.commonConfig.videoId.QQ.adUnitId),(s=qq.createRewardedVideoAd({adUnitId:n})).onError(function(t){this.isForce||(this.callback&&this.callback(3),appGame.audioMgr.getMusicStatus(function(t){t&&appGame.audioMgr.setMusicOnOff(t)}.bind(this))),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u6fc0\u52b1\u89c6\u9891",content:"\u5c55\u793a\u5931\u8d25+\u5e7f\u544a\u4f4d+"+n+"\u539f\u56e0+"+t.errCode+t.errMsg},function(){}),console.log("videoAd onError",t)}.bind(this)),s.onLoad(function(t){console.log("videoAd onLoad",t)}),s.onClose(function(t){if(t.isEnded){if(i)return;i=!0,httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u6fc0\u52b1\u89c6\u9891",content:"\u70b9\u51fb\u5173\u95ed+\u5e7f\u544a\u4f4d+"+n+"\u64ad\u653e\u6210\u529f"},function(){}),this.callback&&this.callback(1),appGame.audioMgr.getMusicStatus(function(t){t&&appGame.audioMgr.setMusicOnOff(t)}.bind(this))}else httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u6fc0\u52b1\u89c6\u9891",content:"\u70b9\u51fb\u5173\u95ed+\u5e7f\u544a\u4f4d+"+n+"\u64ad\u653e\u5931\u8d25"},function(){}),this.isForce||(this.callback&&this.callback(2),appGame.audioMgr.getMusicStatus(function(t){t&&appGame.audioMgr.setMusicOnOff(t)}.bind(this)));s.offClose()}.bind(this)),s.load().then(function(){console.log("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u6210\u529f"),s.show().then(function(){i=!1,httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u6fc0\u52b1\u89c6\u9891",content:"\u5c55\u793a\u6210\u529f+\u5e7f\u544a\u4f4d+"+n+"\u573a\u666f"+t},function(){}),console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u6fc0\u52b1\u89c6\u9891",content:"\u5c55\u793a\u5931\u8d25+\u5e7f\u544a\u4f4d+"+n+"\u573a\u666f"+t},function(){}),console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u5931\u8d25")})}).catch(function(){console.log("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u5931\u8d25")})}else a.show().then(function(){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u6fc0\u52b1\u89c6\u9891",content:"\u5c55\u793a\u6210\u529f+\u5e7f\u544a\u4f4d+"+n+"\u573a\u666f"+t},function(){}),console.log("\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(e){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u6fc0\u52b1\u89c6\u9891",content:"\u5c55\u793a\u5931\u8d25+\u5e7f\u544a\u4f4d+"+n+"\u573a\u666f"+t},function(){}),console.log("\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",e),a.load().then(function(){return console.log("\u624b\u52a8\u52a0\u8f7d\u6210\u529f"),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u6fc0\u52b1\u89c6\u9891",content:"\u52a0\u8f7d\u6210\u529f+\u5e7f\u544a\u4f4d+"+n},function(){}),a.show()})}),this.callback=o}else appGame.audioMgr.getMusicStatus(function(t){t&&appGame.audioMgr.setMusicOnOff(t)}.bind(this)),o(1)}});e.exports=a,cc._RF.pop()},{}],wxgridAd:[function(t,e){"use strict";cc._RF.push(e,"27d3buB6l5GlarYvR/+7For","wxgridAd");var n=cc.Class({properties:{},ctor:function(){this.instance=null},statics:{create:function(t){if(!this.instance)return this.instance=new n,this.instance.initWithData(t),this.instance}},initWithData:function(){if(cc.sys.platform==cc.sys.WECHAT_GAME&&"WX"==appGame.platform){var t=wx.getSystemInfoSync(),e=t.windowWidth,n=t.windowHeight;this.targetBannerAdWidth=200,this.width=e,this.height=n,this.adId="adunit-144bcfc4f8f3cefe",console.log("banner \u7b2c\u4e00\u6b21\u521b\u5efa"),this.globalData={gridAd:wx.createGridAd({adUnitId:this.adId,adTheme:"white",gridCount:5,style:{left:0,top:0,width:330,opacity:.8}})},this.globalData.gridAd.onError(function(t){console.log("\u76d2\u5b50\u5e7f\u544aonError",t)})}},playGridAd:function(t){t?this.globalData&&this.globalData.gridAd&&(console.log("\u64ad\u653e\u76d2\u5b50\u5e7f\u544a"),this.globalData.gridAd.show().then(function(){console.log("\u76d2\u5b50\u5e7f\u544a\u5c55\u793a\u6210\u529f")})):this.globalData.gridAd.hide()}});e.exports=n,cc._RF.pop()},{}],wxnativeAd:[function(t,e){"use strict";cc._RF.push(e,"9a169f/Cs9NFp08r0mXOa8e","wxnativeAd");var n=cc.Class({properties:{},ctor:function(){this.instance=null},statics:{create:function(t){if(!this.instance)return this.instance=new n,this.instance.initWithData(t),this.instance}},initWithData:function(){if(cc.sys.platform==cc.sys.OPPO_GAME)this.globalData={nativeAd:qg.createNativeAd({adUnitId:"236300"})};else if(cc.sys.platform==cc.sys.WECHAT_GAME&&"WX"==appGame.platform){var t=wx.getSystemInfoSync(),e=t.windowWidth,n=t.windowHeight;this.targetBannerAdWidth=200,this.width=e,this.height=n,console.log("\u539f\u751f\u5e7f\u544a111111111111"),this.globalData={nativeAd:wx.createCustomAd({adUnitId:"adunit-48fb335e928d3b4d",style:{left:20,top:this.height-this.targetBannerAdWidth/16*9}})}}this.globalData&&this.globalData.nativeAd&&this.globalData.nativeAd.onError(function(t){console.log("\u8bbe\u7f6e\u539f\u751f\u5e7f\u544a\u51fa\u9519\uff1a"+JSON.stringify(t))})},playAd:function(t){if(cc.sys.platform==cc.sys.WECHAT_GAME&&"WX"==appGame.platform)t?this.globalData.nativeAd.show():(console.log("\u64ad\u653e\u539f\u751f\u5e7f\u544a=="),this.globalData.nativeAd.hide());else if(this.globalData&&this.globalData.nativeAd){var e=this.globalData.nativeAd;e.load().then(function(){console.log("\u539f\u751f\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(t){console.log("\u539f\u751f\u5e7f\u544a\u51fa\u73b0\u95ee\u9898",t)}),e.onLoad(function(t){console.log("\u52a0\u8f7d\u539f\u751f\u5e7f\u544a\u6210\u529f","\uff1a"+JSON.stringify(t)),t.adList&&t.adList.length>0&&(appGame.nativeAdData=t.adList[0]),appGame.gameServerRoom.emit(consts.LOCAL_GAME_RESULT_NATIVE_AD,{})})}}});e.exports=n,cc._RF.pop()},{}]},{},["Info","Main","g - 001","Animal","Consts","Game","GridManager","HexonTile","Res","com","IntMap","DCBackground","DCParticleSystem","DailyGetDialog","GetDialog","HbDialog","LevelDialog","LevelupDialog","LuckyDialog","PauseDialog","ShopDialog","ShopItemTemplate","WinDialog","ConnectManager","Message","MessageBase","MessageDispatch","MessageHandler","MessageType","Socket","Device","FSM","InfiniteBackground","LocalLifeSystem","LocalTimeSystem","PoolManager","PsFx","PsFxPlayer","PsSpawner","easing","BoostsAction","ClickAudio","ClickAudioManager","DataCenter","FrameSwitch","InputSystem","JoyStick","Net","Signal","SpriteFrameCache","DCLabel","DCPandoraPoint","DCSprite","DCToggle","DCUI","LoadingManager","MessageBoxComponent","MessageBoxManager","PandoraPoint","ToastComponent","ToastManager","UIComponent","UIFunctions","View","ViewManager","LevelSelector","Common","EventManager","Intersection","banner","interstitialAd","nativeAd","qqAppBox","qqBlockAd","videoBanner","wxgridAd","wxnativeAd","audioMgr","changeGame","dialogBox","gameSceneManager","horn","item","loadTip","lucky","androidHelper","appGame","async","consts","emitter","httpUtils","underscore","util","platformFun","result","revive","room","roomGame","screenrecord","sign","updateTime","use_v2.0.x_cc.Toggle_event"]);