var g=function(){};g.iswxgame=function(){return cc.sys.platform==cc.sys.BAIDU_GAME};var _G=this;g.setGlobalInstance=function(t,n){console.log("g.setGlobalInstance",t),n?_G[n]=t:t.__classname__?_G[t.__classname__]=t:console.warn("g.setGlobalInstance:register failed")},g.getGlobal=function(t){return null==t||null==t?_G:_G[t]},g.randomInt=function(t,n){null==n&&(n=t,t=0);var e=Math.random()*(n-t);return Math.floor(e)+t},g.getRandomInArray=function(t){if(t)return t[g.randomInt(0,t.length)]},g.randomFloat=function(t,n){return Math.random()*(n-t)+t},g.foreachNode=function(t,n,e){if(null!=t&&null!=t)for(var r=0;r<t.childrenCount;r++){var o=t.children[r];n.call(e,o),o.childrenCount>0&&g.foreachNode(o,n,e)}},g.uuid=function(t,n){var e,r,o="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),a=[];if(n=n||o.length,t)for(e=0;e<t;e++)a[e]=o[0|Math.random()*n];else for(a[8]=a[13]=a[18]=a[23]="-",a[14]="4",e=0;e<36;e++)a[e]||(r=0|16*Math.random(),a[e]=o[19==e?3&r|8:r]);return a.join("")},g.fbToJson=function(){},g._dumpBuffer=function(t,n){for(var e="",r=0;r<n;r++)e+="    ";for(var o in e+="-",t)if("bb"!=o&&"bb_pos"!=o&&"__init"!=o){var a=t[o].call(t);if("[object Object]"==a){console.log(cc.js.formatStr(e+"[%s] : ",o));var i=t[o+"Length"],c=t[o];if(i){var l=i.call(t);for(r=0;r<l;r++){var s=c.call(t,r);console.log(e+" "+r+":"),this._dumpBuffer(s,n+1)}}else this._dumpBuffer(a,n+1)}else null!=a&&console.log(e+cc.js.formatStr("[%s] : %s ",o,a))}},g.logColor=function(t,n){n=n||"#0092c3",console.log("%c | "+t+" |","background-color: "+n+"; background-image: -webkit-linear-gradient(top, "+n+", #eee); background-image: linear-gradient(to bottom, "+n+", #eee); padding: 5px 10px; color: #333")},g.dumpBuffer=function(t){g.logColor("======= dump buffer============================================"),g._dumpBuffer(t,0),g.logColor("================================================================")},g.increaseFomula=function(t,n,e,r){return t+e/(e+r)*(n-t)},g.decreaseFomula=function(t,n,e,r){return t-e/(e+r)*(t-n)},g.isNextDay=function(t){return g.isGreaterDate(new Date,new Date(t))},g.isGreaterDate=function(t,n){var e=t.getTime()-n.getTime();return e>864e5||e>0&&t.getDate()!=n.getDate()},g.map=function(){},g.allPossibles=function(t,n){for(var e=[],r=4-Math.round(t/2),o=4-Math.round(n/2),a=r;a<=r+t-1;a++)for(var i=o;i<=o+n-1;i++)e.push([a,i]);return e},g.execScript=function(t){var n=t.split(".");if(n.length>=2){var e=n[0],r=n[1].replace(/\(.*\)/,""),o=_G[e];if(o){var a=o[r];a&&a.call(o)}}},g.fadeAndDestroy=function(t,n){n=n||.3;var e=cc.sequence(cc.fadeOut(n),cc.callFunc(t.destroy,t));t.runAction(e)},g.extendArray=function(t,n){n.forEach(function(n){t.push(n)},t)},g.getRandomUniqueArray=function(t,n){var e=new Array,r=t;if(Array.isArray(t)){r=t.length;for(var o=0;o<r;o++)e.push(t[o])}else for(o=0;o<r;o++)e.push(o);var a=new Array;for(o=0;o<n&&e.length>0;o++){var i=Math.floor(Math.random()*e.length);a[o]=e[i],e.splice(i,1)}return a},g.prefixInteger=function(t,n){return("0000000000000000"+t).substr(-n)},Function.prototype.getName=function(){return this.name||this.toString().match(/function\s*([^(]*)\(/)[1]},Date.prototype.format=function(t){var n={"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(var e in/(y+)/.test(t)&&(t=t.replace(RegExp.$1,(this.getFullYear()+"").substr(4-RegExp.$1.length))),n)new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,1==RegExp.$1.length?n[e]:("00"+n[e]).substr((""+n[e]).length)));return t},Array.prototype.shuffle=function(t){for((void 0===t||0>=t||t>this.length)&&(t=this.length),t-=1;0<=t;t--){var n=0|16777215*Math.random()%(t+1);c=this[t],this[t]=this[n],this[n]=c}},cc.Node.prototype.getComponentInParent=function(t){var n=this.getComponent(t);return n instanceof t?n:(parent=this.getParent(),null==parent?null:parent.getComponentInParent(t))},cc.Component.prototype.getComponentInParent=function(t){var n=this.getComponent(t);return n instanceof t?n:(parent=this.node.getParent(),null==parent?null:parent.getComponentInParent(t))},cc.Camera.prototype.canSee=function(t){var n=cc.v2(t.x-t.width*t.anchorX,t.y-t.anchorY*t.height),e=this.getWorldToCameraPoint(n,cc.Vec2.ZERO),r=cc.rect(e.x,e.y,t.width,t.height);return r.origin=t.getParent().convertToWorldSpaceAR(r.origin),!(r.yMin>cc.visibleRect.height||r.yMax<0||r.xMax<0||r.x>cc.visibleRect.width)},cc.ScrollView.prototype.showlist=function(t,n,e){e||(e=this.content.children[0]),this.content.removeAllChildren();for(var r=0;r<n.length;r++){var o=n[r],a=cc.instantiate(e);this.content.addChild(a),t&&t(a,o,r)}},cc.Layout.prototype.showlist=function(t,n,e){e||(e=this.node.children[0]),this.node.removeAllChildren();for(var r=0;r<n.length;r++){var o=n[r],a=cc.instantiate(e);this.node.addChild(a),t&&t(a,o,r)}},cc.warnID=function(){},this&&(this.g=g);