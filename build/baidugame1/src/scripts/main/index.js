window.__require=function e(t,n,o){function i(s,r){if(!n[s]){if(!t[s]){var c=s.split("/");if(c=c[c.length-1],!t[c]){var l="function"==typeof __require&&__require;if(!r&&l)return l(c,!0);if(a)return a(c,!0);throw new Error("Cannot find module '"+s+"'")}s=c}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){return i(t[s][1][e]||e)},u,u.exports,e,t,n,o)}return n[s].exports}for(var a="function"==typeof __require&&__require,s=0;s<o.length;s++)i(o[s]);return i}({AddToMyFav:[function(e,t,n){"use strict";cc._RF.push(t,"b7431S0vqlPiqNKDpwvWLTc","AddToMyFav"),Object.defineProperty(n,"__esModule",{value:!0});var o,i=e("../Platform"),a=cc._decorator,s=a.ccclass,r=a.property;(function(e){e[e.left=0]="left",e[e.bottom=1]="bottom",e[e.auto=2]="auto"})(o||(o={}));var c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pointer=null,t.posType=o.auto,t.hideAfterSec=30,t.widget=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.widget=this.getComponent(cc.Widget)},t.prototype.start=function(){if(cc.sys.platform==cc.sys.WECHAT_GAME){var e=i.default.getLaunchOptions();if(console.log("\u573a\u666f\u503c :",e),1001==e.scene||1089==e.scene)return void(this.node.active=!1)}this.posType==o.auto?cc.winSize.height/cc.winSize.width>1.98?this.showStyle2():this.showStyle1():this.posType==o.bottom?this.showStyle1():this.posType==o.left&&this.showStyle2(),this.scheduleOnce(this.click_hide,this.hideAfterSec)},t.prototype.click_hide=function(){this.node.active=!1},t.prototype.showStyle1=function(){this.pointer.rotation=0,this.widget.top=128,this.widget.right=140,this.widget.updateAlignment()},t.prototype.showStyle2=function(){this.pointer.rotation=90,this.widget.top=40,this.widget.right=300,this.widget.updateAlignment()},__decorate([r(cc.Node)],t.prototype,"pointer",void 0),__decorate([r({type:cc.Enum(o)})],t.prototype,"posType",void 0),__decorate([r()],t.prototype,"hideAfterSec",void 0),__decorate([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{"../Platform":"Platform"}],Animal:[function(e,t,n){"use strict";cc._RF.push(t,"ba634us93lPYrBZpOaL4ofo","Animal"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.sprite=null,t.animation=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.animation=this.getComponentInChildren(cc.Animation),this.animation.on("finished",this.onFinish,this)},t.prototype.onFinish=function(e,t){"animal_jump"==t.clip.name&&this.animation.play("animal_idle")},t.prototype.start=function(){this.animation.play("animal_idle")},t.prototype.connected=function(){this.animation.play("animal_jump").wrapMode=cc.WrapMode.Normal},t.prototype._loopJump=function(){this.animation.play("animal_jump").wrapMode=cc.WrapMode.Loop},t.prototype.loopJump=function(e){this.scheduleOnce(this._loopJump,this.randomFloat(0,e))},t.prototype.randomFloat=function(e,t){return Math.random()*(t-e)+e},__decorate([a(cc.Sprite)],t.prototype,"sprite",void 0),__decorate([i],t)}(cc.Component);n.default=s,cc._RF.pop()},{}],BKTool:[function(e,t,n){"use strict";cc._RF.push(t,"313f56eFUNNW6GE0RObNSkH","BKTool"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.PUIN="2896237320",e.headUrl="",e.nickName="",e.videoAd=void 0,e.bannerAd=void 0,e.videoAdLoadCount=0,e.viewAdLoadCount=0,e.bannerAdLoadCount=0,e}(),i=function(){function e(){}return e.skipGame=function(e){BK.QQ.skipGame(e,"IJPay")},e.versionCompare=function(e,t){return(e=parseInt(e.replace(/\./g,"").substring(0,3)))>=parseInt(t.replace(/\./g,"").substring(0,3))},e.shareToArk=function(){BK.Share.share({qqImgUrl:"http://hudong.qq.com/docs/engine/img/848B76B5530AA7EE7B38E9A1267D7086.png",isToFriend:!0,summary:"\u5355\u6e20\u9053\u5206\u4eab-By Javen",extendInfo:"IJPay",success:function(e){console.log("\u5206\u4eab\u6210\u529f",e.code,JSON.stringify(e.data))},fail:function(e){console.log("\u5206\u4eab\u5931\u8d25",e.code,JSON.stringify(e.msg))},complete:function(){console.log("\u5206\u4eab\u5b8c\u6210\uff0c\b\u4e0d\u8bba\u6210\u529f\u5931\u8d25")}})},e.share=function(e){BK.Share.share({qqImgUrl:"http://hudong.qq.com/docs/engine/img/848B76B5530AA7EE7B38E9A1267D7086.png",socialPicPath:"GameRes://qrcode.png",title:"\u6d4b\u8bd5\u8f7b\u6e38\u620f",summary:"\u591a\u6e20\u9053\u5206\u4eab-By Javen",extendInfo:"IJPay",success:function(t){console.log("\u5206\u4eab\u6210\u529f",t.code,JSON.stringify(t.data)),0==t.data.ret?e&&e("success",t.data):e&&e("fail",t.data)},fail:function(t){console.log("\u5206\u4eab\u5931\u8d25",t.code,JSON.stringify(t.msg)),e&&e("fail")},complete:function(){console.log("\u5206\u4eab\u5b8c\u6210\uff0c\b\u4e0d\u8bba\u6210\u529f\u5931\u8d25")}})},e.shareLink=function(){BK.Share.share({qqImgUrl:"http://hudong.qq.com/docs/engine/img/848B76B5530AA7EE7B38E9A1267D7086.png",msgUrl:"https://gitee.com/javen205/Brickengine_Guide?",title:"\u6d4b\u8bd5\u8f7b\u6e38\u620f",summary:"H5\u94fe\u63a5\u5206\u4eab-By Javen"})},e.screenShotShare=function(){var e=BK.Director.screenPixelSize,t=e.width,n=e.height;BK.Share.share({range:{x:t/2,y:n/2,width:t,height:n},qqImgUrl:"",title:"\u6d4b\u8bd5\u8f7b\u6e38\u620f",summary:"\u622a\u56fe\u5206\u4eab-By Javen",extendInfo:"IJPay",success:function(e){console.log("\u5206\u4eab\u6210\u529f",e.code,JSON.stringify(e.data))},fail:function(e){console.log("\u5206\u4eab\u5931\u8d25",e.code,JSON.stringify(e.msg))},complete:function(){console.log("\u5206\u4eab\u5b8c\u6210,\u4e0d\u8bba\u6210\u529f\u5931\u8d25")}})},e.follow=function(){console.log("Global.PUIN>"+o.PUIN),BK.QQ.enterPubAccountCard(o.PUIN)},e.getNick=function(){return o.nickName},e.createShortCut=function(){BK.QQ.createShortCut("")},e.getHead=function(){return o.headUrl},e.prototype.openUrl=function(e){BK.MQQ.Webview.open(e)},e.prototype.saveGameData=function(e){return new Promise(function(t){BK.QQ.saveGameData(e,function(e,n,o){BK.Console.log(1,1,"saveGameData : "+e+", "+n+", "+o),t({errCode:e,cmd:n,data:o})})})},e.prototype.loadGameData=function(){return new Promise(function(e){BK.QQ.loadGameData(function(t,n,o){BK.Console.log(1,1,"loadGameData : "+t+", "+n+", "+o),e({errCode:t,cmd:n,data:o})})})},e.prototype.sendB2CRedPacket=function(e){return new Promise(function(t){BK.QQ.sendB2CRedPacket(e,function(e,n,o){BK.Script.log(1,1,"sendB2CRedPacket : "+e+", "+n+", "+JSON.stringify(o)),t({errCode:e,cmd:n,data:o})})})},e.login=function(){BK.MQQ.Account.getHead(GameStatusInfo.openId,function(e,t){o.headUrl=t}),BK.MQQ.Account.getNick(GameStatusInfo.openId,function(e,t){o.nickName=t})},e.test=function(){var e=GameStatusInfo.openId;console.log("openId:",e);var t=BK.getSystemInfoSync();BK.Console.log("\u6e38\u620f\u7248\u672c\u53f7:"+t.gameVersion),BK.Console.log("\u662f\u5426\u623f\u4e3b:"+t.isMaster),BK.Console.log("\u623f\u95f4\u53f7:"+t.roomId),BK.Console.log("\u7cfb\u7edf\u7248\u672c:"+t.osVersion),BK.Console.log("\u7f51\u7edc\u7c7b\u578b:"+t.networkType),BK.Console.log("\u5e73\u53f0:"+t.platform),BK.Console.log("\u5f53\u524d\u7528\u6237\u7684\u6807\u8bc6:"+t.openId),BK.Console.log("\u624b\u673aqq\u7248\u672c:"+t.QQVer),BK.Console.log("\u662f\u5426\u9996\u6b21\u5b89\u88c5:"+t.isFirstInstall),BK.Console.log("\u5f53\u524d\u804a\u5929\u7a97\u7c7b\u578b:"+t.aioType),BK.Console.log("\u6e38\u620f\u542f\u52a8\u5165\u53e3:"+t.src),BK.Console.log("\u662f\u5426\u4e3a\u7ba1\u7406\u8d26\u53f7:"+t.isWhiteUser),BK.Console.log("\u6e38\u620f\u7c7b\u578b:"+t.gameType),BK.Console.log("\u5177\u4f53\u673a\u578b:"+t.model),BK.Console.log("\u6027\u522b:"+t.sex)},e.uploadScore=function(e,t){var n={userData:[{openId:GameStatusInfo.openId,startMs:((new Date).getTime()-3e5).toString(),endMs:(new Date).getTime().toString(),scoreInfo:{score:e}}],attr:{score:{type:"rank",order:1}}};BK.QQ.uploadScoreWithoutRoom(1,n,function(e,n,o){console.log("-------------uploadScoreWithoutRoom callback  cmd"+n+" errCode:"+e+"  data:"+JSON.stringify(o)),t&&t(e,o)})},e.getRankList=function(e){BK.QQ.getRankListWithoutRoom("score",1,0,function(t,n,o){if(console.log("--------------------getRankListWithoutRoom callback  cmd"+n+" errCode:"+t),0==t){if(o){var i=o.data.ranking_list;console.log("=====data not null "+i.length),console.log(JSON.stringify(o)),e&&e(t,i)}}else e&&e(t)})},e.loadVideoAd=function(t){console.log("============BKTOOl.loadVideoAD",o.videoAd);var n=BK.Advertisement.createVideoAd();n.onError(function(n){console.log(">>>>>>>>>BKTools onError code:"+n.code+" msg:"+n.msg),o.viewAdLoadCount+=1,o.viewAdLoadCount<4&&e.loadVideoAd(t),t&&t("error")}),n.onPlayFinish(function(){console.log("BKTools onPlayFinish..."),o.videoAd=void 0,t&&t("finish")}),n.onClose(function(){console.log("BKTools onClose..."),t&&t("close"),o.videoAd=void 0}),n.onLoad(function(){console.log("BKTools onLoad"),o.videoAd=n,o.videoAdLoadCount=0,t&&t("load",n)})},e.loadBannerAd=function(t,n){if(!n){var i=BK.getSystemInfoSync().QQVer;console.log("\u5f53\u524d\u624bQ\u7248\u672c:"+i);var a=e.versionCompare(i,"7.8.5");console.log("\u5f53\u524d\u7248\u672c\u5927\u4e8e7.8.5:"+a),n=a?1003:1002}console.log("loadBannerAd viewId:"+n);var s=BK.Advertisement.createBannerAd({viewId:n});s.onError(function(i){console.log("BKTools onError code:"+i.code+" msg:"+i.msg),o.bannerAdLoadCount+=1,o.bannerAdLoadCount<4&&e.loadBannerAd(t,n),t&&t("error")}),s.onLoad(function(){console.log("BKTools onLoad"),o.bannerAd=s,o.viewAdLoadCount=0,t&&t("load",s)})},e.showBannerAd=function(){console.log("BKTools \u663e\u793abanner\u5e7f\u544a"),o.bannerAd?o.bannerAd.show():(console.log("BKTools \u4e0d\u5b58\u5728banner\u8d44\u6e90...."),e.loadBannerAd(function(t){"load"==t&&e.showBannerAd()}))},e.hideBannerAd=function(){o.bannerAd?(o.bannerAd.hide(),o.bannerAd=void 0):console.log("BKTools \u4e0d\u5b58\u5728banner\u8d44\u6e90\u65e0\u6cd5\u5173\u95ed....")},e.showToast=function(e,t){t||(t=3e3),cc.sys.platform==cc.sys.QQ_PLAY&&BK.UI.showToast({title:e,duration:t,complete:function(){console.log("BKTools showToast complete:"+e)}})},e.keepScreenOn=function(){BK.Device.keepScreenOn({isKeepOn:!0})},e.cancelKeepScreenOn=function(){BK.Device.keepScreenOn({isKeepOn:!1})},e}();n.default=i,cc._RF.pop()},{}],BoostsAction:[function(e,t,n){"use strict";cc._RF.push(t,"47da3PXgqdE55aSvY0ox9B4","BoostsAction"),Object.defineProperty(n,"__esModule",{value:!0}),n.Shake=n.V2ChangeAction=n.ValueChangeAction=void 0;var o=function(e){function t(t,n,o,i,a){var s=e.call(this)||this;return s.delta=s.sub(o,n),s.setDuration(t),s.callback=i,s.start=n,s.end=o,s.callbackTarget=a,s}return __extends(t,e),t.prototype.sub=function(e,t){return e-t},t.prototype.add=function(e,t){return e+t},t.prototype.mul=function(e,t){return e*t},t.prototype.update=function(e){e=this._computeEaseTime(e);var t=this.add(this.start,this.mul(this.delta,e));this.callback.call(this.callbackTarget,t)},t}(cc.ActionInterval);n.ValueChangeAction=o;var i=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.sub=function(e,t){return e.sub(e,t)},t.prototype.add=function(e,t){return e.add(e,t)},t.prototype.mul=function(e,t){return e.mul(e,t)},t}(o);n.V2ChangeAction=i;var a=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._initial_x=0,t._initial_y=0,t._strength_x=0,t._strength_y=0,t}return __extends(t,e),t.create=function(e,n,o){var i=new t;return i.initWithDuration(e,n,o),i},t.prototype.initWithDuration=function(e,t,n){return cc.ActionInterval.prototype.initWithDuration.apply(this,arguments),this._strength_x=t,this._strength_y=n,!0},t.prototype.fgRangeRand=function(e,t){return Math.random()*(t-e)+e},t.prototype.update=function(){var e=this.fgRangeRand(-this._strength_x,this._strength_x),t=this.fgRangeRand(-this._strength_y,this._strength_y);this.getTarget().setPosition(e+this._initial_x,t+this._initial_y)},t.prototype.startWithTarget=function(e){cc.ActionInterval.prototype.startWithTarget.apply(this,arguments),this._initial_x=e.x,this._initial_y=e.y},t.prototype.stop=function(){this.getTarget().setPosition(new cc.Vec2(this._initial_x,this._initial_y)),cc.ActionInterval.prototype.stop.apply(this)},t}(cc.ActionInterval);n.Shake=a,cc._RF.pop()},{}],1:[function(e,t){var n,o,i=t.exports={};function a(){throw new Error("setTimeout has not been defined")}function s(){throw new Error("clearTimeout has not been defined")}function r(e){if(n===setTimeout)return setTimeout(e,0);if((n===a||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function c(e){if(o===clearTimeout)return clearTimeout(e);if((o===s||!o)&&clearTimeout)return o=clearTimeout,clearTimeout(e);try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}(function(){try{n="function"==typeof setTimeout?setTimeout:a}catch(e){n=a}try{o="function"==typeof clearTimeout?clearTimeout:s}catch(e){o=s}})();var l,u=[],d=!1,p=-1;function h(){d&&l&&(d=!1,l.length?u=l.concat(u):p=-1,u.length&&f())}function f(){if(!d){var e=r(h);d=!0;for(var t=u.length;t;){for(l=u,u=[];++p<t;)l&&l[p].run();p=-1,t=u.length}l=null,d=!1,c(e)}}function g(e,t){this.fun=e,this.array=t}function m(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];u.push(new g(e,t)),1!==u.length||d||r(f)},g.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=m,i.addListener=m,i.once=m,i.off=m,i.removeListener=m,i.removeAllListeners=m,i.emit=m,i.prependListener=m,i.prependOnceListener=m,i.listeners=function(){return[]},i.binding=function(){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},{}],ClickAudioManager:[function(e,t,n){"use strict";cc._RF.push(t,"679c3x/ZwhD8KnIy6p5lX5y","ClickAudioManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./ClickAudio"),i=cc._decorator,a=i.ccclass,s=i.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.audio=null,t.elastic=!1,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.each=function(e){if(e.getComponent(cc.Button)){var t=e.getComponent(o.default);null==t&&((t=e.addComponent(o.default)).elastic=this.elastic,t.audio=this.audio)}},t.prototype.start=function(){},__decorate([s({type:cc.AudioClip})],t.prototype,"audio",void 0),__decorate([s],t.prototype,"elastic",void 0),__decorate([a],t)}(cc.Component);n.default=r,cc._RF.pop()},{"./ClickAudio":"ClickAudio"}],ClickAudio:[function(e,t,n){"use strict";cc._RF.push(t,"5ee8a8X6jFF5qtYOWlGoNww","ClickAudio"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../gamesys/Device"),i=cc._decorator,a=i.ccclass,s=i.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.audio=null,t.elastic=!1,t._oldScale=1,t}return __extends(t,e),t.prototype.anim2=function(){var e=cc.scaleBy(.6,.9,.9).easing(cc.easeElasticOut(.3));this.node.runAction(e)},t.prototype.anim2back=function(){var e=cc.scaleTo(.6,this._oldScale,this._oldScale).easing(cc.easeElasticOut(.3));this.node.runAction(e)},t.prototype.onLoad=function(){var e=this;if(this.elastic){var t=this.getComponent(cc.Button);t.transition=cc.Button.Transition.COLOR,t.normalColor=cc.Color.WHITE,t.pressedColor=new cc.Color(200,200,200),this._oldScale=this.node.scale}this.node.on("touchstart",function(){e.elastic&&e.anim2()},this.node),this.node.on("touchend",function(){o.default.playEffect(e.audio,!1),e.elastic&&e.anim2back()}),this.node.on("touchcancel",function(){e.elastic&&e.anim2back()})},__decorate([s({type:cc.AudioClip})],t.prototype,"audio",void 0),__decorate([s],t.prototype,"elastic",void 0),__decorate([a],t)}(cc.Component);n.default=r,cc._RF.pop()},{"../gamesys/Device":"Device"}],Common:[function(e,t,n){"use strict";cc._RF.push(t,"d6d4aCOiTtJz6R1xuSQrtdC","Common"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../misc/SpriteFrameCache"),i=function(){function e(){}return e.loadJson=function(e){return new Promise(function(t){cc.loader.loadRes(e,cc.JsonAsset,function(e,n){t(n.json)})})},e.sleep=function(e){return new Promise(function(t){setTimeout(function(){t()},1e3*e)})},e.isGreaterDays=function(e,t){if(void 0===t&&(t=7),(new Date).getTime()-e>864e5*t)return!0},e.setDisplay=function(e,t){o.default.instance.getSpriteFrame(t).then(function(t){e.spriteFrame=t})},e.generate_action=function(e){return cc.scaleTo(e.time,e.scale_x,e.scale_y)},e.jellyJump=function(e){var t=this.generate_action({time:.06,scale_x:.7,scale_y:.7,scale_z:1}),n=this.generate_action({time:.07,scale_x:1,scale_y:1.4,scale_z:1}),o=cc.scaleTo(.8,1.3).easing(cc.easeElasticOut(.3)),i=cc.sequence(t,n,o);e.runAction(i)},e.jellyJump2=function(e,t,n){e.scale=t;var o=cc.scaleTo(.8,n,n).easing(cc.easeElasticOut(.3));e.runAction(o)},e.moveBezier=function(e,t,n,o,i,a){void 0===o&&(o=null),void 0===i&&(i=1),void 0===a&&(a=0);var s=cc.instantiate(e);s.opacity=255,s.setPosition(t);var r=[],c=t.x,l=t.y,u=n.x,d=n.y;return r[0]=cc.v2(c,l),r[1]=cc.v2(c+.5*Math.abs(u-c+100),l+.5*Math.abs(d-l+100)),r[2]=cc.v2(u,d),s.runAction(cc.sequence(cc.delayTime(a),cc.bezierTo(i,r),cc.fadeOut(.3),cc.callFunc(o))),s},e}();n.default=i,cc._RF.pop()},{"../misc/SpriteFrameCache":"SpriteFrameCache"}],ConnectManager:[function(e,t,n){"use strict";cc._RF.push(t,"ac5faec2blDKJorwXTfZFZx","ConnectManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.connManager=void 0;var o=e("./Socket"),i=function(){function e(){this._allConns=null,this._allConns={}}return e.getInstance=function(){return null==this._instance&&(this._instance=new e),this._instance},e.prototype.create=function(e,t){if(null==this._allConns[e]){var n=new o.Socket(t);this._allConns[e]=n,null==this._defaultKey&&(this._defaultKey=e)}},e.prototype.setDefaultKey=function(e){null!=e&&this._allConns[e]&&(this._defaultKey=e)},e.prototype.getDefault=function(){return this.getConn(this._defaultKey)},e.prototype.getConn=function(e){return null==e?null:null!=this._allConns[e]?this._allConns[e]:null},e.prototype.sendMessage=function(e,t){null==t&&(t=this._defaultKey);var n=this.getConn(t);null!=n&&n.sendMessage(e)},e.prototype.enableHeartbeat=function(e){this.getConn(e).enableHeartbeat(!0)},e.prototype.sendCustomMessage=function(e){var t=this.getConn(this._defaultKey);null!=t&&t.sendCustomMessage(e)},e.prototype.remove=function(e){var t=this.getConn(e);null!=t&&(delete this._allConns[e],t.close())},e._instance=null,e}();n.connManager=i.getInstance(),cc._RF.pop()},{"./Socket":"Socket"}],Consts:[function(e,t,n){"use strict";cc._RF.push(t,"ccf28Nj1JdBbY/NtYiwJtcW","Consts"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.CenterY=0,e.CenterX=0,e.ColSize=84,e.RowSize=61,e.StagePageCount=3,e.FreeSkinId=5,e}();n.default=o,cc._RF.pop()},{}],DCBackground:[function(e,t,n){"use strict";cc._RF.push(t,"4d867LSTWNEB7LUL3KAjVve","DCBackground"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../framework/plugin_boosts/ui/DCUI"),i=e("../../../framework/plugin_boosts/misc/SpriteFrameCache"),a=e("../Info"),s=cc._decorator,r=s.ccclass,c=(s.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){this.sprite=this.getComponent(cc.Sprite)},t.prototype.start=function(){},t.prototype.onValueChanged=function(e){var t=this,n=a.UserInfo.getSkinById(e);console.log(n),i.default.instance.getSpriteFrame("Game/Textures/Bgs/"+n.img+".png").then(function(e){return t.sprite.spriteFrame=e})},__decorate([r],t)}(o.default));n.default=c,cc._RF.pop()},{"../../../framework/plugin_boosts/misc/SpriteFrameCache":"SpriteFrameCache","../../../framework/plugin_boosts/ui/DCUI":"DCUI","../Info":"Info"}],DCLabel:[function(e,t,n){"use strict";cc._RF.push(t,"a56c0Fh1bpDto6UwDov+u7M","DCLabel"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./DCUI"),i=cc._decorator,a=i.ccclass,s=(i.property,i.requireComponent),r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){this.label=this.getComponent(cc.Label)},t.prototype.onValueChanged=function(e){e||(console.log("[DCLabel] warn!","not found field "+this.dataBind),e="0"),this.label.string=e},__decorate([a,s(cc.Label)],t)}(o.default);n.default=r,cc._RF.pop()},{"./DCUI":"DCUI"}],DCPandoraPoint:[function(e,t,n){"use strict";cc._RF.push(t,"7213alSGlhOObvGLLyQvhtZ","DCPandoraPoint"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./DCUI"),i=e("./PandoraPoint"),a=cc._decorator,s=a.ccclass,r=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){this.point=this.getComponent(i.default)},t.prototype.onValueChanged=function(e){this.point.setNumber(e)},__decorate([s],t)}(o.default));n.default=r,cc._RF.pop()},{"./DCUI":"DCUI","./PandoraPoint":"PandoraPoint"}],DCParticleSystem:[function(e,t,n){"use strict";cc._RF.push(t,"f51daFLsqdJ/4k4IuDQeRuR","DCParticleSystem"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../framework/plugin_boosts/ui/DCUI"),i=e("../Info"),a=cc._decorator,s=a.ccclass,r=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.onValueChanged=function(e){var t=this,n=i.UserInfo.getSkinById(e);this.ps&&this.ps.node&&this.ps.node.destroy(),cc.loader.loadRes("Game/Particles/"+n.ps,cc.ParticleAsset,function(e,o){console.log(n.ps,o);var i=new cc.Node;t.ps=i.addComponent(cc.ParticleSystem),t.ps.file=o,t.node.addChild(i)})},__decorate([s],t)}(o.default));n.default=r,cc._RF.pop()},{"../../../framework/plugin_boosts/ui/DCUI":"DCUI","../Info":"Info"}],DCSprite:[function(e,t,n){"use strict";cc._RF.push(t,"82b09vMdyFCOb0NEdBTtZHy","DCSprite"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./DCUI"),i=e("../misc/SpriteFrameCache"),a=cc._decorator,s=a.ccclass,r=(a.property,a.requireComponent),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){this.sprite=this.getComponent(cc.Sprite)},t.prototype.refreshSpriteFrame=function(e){var t=this;i.default.instance.getSpriteFrame(e).then(function(e){t.sprite.spriteFrame=e}).catch(function(){console.log("request imageUrl error :"+e)})},t.prototype.onValueChanged=function(e){this.refreshSpriteFrame(e)},__decorate([s,r(cc.Sprite)],t)}(o.default);n.default=c,cc._RF.pop()},{"../misc/SpriteFrameCache":"SpriteFrameCache","./DCUI":"DCUI"}],DCToggle:[function(e,t,n){"use strict";cc._RF.push(t,"f9e52WLze5MBrhxXx/fWqyL","DCToggle"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./DCUI"),i=cc._decorator,a=i.ccclass,s=i.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.revserse=!1,t.autosync=!0,t}return __extends(t,e),t.prototype.onLoad=function(){if(this.toggle=this.getComponent(cc.Toggle),this.autosync){var e=new cc.Component.EventHandler;e.component="DCToggle",e.target=this.node,e.handler="onChecked",this.toggle.checkEvents.push(e)}},t.prototype.onChecked=function(e){this.isFromSelf||(this.revserse?this.setDCValue(!e.isChecked):this.setDCValue(e.isChecked))},t.prototype.setChecked=function(e){this.isFromSelf=!0,e?this.toggle.check():this.toggle.uncheck(),this.isFromSelf=!1},t.prototype.onValueChanged=function(e){this.revserse?this.setChecked(!e):this.setChecked(e)},__decorate([s({tooltip:"If reverse is enabled ,checked is false !, unchecked is true"})],t.prototype,"revserse",void 0),__decorate([s({tooltip:" Make sure data bind type should be boolean"})],t.prototype,"autosync",void 0),__decorate([a],t)}(o.default);n.default=r,cc._RF.pop()},{"./DCUI":"DCUI"}],DCUI:[function(e,t,n){"use strict";cc._RF.push(t,"e4171eQC3dMO4x8/Td1XV1Y","DCUI"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../misc/DataCenter"),i=cc._decorator,a=i.ccclass,s=i.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.dataBind="",t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.setDCKey=function(e){this.dataBind=e,this.setListener()},t.prototype.setListener=function(){o.default.off(this.dataBind,this.dataChanged,this),o.default.on(this.dataBind,this.dataChanged,this)},t.prototype.onValueChanged=function(){},t.prototype.setDCValue=function(e){o.default.set(this.dataBind,e)},t.prototype.dataChanged=function(e){this.onValueChanged(e)},t.prototype.onEnable=function(){this.setListener(),this.onValueChanged(o.default.get(this.dataBind))},t.prototype.onDisable=function(){o.default.off(this.dataBind,this.dataChanged,this)},__decorate([s()],t.prototype,"dataBind",void 0),__decorate([a],t)}(cc.Component);n.default=r,cc._RF.pop()},{"../misc/DataCenter":"DataCenter"}],DailyGetDialog:[function(e,t,n){"use strict";cc._RF.push(t,"d3b8fModWBPmovqTucbpm5C","DailyGetDialog"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Info"),i=e("../../../framework/plugin_boosts/ui/View"),a=e("../../../framework/Platform"),s=cc._decorator,r=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.diamond=0,t.rewardLabel=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.onShown=function(){this.diamond=g.randomInt(20,50),this.rewardLabel.string=cc.js.formatStr("\u94bb\u77f3 x "+this.diamond)},t.prototype.click_get=function(){o.UserInfo.addDiamond(this.diamond),o.UserInfo.dailyGetTime=(new Date).getTime(),o.UserInfo.save(),this.getComponent(i.default).hide()},t.prototype.share_succ=function(){o.UserInfo.addDiamond(2*this.diamond),o.UserInfo.dailyGetTime=(new Date).getTime(),o.UserInfo.save(),this.getComponent(i.default).hide()},t.prototype.click_get_double=function(){var e=o.UserInfo.getChoice(o.ChoiceType.DailyGet);0==e?this.share_succ():1==e?a.default.share(this.share_succ,this):a.default.watch_video(this.share_succ,this)},__decorate([c(cc.Label)],t.prototype,"rewardLabel",void 0),__decorate([r],t)}(cc.Component);n.default=l,cc._RF.pop()},{"../../../framework/Platform":"Platform","../../../framework/plugin_boosts/ui/View":"View","../Info":"Info"}],DataCenter:[function(e,t,n){"use strict";cc._RF.push(t,"2946dm7U5hPgIxciZRaL5Q+","DataCenter"),Object.defineProperty(n,"__esModule",{value:!0}),n.field=n.dc=void 0;var o=e("../utils/EventManager"),i={},a={};n.dc=function(e,t){return void 0===t&&(t=!0),function(n){n.prototype.constructor,a[n]={name:e,serializable:t}}},n.field=function(e){return function(t,n){e&&e.default&&(t[n]=e.default);var o=t.constructor,a=i[o];null==a&&(a=[],i[o]=a),a.push(n)}};var s=function(){function e(){this.__namespace="DataCenter",this.kvs={},this.kts={},this.kvs={},this.kts={}}return e.prototype.registerFields=function(e){console.log(this);var t=this.__proto__.constructor,n=i[t],o=a[t];for(var s in n){var r=n[s];"function"!=typeof r&&(this.register(r,this[r]),delete this[r])}e=e||o.name,this.endRegister(e,o.serializable)},e.prototype.register=function(e,t){var n=this.constructor.prototype,o=this;n.__defineGetter__(e,function(){return o.getData(e)}),n.__defineSetter__(e,function(t){o.setData(e,t)}),this.kvs[e]=t;var i=typeof t;this.kts[e]=i,console.log("[DataCenter] register :"+e+":"+t+"("+i+")")},e.prototype.setData=function(e,t){var n=this.kvs[e];if(n!=t){var i=this.kts[e],a=this._field_(e);i!=typeof t&&(console.warn("[DataCenter] wrong type <"+typeof t+"> for :"+a+"<"+i+"> ,converting..."),"number"==i?t=Number(t):"boolean"==i&&(t="true"==t)),this.kvs[e]=t,console.log("[DataCenter] onValueChanged",a,t),o.event.emit(a,t,n)}},e.prototype._field_=function(e){return this.__namespace+"."+e},e.prototype.getData=function(e){return this.kvs[e]},e.prototype.limit=function(e,t,n){return e>n?n:e<t?0:e},e.prototype.addData=function(e,t){if(null!=(t=Number(t))){var n=this.kvs[e],i=Number(n)+t;this.kvs[e]=i,o.event.emit(this._field_(e),i,n)}},e.prototype.load=function(){for(var e in this.kvs){var t=localStorage.getItem(this._field_(e)),n=t;if(t){var o=this.kts[e];"number"==o?n=Number(t):"boolean"==o&&(n="true"==t)}else n=this.getData(e);this.kvs[e]=n}},e.prototype.save=function(){for(var e in console.log("[DataCenter] save :=================================="),this.kvs){var t=this.kvs[e],n=this._field_(e);localStorage.setItem(n,t.toString()),console.log(cc.js.formatStr("%s:%s",n,t))}console.log("[DataCenter] save succ :==================================")},e.prototype.endRegister=function(t,n){void 0===n&&(n=!0),this.__namespace=t,e.alldata[t]=this,n&&(this.load(),this.save())},e.off=function(e,t,n){o.event.off(e,t,n)},e.on=function(e,t,n){o.event.on(e,t,n),this.set(e,this.get(e))},e.get=function(t){var n=t.split("."),o=n[0],i=n[1],a=e.alldata[o];return a?a[i]:null},e.set=function(t,n){var o=t.split("."),i=o[0],a=o[1],s=e.alldata[i];s&&(s[a]=n)},e.register=function(e){var t=new e;return t.registerFields(),t},e.alldata={},e}();n.default=s,cc._RF.pop()},{"../utils/EventManager":"EventManager"}],Device:[function(e,t,n){"use strict";cc._RF.push(t,"b88b4v3H5tF7ozLVLmzIPqR","Device"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../qqsdk/SoundHelper"),i=function(){function e(){}return e.setSoundsEnable=function(t){e.setSFXEnable(t),e.setBGMEnable(t)},e.setSFXEnable=function(t){cc.audioEngine.setEffectsVolume(1==t?1:0),e.isSfxEnabled=t,t?cc.audioEngine.resumeAllEffects():cc.audioEngine.pauseAllEffects()},e.useCCAudioEngine=function(){this._useCCAudioEngine=!0},e.useDefaultAudioEngine=function(){this._useCCAudioEngine=!1},e.setBGMEnable=function(t){cc.audioEngine.setMusicVolume(1==t?1:0),e.isBgmEnabled=t,t?cc.audioEngine.resumeMusic():cc.audioEngine.pauseMusic()},e.playEffect=function(t,n){if(void 0===n&&(n=!1),e.isSfxEnabled){if(cc.sys.platform!=cc.sys.QQ_PLAY)return cc.audioEngine.playEffect(t,n);if(this._useCCAudioEngine)return cc.audioEngine.playEffect(t,n);o.default.playSound(t)}},e.stopMusic=function(){cc.audioEngine.stopMusic()},e.playMusic=function(t,n){if(void 0===n&&(n=!0),e.isBgmEnabled)return cc.audioEngine.playMusic(t,n)},e.vibrate=function(){cc.sys.WECHAT_GAME==cc.sys.platform?wx.vibrateShort():console.log("not support vibrate on except-wx platfrom ")},e.isSfxEnabled=!0,e.isBgmEnabled=!0,e._useCCAudioEngine=!1,e}();n.default=i,cc._RF.pop()},{"../../qqsdk/SoundHelper":"SoundHelper"}],EventManager:[function(e,t,n){"use strict";cc._RF.push(t,"334c9avVx5ILbx/6NU/H45V","EventManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.event=void 0;var o=function(){function e(){this._eventList={}}return e.prototype.on=function(e,t,n){var o;null!=this._eventList[e]?(o=this._eventList[e]).push({listen:t,target:n}):((o=new Array).push({listen:t,target:n}),this._eventList[e]=o)},e.prototype.off=function(e,t,n){if(null==t||t instanceof Function||(n=t,t=null),null!=this._eventList[e])if(null==t&&null==n)delete this._eventList[e];else for(var o=this._eventList[e],i=o.length-1;i>=0;i--)null!=t&&null!=n?o[i].listen==t&&o[i].target==n&&o.splice(i,1):null!=t&&o[i].listen==t?o.splice(i,1):null!=n&&o[i].target==n&&o.splice(i,1)},e.prototype.emit=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var o=!1;if(null!=this._eventList[e]){var i=this._eventList[e];console.log("emit message: ",e,i.length);for(var a=0;a<i.length;a++){var s=i[a];null!=s.target?s.listen.apply(s.target,t)&&(o=!0):s.listen.apply(this,t)&&(o=!0)}}return o},e}();n.event=new o,cc._RF.pop()},{}],FSM:[function(e,t,n){"use strict";cc._RF.push(t,"83f52qrCghNrKS6jOC/j6I0","FSM"),Object.defineProperty(n,"__esModule",{value:!0}),n.State=void 0;var o=cc._decorator,i=(o.ccclass,o.property,function(){function e(e,t){this.__interval_callbacks=[],this.interval_id=0,this.id=e,this.name=t}return e.prototype.onEnter=function(){},e.prototype.onExit=function(){},e.prototype.onUpdate=function(){},e.prototype.on=function(){},e.prototype.off=function(){},e.prototype.clearIntervals=function(){this.__interval_callbacks.splice(0,this.__interval_callbacks.length)},e.prototype.setInterval=function(e,t,n){var o=++this.interval_id;return this.__interval_callbacks.push({id:o,callback:t,target:n,interval:e,timer:0}),o},e.prototype.clearInterval=function(e){this.__interval_callbacks.splice(this.__interval_callbacks.indexOf(e))},e.prototype.setTimeout=function(e,t,n){var o=++this.interval_id;return this.__interval_callbacks.push({id:o,callback:t,target:n,delay:e,timer:0}),o},e.prototype.clearTimeout=function(e){this.clearInterval(e)},e.prototype.invokeIntervals=function(e){for(var t=0;t<this.__interval_callbacks.length;t++){var n=this.__interval_callbacks[t];n.timer=n.timer+e,n.interval?n.timer>=n.interval&&(n.timer=0,n.callback.call(n.target)):n.delay&&n.timer>=n.delay&&(n.callback.call(n.target),this.__interval_callbacks.splice(t),t--)}},e}());n.State=i;var a=function(e){function t(t,n,o,i){var a=e.call(this,n,o)||this,s=cc.js.formatStr(i,"onEnter",a.name),r=cc.js.formatStr(i,"onUpdate",a.name),c=cc.js.formatStr(i,"onExit",a.name);return a.__target=t,a.__enterFunc=a.__target[s],a.__updateFunc=a.__target[r],a.__exitFunc=a.__target[c],a}return __extends(t,e),t.prototype.onEnter=function(e){this.clearIntervals(),this.__enterFunc&&this.__enterFunc.call(this.__target,this,e)},t.prototype.onExit=function(){this.__exitFunc&&this.__exitFunc.call(this.__target,this)},t.prototype.onUpdate=function(e){this.invokeIntervals(e),this.__updateFunc&&this.__updateFunc.call(this.__target,this,e)},t}(i),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.timeElapsed=0,t._states={},t._isPaused=!1,t.log=!1,t}return __extends(t,e),Object.defineProperty(t.prototype,"target",{get:function(){return this._target},enumerable:!1,configurable:!0}),t.prototype.init=function(e){this._target=e,this.timeElapsed=0},t.prototype.getState=function(e){return this._states[e]},t.prototype.getCurrentState=function(){return this.c},t.prototype.getPreviousState=function(){return this.p},t.prototype.addStates=function(e,t){void 0===t&&(t="%s_%sState");var n=Object.keys(e),o=n.length/2;this.namePattern=t;for(var i=0;i<o;i++){var a=n[i],s=e[a];this.addState(a,s)}},t.prototype.addState=function(e,t,n,o,i,s){this.log&&console.log("[FSM]"+this.target.__classname__+"("+this.target.name+") Add State :",e,t);var r=new a(this.target,e,t,this.namePattern);this._states[e]=r,n&&(r.__enterFunc=n),o&&(r.__exitFunc=o),i&&(r.__updateFunc=i),s&&(r.__target=s)},t.prototype.enterState=function(e,t){this.timeElapsed=0;var n=this._states[e];this.c=n,n.onEnter(t),this.log&&console.log("[FSM]"+this.target.__classname__+" First State:",n.name)},t.prototype.revertState=function(){this.changeState(this.p.id)},t.prototype.pause=function(){this._isPaused=!0},t.prototype.resume=function(){this._isPaused=!1},t.prototype.resetCurrentState=function(){this.timeElapsed=0,console.log(cc.js.formatStr("[FSM] %s reset currentState",this.target.__classname__)),this.c.onExit(),this.c.onEnter()},t.prototype.changeState=function(e,t){var n=this._states[e];null!=n?this._isPaused?console.warn("[FSM] fsm is paused ! "+this.target.__classname__+" changeState to <"+n.name+"> failed!"):e!=this.c.id&&(this.timeElapsed=0,this.c.onExit(),this.p=this.c,this.c=n,this.log&&console.log(cc.js.formatStr("[FSM] %s (%s): %s -> %s",this.target.__classname__,this.name,this.p.name,n.name)),this.c.onEnter(t)):console.warn("[FSM] invalid state for stateId "+e+" of : "+this.target.__classname__)},t.prototype.isInState=function(e){return this.c==this._states[e]},t.prototype.update=function(e){this._isPaused||(t.debug&&(e=.016),this.timeElapsed+=e,this.c&&this.c.onUpdate(e))},t.debug=!1,t}(cc.Component);n.default=s,cc._RF.pop()},{}],FrameSwitch:[function(e,t,n){"use strict";cc._RF.push(t,"92ea6+rkJ5BQ7Twyd4FI92I","FrameSwitch"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,s=(o.requireComponent,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.frames=[],t.target=null,t._index=0,t.randomOnLoad=!1,t}return __extends(t,e),t.prototype.onLoad=function(){null==this.target&&(this.target=this.getComponent(cc.Sprite)),this.randomOnLoad&&this.switchRandom()},t.prototype.switchRandom=function(){},Object.defineProperty(t.prototype,"index",{get:function(){return this._index},set:function(e){this.switch(e)},enumerable:!1,configurable:!0}),t.prototype.switch=function(e){var t=this.frames.length,n=Math.min(Math.max(0,e),t-1);this.target.spriteFrame=this.frames[n],this._index=n},t.prototype.start=function(){},__decorate([a([cc.SpriteFrame])],t.prototype,"frames",void 0),__decorate([a(cc.Sprite)],t.prototype,"target",void 0),__decorate([a],t.prototype,"randomOnLoad",void 0),__decorate([i],t)}(cc.Component));n.default=s,cc._RF.pop()},{}],GameConfigs:[function(e,t,n){"use strict";cc._RF.push(t,"0ff8cbMXJFLVaQF1Sqnm6gc","GameConfigs"),Object.defineProperty(n,"__esModule",{value:!0}),n.GameConfig=void 0,n.GameConfig={game_id:"animalines",wx_appid:"wxbcc31e8a2b24cb41",default_share_title:"\u6700\u840c\u52a8\u7269\u8fde\u8fde\u770b",deafult_share_imgUrl:"resources/wechat_share.jpg"},cc._RF.pop()},{}],Game:[function(e,t,n){"use strict";cc._RF.push(t,"4c9b5SEXlhDAqXGat0NcWmI","Game"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Res"),i=e("./HexonTile"),a=e("./GridManager"),s=e("../../../framework/plugin_boosts/misc/InputSystem"),r=e("../Info"),c=e("./Animal"),l=e("../../../framework/plugin_boosts/ui/ViewManager"),u=e("../../../framework/Platform"),d=e("../../../framework/plugin_boosts/ui/ToastManager"),p=cc._decorator,h=p.ccclass,f=p.property,g=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._isGameOver=!1,t._moveCount=0,t._playTime=0,t._colCount=6,t._rowCount=7,t._pickedTile=null,t.tileLayer=null,t.levelLabel=null,t.timeLabel=null,t.stepLabel=null,t.focusNode=null,t._figureList=[],t.perfectMoveCount=0,t}var n;return __extends(t,e),n=t,t.prototype.get_isGameOver=function(){return this._isGameOver},t.prototype.get_minCol=function(){return this._levelData.mincol},t.prototype.get_moveCount=function(){return this._moveCount},t.prototype.loadLevel=function(e){e=Math.min(e,o.R.levelJson.json.levels.length-1),this._levelData=o.R.levelJson.json.levels[e],this.levelLabel.string=e+"",1==e&&this.scheduleOnce(this.openGuide,.1)},t.prototype.openGuide=function(){l.default.instance.show("Game/OpenGuide")},t.prototype.onLoad=function(){var e=this;n.instance=this,this.loadLevel(r.UserInfo.currentLevel),this.hideFocus(),this._tileList=[],this._rowCount=this._levelData.size,this._colCount-=1;for(var t=0,c=this._rowCount;c>t;){var l,u=t++,d=[];l=u<=this._rowCount/2?this._levelData.mincol+u:this._levelData.mincol-1+this._rowCount-u;for(var p=0;l>p;){var h=p++,f=cc.instantiate(o.R.TilePrefab),g=f.getComponent(i.default);f.parent=this.tileLayer,f.zIndex=this._rowCount-u,g.set_row(u),g.set_col(h);var m=cc.instantiate(o.R.TileShadow),_=m.getComponent(i.default);_.set_row(u),_.set_col(h),m.y-=3,m.parent=this.tileLayer,m.zIndex=0,d.push(g)}this._tileList.push(d),appGame.gameServerRoom.emit(consts.CLIENT_GAME_START,{}),appGame.banner.playBanner(2)}this._gridManager=this.tileLayer.addComponent(a.default),this._gridManager.init(this._levelData.mincol),this.setFigure(),this.addComponent(s.InputSystem),r.UserInfo.timePassed=0,r.UserInfo.stepUsed=0,this.schedule(function(){r.UserInfo.timePassed+=1,e.timeLabel.string=r.UserInfo.timePassed+"s",e.stepLabel.string=r.UserInfo.stepUsed+"\u6b65"},1)},t.prototype.onTouchBegan=function(e){var t=this;if(!t._isGameOver){var n=e.currentTouch.getLocation();n=this.node.convertToNodeSpaceAR(n);var i=t.findTileByPos(n.x,n.y);if(null!=i&&0!=i.get_animal()){for(cc.audioEngine.playEffect(o.R.audio_down,!1),t._pickedTile=i,t.removeGridFromTile(t._pickedTile),t._pickedTile.connect(null),null!=t._pickedTile.targetTile&&(t.removeGridFromTile(t._pickedTile.targetTile),t._pickedTile.targetTile.connect(null),t._pickedTile.targetTile.set_isConnecting(!1)),t._pickedTile.set_isConnecting(!0),i=t._pickedTile.getHead();null!=i;)i.set_isConnecting(!0),i=i.connectedTile;this.showFocus(t._pickedTile.get_animal()),this.moveFocus(n)}this.checkCompelete()}},t.prototype.checkCompelete=function(){this.checkConnectedAll()&&this.checkFillAll()},t.prototype.isTileConnected=function(e,t){var n,o=e._row;n=e._col+(o<=this._rowCount/2?0:e._row-(this._rowCount/2|0));var i,a=t._row;return i=t._col+(a<=this._rowCount/2?0:t._row-(this._rowCount/2|0)),o-1==a&&n-1==i||o-1==a&&n==i||o==a&&n-1==i||o==a&&n+1==i||o+1==a&&n==i||o+1==a&&n+1==i},t.prototype.onTouchMoved=function(e){var t=this;if(!t._isGameOver){var n=e.currentTouch.getLocation();n=this.node.convertToNodeSpaceAR(n);var o=t.findTileByPos(n.x,n.y);if(null!=t._pickedTile&&null!=o)if(t.isTileConnected(t._pickedTile,o)){if(0==o.get_animal())(null==t._pickedTile.targetTile||null==t._pickedTile.reverseConnectedTile)&&(t._gridManager.setState(t._pickedTile.get_row(),t._pickedTile.get_col(),o.get_row(),o.get_col(),!0),t._pickedTile.connect(o),t._pickedTile=o,t._pickedTile.set_isConnecting(!0));else if(o.get_animal()==t._pickedTile.get_animal())if(0!=o.isChangable||o.equals(t._pickedTile.getHead())){for(t._pickedTile=o,o=t._pickedTile;null!=o&&null!=o.connectedTile;)t._gridManager.setState(o.get_row(),o.get_col(),o.connectedTile.get_row(),o.connectedTile.get_col(),!1),o=o.connectedTile;t._pickedTile.connect(null)}else null==o.reverseConnectedTile&&(t._gridManager.setState(t._pickedTile.get_row(),t._pickedTile.get_col(),o.get_row(),o.get_col(),!0),t._pickedTile.connect(o),t._pickedTile=o)}else if(o.get_animal()==t._pickedTile.get_animal()&&!o.equals(t._pickedTile)&&null!=o.connectedTile){for(t._pickedTile=o,o=t._pickedTile;null!=o&&null!=o.connectedTile;)t._gridManager.setState(o.get_row(),o.get_col(),o.connectedTile.get_row(),o.connectedTile.get_col(),!1),o=o.connectedTile;t._pickedTile.connect(null)}this.moveFocus(n)}},t.prototype.onTouchEnded=function(){var e=this,t=!1;if(!e._isGameOver){if(null!=e._pickedTile){var n=e._pickedTile.getHead();for(null!=e._pickedTile.animalSprite&&null!=n&&null!=n.animalSprite&&(t=!0,e._pickedTile.animalSprite.connected(),n.animalSprite.connected());null!=n;)n.set_isConnecting(!1),n=n.connectedTile;e._moveCount++,r.UserInfo.stepUsed++}e._pickedTile=null,this.hideFocus(),e.checkConnectedAll()&&(e.checkFillAll()?(e._isGameOver=!0,e.danceAll()):d.Toast.make("\u5fc5\u987b\u586b\u6ee1\u6240\u6709\u683c\u5b50")),1!=t||e._isGameOver||cc.audioEngine.playEffect(o.R.audio_link,!1)}},t.prototype.showFocus=function(e){console.log(e),this.focusNode.active=!0,this.focusNode.zIndex=100,this.focusNode.color=o.R.colors[e].clone()},t.prototype.moveFocus=function(e){this.focusNode.position=e},t.prototype.hideFocus=function(){this.focusNode.active=!1},t.prototype.danceAll=function(){cc.audioEngine.playEffect(o.R.audio_win,!1);for(var e=0,t=this._tileList;e<t.length;){var n=t[e];++e;for(var i=0;i<n.length;){var a=n[i];++i,null!=a.animalSprite&&a.animalSprite.loopJump(1)}}this.scheduleOnce(this.showWinDialog,1)},t.prototype.showWinDialog=function(){l.default.instance.show("Game/WinDialog")},t.prototype.click_pause=function(){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u6e38\u620f\u754c\u9762",content:"\u70b9\u51fb\u8fd4\u56de"},function(){}),l.default.instance.show("Game/PauseDialog")},t.prototype.click_share=function(){u.default.share()},t.prototype.setFigure=function(){this._figureList=[];for(var e=[],t=0;10>t;)t++,e.push(null);t=0;for(var n=this._levelData.figure;t<n.length;){var i=n[t];++t;var a=this._tileList[i[0]][i[1]],s=a.get_borderPosition(),r=i[2],l=cc.instantiate(o.R.animalPrefabs[r-1]);a.animalSprite=l.getComponent(c.default),l.setPosition(s.x,s.y),l.parent=this.tileLayer,l.zIndex=110,a.set_animal(i[2]),a.isChangable=!1,this._figureList.push(a),null==e[i[2]]?e[i[2]]=a:(a.targetTile=e[i[2]],e[i[2]].targetTile=a)}this.perfectMoveCount=this._figureList.length/2|0},t.prototype.findTileByPos=function(e,t){for(var n=null,o=1e6,i=cc.v2(e,t),a=this._tileList,s=0;s<a.length;++s)for(var r=a[s],c=0;c<r.length;++c){var l=r[c],u=r[c].node.position,d=i.sub(u).mag();d<50&&d<o&&(o=d,n=l)}return n},t.prototype.removeGridFromTile=function(e){for(;null!=e&&null!=e.connectedTile;)this._gridManager.setState(e.get_row(),e.get_col(),e.connectedTile.get_row(),e.connectedTile.get_col(),!1),e=e.connectedTile},t.prototype.checkFillAll=function(){for(var e=0,t=this._tileList;e<t.length;){var n=t[e];++e;for(var o=0;o<n.length;){var i=n[o];if(++o,0==i.get_animal())return!1}}return!0},t.prototype.checkConnectedAll=function(){for(var e=0,t=this._tileList;e<t.length;){var n=t[e];++e;for(var o=0;o<n.length;){var i=n[o];if(++o,null!=i.targetTile){var a=i.getHead(),s=i.getTail();if(0==i.targetTile.equals(a)&&0==i.targetTile.equals(s))return!1}}}return!0},t.instance=null,__decorate([f(cc.Node)],t.prototype,"tileLayer",void 0),__decorate([f(cc.Label)],t.prototype,"levelLabel",void 0),__decorate([f(cc.Label)],t.prototype,"timeLabel",void 0),__decorate([f(cc.Label)],t.prototype,"stepLabel",void 0),__decorate([f(cc.Node)],t.prototype,"focusNode",void 0),n=__decorate([h],t)}(cc.Component);n.default=g,cc._RF.pop()},{"../../../framework/Platform":"Platform","../../../framework/plugin_boosts/misc/InputSystem":"InputSystem","../../../framework/plugin_boosts/ui/ToastManager":"ToastManager","../../../framework/plugin_boosts/ui/ViewManager":"ViewManager","../Info":"Info","./Animal":"Animal","./GridManager":"GridManager","./HexonTile":"HexonTile","./Res":"Res"}],GetDialog:[function(e,t,n){"use strict";cc._RF.push(t,"714f07aCe9N55KDdTLTUVv8","GetDialog"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../framework/plugin_boosts/ui/View"),i=e("../Info"),a=e("../../../framework/plugin_boosts/ui/ViewManager"),s=e("../../../framework/Platform"),r=cc._decorator,c=r.ccclass,l=r.property,u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.diamondLabel=null,t.count=0,t.node_close=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.share_suc=function(){i.UserInfo.addDiamond(2*this.count),i.UserInfo.save(),this.getComponent(o.default).hide(),a.default.instance.show("Game/LuckyDialog")},t.prototype.click_double=function(){var e=i.UserInfo.getChoice(i.ChoiceType.Get);1==e?s.default.share(this.share_suc,this):0==e?this.share_suc():s.default.watch_video(this.share_suc,this)},t.prototype.onShown=function(e){this.count=e,this.diamondLabel.string="+"+e,this.node_close.active=!1,this.unschedule(this.delayShow),this.scheduleOnce(this.delayShow,2)},t.prototype.delayShow=function(){this.node_close.active=!0},t.prototype.click_no=function(){this.getComponent(o.default).hide(),i.UserInfo.addDiamond(this.count),i.UserInfo.save(),a.default.instance.show("Game/LuckyDialog")},__decorate([l(cc.Label)],t.prototype,"diamondLabel",void 0),__decorate([l(cc.Node)],t.prototype,"node_close",void 0),__decorate([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"../../../framework/Platform":"Platform","../../../framework/plugin_boosts/ui/View":"View","../../../framework/plugin_boosts/ui/ViewManager":"ViewManager","../Info":"Info"}],GridManager:[function(e,t,n){"use strict";cc._RF.push(t,"3b45a0/RCtHwJWRliu8sGTN","GridManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./ds/IntMap"),i=e("./Game"),a=e("./Res"),s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._minCol=null,t}return __extends(t,e),t.prototype.addGrid=function(e,t,n){null==this._gridList&&(this._gridList=new o.default),this._gridList.exists(e)||this._gridList.set(e,new o.default),this._gridList.get(e).set(t,n)},t.prototype.init=function(e){this._minCol=e},t.prototype.start=function(){var e=i.default.instance._rowCount,t=i.default.instance._tileList;this._gridList=new o.default;for(var n=0;e>n;)for(var s=n++,r=0,c=(e/2>=s?this._minCol+s:this._minCol-1+e-s)-1;c>r;){var l=r++,u=t[s][l].get_borderPosition(),d=t[s][l+1].get_borderPosition(),p=cc.v2((u.x+d.x)/2,(u.y+d.y)/2);(m=cc.instantiate(a.R.Line46)).setPosition(p),m.active=!1,m.parent=this.node,m.zIndex=109,this.addGrid(s+s,l+l+1,m)}for(n=0,s=e/2|0;s>n;)for(c=e/2>=(r=n++)?this._minCol+r:this._minCol-1+e-r,l=0;c>l;){u=l++;for(var h=0;2>h;h++){var f=t[r][u].get_borderPosition(),g=t[r+1][u+h].get_borderPosition();f=cc.v2((f.x+g.x)/2,(f.y+g.y)/2);var m=null;(m=0==h?cc.instantiate(a.R.Line37):cc.instantiate(a.R.Line19)).setPosition(f),m.active=!1,m.parent=this.node,m.zIndex=109,this.addGrid(r+r+1,u+u+h,m)}}for(n=0,s=e/2|0;s>n;)for(c=e/2>=(r=e-(r=n++)-1)?this._minCol+r:this._minCol-1+e-r,l=0;c>l;){u=l++;for(var _=0;2>_;_++)f=t[r][u].get_borderPosition(),g=t[r-1][u+_].get_borderPosition(),f=cc.v2((f.x+g.x)/2,(f.y+g.y)/2),m=null,(m=0==_?cc.instantiate(a.R.Line19):cc.instantiate(a.R.Line37)).setPosition(f),m.active=!1,m.zIndex=109,m.parent=this.node,this.addGrid(r+r-1,u+u+_,m)}},t.prototype.setState=function(e,t,n,o,i){if(this._gridList.exists(e+n)){var a=this._gridList.get(e+n);a.exists(t+o)&&(a.get(t+o).active=i)}},t}(cc.Component);n.default=s,cc._RF.pop()},{"./Game":"Game","./Res":"Res","./ds/IntMap":"IntMap"}],HbDialog:[function(e,t,n){"use strict";cc._RF.push(t,"ec5aa26/dhLhpV83mVeVmkA","HbDialog"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../framework/Platform"),i=e("../../../framework/plugin_boosts/ui/ViewManager"),a=e("../../../framework/plugin_boosts/ui/ToastManager"),s=e("../hex-lines-game/Res"),r=e("../Info"),c=e("../../../framework/plugin_boosts/gamesys/Device"),l=e("../../../framework/plugin_boosts/ui/View"),u=cc._decorator,d=u.ccclass,p=(u.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.click=function(){1==r.UserInfo.getChoice(r.ChoiceType.HB)?o.default.share(this.share_suc,this):o.default.watch_video(this.share_suc,this)},t.prototype.share_suc=function(){var e=s.R.skinConfig.json[3];a.Toast.make("\u606d\u559c\u83b7\u5f97\u76ae\u80a4 \uff1a"+e.text),c.default.playEffect(s.R.audio_unlock),r.UserInfo.unlock(e.id),r.UserInfo.selectedSkin=e.id,r.UserInfo.save(),i.default.instance.show("Game/ShopDialog"),this.getComponent(l.default).hide()},__decorate([d],t)}(cc.Component));n.default=p,cc._RF.pop()},{"../../../framework/Platform":"Platform","../../../framework/plugin_boosts/gamesys/Device":"Device","../../../framework/plugin_boosts/ui/ToastManager":"ToastManager","../../../framework/plugin_boosts/ui/View":"View","../../../framework/plugin_boosts/ui/ViewManager":"ViewManager","../Info":"Info","../hex-lines-game/Res":"Res"}],HexonTile:[function(e,t,n){"use strict";cc._RF.push(t,"64d50rBFZhG5qLba7sOg6x9","HexonTile"),Object.defineProperty(n,"__esModule",{value:!0});var o,i=e("./Consts"),a=e("./Game"),s=e("./Res"),r=cc._decorator,c=r.ccclass,l=r.property;(function(e){e[e.Empty=0]="Empty",e[e.Type1=1]="Type1",e[e.Type2=2]="Type2",e[e.Type3=3]="Type3",e[e.Type4=4]="Type4",e[e.Type5=5]="Type5",e[e.Type6=6]="Type6",e[e.Type7=7]="Type7"})(o||(o={}));var u=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._col=0,t._row=0,t._animal=0,t.isChangable=!0,t._isConnecting=!1,t.connectedTile=null,t.reverseConnectedTile=null,t.targetTile=null,t._sprite=null,t._baseSprite=null,t.animalSprite=null,t._tileType=0,t}return __extends(t,e),t.prototype.get_col=function(){return this._col},t.prototype.set_col=function(e){return this._col=e,e=this._col-(this._row<=a.default.instance._rowCount/2?a.default.instance.get_minCol()+this._row:a.default.instance.get_minCol()-1+a.default.instance._rowCount-this._row)/2+.5,this._baseSprite.node.x=i.default.CenterX+e*i.default.ColSize,this._col},t.prototype.get_row=function(){return this._row},t.prototype.set_row=function(e){return this._row=e,this._baseSprite.node.y=i.default.CenterY+(this._row-(a.default.instance._rowCount/2|0))*i.default.RowSize,this._row},t.prototype.get_borderPosition=function(){return this._baseSprite.node.position},t.prototype.get_isConnecting=function(){return this._isConnecting},t.prototype.set_isConnecting=function(e){return this._isConnecting=e,this.set_tileType(this._tileType),this._isConnecting},t.prototype.get_animal=function(){return this._animal},t.prototype.set_animal=function(e){switch(this._animal=e,e){case 1:this.set_tileType(o.Type1);break;case 2:this.set_tileType(o.Type2);break;case 3:this.set_tileType(o.Type3);break;case 4:this.set_tileType(o.Type4);break;case 5:this.set_tileType(o.Type5);break;case 6:this.set_tileType(o.Type6);break;case 7:this.set_tileType(o.Type7);break;default:this.set_tileType(o.Empty)}return this._animal},t.prototype.getTileTexture=function(e,t,n){if(0==e)return s.R.tileTextures[0];var o;return o=t?e:n?14+e:7+e,s.R.tileTextures[o]},t.prototype.set_tileType=function(e){if(this._tileType=e,this.isChangable&&this.get_isConnecting())this._baseSprite.spriteFrame=this.getTileTexture(this.get_animal(),!0,!1);else{var t,n=this.getTail();t=!this.isChangable&&null!=this.reverseConnectedTile||null!=n&&!n.isChangable?this.getTileTexture(this.get_animal(),!1,!0):this.getTileTexture(this.get_animal(),!1,!1),this._baseSprite.spriteFrame=t}return this._tileType},t.prototype.onAdded=function(){this.set_tileType(o.Empty)},t.prototype.connect=function(e){null==e?null!=this.connectedTile&&(1==this.connectedTile.isChangable&&this.connectedTile.set_animal(0),this.connectedTile.connect(null),this.connectedTile=this.connectedTile.reverseConnectedTile=null):(this.connectedTile=e,e.set_animal(this.get_animal()),e.reverseConnectedTile=this)},t.prototype.getTail=function(){for(var e=this.connectedTile,t=null;null!=e;)t=e,e=e.connectedTile;return t},t.prototype.getHead=function(){for(var e=this.reverseConnectedTile,t=null;null!=e;)t=e,e=e.reverseConnectedTile;return t},t.prototype.equals=function(e){return null!=e&&this.get_row()==e.get_row()&&this.get_col()==e.get_col()},t.prototype.start=function(){},__decorate([l({type:cc.Sprite,visible:!0,displayName:"Animal Sprite"})],t.prototype,"_sprite",void 0),__decorate([l({type:cc.Sprite,visible:!0,displayName:"Base Sprite"})],t.prototype,"_baseSprite",void 0),__decorate([c],t)}(cc.Component);n.default=u,cc._RF.pop()},{"./Consts":"Consts","./Game":"Game","./Res":"Res"}],InfiniteBackground:[function(e,t,n){"use strict";cc._RF.push(t,"ea63dhsLFFNTK51F3JClP8v","InfiniteBackground"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.bgNode=null,t.camera=null,t.currentNode=null,t.repeatCount=0,t}return __extends(t,e),t.prototype.onLoad=function(){this.currentNode=this.bgNode,this.size=this.currentNode.getContentSize(),this.nodepool=new cc.NodePool},t.prototype.start=function(){null==this.prev&&(this.prev=cc.instantiate(this.bgNode),this.node.addChild(this.prev),this.prev.y=-this.size.height)},t.prototype.reset=function(){this.repeatCount=0},t.prototype.update=function(){if(null!=this.currentNode){var e=cc.Vec2.ZERO;if(this.camera.getWorldToCameraPoint(this.currentNode.position,e),this.prev,e.y<10&&null==this.next){this.pre_prev=this.prev,this.prev=this.currentNode;var t=this.nodepool.get();null==t&&(t=cc.instantiate(this.currentNode)),t.setPosition(0,this.size.height*++this.repeatCount),this.node.addChild(t),this.currentNode=t,this.camera.getWorldToCameraPoint(t.position,e),this.next=null}e.y>this.size.height-10&&this.pre_prev&&this.nodepool.put(this.pre_prev)}},__decorate([a(cc.Node)],t.prototype,"bgNode",void 0),__decorate([a(cc.Camera)],t.prototype,"camera",void 0),__decorate([i],t)}(cc.Component);n.default=s,cc._RF.pop()},{}],Info:[function(e,t,n){"use strict";cc._RF.push(t,"894ddeHxZNOMqD6BW+YheZr","Info"),Object.defineProperty(n,"__esModule",{value:!0}),n.UserInfo=n.ChoiceType=void 0;var o,i=e("../../framework/plugin_boosts/misc/DataCenter"),a=e("./hex-lines-game/Res"),s=e("../../framework/plugin_boosts/ui/ToastManager"),r=e("../../framework/plugin_boosts/gamesys/Device"),c=e("../../framework/Platform"),l=e("../../framework/wxsdk/MoreGameManager");(function(e){e[e.DailyGet=0]="DailyGet",e[e.Levelup=1]="Levelup",e[e.Get=2]="Get",e[e.Shop=3]="Shop",e[e.BannerAdRefresh=4]="BannerAdRefresh",e[e.HB=5]="HB"})(o=n.ChoiceType||(n.ChoiceType={}));var u=function(e){function t(){var t=e.call(this)||this;return t.choices=[],t.version="6",t.level=1,t.selectedSkin="2",t.dailyGetTime=new Date(2018,1,1).getTime(),t.freedrawTime=t.dailyGetTime,t.luckyVideoWatchTime=t.dailyGetTime,t.shopFreeDiamondTime=t.dailyGetTime,t.diamond=0,t.sfx_enabled=!0,t.firstTimeReach=!1,t.luckyVideoWatchCount=0,t.timePassed=0,t.stepUsed=0,t.currentLevel=1,t.unlock(t.selectedSkin),setTimeout(function(){t.save()},6e4),t}return __extends(t,e),t.prototype.getChoice=function(e){return this.choices[e]||0},t.prototype.init=function(){c.default.configGetSignal.on(this.onGetConfig,this),c.default.requestServerConfigs("t_games",this.onGetGames,this)},t.prototype.onGetGames=function(e){l.default.instance.addList(e)},t.prototype.onGetConfig=function(e){if(e){var t=e[0];t&&(this.choices=JSON.parse(t[this.version]))}c.default.initBannerAd(this.getChoice(o.BannerAdRefresh))},t.prototype.addDiamond=function(e,t){void 0===t&&(t=!0),this.diamond+="number"==typeof e?e:parseInt(e),t&&(s.Toast.make("\u83b7\u5f97\u94bb\u77f3 x"+e),r.default.playEffect(a.R.audio_get_diamond)),this.firstTimeReach||this.diamond>=500&&(s.Toast.make("\u54c7\u53ef\u4ee5\u4e70\u76ae\u80a4\u4e86\uff0c\u5feb\u53bb\u76ae\u80a4\u5546\u5e97\u770b\u770b\u5427!",2),this.firstTimeReach=!0,n.UserInfo.save())},t.prototype.isUnlock=function(e){var t=localStorage.getItem("unlocked_"+e);return!!t&&"1"==t},t.prototype.isAllUnlocked=function(){for(var e=0,t=0;t<a.R.skinConfig.json.length;t++){var o=a.R.skinConfig.json[t];n.UserInfo.isUnlock(o.id)&&e++}return e==a.R.skinConfig.json.length},t.prototype.getSkinById=function(e){return a.R.skinConfig.json.filter(function(t){return t.id==e})[0]},t.prototype.unlock=function(e){localStorage.setItem("unlocked_"+e,"1")},__decorate([i.field()],t.prototype,"level",void 0),__decorate([i.field()],t.prototype,"selectedSkin",void 0),__decorate([i.field()],t.prototype,"dailyGetTime",void 0),__decorate([i.field()],t.prototype,"freedrawTime",void 0),__decorate([i.field()],t.prototype,"luckyVideoWatchTime",void 0),__decorate([i.field()],t.prototype,"shopFreeDiamondTime",void 0),__decorate([i.field()],t.prototype,"diamond",void 0),__decorate([i.field()],t.prototype,"sfx_enabled",void 0),__decorate([i.field()],t.prototype,"firstTimeReach",void 0),__decorate([i.field()],t.prototype,"luckyVideoWatchCount",void 0),__decorate([i.dc("Info")],t)}(i.default);n.default=u,n.UserInfo=i.default.register(u),cc._RF.pop()},{"../../framework/Platform":"Platform","../../framework/plugin_boosts/gamesys/Device":"Device","../../framework/plugin_boosts/misc/DataCenter":"DataCenter","../../framework/plugin_boosts/ui/ToastManager":"ToastManager","../../framework/wxsdk/MoreGameManager":"MoreGameManager","./hex-lines-game/Res":"Res"}],InputSystem:[function(e,t,n){"use strict";cc._RF.push(t,"4643c14ws5Msox+teVpsIzz","InputSystem"),Object.defineProperty(n,"__esModule",{value:!0}),n.InputSystem=n.Input=void 0;var o=e("./JoyStick"),i=cc._decorator,a=i.ccclass,s=i.property;n.Input=null;var r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._target=null,t.keys={},t.__touchVec=cc.Vec2.ZERO,t.radius_axis=256,t.joyStick=null,t.__lastTouch=cc.Vec2.ZERO,t.moveOffset=cc.Vec2.ZERO,t.__curTouchId=-1,t}return __extends(t,e),t.prototype.setDelegate=function(e){this._target=e},t.prototype.onLoad=function(){n.Input=this;for(var e=this.getComponents(cc.Component),t=0;t<e.length;t++){var o=e[t];if(o!=this&&(o.onTouchBegan||o.onTouchEnded||o.onTouchMoved)){this._target=o;break}}console.log("InputSystem Component -> target:",this._target)},t.prototype.start=function(){cc.systemEvent.on(cc.SystemEvent.EventType.KEY_DOWN,this.triggerKeyDown,this),cc.systemEvent.on(cc.SystemEvent.EventType.KEY_UP,this.triggerKeyUp,this),this.node.on(cc.Node.EventType.TOUCH_START,this.triggerTouchBegan,this),this.node.on(cc.Node.EventType.TOUCH_MOVE,this.triggerTouchMoved,this),this.node.on(cc.Node.EventType.TOUCH_END,this.triggerTouchEnded,this),this.node.on(cc.Node.EventType.TOUCH_CANCEL,this.triggerTouchCanceled,this)},Object.defineProperty(t.prototype,"touch",{get:function(){return this.__touch},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"axis",{get:function(){return this.joyStick?this.joyStick.axis:this.__touchVec},enumerable:!1,configurable:!0}),t.prototype.getKey=function(e){return this.keys[e]},t.prototype.triggerKeyUp=function(){this._target.onKeyUp&&this._target.onKeyUp(event),this.keys[event.key]=!1},t.prototype.triggerKeyDown=function(){this._target.onKeyDown&&this._target.onKeyDown(event),this.keys[event.key]=!0},t.prototype.triggerTouchEnded=function(e){-1!=this.__curTouchId&&e.getID()!=this.__curTouchId||(this.__curTouchId=-1,this._target.onTouchEnded&&this._target.onTouchEnded(e),this.__touch=null,this.__touchVec=cc.Vec2.ZERO,e.currentTouch&&this.joyStick&&this.joyStick.touchEnd(e.currentTouch.getLocation()),this.moveOffset=cc.Vec2.ZERO)},t.prototype.triggerTouchMoved=function(e){-1!=this.__curTouchId&&e.getID()!=this.__curTouchId||(this._target.onTouchMoved&&this._target.onTouchMoved(e),this.__touch=e.currentTouch.getLocation(),this.moveOffset=this.__touch.sub(this.__lastTouch),this.__touch&&this.__startLocation&&(this.__touchVec=this.__touch.sub(this.__startLocation),this.joyStick&&this.joyStick.touchMove(this.__touch)),this.__lastTouch=this.__touch)},t.prototype.triggerTouchBegan=function(e){-1!=this.__curTouchId&&e.getID()!=this.__curTouchId||(this._target.onTouchBegan&&this._target.onTouchBegan(e),this.__curTouchId=e.getID(),this.__startLocation=e.currentTouch.getLocation(),this.__touch=e.currentTouch.getLocation(),this.__lastTouch=this.__touch,this.joyStick&&this.joyStick.touchStart(this.__startLocation))},t.prototype.triggerTouchCanceled=function(e){this.triggerTouchEnded(e)},t.prototype.onEnable=function(){this.schedule(this.checkTouch,.02)},t.prototype.onDisable=function(){this.unschedule(this.checkTouch)},t.prototype.checkTouch=function(){this.__touch&&(this.moveOffset=this.__touch.sub(this.__lastTouch))},__decorate([s(o.default)],t.prototype,"joyStick",void 0),__decorate([a],t)}(cc.Component);n.InputSystem=r,cc._RF.pop()},{"./JoyStick":"JoyStick"}],IntMap:[function(e,t,n){"use strict";cc._RF.push(t,"11eeadKZERHbLgjtZ/2KsFr","IntMap"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){this.h={}}return e.prototype.set=function(e,t){this.h[e]=t},e.prototype.get=function(e){return this.h[e]},e.prototype.exists=function(e){return this.h.hasOwnProperty(e)},e.prototype.remove=function(e){return!!this.h.hasOwnProperty(e)&&(delete this.h[e],!0)},e.prototype.keys=function(){var e,t=[];for(e in this.h)this.h.hasOwnProperty(e)&&t.push(0|e);return com.iter(t)},e}();n.default=o,cc._RF.pop()},{}],Intersection:[function(e,t,n){"use strict";cc._RF.push(t,"2f4dfDdP95AjIAwGFL34sfm","Intersection"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.circleIntersectRect=function(e,t,n){var o,i;o=e.x<n.x?n.x:e.x>n.x+n.width?n.x+n.width:e.x,i=e.y<n.y?n.y:e.y>n.y+n.height?n.y+n.height:e.y;var a=cc.v2(o,i);return a.subSelf(e),a.magSqr()<t*t},e}();n.default=o,cc._RF.pop()},{}],JoyStick:[function(e,t,n){"use strict";cc._RF.push(t,"297d6dgG6ZIJJ+ZjeNWq2ub","JoyStick"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.outterCircle=null,t.innerCircle=null,t.radius=250,t.innerCircleRadius=20,t.releaseAfterOver=!1,t.dynamicJoystick=!1,t.autoRadius=!1,t.isReleased=!1,t._startPos=cc.Vec2.ZERO,t}return __extends(t,e),t.prototype.onLoad=function(){this.autoRadius&&(this.radius=this.outterCircle.getBoundingBox().height/2),this.innerCircle.setPosition(0,0),this.node.active=!1},t.prototype.start=function(){this.releaseStick()},t.prototype.releaseStick=function(){var e=cc.moveTo(.5,cc.Vec2.ZERO).easing(cc.easeExponentialOut());this.innerCircle.runAction(e),this.isReleased=!0,this.dynamicJoystick&&this.scheduleOnce(this.delayClose,1)},t.prototype.delayClose=function(){this.node.active=!1},Object.defineProperty(t.prototype,"axis",{get:function(){if(this.isReleased)return cc.Vec2.ZERO;var e=this.innerCircle.getPosition();return e.normalizeSelf(),e},enumerable:!1,configurable:!0}),t.prototype.move=function(e){e.mag()>this.radius&&(this.releaseAfterOver&&this.releaseStick(),e.normalizeSelf(),e.mulSelf(this.radius)),this.innerCircle.setPosition(e)},t.prototype.touchStart=function(e){if(this.enabled){if(this.isReleased=!1,this._startPos=e,this.unschedule(this.delayClose),this.node.active=!0,this.dynamicJoystick){var t=this.node.getParent().convertToNodeSpaceAR(e);this.node.setPosition(t)}this.move(cc.Vec2.ZERO)}},t.prototype.touchMove=function(e){if(this.enabled){var t=e.sub(this._startPos);this.move(t)}},t.prototype.touchEnd=function(){this.enabled&&this.releaseStick()},__decorate([a(cc.Node)],t.prototype,"outterCircle",void 0),__decorate([a(cc.Node)],t.prototype,"innerCircle",void 0),__decorate([a],t.prototype,"radius",void 0),__decorate([a],t.prototype,"innerCircleRadius",void 0),__decorate([a],t.prototype,"releaseAfterOver",void 0),__decorate([a],t.prototype,"dynamicJoystick",void 0),__decorate([a],t.prototype,"autoRadius",void 0),__decorate([i],t)}(cc.Component);n.default=s,cc._RF.pop()},{}],LevelDialog:[function(e,t,n){"use strict";cc._RF.push(t,"4c94fc8PDtI1o3JM9m3WRKN","LevelDialog"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Info"),i=e("../../../framework/plugin_boosts/ui/game/LevelSelector"),a=cc._decorator,s=a.ccclass,r=a.property,c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.onShown=function(){this.selector.currentLevel=o.UserInfo.level,this.selector.refresh(),this.scheduleOnce(this.refreshLevels,.1),appGame.banner.playBanner(1)},t.prototype.refreshLevels=function(){this.selector.scrollToCurrentLevel()},t.prototype.select_level=function(e){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u9009\u62e9\u5173\u5361\u754c\u9762",content:"\u70b9\u51fb\u5173\u5361"+e.name},function(){}),this.gotoLevel(e.name)},t.prototype.refreshLevelItem=function(){},t.prototype.gotoLevel=function(e){e=parseInt(e),console.log("enter level",e),o.UserInfo.currentLevel=e,cc.director.loadScene("Game")},t.prototype.click_continue=function(){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u9009\u62e9\u5173\u5361\u754c\u9762",content:"\u70b9\u51fb\u7ee7\u7eed\u6e38\u620f"},function(){}),appGame.gameServerRoom.gameConfigData&&appGame.gameServerRoom.gameConfigData.LevelDialogContinue?appGame.videoBanner.playVideoAd(1,0,function(){this.gotoLevel(o.UserInfo.level)}):this.gotoLevel(o.UserInfo.level)},__decorate([r(i.default)],t.prototype,"selector",void 0),__decorate([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{"../../../framework/plugin_boosts/ui/game/LevelSelector":"LevelSelector","../Info":"Info"}],LevelSelector:[function(e,t,n){"use strict";cc._RF.push(t,"b7942O9SJ1JFpcT0/D7YiFO","LevelSelector"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,s=(o.help,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.pageview=null,t.template=null,t.onSelectLevel=new cc.Component.EventHandler,t.onRefreshItem=new cc.Component.EventHandler,t.index=0,t.max=9,t.itemCountPerPage=0,t.pages=[],t.currentLevel=1,t.autoScrollToCurrentLevel=!0,t}return __extends(t,e),t.prototype.selectLevel=function(e){this.onSelectLevel?this.onSelectLevel.emit([e.target,Number(e.target.name)]):console.warn("LevelSelector: onSelectLevel callback is nil")},t.prototype.onLoad=function(){this.pages.splice(0,this.pages.length),this.itemCountPerPage=this.template.childrenCount;var e=Math.floor(this.max/this.itemCountPerPage);this.max%this.itemCountPerPage>0&&(e+=1);for(var t=0;t<e-1;t++){var n=cc.instantiate(this.template);this.pageview.addPage(n),this.pages.push(n)}this.pages.push(this.template);for(var o=0;o<e;o++){n=this.pages[o];for(var i=0;i<n.childrenCount;i++){var a=n.children[i],s=a.getChildByName("label"),r=o*this.itemCountPerPage+Number(i)+1;r>this.max&&(a.active=!1),a.name=r+"",s.getComponent(cc.Label).string=a.name}}},t.prototype.refreshItem=function(e,t){t>this.currentLevel?(e.opacity=100,e.getComponent(cc.Button).enabled=!1):(e.opacity=255,e.getComponent(cc.Button).enabled=!0)},t.prototype.refresh=function(){console.log("LevelSelctor: refresh");for(var e=0;e<this.pages.length;e++)for(var t=this.pages[e],n=0;n<t.childrenCount;n++){var o=t.children[n],i=e*this.itemCountPerPage+Number(n)+1;this.refreshItem(o,i),this.onRefreshItem.emit([o,i])}this.autoScrollToCurrentLevel&&this.scrollToCurrentLevel()},t.prototype.start=function(){},t.prototype.scrollToCurrentLevel=function(){var e=this.currentLevel,t=Math.floor(e/this.itemCountPerPage);0==e%this.itemCountPerPage&&(t-=1),this.pageview.scrollToPage(t,.3)},t.prototype.nextPage=function(){this.pageview.scrollToPage(this.pageview.getCurrentPageIndex()+1,.3)},t.prototype.prevPage=function(){this.pageview.scrollToPage(this.pageview.getCurrentPageIndex()-1,.3)},__decorate([a(cc.PageView)],t.prototype,"pageview",void 0),__decorate([a(cc.Node)],t.prototype,"template",void 0),__decorate([a(cc.Component.EventHandler)],t.prototype,"onSelectLevel",void 0),__decorate([a(cc.Component.EventHandler)],t.prototype,"onRefreshItem",void 0),__decorate([a],t.prototype,"index",void 0),__decorate([a],t.prototype,"max",void 0),__decorate([i],t)}(cc.Component));n.default=s,cc._RF.pop()},{}],LevelupDialog:[function(e,t,n){"use strict";cc._RF.push(t,"192e1nHc39B4b1vo/mjTFG2","LevelupDialog"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Info"),i=e("../../../framework/plugin_boosts/ui/View"),a=e("../../../framework/Platform"),s=cc._decorator,r=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.diamondLabel=null,t.btnLabel=null,t.tipLabel=null,t.levelLabel=null,t.mult=1,t.baseDiamond=0,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.onShown=function(e,t){t=Math.min(t,1);var n=Math.floor(Math.max(30*t,10));this.baseDiamond=n,this.diamondLabel.string=n.toString(),this.levelLabel.string=cc.js.formatStr("- \u7b2c %s \u5173 - ",e),Math.random()>.7?(this.mult=g.randomInt(3,6),this.btnLabel.string=this.mult+"\u500d\u9886\u53d6"):(this.btnLabel.string="\u53cc\u500d\u9886\u53d6",this.mult=2),this.tipLabel.string="\u606d\u559c\u83b7\u5f97"+this.btnLabel.string+"\u5956\u52b1\u673a\u4f1a"},t.prototype.click_get=function(){o.UserInfo.addDiamond(this.baseDiamond),o.UserInfo.save(),this.getComponent(i.default).hide()},t.prototype.share_suc=function(){o.UserInfo.addDiamond(this.baseDiamond*this.mult),o.UserInfo.save(),this.getComponent(i.default).hide()},t.prototype.click_getex=function(){var e=o.UserInfo.getChoice(o.ChoiceType.Levelup);1==e?a.default.share(this.share_suc,this):0==e?this.share_suc():a.default.watch_video(this.share_suc,this)},__decorate([c(cc.Label)],t.prototype,"diamondLabel",void 0),__decorate([c(cc.Label)],t.prototype,"btnLabel",void 0),__decorate([c(cc.Label)],t.prototype,"tipLabel",void 0),__decorate([c(cc.Label)],t.prototype,"levelLabel",void 0),__decorate([r],t)}(cc.Component);n.default=l,cc._RF.pop()},{"../../../framework/Platform":"Platform","../../../framework/plugin_boosts/ui/View":"View","../Info":"Info"}],LoadingManager:[function(e,t,n){"use strict";cc._RF.push(t,"48049jD6zJMmoi+cPkRhX7D","LoadingManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.Loading=void 0;var o=cc._decorator,i=o.ccclass,a=o.property;n.Loading=null;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefab=null,t.loadingNode=null,t.loadingSprite=null,t.loadingText=null,t.blockEventComp=null,t._callback=null,t._target=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.loadingNode=cc.instantiate(this.prefab),this.blockEventComp=this.loadingNode.getComponent(cc.BlockInputEvents),this.loadingNode.parent=this.node,this.loadingNode.zIndex=9999,this.loadingSprite=this.loadingNode.getComponentInChildren(cc.Sprite),this.loadingText=this.loadingNode.getComponentInChildren(cc.Label),this.hide(),n.Loading=this},t.prototype.start=function(){this.loadingSprite.node.runAction(cc.rotateBy(4,360).repeatForever())},t.prototype.dealyClose=function(){this.hide(),this._callback&&this._callback.call(this._target)},t.prototype.show=function(e,t,n,o,i){void 0===t&&(t=null),void 0===n&&(n=!0),void 0===o&&(o=null),void 0===i&&(i=null),this.loadingNode.active=!0,this.loadingNode.resumeAllActions(),this.blockEventComp.enabled=n,this._callback=o,this._target=i,t&&(this.loadingText.string=t),e>0&&(this.unschedule(this.dealyClose),this.scheduleOnce(this.dealyClose,e))},t.prototype.hide=function(){this.loadingNode.active=!1,this.loadingNode.pauseAllActions()},__decorate([a(cc.Prefab)],t.prototype,"prefab",void 0),__decorate([i],t)}(cc.Component);n.default=s,cc._RF.pop()},{}],LocalLifeSystem:[function(e,t,n){"use strict";cc._RF.push(t,"550c0O4ualLIYQoOOiFtGsz","LocalLifeSystem"),Object.defineProperty(n,"__esModule",{value:!0}),n.LifeSystem=n.LocalLifeSystem=void 0;var o=e("../utils/EventManager"),i=e("../misc/Signal"),a=function(){function e(){this.sec_per_live=300,this.live_free_get=5,this.max_freeLives_seconds=this.live_free_get*this.sec_per_live,this.livesSeconds=0,this.isEnabledAutoRecovery=!0,this.recoverySignal=new i.default}return e.prototype.init=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),this.sec_per_live=e||this.sec_per_live,this.live_free_get=t||this.live_free_get,this.max_freeLives_seconds=this.sec_per_live*this.live_free_get,this.livesSeconds=0,this.lastLifeSaveTime=Number(localStorage.getItem("sys_life_lastLifeSaveTime")||(new Date).getTime()),o.event.on("onEnterForeground",this.onEnterForeground,this),this.onTimeRequested((new Date).getTime()),console.log("\u4f53\u529b\u7cfb\u7edf\u521d\u59cb\u5316",this)},e.prototype.onEnterForeground=function(){this.onTimeRequested((new Date).getTime())},Object.defineProperty(e.prototype,"nextLifeTime",{get:function(){return(this.lives+1)*this.sec_per_live-this.livesSeconds},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lives",{get:function(){return Math.floor(this.livesSeconds/this.sec_per_live)},enumerable:!1,configurable:!0}),e.prototype.save=function(){this.lastLifeSaveTime=(new Date).getTime(),localStorage.setItem("sys_life_lastLifeSaveTime",this.lastLifeSaveTime+"")},e.prototype.onTimeRequested=function(e){if(this.lastLifeSaveTime){var t=Math.floor((e-this.lastLifeSaveTime)/1e3);this.livesSeconds=Math.min(this.max_freeLives_seconds,t)}},e.prototype.startCheck=function(e,t){var n=this;if(!this.task_checkLives){var o=e.call(t);this.task_checkLives=setInterval(function(){var i=e.call(t);o!=i&&i==n.live_free_get-1&&(n.livesSeconds=0,n.save()),i<n.live_free_get&&(n.livesSeconds=n.livesSeconds+1,i+n.lives>i&&(console.log("\u83b7\u5f97\u5728\u7ebf\u5956\u52b1\u4e00\u9897\u661f",n.lives),n.recoverySignal.fire(n.lives),n.livesSeconds=0,n.save())),o=i},1e3)}},e}();n.LocalLifeSystem=a,n.LifeSystem=new a,cc._RF.pop()},{"../misc/Signal":"Signal","../utils/EventManager":"EventManager"}],LocalTimeSystem:[function(e,t,n){"use strict";cc._RF.push(t,"2f847KAJNJCwrvg4K3CKFUv","LocalTimeSystem"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.init=function(t){null!=t&&null!=t&&(e.utc_sec=t,cc.sys.WECHAT_GAME==cc.sys.platform&&(wx.onHide(this.onHidden),wx.onShow(this.onShown)))},e.startTimer=function(){this.timer=setInterval(function(){e.utc_sec+=1e3},1e3)},e.stopTimer=function(){clearInterval(this.timer)},e.getSec=function(){return e.utc_sec||(new Date).getTime()/1e3},e.getDate=function(){if(e.utc_sec){var t=new Date;return t.setTime(1e3*e.utc_sec),t}return new Date},e.onHidden=function(){console.log("game enter background")},e.onShown=function(){console.log("game enter foreground")},e}();n.default=o,cc._RF.pop()},{}],LuckyDialog:[function(e,t,n){"use strict";cc._RF.push(t,"a94275+JmtMx6iZb18iwKTe","LuckyDialog"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../framework/plugin_boosts/ui/ToastManager"),i=e("../../../framework/plugin_boosts/ui/ViewManager"),a=e("../../../framework/plugin_boosts/ui/View"),s=e("../Info"),r=e("../../../framework/Platform"),c=e("../../../framework/plugin_boosts/gamesys/Device"),l=e("../hex-lines-game/Res"),u=e("../../../framework/plugin_boosts/ui/UIFunctions"),d=cc._decorator,p=d.ccclass,h=d.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._canRotate=!0,t.sprites=[],t.labels=[],t.btn_freedraw=null,t.btn_videodraw=null,t.freedrawTip=null,t.drawLabel=null,t.pool=[],t.isGreaterDate=function(e,t){var n=e.getTime()-t.getTime();return n>864e5||n>0&&e.getDate()!=t.getDate()},t}var n;return __extends(t,e),n=t,t.prototype.start=function(){},t.prototype.share_succ=function(){this.startDraw(),s.UserInfo.freedrawTime=(new Date).getTime(),s.UserInfo.save(),this.onShown()},t.prototype.click_freeedraw=function(){},t.prototype.onLoad=function(){for(var e=0;e<l.R.luckyConfig.json.length;e++)for(var t=l.R.luckyConfig.json[e],n=parseFloat(t.chance),o=0;o<2*n;o++)this.pool.push(e);this.pool.shuffle(),console.log(this.pool)},t.prototype.startDraw=function(){var e=g.getRandomInArray(this.pool);this.startWheel(e),c.default.playEffect(l.R.audio_draw)},t.prototype.isNextDay=function(e){return this.isGreaterDate(new Date,new Date(e))},t.prototype.click_videodraw=function(){var e=this;if(s.UserInfo.luckyVideoWatchCount>=n.MaxVideoCount){if(!this.isNextDay(s.UserInfo.luckyVideoWatchTime))return;s.UserInfo.luckyVideoWatchCount=0,s.UserInfo.luckyVideoWatchTime=(new Date).getTime()}else r.default.watch_video(function(){s.UserInfo.luckyVideoWatchCount++,e.startDraw()})},t.prototype.calculateAngle=function(e){return 60*-(e-1)-30-1440-this.wheelSp.node.rotation%360},t.prototype.onShown=function(){s.UserInfo.luckyVideoWatchCount>=n.MaxVideoCount?(this.drawLabel.string="\u5df2\u7528\u5b8c",u.default.setButtonEnabled(this.btn_videodraw,!1)):(this.drawLabel.string="\u770b\u89c6\u9891\u62bd\u5956",u.default.setButtonEnabled(this.btn_videodraw,!0)),g.isGreaterDate(new Date,new Date(s.UserInfo.freedrawTime))?(this.btn_freedraw.interactable=!0,this.btn_freedraw.node.opacity=255,this.freedrawTip.active=!1):(this.btn_freedraw.interactable=!1,this.btn_freedraw.node.opacity=100,this.freedrawTip.active=!0);for(var e=0;e<l.R.luckyConfig.json.length;e++){var t=l.R.luckyConfig.json[e];this.labels[e].string=t.gold_reward+""}},t.prototype.startWheel=function(e){console.log("target wheel:",e);var t=this.calculateAngle(e);if(this._canRotate){this._canRotate=!1;var n=cc.rotateBy(Math.abs(t/400),t),i=cc.callFunc(function(){this._canRotate=!0,this.showRes(e)}.bind(this)),a=cc.sequence(n,i);this.wheelSp.node.runAction(a.easing(cc.easeQuadraticActionInOut()))}else o.Toast.make("\u6b63\u5728\u7ed9\u60a8\u6311\u9009\u5956\u54c1...")},t.prototype.showRes=function(e){var t=l.R.luckyConfig.json[e];isNaN(Number(t.gold_reward))?(o.Toast.make("\u606d\u559c\u4f60\u62bd\u4e2d\u4e86 "+t.gold_reward),s.UserInfo.unlock(g.randomInt(0,6))):(this.getComponent(a.default).hide(),i.default.instance.show("Game/GetDialog",t.gold_reward))},t.prototype.update=function(){},t.prototype.click_close=function(){this._canRotate?this.getComponent(a.default).hide():o.Toast.make("\u6b63\u5728\u7ed9\u60a8\u6311\u9009\u5956\u54c1...")},t.MaxVideoCount=5,__decorate([h(cc.Sprite)],t.prototype,"wheelSp",void 0),__decorate([h([cc.Sprite])],t.prototype,"sprites",void 0),__decorate([h([cc.Label])],t.prototype,"labels",void 0),__decorate([h(cc.Button)],t.prototype,"btn_freedraw",void 0),__decorate([h(cc.Button)],t.prototype,"btn_videodraw",void 0),__decorate([h(cc.Node)],t.prototype,"freedrawTip",void 0),__decorate([h(cc.Label)],t.prototype,"drawLabel",void 0),n=__decorate([p],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../framework/Platform":"Platform","../../../framework/plugin_boosts/gamesys/Device":"Device","../../../framework/plugin_boosts/ui/ToastManager":"ToastManager","../../../framework/plugin_boosts/ui/UIFunctions":"UIFunctions","../../../framework/plugin_boosts/ui/View":"View","../../../framework/plugin_boosts/ui/ViewManager":"ViewManager","../Info":"Info","../hex-lines-game/Res":"Res"}],Main:[function(e,t,n){"use strict";cc._RF.push(t,"979d2m9WlRN0519FkcUBa5E","Main"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../framework/plugin_boosts/ui/ViewManager"),i=e("./Info"),a=e("../../framework/Platform"),s=e("../../framework/plugin_boosts/gamesys/Device"),r=e("./hex-lines-game/Res"),c=e("../../framework/plugin_boosts/ui/ToastManager"),l=cc._decorator,u=l.ccclass,d=(l.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}var n;return __extends(t,e),n=t,t.prototype.onLoad=function(){n.instance=this,a.default.login(),i.UserInfo.init(),s.default.playMusic(r.R.audio_bgm),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u6e38\u620f\u5927\u5385",content:"\u6e38\u620f\u5927\u5385onload"},function(){})},t.prototype.isNextDay=function(e){return this.isGreaterDate(new Date,new Date(e))},t.prototype.isGreaterDate=function(e,t){var n=e.getTime()-t.getTime();return n>864e5||n>0&&e.getDate()!=t.getDate()},t.prototype.start=function(){appGame.gameServerRoom.emit(consts.CLIENT_GAME_START,function(){appGame.banner.playBanner(2)})},t.prototype.click_play=function(){o.default.instance.show("Game/LevelDialog")},t.prototype.toggle_sfx=function(e){s.default.setSoundsEnable(!e.isChecked)},t.prototype.click_skin=function(){o.default.instance.show("Game/ShopDialog")},t.prototype.click_rank=function(){o.default.instance.show("wechat/WxRankDialog")},t.prototype.onShare=function(){},t.prototype.click_share=function(){a.default.share(this.onShare)},t.prototype.click_luck=function(){o.default.instance.show("Game/LuckyDialog")},t.prototype.click_more=function(){c.Toast.make("\u656c\u8bf7\u671f\u5f85")},t.instance=null,n=__decorate([u],t)}(cc.Component));n.default=d,cc._RF.pop()},{"../../framework/Platform":"Platform","../../framework/plugin_boosts/gamesys/Device":"Device","../../framework/plugin_boosts/ui/ToastManager":"ToastManager","../../framework/plugin_boosts/ui/ViewManager":"ViewManager","./Info":"Info","./hex-lines-game/Res":"Res"}],MessageBase:[function(e,t,n){"use strict";cc._RF.push(t,"dde8btrP25FeqHeKW+G4Pfb","MessageBase"),Object.defineProperty(n,"__esModule",{value:!0}),n.MessageBase=void 0;var o=e("./MessageType"),i=e("./Message"),a=e("./ConnectManager"),s=function(){function e(){for(var e in this.Cmd={},this.Error={},this._allFuncs={},game.Command){var t=game.Command[e];this.Cmd[t]=e}for(var e in game.ErrorCode)t=game.ErrorCode[e],this.Error[t]=e}return e.prototype.useSocketKey=function(e){this._socketKey=e},e.prototype.addListener=function(e,t){this._allFuncs[e]=t},e.prototype.removeListener=function(e){null!=this._allFuncs[e]&&(this._allFuncs[e]=null)},e.prototype.onMessage=function(e){if(e.type==o.SocketTag.KSOCKET_MESSAGE){var t=new Uint8Array(e.msg),n=new flatbuffers.ByteBuffer(t),i=game.Package.getRootAsPackage(n);return null!=this._allFuncs[i.cmd()]?this._allFuncs[i.cmd()].call(this,i):this.onHandler(i)}return this.onSocket(e.type),!0},e.prototype.onSocket=function(){},e.prototype.onHandler=function(){return!1},e.prototype.sendMessage=function(e){a.connManager.sendMessage(e,this._socketKey)},e.prototype.onDestory=function(){this._allFuncs=null},e.prototype.send=function(e,t,n,o){void 0===t&&(t=""),void 0===n&&(n=null),void 0===o&&(o=null),console.log("Send Message : ["+this.Cmd[e]+"]");var s=a.connManager.getDefault(),r=new i.Message(e),c=game[t];if(null!=c){null==o&&(o=this.createBuilder());var l=c["start"+t],u=c["end"+t];l.call(c,o),n&&n(o),o.finish(u.call(c,o)),r.addBuilder(o)}else r.addString(t);s.sendMessage(r)},e.prototype.createBuilder=function(){return new flatbuffers.Builder},e}();n.MessageBase=s,cc._RF.pop()},{"./ConnectManager":"ConnectManager","./Message":"Message","./MessageType":"MessageType"}],MessageBoxComponent:[function(e,t,n){"use strict";cc._RF.push(t,"5d14c63Zc1PupexE+EkksQp","MessageBoxComponent"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./View"),i=e("./MessageBoxManager"),a=cc._decorator,s=a.ccclass,r=a.property,c=(a.executeInEditMode,a.playOnFocus,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.node_title=null,t.node_content=null,t.btn_ok=null,t.btn_cancel=null,t.messageBoxCallback=null,t.label_ok=null,t.label_cancel=null,t.group_ok_cancel=null,t.group_ok=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.label_ok=this.btn_ok.getChildByName("Label").getComponent(cc.Label),this.label_cancel=this.btn_cancel.getChildByName("Label").getComponent(cc.Label),this.getComponent(o.default).setDelegate(this),this.bgAnimation=this.node.getChildByName("bg").getComponent(cc.Animation)},t.prototype.onHidden=function(){},t.prototype.onShown=function(e){this.node_title.string=e.title,this.node_content.string=e.content,this.messageBoxCallback=e.callback,e.extra&&(this.label_ok.string=e.extra.okText,this.label_cancel.string=e.extra.cancelText),e.buttons==i.MessageBox.OK_CANCEL?(this.group_ok_cancel.active=!0,this.group_ok.active=!1):(this.group_ok.active=!0,this.group_ok_cancel.active=!1)},t.prototype.start=function(){},t.prototype.on_btn_ok_clicked=function(){this.messageBoxCallback&&this.messageBoxCallback.call(null,i.MessageBox.OK),this.getComponent(o.default).hide()},t.prototype.on_btn_cancel_clicked=function(){this.messageBoxCallback&&this.messageBoxCallback.call(null,i.MessageBox.CANCEL),this.getComponent(o.default).hide()},__decorate([r(cc.Label)],t.prototype,"node_title",void 0),__decorate([r(cc.Label)],t.prototype,"node_content",void 0),__decorate([r(cc.Node)],t.prototype,"btn_ok",void 0),__decorate([r(cc.Node)],t.prototype,"btn_cancel",void 0),__decorate([r(cc.Node)],t.prototype,"group_ok_cancel",void 0),__decorate([r(cc.Node)],t.prototype,"group_ok",void 0),__decorate([s],t)}(cc.Component));n.default=c,cc._RF.pop()},{"./MessageBoxManager":"MessageBoxManager","./View":"View"}],MessageBoxManager:[function(e,t,n){"use strict";cc._RF.push(t,"bc48cBqkERHuJx+iKzOzwOV","MessageBoxManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.MessageBox=void 0;var o=e("./ViewManager"),i=cc._decorator,a=i.ccclass,s=i.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefab=null,t}var n;return __extends(t,e),n=t,t.prototype.onLoad=function(){n.instance=this},t.instance=null,__decorate([s(cc.Prefab)],t.prototype,"prefab",void 0),n=__decorate([a],t)}(cc.Component);n.default=r;var c=function(){function e(){}return e.prototype.start=function(){},e.show=function(e,t,n,i){return t=null==t||null==t?"\u63d0\u793a":t,new Promise(function(a){o.default.instance.showFromPrefab(r.instance.prefab,"MessageBox",{title:t,content:e,buttons:n,extra:i,callback:function(e){a(e)}})})},e.OK=1,e.CANCEL=0,e.OK_CANCEL=2,e}();n.MessageBox=c,cc._RF.pop()},{"./ViewManager":"ViewManager"}],MessageDispatch:[function(e,t,n){"use strict";cc._RF.push(t,"27032HakQBLd5OVLXAxtzCc","MessageDispatch"),Object.defineProperty(n,"__esModule",{value:!0}),n.MessageDispatch=void 0;var o=function(){function e(){this._handler=null,this._allMessageBases={}}return e.getInstance=function(){return null==this._instace&&(this._instace=new e),this._instace},e.prototype.register=function(e,t){return null==e?null:null==t?null:(null==this._allMessageBases[e]&&(this._allMessageBases[e]=[]),this._allMessageBases[e].push(t),t)},e.prototype.isNull=function(e){var t=this._allMessageBases[e];return null!=t&&t.length>0},e.prototype.registerUnique=function(e,t){if(null==e)return null;var n=this._allMessageBases[e];return null!=n&&n.length>0?this._allMessageBases[e][0]:this.register(e,t)},e.prototype.getBean=function(e){if(null==e)return null;var t=this._allMessageBases[e];return null!=t&&t.length>0?t[0]:null},e.prototype.unRegister=function(e){var t=this._allMessageBases[e];if(null!=t){for(var n=0;n<t.length;n++)t[n].onDestory();this._allMessageBases[e]=null,delete this._allMessageBases[e]}},e.prototype.onMessage=function(e){for(var t in this._allMessageBases)if(null!=this._allMessageBases[t])for(var n=this._allMessageBases[t],o=0;o<n.length;o++)if(n[o].onMessage(e))return!0;return!1},e._instace=null,e}();n.MessageDispatch=o,cc._RF.pop()},{}],MessageHandler:[function(e,t,n){"use strict";cc._RF.push(t,"af7b1a7LUJIBaVXazyQWhWN","MessageHandler"),Object.defineProperty(n,"__esModule",{value:!0}),n.MessageHandler=void 0;var o=e("./Message"),i=e("./MessageType"),a=e("./MessageDispatch"),s=function(){function e(e){this._writeMessage=null,this._messages=null,this._messages=[],this._heartbeatTime=0,this._writeMessage=[],this._webSocket=e,this.setHeartbeatInterval(30),this._isEnableHeartbeat=!1}return Object.defineProperty(e.prototype,"enableHeartbeat",{get:function(){return this._isEnableHeartbeat},set:function(e){this._isEnableHeartbeat=e},enumerable:!1,configurable:!0}),e.prototype.setHeartbeatInterval=function(e){e<=0&&(e=1),this._heartbeatInterval=1e3*e},e.prototype.onUpdate=function(){if(this._writeMessage.length>0){var e=(t=this._writeMessage[0]).pack();this._webSocket.readyState==WebSocket.OPEN&&(console.log("size: "+e.byteLength),this._webSocket.send(e),this._writeMessage.shift())}if(this._messages.length>0){var t=this._messages.shift();this.dispatchMessage(t)}return this._isEnableHeartbeat&&this.checkHeartbeat(),!1},e.prototype.checkHeartbeat=function(){(new Date).getTime()-this._heartbeatTime>=this._heartbeatInterval&&(this.sendMessage(new o.Message(game.Command.Heartbeat)),this._heartbeatTime=(new Date).getTime())},e.prototype.dispatchMessage=function(e){a.MessageDispatch.getInstance().onMessage(e)||this._messages.push(e)},e.prototype.dispatchSocket=function(e){var t={type:e};this.dispatchMessage(t)},e.prototype.dispatch=function(e,t){var n=this;if(e==i.SocketTag.KSOCKET_OPEN)clearInterval(this.updateTimer),this.updateTimer=setInterval(function(e){return n.onUpdate(e)},1e3/60),this.dispatchSocket(e);else if(e==i.SocketTag.KSOCKET_CLOSE)clearInterval(this.updateTimer),this.dispatchSocket(e);else if(e==i.SocketTag.KSOCKET_ERROR)clearInterval(this.updateTimer),this.dispatchSocket(e);else if(e==i.SocketTag.KSOCKET_MESSAGE){var o={type:e,msg:t};this.dispatchMessage(o)}},e.prototype.clearWriteMessage=function(){this._writeMessage=[]},e.prototype.clearMessage=function(){this._messages=[]},e.prototype.sendMessage=function(e){this._writeMessage.push(e)},e}();n.MessageHandler=s,cc._RF.pop()},{"./Message":"Message","./MessageDispatch":"MessageDispatch","./MessageType":"MessageType"}],MessageType:[function(e,t,n){"use strict";cc._RF.push(t,"9f654W7umlMeasjS7fKQj29","MessageType"),Object.defineProperty(n,"__esModule",{value:!0}),n.SocketTag=void 0,function(e){e[e.KSOCKET_OPEN=0]="KSOCKET_OPEN",e[e.KSOCKET_CLOSE=1]="KSOCKET_CLOSE",e[e.KSOCKET_MESSAGE=2]="KSOCKET_MESSAGE",e[e.KSOCKET_ERROR=3]="KSOCKET_ERROR"}(n.SocketTag||(n.SocketTag={})),cc._RF.pop()},{}],Message:[function(e,t,n){"use strict";cc._RF.push(t,"fb4e0zpbzJB4YN77Kns7y3M","Message"),Object.defineProperty(n,"__esModule",{value:!0}),n.Message=void 0;var o=function(){function e(e){this._cmd=e,this._data=null}return e.prototype.addBuilder=function(e){this._data=e.asUint8Array()},e.prototype.addString=function(e){this._data=e},e.prototype.pack=function(){var e=this.toString().asUint8Array(),t=new Uint8Array(e);return console.log("send message: "+t),t.buffer},e.prototype.toString=function(){var e=new flatbuffers.Builder,t=null;null!=this._data&&(t=e.createString(this._data)),game.Package.startPackage(e),game.Package.addCmd(e,this._cmd),null!=this._data&&game.Package.addData(e,t);var n=game.Package.endPackage(e);return e.finish(n),e},e}();n.Message=o,cc._RF.pop()},{}],MoreGameComponent:[function(e,t,n){"use strict";cc._RF.push(t,"662f9RcpGtJGpMGll8qVj04","MoreGameComponent"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./MoreGameManager"),i=cc._decorator,a=i.ccclass,s=i.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isManaged=!0,t.refreshInterval=60,t.priority_min=50,t._list=[],t}return __extends(t,e),Object.defineProperty(t.prototype,"count",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"manager",{get:function(){return o.default.instance},enumerable:!1,configurable:!0}),t.prototype.requestTask=function(){var e=this.manager.getTasks(this.priority_min,this.count);this.manager.finishTasks(this._list),this.show(e),this.manager.startTasks(e)},t.prototype.start=function(){},t.prototype.onEnable=function(){this.schedule(this.requestTask,this.refreshInterval,cc.macro.REPEAT_FOREVER,0)},t.prototype.onDisable=function(){this.unschedule(this.requestTask)},t.prototype.onShow=function(){},t.prototype.show=function(e){this._list=e,this.onShow()},Object.defineProperty(t.prototype,"list",{get:function(){return this._list},enumerable:!1,configurable:!0}),__decorate([s],t.prototype,"refreshInterval",void 0),__decorate([s],t.prototype,"priority_min",void 0),__decorate([a],t)}(cc.Component);n.default=r,cc._RF.pop()},{"./MoreGameManager":"MoreGameManager"}],MoreGameDialog:[function(e,t,n){"use strict";cc._RF.push(t,"da60azHmcJF6oz1R2L0H11s","MoreGameDialog"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./MoreGameManager"),i=e("./MoreGameItem"),a=cc._decorator,s=a.ccclass,r=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.root=null,t.banner=null,t.title=null,t.template=null,t.scrollView=null,t.items=[],t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.updateChildWidget=function(e){var t=e.getComponent(cc.Widget);t&&t.updateAlignment()},t.prototype.updateView=function(){var e=this.banner.spriteFrame.getRect(),t=this.root.getContentSize().width/e.width*e.height;this.banner.sizeMode=cc.Sprite.SizeMode.RAW,this.banner.node.height=t,this.banner.getComponent(cc.Widget).updateAlignment();var n=this.scrollView.getComponent(cc.Widget);n.top=t,n.updateAlignment()},t.prototype.onEnable=function(){this.scheduleOnce(this.updateView)},t.prototype.showBanner=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(){return this.banner.spriteFrame.getRect(),this.updateView(),[2]})})},t.prototype.toUserfriendlyNum=function(e){return e>1e4?(e/1e4).toFixed(1)+"\u4e07":e+""},t.prototype.onShown=function(){this.showBanner();var e=o.default.instance.gameList;this.scrollView.content.removeAllChildren(),this.items.splice(0,this.items.length);for(var t=0;t<e.length;t++){var n=e[t],a=cc.instantiate(this.template),s=a.getComponent(i.default);s.title.string=n.title,s.content.string=n.content,s.player_num.string=this.toUserfriendlyNum(n.players||1e5),s.setStar(n.star||4),this.items.push(s),this.scrollView.content.addChild(a),s.btn.clickEvents.length>0&&(s.btn.clickEvents[0].customEventData=t+""),s.btnSelf.clickEvents.length>0&&(s.btnSelf.clickEvents[0].customEventData=t+"")}this.showIcons()},t.prototype.showIcons=function(){return __awaiter(this,void 0,void 0,function(){var e,t,n,i,a;return __generator(this,function(s){switch(s.label){case 0:e=o.default.instance.gameList,t=0,s.label=1;case 1:return t<e.length?(n=e[t],i=this.items[t],a=i.icon,[4,o.default.instance.getSpriteFrame(n.icon)]):[3,4];case 2:a.spriteFrame=s.sent(),s.label=3;case 3:return t++,[3,1];case 4:return[2]}})})},t.prototype.on_click_enter=function(e,t){var n=o.default.instance.gameList[Number(t)];console.log(n),o.default.instance.clickGame(n)},__decorate([r(cc.Node)],t.prototype,"root",void 0),__decorate([r(cc.Sprite)],t.prototype,"banner",void 0),__decorate([r(cc.Label)],t.prototype,"title",void 0),__decorate([r(cc.Node)],t.prototype,"template",void 0),__decorate([r(cc.ScrollView)],t.prototype,"scrollView",void 0),__decorate([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{"./MoreGameItem":"MoreGameItem","./MoreGameManager":"MoreGameManager"}],MoreGameItem:[function(e,t,n){"use strict";cc._RF.push(t,"b9f111MRGFKg7CINn50/KaQ","MoreGameItem"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.title=null,t.content=null,t.icon=null,t.btn=null,t.btnSelf=null,t.star_progress=null,t.player_num=null,t}return __extends(t,e),t.prototype.setStar=function(e){this.star_progress.width=25*e},t.prototype.onLoad=function(){this.btnSelf=this.getComponent(cc.Button)},__decorate([a(cc.Label)],t.prototype,"title",void 0),__decorate([a(cc.Label)],t.prototype,"content",void 0),__decorate([a(cc.Sprite)],t.prototype,"icon",void 0),__decorate([a(cc.Button)],t.prototype,"btn",void 0),__decorate([a(cc.Node)],t.prototype,"star_progress",void 0),__decorate([a(cc.Label)],t.prototype,"player_num",void 0),__decorate([i],t)}(cc.Component);n.default=s,cc._RF.pop()},{}],MoreGameManager:[function(e,t,n){"use strict";cc._RF.push(t,"1f843kK46NKi6g8v7uZN6EC","MoreGameManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.Task=void 0;var o=e("./MoreGameComponent"),i=e("./GameConfigs"),a=cc._decorator,s=a.ccclass,r=a.property,c=function(){function e(e){this.isRunning=!1,this.cd=0,this.max_cd=0,this.id=e}return e.prototype.start=function(){this.isRunning=!0},e.prototype.finish=function(){this.isRunning=!1,this.cd=this.max_cd},e}();n.Task=c;var l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.recommendComps=[],t.gameList=[],t.tasks=[],t.frames={},t}var n;return __extends(t,e),n=t,Object.defineProperty(t,"instance",{get:function(){return null==this._instance&&(this._instance=cc.find("Canvas").addComponent(n)),this._instance},set:function(e){this._instance=e},enumerable:!1,configurable:!0}),t.prototype.getSpriteFrame=function(e){return __awaiter(this,void 0,Promise,function(){var t,n=this;return __generator(this,function(){return null==(t=this.frames[e])?[2,new Promise(function(o,i){console.log("[MoreGameManager] request image:"+e),cc.loader.load({url:e,type:"png"},function(a,s){s?(t=new cc.SpriteFrame(s),n.addSpriteFrame(e,t),o(t)):i()})})]:[2,new Promise(function(e){return e(t)})]})})},t.prototype.addSpriteFrame=function(e,t){return this.frames[e]=t,t},t.prototype.onLoad=function(){n.instance=this},t.prototype.getTasks=function(e,t){for(var n=[],o=0;o<this.tasks.length&&((i=this.tasks[o]).gameConfig.priority&&i.gameConfig.priority>e&&0==i.cd&&(n.push(i),this.tasks.splice(o,1),o--),!(n.length>=t));o++);if(n.length<t)for(o=0;o<this.tasks.length;o++){var i=this.tasks[o];-1==n.indexOf(i)&&(n.push(i),this.tasks.splice(o,1),o--)}return n},t.prototype.finishTasks=function(e){for(var t=0;t<e.length;t++){var n=e[t];n&&n.finish()}},t.prototype.startTasks=function(e){for(var t=0;t<e.length;t++){var n=e[t];n&&n.start()}},t.prototype.createTasks=function(){for(var e=0;e<this.gameList.length;e++){var t=new c(e);t.gameConfig=this.gameList[e],t.gameConfig.priority=t.gameConfig.priority||100,t.max_cd=100/t.gameConfig.priority*10,this.tasks.push(t)}},t.prototype.addList=function(e){if(null!=e){Array.isArray(e)?this.gameList.splice(0,this.gameList.length):this.gameList.push(e),this.gameList.sort(function(e,t){return e.priority?t.priority?t.priority-e.priority:0:1}),this.createTasks();for(var t=0;t<this.recommendComps.length;t++)this.recommendComps[t].requestTask()}},t.prototype.updateFinishedTask=function(){for(var e=0;e<this.tasks.length;e++){var t=this.tasks[e];t.cd>0&&(t.cd=Math.max(0,t.cd-1))}},t.prototype.clickGame=function(e){console.log("\u6253\u5f00\u5c0f\u7a0b\u5e8f..."),wx.navigateToMiniProgram({appId:e.wx_appid,extraData:{wx_appid:i.GameConfig.wx_appid},envVersion:"release",success:function(){console.log("\u6253\u5f00\u5c0f\u7a0b\u5e8f\u6210\u529f :"+e.wx_appid)},fail:function(){console.log("\u6253\u5f00\u5c0f\u7a0b\u5e8f\u5931\u8d25 :"+e.wx_appid)}})},t.prototype.onEnable=function(){this.schedule(this.updateFinishedTask,1,cc.macro.REPEAT_FOREVER)},t.prototype.onDisable=function(){this.unschedule(this.updateFinishedTask)},t.prototype.start=function(){},__decorate([r([o.default])],t.prototype,"recommendComps",void 0),n=__decorate([s],t)}(cc.Component);n.default=l,cc._RF.pop()},{"./GameConfigs":"GameConfigs","./MoreGameComponent":"MoreGameComponent"}],MoreGameStyle:[function(e,t,n){"use strict";cc._RF.push(t,"583d3QfyxhKU6/QqcEwAh29","MoreGameStyle"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./MoreGameComponent"),i=cc._decorator,a=i.ccclass,s=i.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.icons=[],t.buttons=[],t.labels=[],t.datas=[],t}return __extends(t,e),Object.defineProperty(t.prototype,"count",{get:function(){return this.icons.length},enumerable:!1,configurable:!0}),t.prototype.onLoad=function(){for(var e=0;e<this.buttons.length;e++){var t=this.buttons[e],n=new cc.Component.EventHandler;n.target=this.node,n.component="MoreGameStyle",n.handler="onClick",n.customEventData=e+"",t.clickEvents.push(n),this.labels[e].node.active=!1,this.icons[e].node.active=!1,t.interactable=!1}},t.prototype.onClick=function(e,t){var n=Number(t),o=this.list[n];this.manager.clickGame(o.gameConfig)},t.prototype.onShow=function(){for(var e=this.list,t=function(){var t=e[o],i=n.icons[o];t&&(n.labels[o].string=t.gameConfig.title,n.labels[o].node.active=!0,i.node.active=!0,n.buttons[o].interactable=!0,n.manager.getSpriteFrame(t.gameConfig.icon).then(function(e){i.spriteFrame=e}))},n=this,o=0;o<this.icons.length;o++)t()},__decorate([s([cc.Sprite])],t.prototype,"icons",void 0),__decorate([s([cc.Button])],t.prototype,"buttons",void 0),__decorate([s([cc.Label])],t.prototype,"labels",void 0),__decorate([a],t)}(o.default);n.default=r,cc._RF.pop()},{"./MoreGameComponent":"MoreGameComponent"}],Net:[function(e,t,n){"use strict";cc._RF.push(t,"9e139lB+RRCNpxXRSqgoURG","Net"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.httpGet=function(e,t){var n=cc.loader.getXMLHttpRequest();n.onreadystatechange=function(){if(4===n.readyState&&n.status>=200&&n.status<300){var e=n.responseText;t(e)}},n.open("GET",e,!0),cc.sys.isNative&&n.setRequestHeader("Accept-Encoding","gzip,deflate"),n.timeout=5e3,n.send()},e.httpPost=function(e,t,n){var o=cc.loader.getXMLHttpRequest();o.onreadystatechange=function(){if(4===o.readyState&&o.status>=200&&o.status<300){var e=o.responseText;n(e)}else n(-1)},o.open("POST",e,!0),cc.sys.isNative&&o.setRequestHeader("Accept-Encoding","gzip,deflate"),o.timeout=5e3,o.send(t)},e}();n.default=o,cc._RF.pop()},{}],PandoraPoint:[function(e,t,n){"use strict";cc._RF.push(t,"3f36aidibxFPY2TBTu8gRyi","PandoraPoint"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.numberVisible=!0,t}return __extends(t,e),t.prototype.onLoad=function(){this.sprite=this.getComponent(cc.Sprite),this.label=this.getComponentInChildren(cc.Label),this.label.node.active=this.numberVisible},t.prototype.start=function(){},t.prototype.setNumber=function(e){this.numberVisible&&(this.label.string=e+""),this.numberVisible&&(this.label.node.active=0!=e),this.sprite.enabled=0!=e},__decorate([a],t.prototype,"numberVisible",void 0),__decorate([i],t)}(cc.Component);n.default=s,cc._RF.pop()},{}],PauseDialog:[function(e,t,n){"use strict";cc._RF.push(t,"83fb9osUoVEppfk8B6mkJYV","PauseDialog"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../framework/Platform"),i=cc._decorator,a=i.ccclass,s=(i.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){appGame.banner.playBanner(1)},t.prototype.click_share=function(){o.default.share()},t.prototype.click_home=function(){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u6e38\u620f\u754c\u9762",content:"\u70b9\u51fb\u8fd4\u56de\u4e3b\u754c\u9762"},function(){}),cc.director.loadScene("Main")},t.prototype.click_restart=function(){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u8fd4\u56de\u754c\u9762",content:"\u91cd\u65b0\u5f00\u59cb"},function(){}),appGame.gameServerRoom.gameConfigData&&appGame.gameServerRoom.gameConfigData.PauseDialogRestart?appGame.videoBanner.playVideoAd(4,0,function(){cc.director.loadScene("Game")}):cc.director.loadScene("Game")},__decorate([a],t)}(cc.Component));n.default=s,cc._RF.pop()},{"../../../framework/Platform":"Platform"}],Platform:[function(e,t,n){"use strict";cc._RF.push(t,"8fc52zVaq1FVrE4//XvMzeK","Platform"),Object.defineProperty(n,"__esModule",{value:!0});var o,i=e("./wxsdk/sdk"),a=e("./plugin_boosts/ui/ToastManager"),s=e("./qqsdk/BKTool"),r=e("./plugin_boosts/misc/SpriteFrameCache"),c=e("./plugin_boosts/misc/Signal"),l=e("./plugin_boosts/utils/EventManager");(function(e){e[e.Hide=99]="Hide",e[e.Next=100]="Next",e[e.RankSmall=101]="RankSmall",e[e.Rank=102]="Rank"})(o||(o={}));var u=function(){function e(){}return e.getOpenID=function(){if(cc.sys.WECHAT_GAME==cc.sys.platform){var e=i.wxsdk.userInfo;return e&&e.openID?e.openID:""}return cc.sys.QQ_PLAY==cc.sys.platform?GameStatusInfo.openId:"123"},e.getNick=function(){return cc.sys.QQ_PLAY==cc.sys.platform?s.default.getNick():cc.sys.WECHAT_GAME==cc.sys.platform?i.wxsdk.userInfo&&i.wxsdk.userInfo.nickName||"\u81ea\u5df2":"\u73a9\u5bb6\u81ea\u5df2"},e.getHead=function(){if(cc.sys.QQ_PLAY==cc.sys.platform)return s.default.getHead();if(cc.sys.WECHAT_GAME==cc.sys.platform){var e=i.wxsdk.userInfo;return e&&e.avatarUrl?e.avatarUrl:"https://tank.wdfunny.com/speed_logo/2.jpg"}return"https://tank.wdfunny.com/speed_logo/1.jpg"},e.loadHeadQQ=function(e){var t="GameSandBox://_head/"+GameStatusInfo.openId+".jpg",n=BK.FileUtil.isFileExist(t);cc.log(t+" is exit :"+n),n?cc.loader.load(t,function(t,n){null==t&&(e.spriteFrame=new cc.SpriteFrame(n))}):BK.MQQ.Account.getHeadEx(GameStatusInfo.openId,function(t,n){cc.log("openId:"+t+" imgPath:"+n);var o=new Image;o.onload=function(){var t=new cc.Texture2D;t.initWithElement(o),t.handleLoadedTexture(),e.spriteFrame=new cc.SpriteFrame(t)},o.src=n})},e.loadSelfHead=function(t){cc.sys.QQ_PLAY==cc.sys.platform?this.loadHeadQQ(t):r.default.instance.getSpriteFrame(e.getHead()).then(function(e){return t.spriteFrame=e})},e.exit=function(){cc.sys.WECHAT_GAME==cc.sys.platform?(wx.offShow(e.onEnterForeground),wx.offHide(e.onEnterBackground)):(cc.sys.QQ_PLAY,cc.sys.platform)},e.login=function(){var t=this;this.isAndroid="Android"==cc.sys.os,console.log("================= os",cc.sys.os),this.isIOS="iOS"==cc.sys.os,cc.sys.WECHAT_GAME==cc.sys.platform?(i.wxsdk.login(),i.wxsdk.requestConfig(function(e){t.configGetSignal.fire(e)}),wx.onShow(e.onEnterForeground),wx.onHide(e.onEnterBackground)):cc.sys.QQ_PLAY==cc.sys.platform&&(s.default.login(),BK.onEnterForeground(e.onEnterForeground),BK.onEnterBackground(e.onEnterBackground))},e.requestServerConfigs=function(e,t,n){cc.sys.WECHAT_GAME==cc.sys.platform&&i.wxsdk.requestDB(e,t,n)},e.getGameID=function(){return cc.sys.QQ_PLAY==cc.sys.platform&&GameStatusInfo.gameId,"speed_wanyiwan"},e.getLaunchOptions=function(){return cc.sys.WECHAT_GAME==cc.sys.platform?wx.getLaunchOptionsSync():{}},e.getCity=function(){return""},e.share=function(t,n){if(console.log("######\u5f00\u59cb\u5206\u4eab"),cc.sys.WECHAT_GAME==cc.sys.platform){i.wxsdk.openShare();var o=(new Date).getTime();e.onEnterForegroundSignal.on(function(){e.onEnterForegroundSignal.clear(),(new Date).getTime()-o>2333?setTimeout(function(){t&&t.call(n)},500):a.Toast.make("\u5206\u4eab\u5931\u8d25,\u8bf7\u5c1d\u8bd5\u6362\u5176\u5b83\u7fa4\u5206\u4eab")})}else cc.sys.QQ_PLAY==cc.sys.platform?s.default.share(function(e){"success"==e&&t&&t.call(n)}):t&&t.call(n)},e.watch_video=function(t,n){if(console.log("######\u5f00\u59cb\u770b\u89c6\u9891"),cc.sys.WECHAT_GAME==cc.sys.platform)i.wxsdk.loadVideoAd(function(o,i){"load"==o?(cc.audioEngine.pauseMusic(),e.bannnerRefreshEnabled=!1):"close"==o&&(e.bannnerRefreshEnabled=!0,i?t&&t.call(n):a.Toast.make("\u5fc5\u987b\u770b\u5b8c\u89c6\u9891,\u624d\u80fd\u83b7\u53d6\u5956\u52b1"))});else if(cc.sys.QQ_PLAY==cc.sys.platform){cc.audioEngine.pauseMusic();var o=!1;s.default.loadVideoAd(function(e,i){"load"==e?i.show():"finish"==e?o=!0:"close"==e&&(o?t&&t.call(n):a.Toast.make("\u5fc5\u987b\u770b\u5b8c\u89c6\u9891,\u624d\u80fd\u83b7\u53d6\u5956\u52b1"))})}else t&&t.call(n)},e.showBannerAd=function(){console.log("######\u663e\u793aBanner\u5e7f\u544a"),cc.sys.WECHAT_GAME==cc.sys.platform?i.wxsdk.showBannerAd():cc.sys.QQ_PLAY==cc.sys.platform&&s.default.showBannerAd()},e.initBannerAd=function(t){void 0===t&&(t=1),0!=t&&(cc.sys.QQ_PLAY==cc.sys.platform?setInterval(function(){console.log("######\u52a0\u8f7dBanner\u5e7f\u544a"),s.default.hideBannerAd(),s.default.loadBannerAd(function(e){"load"==e&&s.default.showBannerAd()})},3e4):cc.sys.WECHAT_GAME==cc.sys.platform&&setInterval(function(){e.bannnerRefreshEnabled&&(console.log("######\u52a0\u8f7dBanner\u5e7f\u544a"),i.wxsdk.hideBannerAd(),i.wxsdk.loadBannerAd(function(e){"load"==e&&i.wxsdk.showBannerAd()}))},4e4))},e.jumpTo=function(){},e.showRankDialog=function(){console.log("[Platform]#showRankDialog"),a.Toast.make("#[Platform]#showRankDialog")},e.onEnterForeground=function(){console.log("=====================onEnterForeground====================="),cc.sys.platform,cc.sys.QQ_PLAY,cc.audioEngine.resumeMusic(),e.onEnterForegroundSignal.fire(),l.event.emit("onEnterForeground")},e.onEnterBackground=function(){l.event.emit("onEnterBackground")},e.onGameExit=function(){},e.showSmallRank=function(){i.wxsdk.postMessage(o.RankSmall)},e.showRank=function(){i.wxsdk.postMessage(o.Rank)},e.hideRank=function(){i.wxsdk.postMessage(o.RankSmall)},e.getRankList=function(e,t){if(console.log("[Platform]#\u83b7\u53d6\u6392\u884c\u699c\u6570\u636e"),cc.sys.platform==cc.sys.QQ_PLAY)return s.default.getRankList(function(n,o){e&&e.call(t,n,o)});cc.sys.platform,cc.sys.WECHAT_GAME},e.uploadScore=function(e){console.log("[Platform]#\u4e0a\u4f20\u5206\u6570"),e?cc.sys.platform==cc.sys.QQ_PLAY?s.default.uploadScore(e):cc.sys.WECHAT_GAME==cc.sys.platform&&i.wxsdk.uploadScore(e):console.log("score \u4e0a\u4f20\u5931\u8d25\uff1anull")},e.bannnerRefreshEnabled=!0,e.onEnterForegroundSignal=new c.default,e.isAndroid=!1,e.isIOS=!1,e.configGetSignal=new c.default,e}();n.default=u,cc._RF.pop()},{"./plugin_boosts/misc/Signal":"Signal","./plugin_boosts/misc/SpriteFrameCache":"SpriteFrameCache","./plugin_boosts/ui/ToastManager":"ToastManager","./plugin_boosts/utils/EventManager":"EventManager","./qqsdk/BKTool":"BKTool","./wxsdk/sdk":"sdk"}],PoolManager:[function(e,t,n){"use strict";cc._RF.push(t,"69495bpMX5Av5pbrNxnGI8/","PoolManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t,n){this.nodePool={},this.nodes={},this.managed=!1,this.aliveObjects=[],this.onCreateObject=t,this.target=n,this.root=e,e&&e.on(cc.Node.EventType.CHILD_REMOVED,this.onNodeRemove,this)}return e.prototype.onNodeRemove=function(e){this.put(e)},e.prototype.objects=function(){return this.aliveObjects},e.prototype.clearAlives=function(){for(;0<this.aliveObjects.length;)this.aliveObjects[0].removeFromParent()},e.prototype.getPool=function(e){"string"==typeof e&&"number"==typeof e||(e=e._uuid||e.name);var t=this.nodePool[e];return null==t&&(t=new cc.NodePool,this.nodePool[e]=t),t},e.prototype.get=function(e){var t=this.getPool(e).get();return this.onCreateObject&&null==t?(t=this.onCreateObject.call(this.target,e),this.root&&t.setParent(this.root),t||console.warn(t,"onCreateObject must return an object"),this.managed&&this.aliveObjects.push(t),this.nodes[t.uuid]=e,t):(this.root&&t.setParent(this.root),this.managed&&this.aliveObjects.push(t),t)},e.prototype.tag=function(e,t){this.nodes[e.uuid]=t},e.prototype.put=function(e,t){void 0===t&&(t=null),null==t&&(t=this.nodes[e.uuid]),this.getPool(t).put(e),this.managed&&this.aliveObjects.splice(this.aliveObjects.indexOf(e),1)},e.prototype.clear=function(e){if(this.managed&&this.aliveObjects.splice(0,this.aliveObjects.length),e)this.getPool(e).clear();else for(var t in this.nodePool)this.nodePool[t].clear()},e.prototype.size=function(e){return this.getPool(e).size()},e}();n.default=o,cc._RF.pop()},{}],PsFxPlayer:[function(e,t,n){"use strict";cc._RF.push(t,"dc35b3gh69DGIz45mLQJxDM","PsFxPlayer"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./PsFx"),i=e("./Device"),a=cc._decorator,s=a.ccclass,r=a.property,c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.prefab=null,t._fx=null,t.spriteFrame=null,t.duration=-1,t.randomRotaion=!1,t}return __extends(t,e),t.prototype.start=function(){},Object.defineProperty(t.prototype,"fx",{get:function(){if(null==this._fx&&this.prefab){var e=cc.instantiate(this.prefab);if(null==e)return null;var t=e.getComponent(o.default);null==t&&(t=this.addComponent(o.default)),e.setPosition(0,0),e.setParent(this.node),this._fx=t}return this._fx},enumerable:!1,configurable:!0}),t.prototype.isPlaying=function(){return this.fx.isPlaying},t.prototype.onEnable=function(){},t.prototype.onDisable=function(){var e=this._fx;e&&(e.node.active=!1)},t.prototype.sleep=function(e){return new Promise(function(t){setTimeout(function(){t()},e)})},t.prototype.play=function(){return __awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(t){switch(t.label){case 0:return i.default.playEffect(this.audioClip,!1),(e=this.fx)?(e.node.active=!0,this.randomRotaion&&e.reset(),[2,e.play(this.audioClip,this.spriteFrame)]):[3,1];case 1:return this.duration>0?[4,this.sleep(1e3*this.duration)]:[3,3];case 2:t.sent(),t.label=3;case 3:return[2]}})})},__decorate([r(cc.Prefab)],t.prototype,"prefab",void 0),__decorate([r(cc.SpriteFrame)],t.prototype,"spriteFrame",void 0),__decorate([r({type:cc.AudioClip})],t.prototype,"audioClip",void 0),__decorate([r],t.prototype,"duration",void 0),__decorate([r],t.prototype,"randomRotaion",void 0),__decorate([s],t)}(cc.Component);n.default=c,cc._RF.pop()},{"./Device":"Device","./PsFx":"PsFx"}],PsFx:[function(e,t,n){"use strict";cc._RF.push(t,"5e90fpm8LtO1JagTdF3cTrm","PsFx"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./Device"),i=cc._decorator,a=i.ccclass,s=i.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.particles=[],t.animations=[],t.armature=null,t.isPlaying=!1,t.sfx=null,t.sprite=null,t.playedTime=0,t.duration=-1,t.fadeAfterFinish=-1,t.repeatTime=1,t.removeAfterFinish=!1,t}return __extends(t,e),t.prototype.onLoad=function(){null==this.sprite&&(this.sprite=this.getComponent(cc.Sprite));var e=this.getComponent(cc.Animation);e&&this.animations.push(e);var t=this.getComponent(cc.ParticleSystem);t&&this.particles.push(t);for(var n=0;n<this.node.childrenCount;n++){var o=this.node.children[n],i=o.getComponent(cc.ParticleSystem);if(i)this.particles.push(i);else{var a=o.getComponent(cc.Animation);a&&this.animations.push(a)}}"undefined"!=typeof dragonBones&&(this.armature=this.getComponent(dragonBones.ArmatureDisplay),this.armature||(this.armature=this.getComponentInChildren(dragonBones.ArmatureDisplay)))},t.prototype.play=function(e,t){var n=this;void 0===e&&(e=null),void 0===t&&(t=null),this.isPlaying=!0;var i=0;e&&(this.sfx=e),t&&(this.sprite.spriteFrame=t),this.node.active=!0;for(var a=0;a<this.particles.length;a++)(s=this.particles[a]).resetSystem(),i<s.duration&&(i=s.duration+s.life+s.lifeVar);for(a=0;a<this.animations.length;a++){var s,r=(s=this.animations[a]).getClips();if(r&&r.length>0){var c=r[0],l=c.duration/c.speed;l>i&&(i=l),s.play(c.name)}}if(this.sfx&&o.default.playEffect(this.sfx,!1),this.armature){if(this.armature.playAnimation("",this.repeatTime),(i=this.duration)<=0)return new Promise(function(e){n.armature.addEventListener(dragonBones.EventObject.COMPLETE,function(){console.log("armature play complete"),n.removeAfterFinish?n.node.removeFromParent():n.fadeOnFinish(e)})})}else i+=.1;return new Promise(function(e){setTimeout(function(){n.isValid&&(n.removeAfterFinish?n.node.removeFromParent():n.fadeOnFinish(e))},1e3*i)})},t.prototype.fadeOnFinish=function(e){this.isPlaying=!1;for(var t=0;t<this.particles.length;t++)this.particles[t].stopSystem();if(this.fadeAfterFinish>0){var n=cc.sequence(cc.fadeOut(this.fadeAfterFinish),cc.callFunc(e));this.node.runAction(n)}else e()},t.prototype.reset=function(){this.playedTime=0},t.prototype.start=function(){},__decorate([s({type:cc.AudioClip})],t.prototype,"sfx",void 0),__decorate([s(cc.Sprite)],t.prototype,"sprite",void 0),__decorate([s],t.prototype,"duration",void 0),__decorate([s],t.prototype,"fadeAfterFinish",void 0),__decorate([s],t.prototype,"repeatTime",void 0),__decorate([s],t.prototype,"removeAfterFinish",void 0),__decorate([a],t)}(cc.Component);n.default=r,cc._RF.pop()},{"./Device":"Device"}],PsSpawner:[function(e,t,n){"use strict";cc._RF.push(t,"12e8aPL0IBPxYKO3t/sxN/O","PsSpawner"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./PsFx"),i=e("./PoolManager"),a=cc._decorator,s=a.ccclass,r=(a.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.onLoad=function(){this.poolmgr=new i.default},t.prototype.start=function(){},t.prototype.clear=function(){this.poolmgr&&this.poolmgr.clear()},t.prototype.getFx=function(e){var t=this;return new Promise(function(n){var i=t.poolmgr.get(e);if(null==i){if(!(e instanceof cc.Prefab))return void cc.loader.loadRes(e,cc.Prefab,function(a,s){(i=cc.instantiate(s)).setParent(t.node);var r=i.getComponent(o.default);r.name=e,n(r)});i=cc.instantiate(e),t.poolmgr.tag(i,e)}i.setParent(t.node),i.active=!1;var a=i.getComponent(o.default);a.reset(),n(a)})},t.prototype.onFxFinshPlay=function(e){this.poolmgr.put(e.node)},t.prototype.play=function(e,t,n,o,i){return void 0===t&&(t=cc.Vec2.ZERO),void 0===n&&(n=0),__awaiter(this,void 0,void 0,function(){var a;return __generator(this,function(s){switch(s.label){case 0:return[4,this.getFx(e)];case 1:return(a=s.sent()).node.position=t,a.node.rotation=n,[4,a.play(o,i)];case 2:return s.sent(),this.onFxFinshPlay(a),[2]}})})},t.prototype.play2=function(e,t,n,o){return void 0===t&&(t=cc.Vec2.ZERO),void 0===n&&(n=0),void 0===o&&(o=0),__awaiter(this,void 0,void 0,function(){var i;return __generator(this,function(a){switch(a.label){case 0:return[4,this.getFx(e)];case 1:return(i=a.sent()).node.position=t,i.node.scale=o,i.node.rotation=n,[4,i.play()];case 2:return a.sent(),this.onFxFinshPlay(i),[2]}})})},t.prototype.play3=function(e,t){return __awaiter(this,void 0,void 0,function(){var n,o=this;return __generator(this,function(i){switch(i.label){case 0:return[4,this.getFx(e)];case 1:return(n=i.sent()).node.position=t,n.play().then(function(){return o.onFxFinshPlay(n)}),[2,n.node]}})})},__decorate([s],t)}(cc.Component));n.default=r,cc._RF.pop()},{"./PoolManager":"PoolManager","./PsFx":"PsFx"}],Res:[function(e,t,n){"use strict";cc._RF.push(t,"81fb28+15NDNaH9M81MKxwU","Res"),Object.defineProperty(n,"__esModule",{value:!0}),n.R=void 0;var o=cc._decorator,i=o.ccclass,a=o.property;n.R=null;var s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.levelJson=null,t.TilePrefab=null,t.TileShadow=null,t.Line46=null,t.Line37=null,t.Line19=null,t.audio_bgm=null,t.audio_unlock=null,t.audio_invalid=null,t.audio_draw=null,t.audio_down=null,t.audio_win=null,t.audio_link=null,t.audio_get_diamond=null,t.tileTextures=[],t.animalPrefabs=[],t.skinConfig=null,t.luckyConfig=null,t.colors=[],t}return __extends(t,e),t.prototype.onLoad=function(){n.R=this},t.prototype.start=function(){},__decorate([a(cc.JsonAsset)],t.prototype,"levelJson",void 0),__decorate([a(cc.Prefab)],t.prototype,"TilePrefab",void 0),__decorate([a(cc.Prefab)],t.prototype,"TileShadow",void 0),__decorate([a(cc.Prefab)],t.prototype,"Line46",void 0),__decorate([a(cc.Prefab)],t.prototype,"Line37",void 0),__decorate([a(cc.Prefab)],t.prototype,"Line19",void 0),__decorate([a({type:cc.AudioClip})],t.prototype,"audio_bgm",void 0),__decorate([a({type:cc.AudioClip})],t.prototype,"audio_unlock",void 0),__decorate([a({type:cc.AudioClip})],t.prototype,"audio_invalid",void 0),__decorate([a({type:cc.AudioClip})],t.prototype,"audio_draw",void 0),__decorate([a({type:cc.AudioClip})],t.prototype,"audio_down",void 0),__decorate([a({type:cc.AudioClip})],t.prototype,"audio_win",void 0),__decorate([a({type:cc.AudioClip})],t.prototype,"audio_link",void 0),__decorate([a({type:cc.AudioClip})],t.prototype,"audio_get_diamond",void 0),__decorate([a([cc.SpriteFrame])],t.prototype,"tileTextures",void 0),__decorate([a([cc.Prefab])],t.prototype,"animalPrefabs",void 0),__decorate([a(cc.JsonAsset)],t.prototype,"skinConfig",void 0),__decorate([a(cc.JsonAsset)],t.prototype,"luckyConfig",void 0),__decorate([a([cc.Color])],t.prototype,"colors",void 0),__decorate([i],t)}(cc.Component);n.default=s,cc._RF.pop()},{}],ShopDialog:[function(e,t,n){"use strict";cc._RF.push(t,"1b7cbT64WtHxpoRfvlVr4EN","ShopDialog"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./ShopItemTemplate"),i=e("../../../framework/plugin_boosts/misc/SpriteFrameCache"),a=e("../hex-lines-game/Res"),s=e("../../../framework/Platform"),r=e("../Info"),c=e("../../../framework/plugin_boosts/ui/ToastManager"),l=e("../../../framework/plugin_boosts/gamesys/Device"),u=e("../Main"),d=cc._decorator,p=d.ccclass,h=d.property,f=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.scrollview=null,t.freeDiamondLabel=null,t.freeDiamondBtn=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.onShown=function(){var e=this;this.scrollview.showlist(function(t,n){var a=t.getComponent(o.default);a.data=n,a.diamondLabel.string=n.cost;var s=!r.UserInfo.isUnlock(n.id);a.btnBuyNode.active=s,a.maskNode.active=s,a.borderNode.color=cc.Color.WHITE,a.titleLabel.string=n.text,a.selectedFlag.active=r.UserInfo.selectedSkin==n.id,a.btnSignal.add(e.click_unlock,e),i.default.instance.getSpriteFrame("Game/Textures/ThumbBgs/"+n.mini_img+".jpg").then(function(e){return a.bgmini.spriteFrame=e})},a.R.skinConfig.json)},t.prototype.refreshBtnStatus=function(){},t.prototype.click_close=function(){},t.prototype.share_succ=function(){r.UserInfo.addDiamond(50),r.UserInfo.shopFreeDiamondTime=(new Date).getTime(),r.UserInfo.save(),this.refreshBtnStatus()},t.prototype.click_free=function(){var e=r.UserInfo.getChoice(r.ChoiceType.Shop);1==e?s.default.share(this.share_succ,this):0==e?this.share_succ():s.default.watch_video(this.share_succ,this)},t.prototype.selectBg=function(e){r.UserInfo.selectedSkin=e.id,r.UserInfo.save(),this.onShown()},t.prototype.click_unlock=function(e){if(r.UserInfo.isUnlock(e.id))return this.selectBg(e),void c.Toast.make("\u5df2\u9009\u62e9 "+e.text);r.UserInfo.diamond>=e.cost?(r.UserInfo.diamond-=e.cost,r.UserInfo.unlock(e.id),this.selectBg(e),c.Toast.make(cc.js.formatStr("%s\u5df2\u89e3\u9501",e.text)),l.default.playEffect(a.R.audio_unlock),u.default.instance&&u.default.instance.refreshRedpoints()):(c.Toast.make("\u94bb\u77f3\u4e0d\u8db3"),l.default.playEffect(a.R.audio_invalid))},__decorate([h(cc.ScrollView)],t.prototype,"scrollview",void 0),__decorate([h(cc.Label)],t.prototype,"freeDiamondLabel",void 0),__decorate([h(cc.Button)],t.prototype,"freeDiamondBtn",void 0),__decorate([p],t)}(cc.Component);n.default=f,cc._RF.pop()},{"../../../framework/Platform":"Platform","../../../framework/plugin_boosts/gamesys/Device":"Device","../../../framework/plugin_boosts/misc/SpriteFrameCache":"SpriteFrameCache","../../../framework/plugin_boosts/ui/ToastManager":"ToastManager","../Info":"Info","../Main":"Main","../hex-lines-game/Res":"Res","./ShopItemTemplate":"ShopItemTemplate"}],ShopItemTemplate:[function(e,t,n){"use strict";cc._RF.push(t,"0b667/xvIZJapTB+ZTBqkHL","ShopItemTemplate"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../../../framework/plugin_boosts/misc/Signal"),i=cc._decorator,a=i.ccclass,s=i.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.titleLabel=null,t.selectedFlag=null,t.bgmini=null,t.btnBuyNode=null,t.maskNode=null,t.borderNode=null,t.diamondLabel=null,t.btnSignal=new o.default,t.data=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.click_unlock=function(){this.btnSignal.fire(this.data)},__decorate([s(cc.Label)],t.prototype,"titleLabel",void 0),__decorate([s(cc.Node)],t.prototype,"selectedFlag",void 0),__decorate([s(cc.Sprite)],t.prototype,"bgmini",void 0),__decorate([s(cc.Node)],t.prototype,"btnBuyNode",void 0),__decorate([s(cc.Node)],t.prototype,"maskNode",void 0),__decorate([s(cc.Node)],t.prototype,"borderNode",void 0),__decorate([s(cc.Label)],t.prototype,"diamondLabel",void 0),__decorate([a],t)}(cc.Component);n.default=r,cc._RF.pop()},{"../../../framework/plugin_boosts/misc/Signal":"Signal"}],Signal:[function(e,t,n){"use strict";cc._RF.push(t,"bf602DYuhZP7Z8VfN9eJFzO","Signal"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(e,t){this.add(e,t)}return e.prototype.add=function(e,t){this.callback=e,this.target=t},e.prototype.fire=function(){for(var e,t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];this.callback&&(e=this.callback).call.apply(e,__spreadArrays([this.target],t))},e.prototype.on=function(e,t){this.callback=e,this.target=t},e.prototype.clear=function(){this.callback=null},e}();n.default=o,cc._RF.pop()},{}],Socket:[function(e,t,n){"use strict";cc._RF.push(t,"8cfb4mvQk5BQqbWZvml7K36","Socket"),Object.defineProperty(n,"__esModule",{value:!0}),n.Socket=void 0;var o=e("./MessageHandler"),i=e("./MessageType"),a=function(){function e(e){this._config=null,this._reconnetTimes=200,this._defaultTimeout=1e4,this.retryTimer=0,this.initSocket(e)}return e.prototype.initSocket=function(e){this._config=e,this._config.timeout||(this._config.timeout=this._defaultTimeout),this._config.retime&&(this._reconnetTimes=this._config.retime),this.connect()},e.prototype.connect=function(){var e=this,t=this._config.host;this._config.port&&(t=this._config.host+":"+this._config.port),console.log("start connect server>>>>",t),this._webSocket=new WebSocket(t),this._messageHandler=new o.MessageHandler(this._webSocket),this._webSocket.onopen=function(){return e.onSocketOpen()},this._webSocket.onmessage=function(t){return e.onReceiveMessage(t)},this._webSocket.onclose=function(){return e.onSocketClose()},this._webSocket.onerror=function(){return e.onSocketError()}},e.prototype.close=function(){this._webSocket&&this._webSocket.close()},e.prototype.flush=function(){},e.prototype.enableHeartbeat=function(e){this._messageHandler.enableHeartbeat=e},e.prototype.onSocketOpen=function(){console.log("connect "+this._config.host+" success"),this._messageHandler.dispatch(i.SocketTag.KSOCKET_OPEN,"")},e.prototype.onReceiveMessage=function(e){var t=this;void 0===e&&(e=null),console.log("websocket receive message:"+e.data),"undefined"==typeof wx?this.toArrayBuffer(e.data).then(function(e){t._messageHandler.dispatch(i.SocketTag.KSOCKET_MESSAGE,e)}):this._messageHandler.dispatch(i.SocketTag.KSOCKET_MESSAGE,e.data)},e.prototype.toArrayBuffer=function(e){var t,n=new FileReader;return n.readAsArrayBuffer(e),new Promise(function(e){n.onload=function(){t=n.result,e(t)}})},e.prototype.sendMessage=function(e){return this._webSocket.readyState==WebSocket.OPEN&&(this._messageHandler.sendMessage(e),!0)},e.prototype.sendCustomMessage=function(e){this._messageHandler.dispatchMessage(e)},e.prototype.reconnect=function(){var t=this;e.count>=2||this._webSocket.readyState==WebSocket.OPEN?clearTimeout(this.retryTimer):(this._webSocket.readyState==WebSocket.CLOSED&&this.connect(),this.retryTimer=setTimeout(function(){t.reconnect()},this._reconnetTimes))},e.prototype.onSocketClose=function(e){void 0===e&&(e=null),this._messageHandler.dispatch(i.SocketTag.KSOCKET_CLOSE,""),console.log("websocket connect close.",this._webSocket.readyState),this.close(),this.reconnect()},e.prototype.onSocketError=function(e){void 0===e&&(e=null),this._messageHandler.dispatch(i.SocketTag.KSOCKET_ERROR,""),console.log("websocket io error.")},e.count=0,e}();n.Socket=a,cc._RF.pop()},{"./MessageHandler":"MessageHandler","./MessageType":"MessageType"}],SoundHelper:[function(e,t,n){"use strict";cc._RF.push(t,"09a8fa41vxIUZkdgCG77DBM","SoundHelper"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.int=function(){for(var e=0;e<this.music.length;e++)this.music[e].id=-1;cc.sys.platform===cc.sys.QQ_PLAY&&(this.QQMusic=[new BK.Audio(0,"GameRes://"+this.music[0].nativeUrl,-1),new BK.Audio(0,"GameRes://"+this.music[1].nativeUrl,-1),new BK.Audio(0,"GameRes://"+this.music[2].nativeUrl,-1)])},e.playMusic=function(e){if(e=void 0===e?0:e,cc.sys.platform===cc.sys.QQ_PLAY)return-1===this.music[e].id?(this.QQMusic[e].startMusic(),this.music[e].id=1):this.QQMusic[e].resumeMusic(),void(0!==e&&(this.qqFlag=!1));-1===this.music[e].id?this.music[e].id=cc.audioEngine.play(this.music[e],!0,this.musicVolume):cc.audioEngine.resume(this.music[e].id)},e.getSoundContext=function(){var e=this._soundContext[this._soundContext.length];return e?this._soundContext.pop():e=BK.createAudioContext(),e},e.playSound2=function(e){new BK.Audio(1,"GameRes://"+e.toString(),1).startMusic(e)},e.playSound=function(e){null==this.QQSoundContext&&(this.QQSoundContext=BK.createAudioContext({type:"effect"})),this.QQSoundContext.src="GameRes://"+e.toString(),this.QQSoundContext.play()},e.stopMusic=function(e){if(e=void 0===e?0:e,-1!==this.music[e].id){if(cc.sys.platform===cc.sys.QQ_PLAY)return this.QQMusic[e].stopMusic(),this.music[e].id=-1,void(this.QQMusic[e]=new BK.Audio(0,"GameRes://"+this.music[e].nativeUrl,-1));cc.audioEngine.stop(this.music[e].id),this.music[e].id=-1}},e.pauseMusic=function(e){e=void 0===e?0:e,cc.sys.platform!==cc.sys.QQ_PLAY?-1!==this.music[e].id&&cc.audioEngine.AudioState.PLAYING===cc.audioEngine.getState(this.music[e].id)&&cc.audioEngine.pause(this.music[e].id):this.QQMusic[e].pauseMusic()},e.setMusicOff=function(e){if(e)this.playMusic();else for(var t=0;t<this.music.length;t++)this.pauseMusic(t)},e.setSoundOff=function(){},e.setMusicVolume=function(e){this.musicVolume=e;for(var t=0;t<this.music.length;t++)-1!==this.music[t].id&&cc.audioEngine.AudioState.PLAYING===cc.audioEngine.getState(this.music[t].id)&&cc.audioEngine.setVolume(this.music[t].id,this.musicVolume)},e.setSoundVolume=function(){},e.qqMusicResume=function(){cc.sys.platform===cc.sys.QQ_PLAY&&(-1!==this.music[1].id||-1!==this.music[2].id||this.qqFlag||this.playMusic(0))},e.musicVolume=1,e.music=[],e.QQSoundContext=null,e.qqFlag=!0,e._soundContext=[],e}();n.default=o,cc._RF.pop()},{}],SpriteFrameCache:[function(e,t,n){"use strict";cc._RF.push(t,"8756by7qCVIPpJ06/9qmobv","SpriteFrameCache"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){this.frames={}}return Object.defineProperty(e,"instance",{get:function(){return null==this._instance&&(this._instance=new e),this._instance},enumerable:!1,configurable:!0}),e.prototype.getSpriteFrame=function(e){return __awaiter(this,void 0,Promise,function(){var t,n=this;return __generator(this,function(){return null==(t=this.frames[e])?[2,new Promise(function(o,i){e&&""!=e?-1==e.indexOf("http")?cc.loader.loadRes(e,cc.SpriteFrame,function(t,a){t?i():a?(n.addSpriteFrame(e,a),o(a)):i()}):cc.loader.load({url:e,type:"png"},function(a,s){a?i():s?(t=new cc.SpriteFrame(s),n.addSpriteFrame(e,t),o(t)):i()}):i("empty-url")})]:[2,new Promise(function(e){return e(t)})]})})},e.prototype.addSpriteFrame=function(e,t){return this.frames[e]=t,t},e.prototype.clear=function(){for(var e in this.frames){var t=this.frames[e];cc.loader.release(t),delete this.frames[e]}},e.prototype.remove=function(e){var t=this.frames[e];cc.loader.release(t),delete this.frames[e]},e}();n.default=o,cc._RF.pop()},{}],ToastComponent:[function(e,t,n){"use strict";cc._RF.push(t,"c4ad6Rf0DpFeay8D3aly6IU","ToastComponent"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./UIFunctions"),i=cc._decorator,a=i.ccclass,s=i.property,r=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t}return __extends(t,e),t.prototype.onLoad=function(){this.animations=o.default.getChildrenAnimations(this.node)},t.prototype.start=function(){},t.prototype.hide=function(e){this.node.active=!0,o.default.doHideAnimations(this.animations,e)||(this.node.active=!1,e&&e(this))},t.prototype.show=function(e){this.label.string=e,o.default.doShowAnimations(this.animations)},__decorate([s(cc.Label)],t.prototype,"label",void 0),__decorate([a],t)}(cc.Component);n.default=r,cc._RF.pop()},{"./UIFunctions":"UIFunctions"}],ToastManager:[function(e,t,n){"use strict";cc._RF.push(t,"129ed5o6uNHDKhz6KoueBpN","ToastManager"),Object.defineProperty(n,"__esModule",{value:!0}),n.Toast=void 0;var o=e("./ToastComponent"),i=cc._decorator,a=i.ccclass,s=i.property;n.Toast=null;var r=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.start=function(){this.toastPool=new cc.NodePool,n.Toast=this},t.prototype.onDestroy=function(){this.toastPool.clear()},t.prototype.make=function(e,t){void 0===t&&(t=1.3);var n=this.toastPool.get(),i=null;return null==n?null==(i=(n=cc.instantiate(this.prefab)).getComponent(o.default))&&console.warn("Toast.make : Toast Prefab must contains ToastComponent"):i=n.getComponent(o.default),null==n.parent&&this.node.addChild(n,99999),this.show(i,e,t),i},t.prototype.show=function(e,t,n){var o=this;e.show(t),this.scheduleOnce(function(){e.hide(function(){o.toastPool.put(e.node),console.log("Toast.hide toastpool size:",o.toastPool.size())})},n)},__decorate([s(cc.Prefab)],t.prototype,"prefab",void 0),__decorate([a],t)}(cc.Component);n.default=r,cc._RF.pop()},{"./ToastComponent":"ToastComponent"}],UIComponent:[function(e,t,n){"use strict";cc._RF.push(t,"0dc9dQt58ZCx4tQ3mcNvEZr","UIComponent"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=(o.property,function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return __extends(t,e),t.prototype.hide=function(){this.node.active=!1},t.prototype.show=function(){this.node.active=!0},__decorate([i],t)}(cc.Component));n.default=a,cc._RF.pop()},{}],UIFunctions:[function(e,t,n){"use strict";cc._RF.push(t,"10205trRZVOELcrvc3TW2mW","UIFunctions"),Object.defineProperty(n,"__esModule",{value:!0});var o=function(){function e(){}return e.getChildrenAnimations=function(e){var t=[];(o=e.getComponent(cc.Animation))&&t.push(o);for(var n=0;n<e.childrenCount;n++){var o;(o=e.children[n].getComponent(cc.Animation))&&t.push(o)}return t},e.stopAnimations=function(e){e.forEach(function(e){e.stop()})},e.doShowAnimations=function(e,t,n){var o,i=0;if(e.forEach(function(e){var t=e.getClips();if(t.length>0){var n=t[0];e.play(n.name).wrapMode=cc.WrapMode.Normal,n.duration>i&&(i=n.duration,o=e)}}),t){var a=function(){o&&o.off("finished",a),t.call(n)};o?o.on("finished",a):t.call(n)}},e.isAnimationRunning=function(){return!1},e.doHideAnimations=function(e,t,n){var o,i=!1,a=0;if(e.forEach(function(e){var t=e.getClips();if(2==t.length){var n=t[t.length-1];i=!0,e.play(n.name),n.duration>a&&(a=n.duration,o=e)}else 1==t.length&&(n=t[0],i=!0,e.play(n.name).wrapMode=cc.WrapMode.Reverse,n.duration>a&&(a=n.duration,o=e))}),o&&t){var s=function(){o.off("finished",s),t.call(n)};o.on("finished",s)}return i},e.getToggleIndex=function(e){for(var t=e.node.getParent(),n=0;n<t.childrenCount;n++){var o=t.children[n];if(e.node==o)return n}return-1},e.selectToggleIndex=function(e,t){if(null!=e){var n=e.children[t];if(n){var o=n.getComponent(cc.Toggle);o&&(console.log("[UIFunction.selectToggleIndex] :"+t),o.check())}else console.warn("[UIFunction.selectToggleIndex] :cannot find toggle with index:"+t)}else console.warn("[UIFunction.selectToggleIndex] : invalid toggleContainer :")},e.setTouchEnabled=function(){},e.setButtonEnabled=function(e,t){e.node.opacity=t?255:125,e.interactable=t},e}();n.default=o,cc._RF.pop()},{}],ViewManager:[function(e,t,n){"use strict";cc._RF.push(t,"c0f79TopoBICobmtQjrjutG","ViewManager"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./View"),i=cc._decorator,a=i.ccclass,s=i.property,r="[ViewManager]",c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._views={},t.modal=null,t.modalOpacity=160,t}var n;return __extends(t,e),n=t,t.prototype.onLoad=function(){n.instance=this,this.modal.active=!1,this.modal.zIndex=999},t.prototype.onEnable=function(){},t.prototype.onDestroy=function(){for(var e in this._views)delete this._views[e]},t.prototype.start=function(){},t.prototype.getVisibleDialog=function(){for(var e in this._views){var t=this._views[e];if(t.isDialog&&this.isVisible(e))return t}return null},t.prototype.hasVisibleDialog=function(){for(var e in this._views)if(this._views[e].isDialog&&this.isVisible(e))return!0;return!1},t.prototype.isVisible=function(e){var t;return!!(t="string"==typeof e?this._views[e]:e)&&t.node.active},t.prototype.attachViewComp=function(e){var t=null;return null!=t&&null!=t||(null==(t=e.getComponent(o.default))&&(t=e.addComponent(o.default)).init(e.name),this._views[e.name]=t),t},t.prototype.showView=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];return this.modal.active=e.isDialog,(this.hasVisibleDialog()||e.isDialog)&&(this.modal.active=!0),e.isDialog&&(this.modal.opacity=e.opacity),e.show.apply(e,t)},t.prototype.showFromPrefab=function(e,t){for(var n=[],i=2;i<arguments.length;i++)n[i-2]=arguments[i];var a=this._views[t];if(null==a){var s=cc.instantiate(e);null==(a=s.getComponent(o.default))&&((a=s.addComponent(o.default)).isDialog=!0);var c=a.getComponent(cc.Widget);c&&(c.target=cc.find("Canvas")),a.init(t),this._views[t]=a,a.isDialog,this.node.addChild(s,1e3)}return this.node.color.setA(255),console.log(r,"show view:"+t),this.showView.apply(this,__spreadArrays([a],n))},t.prototype.showFromPrefabPath=function(e){for(var t=this,n=[],o=1;o<arguments.length;o++)n[o-1]=arguments[o];var i=this._views[e];if(null!=i&&null!=i)return this.modal.active=i.isDialog,(this.hasVisibleDialog()||i.isDialog)&&(this.modal.active=!0,this.modal.opacity=i.opacity),console.log(r,"show view:"+e,n),i.show.apply(i,n);console.log("start load prefab:"+e);var a=(new Date).getTime();cc.loader.loadRes(e,cc.Prefab,function(o,i){console.log(r,"prefab loaded : "+e+" "+((new Date).getTime()-a)+"ms"),t.showFromPrefab.apply(t,__spreadArrays([i,e],n))})},t.prototype.preload=function(e){var t=this,n=this._views[e];null!=n&&null!=n||cc.loader.loadRes(e,cc.Prefab,function(i,a){console.log(r,"preload view"+e);var s=cc.instantiate(a),c=(n=s.getComponent(o.default)).getComponent(cc.Widget);c&&(c.target=cc.find("Canvas")),n.init(e),t._views[e]=n,n.isDialog,t.node.addChild(s,1e3),n.hide()})},t.prototype.disableTouch=function(e){var t=e.getComponent(o.default);t&&(t.touchEnabled=!1)},t.prototype.enableTouch=function(e){var t=e.getComponent(o.default);t&&(t.touchEnabled=!0)},t.prototype.show=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if("string"==typeof e)return this.showFromPrefabPath.apply(this,__spreadArrays([e],t));if(null!=e&&null!=e){e.node&&(e=e.node);var o=this.attachViewComp(e);return this.showView.apply(this,__spreadArrays([o],t))}},t.prototype.hide=function(e,t){if(void 0===t&&(t=!0),"string"!=typeof e){if(null==e||null==e)return;this.attachViewComp(e),e=e.name}var n=this._views[e];null!=n&&null!=n&&(n.node.active=!1,n.isDialog&&(this.modal.active=!1),this.hasVisibleDialog()&&(this.modal.active=!0),t&&n.doHideAnimation(),n.onHidden())},t.prototype.checkViewStacks=function(){var e=this.getVisibleDialog();e&&(this.modal.active=!0,this.modal.opacity=e.opacity)},t.prototype.hideAll=function(){for(var e in this._views)this.hide(e)},__decorate([s(cc.Node)],t.prototype,"modal",void 0),__decorate([s],t.prototype,"modalOpacity",void 0),n=__decorate([a],t)}(cc.Component);n.default=c,cc._RF.pop()},{"./View":"View"}],View:[function(e,t,n){"use strict";cc._RF.push(t,"e1217OaHDFCEbPP4vjLJXLh","View"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("./UIComponent"),i=e("./ViewManager"),a=e("./UIFunctions"),s=cc._decorator,r=s.ccclass,c=s.property,l=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.isDialog=!1,t.hasWidget=!1,t.opacity=160,t.childrenAnimation=!1,t.touchBlocker=null,t.touchBlockerComp=null,t.animations=[],t._isHiding=!1,t}return __extends(t,e),t.prototype.emit=function(e,t){e.emit(t)},t.prototype.call=function(){},t.prototype.setDelegate=function(e){this.target=e},t.prototype.onLoad=function(){if(this.touchBlocker=new cc.Node,this.touchBlocker.name="TouchBlocker",this.touchBlocker.width=2e3,this.touchBlocker.height=2e3,this.touchBlockerComp=this.touchBlocker.addComponent(cc.BlockInputEvents),this.node.addChild(this.touchBlocker,1e3),this.childrenAnimation)this.animations=a.default.getChildrenAnimations(this.node);else{var e=this.node.getComponent(cc.Animation);e&&this.animations.push(e)}for(var t=this.getComponents(cc.Component),n=0;n<t.length;n++){var o=t[n];if(o!=this&&(o.onShown||o.onHidden)){this.target=o;break}}},t.prototype.start=function(){this.touchEnabled=!0},t.prototype.init=function(e){this.name=e},t.prototype.hideAnimationCallback=function(){this.node.active=this.visible,i.default.instance.checkViewStacks()},t.prototype.doHideAnimation=function(){this.node.active=!0,this._isHiding=!0,a.default.doHideAnimations(this.animations,this.hideAnimationCallback,this)||(this.node.active=!1,this._isHiding=!1),console.log("[View] hide:",this.name),this._visibleDirty=!1},t.prototype.isInHideAnimation=function(){return this._isHiding},t.prototype.onHidden=function(){this._visibleDirty=!1,this.target&&this.target.onHidden&&this.target.onHidden()},t.prototype.hide=function(e){void 0===e&&(e=0),1==e?httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u8fd4\u56de\u754c\u9762",content:"\u70b9\u51fb\u5173\u95ed"},function(){}):2==e&&httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5173\u5361\u9009\u62e9\u754c\u9762",content:"\u70b9\u51fb\u5173\u95ed"},function(){}),this.touchEnabled=!1,i.default.instance.hide(this.node)},Object.defineProperty(t.prototype,"visible",{get:function(){return this._visibleDirty},enumerable:!1,configurable:!0}),t.prototype.showAnimationNextFrame=function(e){var t=this;this.scheduleOnce(function(){a.default.doShowAnimations(t.animations,e)},0)},Object.defineProperty(t.prototype,"touchEnabled",{get:function(){return!this.touchBlocker.active},set:function(e){this.touchBlocker.active=!e},enumerable:!1,configurable:!0}),t.prototype.show=function(){for(var t=this,n=[],o=0;o<arguments.length;o++)n[o]=arguments[o];return e.prototype.show.call(this),console.log("[View] show:",this.name,n),a.default.stopAnimations(this.animations),new Promise(function(e){var o,i=t,s=function(){i.touchEnabled||(i.touchEnabled=!0),e()};t.hasWidget?t.showAnimationNextFrame(s):a.default.doShowAnimations(t.animations,s),t._visibleDirty=!0,t.target&&t.target.onShown&&(o=t.target).onShown.apply(o,n)})},__decorate([c],t.prototype,"isDialog",void 0),__decorate([c],t.prototype,"hasWidget",void 0),__decorate([c],t.prototype,"opacity",void 0),__decorate([c],t.prototype,"childrenAnimation",void 0),__decorate([r],t)}(o.default);n.default=l,cc._RF.pop()},{"./UIComponent":"UIComponent","./UIFunctions":"UIFunctions","./ViewManager":"ViewManager"}],WinDialog:[function(e,t,n){"use strict";cc._RF.push(t,"7d78f0lU+VOW7rncsSfgC5s","WinDialog"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Info"),i=e("../../../framework/Platform"),a=e("../../../framework/plugin_boosts/ui/ViewManager"),s=e("../hex-lines-game/Consts"),r=e("../../../gameComon/scripts/model/appGame"),c=cc._decorator,l=c.ccclass,u=c.property,d=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.ps=null,t.levelLabel=null,t}return __extends(t,e),t.prototype.onLoad=function(){},t.prototype.start=function(){},t.prototype.decreaseFomula=function(e,t,n,o){return e-n/(n+o)*(e-t)},t.prototype.onShown=function(){this.ps.resetSystem(),i.default.showSmallRank(),this.levelLabel.string=cc.js.formatStr("\u5173\u5361 "+o.UserInfo.currentLevel);var e=this.decreaseFomula(.99,.3,o.UserInfo.timePassed+o.UserInfo.stepUsed,o.UserInfo.currentLevel+50);if(o.UserInfo.level==o.UserInfo.currentLevel){var t=o.UserInfo.level;if(o.UserInfo.getChoice(o.ChoiceType.Levelup)>0&&Math.random()>.5&&t>=3)this.scheduleOnce(function(){a.default.instance.show("Game/LevelupDialog",t,e)},1);else{e=Math.min(e,1);var n=Math.floor(Math.max(30*e,10));o.UserInfo.addDiamond(n)}o.UserInfo.level=t+1,i.default.uploadScore(o.UserInfo.level),o.UserInfo.save()}1==o.UserInfo.getChoice(o.ChoiceType.HB)&&o.UserInfo.level>=3&&(o.UserInfo.isUnlock(s.default.FreeSkinId)||a.default.instance.show("Game/HbDialog")),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u7ed3\u7b97\u754c\u9762",content:"\u7b2c"+o.UserInfo.level+"\u5173"},function(){}),appGame.banner.playBanner(1)},t.prototype.click_rank=function(){a.default.instance.show("wechat/WxRankDialog")},t.prototype.click_shop=function(){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u7ed3\u7b97\u754c\u9762",content:"\u70b9\u51fb\u91cd\u73a9"},function(){}),appGame.gameServerRoom.gameConfigData&&appGame.gameServerRoom.gameConfigData.winAgain?r.default.videoBanner.playVideoAd(3,0,function(){cc.director.loadScene("Game")}):cc.director.loadScene("Game")},t.prototype.click_next=function(){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u7ed3\u7b97\u754c\u9762",content:"\u70b9\u51fb\u4e0b\u4e00\u5173"},function(){}),appGame.gameServerRoom.gameConfigData&&appGame.gameServerRoom.gameConfigData.winNextLevel?r.default.videoBanner.playVideoAd(2,0,function(){o.UserInfo.currentLevel=o.UserInfo.currentLevel+1,cc.director.loadScene("Game")}):(o.UserInfo.currentLevel=o.UserInfo.currentLevel+1,cc.director.loadScene("Game"))},t.prototype.click_home=function(){cc.director.loadScene("Main")},t.prototype.click_share=function(){i.default.share()},__decorate([u(cc.ParticleSystem)],t.prototype,"ps",void 0),__decorate([u(cc.Label)],t.prototype,"levelLabel",void 0),__decorate([l],t)}(cc.Component);n.default=d,cc._RF.pop()},{"../../../framework/Platform":"Platform","../../../framework/plugin_boosts/ui/ViewManager":"ViewManager","../../../gameComon/scripts/model/appGame":"appGame","../Info":"Info","../hex-lines-game/Consts":"Consts"}],WxRankDialog:[function(e,t,n){"use strict";cc._RF.push(t,"80fd3Nn4dFF45QylMONs3ro","WxRankDialog"),Object.defineProperty(n,"__esModule",{value:!0});var o=e("../Platform"),i=e("../plugin_boosts/ui/View"),a=e("../plugin_boosts/ui/ViewManager"),s=e("../plugin_boosts/misc/Signal"),r=cc._decorator,c=r.ccclass,l=(r.property,function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.first=!0,t.closeSignal=new s.default,t}return __extends(t,e),t.prototype.onShown=function(e,t){this.closeSignal.on(e,t),this.first?this.scheduleOnce(this.reOpen,.1):o.default.showRank()},t.prototype.reOpen=function(){o.default.showRank(),this.first=!1,this.getComponent(i.default).hide(),a.default.instance.show("wechat/WxRankDialog")},t.prototype.click_close=function(){o.default.hideRank(),this.getComponent(i.default).hide(),this.closeSignal.fire()},__decorate([c],t)}(cc.Component));n.default=l,cc._RF.pop()},{"../Platform":"Platform","../plugin_boosts/misc/Signal":"Signal","../plugin_boosts/ui/View":"View","../plugin_boosts/ui/ViewManager":"ViewManager"}],androidHelper:[function(e,t){"use strict";cc._RF.push(t,"e14abL3OJ9GPoS9lM+R5fsf","androidHelper"),t.exports={start:function(){},getPhonePlatFrom:function(){return jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","getPhonePlatFrom","()Ljava/lang/String;")},getGameName:function(){return jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","getGameName","()Ljava/lang/String;")},clearWelcomeImage:function(){console.log("clear welcome image..."),cc.sys.os==cc.sys.OS_ANDROID&&jsb.reflection.callStaticMethod("org/cocos2dx/javascript/AppActivity","removeLaunchImage","()V")},replacePhoto:function(e,t){cc.eventManager.removeCustomListeners("updateImag"),cc.eventManager.addCustomListener("updateImag",function(e){t(e.getUserData().a)}),jsb.reflection.callStaticMethod("org/cocos2dx/Photo","getLocalImag","(Ljava/lang/String;)Ljava/lang/String;",e)},getPhonePlatFromType:function(){var e=jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","getPhoneType","()Ljava/lang/String;");return parseInt(e)},getVersion:function(){return jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","getLocationVersion","()Ljava/lang/String;")},getChildVersion:function(){return jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","getChildVersion","()Ljava/lang/String;")},getPhoneModel:function(){return jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","getPhoneModel","()Ljava/lang/String;")},getPhoneDeviceID:function(){return jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","deviceID","()Ljava/lang/String;")},getYybIsLogin:function(){return jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","isYybLogin","()Ljava/lang/String;")},getInviteCode:function(){return jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","getInviteInformation","()Ljava/lang/String;")},getRoomNum:function(){return jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","getHouseInformation","()Ljava/lang/String;")},qqLogin:function(e){cc.eventManager.removeCustomListeners("qqLoginResult"),cc.eventManager.addCustomListener("qqLoginResult",function(t){e(t.getUserData().a)}),jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","qqLogin","()V")},wechatLogin:function(e){cc.eventManager.removeCustomListeners("wechatLoginResult"),cc.eventManager.addCustomListener("wechatLoginResult",function(t){e(t.getUserData().a)}),jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","wechatLogin","()V")},deviceLogin:function(){return jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","deviceLogin","(Ljava/lang/String;)Ljava/lang/String;","")},wechatPay:function(e,t){cc.eventManager.removeCustomListeners("wechatPayResult"),cc.eventManager.addCustomListener("wechatPayResult",function(e){t(e.getUserData().a)}),jsb.reflection.callStaticMethod("org/cocos2dx/WechatPay","wechatPay","(Ljava/lang/String;)Ljava/lang/String;",e)},alipayPay:function(e,t){cc.eventManager.removeCustomListeners("alipayPayResult"),cc.eventManager.addCustomListener("alipayPayResult",function(e){t(e.getUserData().a)}),jsb.reflection.callStaticMethod("org/cocos2dx/AlipayPay","alipayPay","(Ljava/lang/String;)Ljava/lang/String;",e)},wechatShare:function(e,t){cc.eventManager.removeCustomListeners("shareWechatResult"),cc.eventManager.addCustomListener("shareWechatResult",function(e){t(Number(e.getUserData().a))}),jsb.reflection.callStaticMethod("org/cocos2dx/WeChat","useWeiXin","(Ljava/lang/String;I)V",e.str,e.type)},openWechat:function(){jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","openWechat","()V")},openQQ:function(){jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","qqHelp","(Ljava/lang/String;)V","2983816547")},playNetSound:function(e,t){cc.eventManager.removeCustomListeners("playNetSoundOver"),cc.eventManager.addCustomListener("playNetSoundOver",function(e){t(e.getUserData().a)}),jsb.reflection.callStaticMethod("org/cocos2dx/SoundInfo","playNetSound","(Ljava/lang/String;)V",e)},playRecorderBegin:function(){jsb.reflection.callStaticMethod("org/cocos2dx/SoundInfo","playRecorderBegin","()V")},playRecorderEnd:function(){jsb.reflection.callStaticMethod("org/cocos2dx/SoundInfo","playRecorderEnd","()V")},uploadRecorder:function(){cc.eventManager.removeCustomListeners("playSoundUrl"),app.playerMgr.getRecordToken(function(e){cc.eventManager.addCustomListener("playSoundUrl",function(e){app.playerMgr.uploadRecord(e.getUserData().a,function(){})}),jsb.reflection.callStaticMethod("org/cocos2dx/SoundInfo","uploadRecorder","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e.url,e.name,e.token)})},getLocationInfo:function(e){if(1==app.creatorPlatformType||2==app.creatorPlatformType)cc.eventManager.removeCustomListeners("baiDuLocationResult"),cc.eventManager.addCustomListener("baiDuLocationResult",function(t){var n=t.getUserData().a.split("###");e({x:n[0],y:n[1]})}),jsb.reflection.callStaticMethod("org/cocos2dx/Map","getLocationInfo","(Ljava/lang/String;)V","cocos");else{var t="108.883452###34.232702".split("###");e({x:t[0],y:t[1]})}},openSetting:function(){jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","openSetting","()V")},getPhoneElectric:function(e){cc.eventManager.removeCustomListeners("getElectric"),cc.eventManager.addCustomListener("getElectric",function(t){e(t.getUserData().a)})},checkApkUpdate:function(e,t,n){cc.eventManager.removeCustomListeners("havingnNewVersion"),cc.eventManager.addCustomListener("havingnNewVersion",function(e){n(e.getUserData().a)}),jsb.reflection.callStaticMethod("com/douyer/helper/VersionManager","checkupVersion","(Ljava/lang/String;Ljava/lang/String;)V",e,t)},thirdLogin:function(e,t){"huawei"==app.phonePlatFrom?(cc.eventManager.removeCustomListeners("accessToken"),cc.eventManager.addCustomListener("accessToken",function(e){t(e.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/huawei/sdk/HuaWeiPay","huaWeiInit","(Ljava/lang/String;)V","MIICcwIBADANBgkqhkiG9w0BAQEFAASCAl0wggJZAgEAAoGBAIyo98FF4bIG0mxNGk2b7so/PBSajxYHYPb2lZQj7ebg6ODIq+6hFO2hdqQ+jOTlQVlVqeAqJncTVBsMPm3s+vrnp42RqzFMYo3b6214VQfjiPjjFXoXUYRU66vfqk5hjaz4TMNJ0BS+PcYB3Yn8dgrhSTrVRYfiYOEbUjy6EKMDAgMBAAECf33Sp807taiKcbBvSBgkZHaGGjhUCaqq7xH7gdICUc01YxuwZhwP+6iVxoslaONYMBy5hDwBeGcL4zBOw4mRcu+flIwNPLS7gZ3UM1XwnlIN6e2IjQSsYbIdXfQ/4Z4Mqhy+v1wv+IjBIR/4t2haxrKJKgVlSEds3tHBQZeko0ECQQD1MzTHtwHZoeP8UtCxUEE8cYoNXRg5lX69hx7y14Y4c//tksSWre2EDkMDzICkyndQrNwY38xrilT1ylO5TEchAkEAktsA4sn50qet+GUBO1T5UvyfhdBcBqZeeAVzpFf2Em1WgWGQGZxQ5ZnY9Uz6uvVMycdYhUfpoAiUZAyNcok5owJAXNfBwWlTIwPAnrcA3FLGEMvw+PRqCsvHTJ5QIqVm5hNOMbekBmXfDGSWDWcuwrcDDKIXSLfc4E9lshelMgFm4QJALwA2vV7lPP17mYdCKKoejefaampwOZSfoYwlIdEhKW6jBA+knf3Aimt926yChrmhlObfNvD4HccBLzAxSRoQPwJALQbPOM6lrHl2qCP+SoJI0xhmIFevkl181YYeXx+3hk1X/fSL/Y9mphaNcbOGc0qAWVhWkcjPeXoE9rzDrjFSmw==")):"oppo"==app.phonePlatFrom?(cc.eventManager.removeCustomListeners("OloginResult"),cc.eventManager.addCustomListener("OloginResult",function(e){t(e.getUserData().a)}),jsb.reflection.callStaticMethod("org/cocos2dx/PayOPPO","Ologin","()V")):"telecom"==app.phonePlatFrom?(cc.eventManager.removeCustomListeners("dianxinLoginResult"),cc.eventManager.addCustomListener("dianxinLoginResult",function(e){t(e.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/dianxin/sdk/DianXinSdk","gotoLogin","()V")):"xiaomi"==app.phonePlatFrom||"meizu"==app.phonePlatFrom?(cc.eventManager.removeCustomListeners("YiSDKLoginCallBack"),cc.eventManager.addCustomListener("YiSDKLoginCallBack",function(e){t(e.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/yijie/sdk/Yisdk","YiSDKInit","(Ljava/lang/String;)V",1)):"yyb"==app.phonePlatFrom?(cc.eventManager.removeCustomListeners("yybLoginResult"),cc.eventManager.addCustomListener("yybLoginResult",function(e){t(e.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/yyb/sdk/YYBhelper","gotoLogin","(Ljava/lang/String;)V",e)):"uc"==app.phonePlatFrom?(cc.eventManager.removeCustomListeners("loginResult"),cc.eventManager.addCustomListener("loginResult",function(e){t(e.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/uc/sdk/UcSdkCode","ucInit","()V")):"360"==app.phonePlatFrom&&(cc.eventManager.removeCustomListeners("loginCallBack"),cc.eventManager.addCustomListener("loginCallBack",function(e){t(e.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/q360/sdk/Sdk360","login360","()V"))},thirdPay:function(e,t){"huawei"==app.phonePlatFrom?(cc.eventManager.removeCustomListeners("huaWeiPayResult"),cc.eventManager.addCustomListener("huaWeiPayResult",function(e){t(e.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/huawei/sdk/HuaWeiPay","huaWeiPay","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e.name,e.price,e.name,e.orderNo,e.key,e.url)):"oppo"==app.phonePlatFrom?(cc.eventManager.removeCustomListeners("OpayResult"),cc.eventManager.addCustomListener("OpayResult",function(e){t(e.getUserData().a)}),jsb.reflection.callStaticMethod("org/cocos2dx/PayOPPO","Opay","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e.name,e.url,e.price,e.orderNo)):"vivo"==app.phonePlatFrom?(cc.eventManager.removeCustomListeners("VPayResult"),cc.eventManager.addCustomListener("VPayResult",function(e){t(e.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/vivo/sdk/VivoSDK","VPay","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e.orderNo,e.url,e.name,e.price)):"xiaomi"==app.phonePlatFrom||"meizu"==app.phonePlatFrom?(cc.eventManager.removeCustomListeners("YiSDKPayResult"),cc.eventManager.addCustomListener("YiSDKPayResult",function(e){t(e.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/yijie/sdk/Yisdk","YiSDKPay","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e.name,e.price,e.orderNo,e.url)):"yyb"==app.phonePlatFrom?(cc.eventManager.removeCustomListeners("yybPayResult"),cc.eventManager.addCustomListener("yybPayResult",function(e){t(e.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/yyb/sdk/YYBhelper","gotoPay","(Ljava/lang/String;)V",e.price)):"telecom"==app.phonePlatFrom?(cc.eventManager.removeCustomListeners("dianxinPayResult"),cc.eventManager.addCustomListener("dianxinPayResult",function(e){t(e.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/dianxin/sdk/DianXinSdk","DianXinPay","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e.price,e.orderNo,e.name)):"baidu"==app.phonePlatFrom?(cc.eventManager.removeCustomListeners("baiduResult"),cc.eventManager.addCustomListener("baiduResult",function(e){t(e.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/baidu/sdk/BaiduSdk","pay","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e.baiduPayId,e.price,e.name,e.orderNo)):"uc"==app.phonePlatFrom&&"wk"==app.appKey?(cc.eventManager.removeCustomListeners("payResult"),cc.eventManager.addCustomListener("payResult",function(e){t(e.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/uc/sdk/UcSdkCode","ucSdkPay","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e.price,e.orderNo,e.url,e.accountId,e.sign)):"uc"==app.phonePlatFrom&&"sd"==app.appKey?(cc.eventManager.removeCustomListeners("payResult"),cc.eventManager.addCustomListener("payResult",function(e){t(e.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/uc/sdk/UcSdkCode","ucSdkPay","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e.name,e.price,e.orderNo,e.url)):"360"==app.phonePlatFrom&&(cc.eventManager.removeCustomListeners("sdk360PayResult"),cc.eventManager.addCustomListener("sdk360PayResult",function(e){t(e.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/q360/sdk/Sdk360","pay360","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e.price,e.name,e.id,e.orderNo,e.url))},loginOut:function(e){"yyb"==app.phonePlatFrom?(cc.eventManager.removeCustomListeners("yybSDKLoginOutCallBack"),cc.eventManager.addCustomListener("yybSDKLoginOutCallBack",function(t){e(t.getUserData().a)}),jsb.reflection.callStaticMethod("com/helper/yyb/sdk/YYBhelper","ChangeAccount","()V")):(cc.eventManager.removeCustomListeners("logOutOk"),cc.eventManager.addCustomListener("logOutOk",function(t){e(t.getUserData().a)}),jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","loginOut","()V"))},exitGame:function(){"huawei"==app.phonePlatFrom||("oppo"==app.phonePlatFrom?jsb.reflection.callStaticMethod("org/cocos2dx/PayOPPO","Oexit","()V"):"xiaomi"==app.phonePlatFrom||"meizu"==app.phonePlatFrom||"yyb"==app.phonePlatFrom?jsb.reflection.callStaticMethod("com/helper/yijie/sdk/Yisdk","YiSDKExit","()V"):"vivo"==app.phonePlatFrom?jsb.reflection.callStaticMethod("com/helper/vivo/sdk/VivoSDK","vivoLoginOut","()V"):"telecom"==app.phonePlatFrom?jsb.reflection.callStaticMethod("com/helper/dianxin/sdk/DianXinSdk","dianxinSdkExit","()V"):"baidu"==app.phonePlatFrom?jsb.reflection.callStaticMethod("com/helper/baidu/sdk/BaiduSdk","quitBaiDu","()V"):"uc"==app.phonePlatFrom?jsb.reflection.callStaticMethod("com/helper/uc/sdk/UcSdkCode","ucSdkExit","()V"):"360"==app.phonePlatFrom&&jsb.reflection.callStaticMethod("com/helper/q360/sdk/Sdk360","quit360","()V"))},getNetworkInfo:function(){return jsb.reflection.callStaticMethod("org/cocos2dx/NetUtil","checkNetworkInfoCreator","()Ljava/lang/String;")},installApk:function(e){jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","installApk","(Ljava/lang/String;)V",e)},getApkFile:function(){return jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","getApkFile","()Ljava/lang/String;")},uploadApk:function(e,t,n){cc.eventManager.removeCustomListeners("uploadApkProgress"),cc.eventManager.addCustomListener("uploadApkProgress",function(e){n(e.getUserData().a)}),jsb.reflection.callStaticMethod("org/cocos2dx/UploadApk","uploadApkFromCreator","(Ljava/lang/String;Ljava/lang/String;)V",e,t)},openUrl:function(e){jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","openUrl","(Ljava/lang/String;)V",e)},openInUrl:function(e,t,n,o,i,a){jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","openInUrl","(Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;Ljava/lang/String;)V",e,t,n,o,i,a)},stopApkDownLoad:function(){jsb.reflection.callStaticMethod("org/cocos2dx/UploadApk","stopUpLoad","()V")},setScreenChange:function(){jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","setScreenChange","(Ljava/lang/String;)V",url)},judgeIfInstallApk:function(e,t){return jsb.reflection.callStaticMethod("org/cocos2dx/UploadApk","judgeIfInstallApk","(Ljava/lang/String;Ljava/lang/String;)Ljava/lang/String;",e,t)},deleAllFiles:function(){jsb.reflection.callStaticMethod("org/cocos2dx/UploadApk","deleAllFiles","()V")},copyToClipboard:function(e){jsb.reflection.callStaticMethod("org/cocos2dx/AndroidHelper","qpCopy","(Ljava/lang/String;)V",e)}},cc._RF.pop()},{}],appGame:[function(e,t){"use strict";cc._RF.push(t,"ed2f8mb9M5M3JYlDEliFk1E","appGame"),e("emitter");var n=cc.Class({properties:{},ctor:function(){cc.log("create new AppGame start");var t;this.gameServerRoom={},this.videoBanner={},this.interstitialAd={},this.banner={},this.nativeAd={},this.gridAd={},this.deviceInfo="",this.userId="",this.nativeAdData=null,this.visibleSize=cc.view.getVisibleSize(),this.platform="",cc.sys.platform==cc.sys.BYTEDANCE_GAME?(this.packageVersion="1.0.4",this.platform="toutiao"):cc.sys.platform==cc.sys.WECHAT_GAME?(this.packageVersion="1.0.0",this.platform="QQ"):cc.sys.platform==cc.sys.BAIDU_GAME?(this.packageVersion="1.0.0",this.platform="baidu"):cc.sys.platform==cc.sys.OPPO_GAME?(this.packageVersion="1.0.0",this.platform="oppo"):cc.sys.platform==cc.sys.XIAOMI_GAME?(this.packageVersion="1.0.0",this.platform="xiaomi"):cc.sys.platform==cc.sys.VIVO_GAME?(this.packageVersion="1.0.0",this.platform="vivo"):cc.sys.platform==cc.sys.ANDROID?(this.packageVersion="1.0.0",this.platform="android"):(this.packageVersion="1.0.4",this.platform="html5"),this.audioMgr=(t=new(e("audioMgr"))(this),cc.log("\u521d\u59cb\u5316AppGame\u65f6\u5df2\u521b\u5efa%s","audioMgr"),t),this.emitter=new o(this),cc.log("create new AppGame end"),this.show2Hide()},statics:{init:function(){window.appGame?cc.log("have window.app, so do nothing"):(cc.log("have no window.AppGame"),window.consts=e("consts"),window.httpUtils=e("httpUtils"),window.async=e("async"),window.underscore=e("underscore"),window.util=e("util"),window.platformFun=e("platformFun"),cc.sys.os==cc.sys.OS_ANDROID&&(window.androidHelper=e("androidHelper")),window.appGame=new n)}},show2Hide:function(){cc.game.on(cc.game.EVENT_SHOW,function(){appGame.interstitialAd&&appGame.interstitialAd.playAd(),appGame.gameServerRoom&&appGame.gameServerRoom.isHadWord&&util.spreadWordFun(),console.log("game enter fore on")}),cc.game.on(cc.game.EVENT_HIDE,function(){console.log("game enter back on"),appGame.gameServerRoom&&appGame.gameServerRoom.wordRid&&util.spreadClose(appGame.gameServerRoom.wordRid)})}});t.exports=n;var o=function(){var e=this.addEventListener;this.on=this.addEventListener=function(t,n,o){e.call(this,t,n,o)};var t=this.removeEventListener;this.off=this.removeEventListener=function(e,n){t.call(this,e,n)}};o.prototype=new EventEmitter,cc._RF.pop()},{androidHelper:"androidHelper",async:"async",consts:"consts",emitter:"emitter",httpUtils:"httpUtils",platformFun:"platformFun",underscore:"underscore",util:"util"}],async:[function(e,t){(function(e,n){"use strict";cc._RF.push(t,"35852wUtjRNI6/OdR5fjH33","async"),function(){var o,i,a={};function s(){}function r(e){var t=!1;return function(){if(t)throw new Error("Callback was already called.");t=!0,e.apply(this,arguments)}}function c(e){var t=!1;return function(){t||(t=!0,e.apply(this,arguments))}}null!=(o="object"==typeof window&&this===window?window:"object"==typeof n&&this===n?n:this)&&(i=o.async),a.noConflict=function(){return o.async=i,a};var l=Object.prototype.toString,u=Array.isArray||function(e){return"[object Array]"===l.call(e)};function d(e){return u(e)||"number"==typeof e.length&&e.length>=0&&e.length%1==0}function p(e,t){return d(e)?h(e,t):m(e,t)}function h(e,t){for(var n=-1,o=e.length;++n<o;)t(e[n],n,e)}function f(e,t){for(var n=-1,o=e.length,i=Array(o);++n<o;)i[n]=t(e[n],n,e);return i}function g(e){return f(Array(e),function(e,t){return t})}function m(e,t){h(v(e),function(n){t(e[n],n)})}var _,v=Object.keys||function(e){var t=[];for(var n in e)e.hasOwnProperty(n)&&t.push(n);return t};function y(e){var t,n,o=-1;return d(e)?(t=e.length,function(){return++o<t?o:null}):(n=v(e),t=n.length,function(){return++o<t?n[o]:null})}function b(e,t){t=t||0;var n=-1,o=e.length;t&&(o=(o-=t)<0?0:o);for(var i=Array(o);++n<o;)i[n]=e[n+t];return i}function C(e){return function(t,n,o){return e(t,o)}}function S(e){return function(t,n,o){o=c(o||s);var i=y(t=t||[]);if(e<=0)return o(null);var a=!1,l=0,u=!1;(function s(){if(a&&l<=0)return o(null);for(;l<e&&!u;){var c=i();if(null===c)return a=!0,void(l<=0&&o(null));l+=1,n(t[c],c,r(function(e){l-=1,e?(o(e),u=!0):s()}))}})()}}function w(e){return function(t,n,o){return e(a.eachOf,t,n,o)}}function k(e,t){return function(n,o,i){return t(S(e),n,o,i)}}function T(e){return function(t,n,o){return e(a.eachOfSeries,t,n,o)}}function R(e,t,n,o){o=c(o||s);var i=[];e(t,function(e,t,o){n(e,function(e,n){i[t]=n,o(e)})},function(e){o(e,i)})}function E(e){return k(e,R)}function M(e,t,n,o){var i=[];e(t=f(t,function(e,t){return{index:t,value:e}}),function(e,t,o){n(e.value,function(t){t&&i.push(e),o()})},function(){o(f(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})}function I(e,t,n,o){var i=[];e(t=f(t,function(e,t){return{index:t,value:e}}),function(e,t,o){n(e.value,function(t){t||i.push(e),o()})},function(){o(f(i.sort(function(e,t){return e.index-t.index}),function(e){return e.value}))})}function A(e,t,n,o){e(t,function(e,t,i){n(e,function(t){t?(o(e),o=s):i()})},function(){o()})}function P(e,t,n){n=n||s;var o=d(t)?[]:{};e(t,function(e,t,n){e(function(e){var i=b(arguments,1);i.length<=1&&(i=i[0]),o[t]=i,n(e)})},function(e){n(e,o)})}function L(e,t,n,o){var i=[];e(t,function(e,t,o){n(e,function(e,t){i=i.concat(t||[]),o(e)})},function(e){o(e,i)})}function D(e,t,n){if(null==t)t=1;else if(0===t)throw new Error("Concurrency must not be zero");function o(e,t,n,o){if(null!=o&&"function"!=typeof o)throw new Error("task callback must be a function");if(e.started=!0,u(t)||(t=[t]),0===t.length&&e.idle())return a.setImmediate(function(){e.drain()});h(t,function(t){var i={data:t,callback:o||s};n?e.tasks.unshift(i):e.tasks.push(i),e.tasks.length===e.concurrency&&e.saturated()}),a.setImmediate(e.process)}function i(e,t){return function(){c-=1;var n=arguments;h(t,function(e){e.callback.apply(e,n)}),e.tasks.length+c===0&&e.drain(),e.process()}}var c=0,l={tasks:[],concurrency:t,saturated:s,empty:s,drain:s,started:!1,paused:!1,push:function(e,t){o(l,e,!1,t)},kill:function(){l.drain=s,l.tasks=[]},unshift:function(e,t){o(l,e,!0,t)},process:function(){if(!l.paused&&c<l.concurrency&&l.tasks.length)for(;c<l.concurrency&&l.tasks.length;){var t=n?l.tasks.splice(0,n):l.tasks.splice(0,l.tasks.length),o=f(t,function(e){return e.data});0===l.tasks.length&&l.empty(),c+=1;var a=r(i(l,t));e(o,a)}},length:function(){return l.tasks.length},running:function(){return c},idle:function(){return l.tasks.length+c===0},pause:function(){l.paused=!0},resume:function(){if(!1!==l.paused){l.paused=!1;for(var e=Math.min(l.concurrency,l.tasks.length),t=1;t<=e;t++)a.setImmediate(l.process)}}};return l}function B(e){return function(t){var n=b(arguments,1);t.apply(null,n.concat([function(t){var n=b(arguments,1);"undefined"!=typeof console&&(t?console.error&&console.error(t):console[e]&&h(n,function(t){console[e](t)}))}]))}}function x(e){return function(t,n,o){e(g(t),n,o)}}function O(e,t){function n(){var n=this,o=b(arguments),i=o.pop();return e(t,function(e,t,i){e.apply(n,o.concat([i]))},i)}if(arguments.length>2){var o=b(arguments,2);return n.apply(this,o)}return n}function F(e){return function(){var t=b(arguments),n=t.pop();t.push(function(){var e=arguments;o?a.setImmediate(function(){n.apply(null,e)}):n.apply(null,e)});var o=!0;e.apply(this,t),o=!1}}"function"==typeof setImmediate&&(_=setImmediate),void 0!==e&&e.nextTick?(a.nextTick=e.nextTick,a.setImmediate=_?function(e){_(e)}:a.nextTick):_?(a.nextTick=function(e){_(e)},a.setImmediate=a.nextTick):(a.nextTick=function(e){setTimeout(e,0)},a.setImmediate=a.nextTick),a.forEach=a.each=function(e,t,n){return a.eachOf(e,C(t),n)},a.forEachSeries=a.eachSeries=function(e,t,n){return a.eachOfSeries(e,C(t),n)},a.forEachLimit=a.eachLimit=function(e,t,n,o){return S(t)(e,C(n),o)},a.forEachOf=a.eachOf=function(e,t,n){n=c(n||s);var o=d(e=e||[])?e.length:v(e).length,i=0;if(!o)return n(null);function a(e){e?n(e):(i+=1)>=o&&n(null)}p(e,function(n,o){t(e[o],o,r(a))})},a.forEachOfSeries=a.eachOfSeries=function(e,t,n){n=c(n||s);var o=y(e=e||[]),i=o();(function s(){var c=!0;if(null===i)return n(null);t(e[i],i,r(function(e){if(e)n(e);else{if(null===(i=o()))return n(null);c?a.nextTick(s):s()}})),c=!1})()},a.forEachOfLimit=a.eachOfLimit=function(e,t,n,o){S(t)(e,n,o)},a.map=w(R),a.mapSeries=T(R),a.mapLimit=function(e,t,n,o){return E(t)(e,n,o)},a.inject=a.foldl=a.reduce=function(e,t,n,o){a.eachOfSeries(e,function(e,o,i){n(t,e,function(e,n){t=n,i(e)})},function(e){o(e||null,t)})},a.foldr=a.reduceRight=function(e,t,n,o){var i=f(e,function(e){return e}).reverse();a.reduce(i,t,n,o)},a.select=a.filter=w(M),a.selectSeries=a.filterSeries=T(M),a.reject=w(I),a.rejectSeries=T(I),a.detect=w(A),a.detectSeries=T(A),a.any=a.some=function(e,t,n){a.eachOf(e,function(e,o,i){t(e,function(e){e&&(n(!0),n=s),i()})},function(){n(!1)})},a.all=a.every=function(e,t,n){a.eachOf(e,function(e,o,i){t(e,function(e){e||(n(!1),n=s),i()})},function(){n(!0)})},a.sortBy=function(e,t,n){function o(e,t){var n=e.criteria,o=t.criteria;return n<o?-1:n>o?1:0}a.map(e,function(e,n){t(e,function(t,o){t?n(t):n(null,{value:e,criteria:o})})},function(e,t){if(e)return n(e);n(null,f(t.sort(o),function(e){return e.value}))})},a.auto=function(e,t){t=c(t||s);var n=v(e),o=n.length;if(!o)return t(null);var i={},r=[];function l(e){r.unshift(e)}function d(e){for(var t=0;t<r.length;t+=1)if(r[t]===e)return void r.splice(t,1)}function p(){o--,h(r.slice(0),function(e){e()})}l(function(){o||t(null,i)}),h(n,function(n){var o=u(e[n])?e[n]:[e[n]];function s(e){var o=b(arguments,1);if(o.length<=1&&(o=o[0]),e){var s={};h(v(i),function(e){s[e]=i[e]}),s[n]=o,t(e,s)}else i[n]=o,a.setImmediate(p)}for(var r,c=o.slice(0,Math.abs(o.length-1))||[],f=c.length;f--;){if(!(r=e[c[f]]))throw new Error("Has inexistant dependency");if(u(r)&&~r.indexOf(n))throw new Error("Has cyclic dependencies")}function g(){return e=function(e,t){return e&&i.hasOwnProperty(t)},t=!0,h(c,function(n){t=e(t,n)}),t&&!i.hasOwnProperty(n);var e,t}g()?o[o.length-1](s,i):l(function e(){g()&&(d(e),o[o.length-1](s,i))})})},a.retry=function(e,t,n){var o=[];function i(i,s){function r(e,t){return function(n){e(function(e,o){n(!e||t,{err:e,result:o})},s)}}for(;e;)o.push(r(t,!(e-=1)));a.series(o,function(e,t){t=t[t.length-1],(i||n)(t.err,t.result)})}return"function"==typeof e&&(n=t,t=e,e=5),e=parseInt(e,10)||5,n?i():i},a.waterfall=function(e,t){if(t=c(t||s),!u(e)){var n=new Error("First argument to waterfall must be an array of functions");return t(n)}if(!e.length)return t();(function e(n){return function(o){if(o)t.apply(null,arguments);else{var i=b(arguments,1),a=n.next();a?i.push(e(a)):i.push(t),F(n).apply(null,i)}}})(a.iterator(e))()},a.parallel=function(e,t){P(a.eachOf,e,t)},a.parallelLimit=function(e,t,n){P(S(t),e,n)},a.series=function(e,t){t=t||s;var n=d(e)?[]:{};a.eachOfSeries(e,function(e,t,o){e(function(e){var i=b(arguments,1);i.length<=1&&(i=i[0]),n[t]=i,o(e)})},function(e){t(e,n)})},a.iterator=function(e){return function t(n){function o(){return e.length&&e[n].apply(null,arguments),o.next()}return o.next=function(){return n<e.length-1?t(n+1):null},o}(0)},a.apply=function(e){var t=b(arguments,1);return function(){return e.apply(null,t.concat(b(arguments)))}},a.concat=w(L),a.concatSeries=T(L),a.whilst=function(e,t,n){e()?t(function(o){if(o)return n(o);a.whilst(e,t,n)}):n(null)},a.doWhilst=function(e,t,n){e(function(o){if(o)return n(o);var i=b(arguments,1);t.apply(null,i)?a.doWhilst(e,t,n):n(null)})},a.until=function(e,t,n){e()?n(null):t(function(o){if(o)return n(o);a.until(e,t,n)})},a.doUntil=function(e,t,n){e(function(o){if(o)return n(o);var i=b(arguments,1);t.apply(null,i)?n(null):a.doUntil(e,t,n)})},a.queue=function(e,t){return D(function(t,n){e(t[0],n)},t,1)},a.priorityQueue=function(e,t){function n(e,t){return e.priority-t.priority}function o(e,t,n){for(var o=-1,i=e.length-1;o<i;){var a=o+(i-o+1>>>1);n(t,e[a])>=0?o=a:i=a-1}return o}function i(e,t,i,r){if(null!=r&&"function"!=typeof r)throw new Error("task callback must be a function");if(e.started=!0,u(t)||(t=[t]),0===t.length)return a.setImmediate(function(){e.drain()});h(t,function(t){var c={data:t,priority:i,callback:"function"==typeof r?r:s};e.tasks.splice(o(e.tasks,c,n)+1,0,c),e.tasks.length===e.concurrency&&e.saturated(),a.setImmediate(e.process)})}var r=a.queue(e,t);return r.push=function(e,t,n){i(r,e,t,n)},delete r.unshift,r},a.cargo=function(e,t){return D(e,1,t)},a.log=B("log"),a.dir=B("dir"),a.memoize=function(e,t){var n={},o={};function i(){var i=b(arguments),s=i.pop(),r=t.apply(null,i);r in n?a.nextTick(function(){s.apply(null,n[r])}):r in o?o[r].push(s):(o[r]=[s],e.apply(null,i.concat([function(){n[r]=b(arguments);var e=o[r];delete o[r];for(var t=0,i=e.length;t<i;t++)e[t].apply(null,arguments)}])))}return t=t||function(e){return e},i.memo=n,i.unmemoized=e,i},a.unmemoize=function(e){return function(){return(e.unmemoized||e).apply(null,arguments)}},a.times=x(a.map),a.timesSeries=x(a.mapSeries),a.timesLimit=function(e,t,n,o){return a.mapLimit(g(e),t,n,o)},a.seq=function(){var e=arguments;return function(){var t=this,n=b(arguments),o=n.slice(-1)[0];"function"==typeof o?n.pop():o=s,a.reduce(e,n,function(e,n,o){n.apply(t,e.concat([function(){var e=arguments[0],t=b(arguments,1);o(e,t)}]))},function(e,n){o.apply(t,[e].concat(n))})}},a.compose=function(){return a.seq.apply(null,Array.prototype.reverse.call(arguments))},a.applyEach=function(){var e=b(arguments);return O.apply(null,[a.eachOf].concat(e))},a.applyEachSeries=function(){var e=b(arguments);return O.apply(null,[a.eachOfSeries].concat(e))},a.forever=function(e,t){var n=r(t||s),o=F(e);(function e(t){if(t)return n(t);o(e)})()},a.ensureAsync=F,void 0!==t&&t.exports?t.exports=a:"undefined"!=typeof define&&define.amd?define([],function(){return a}):o.async=a}(),cc._RF.pop()}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:1}],audioMgr:[function(e,t){"use strict";cc._RF.push(t,"cc057iIkENNC6PSrpbMmYVg","audioMgr");var n=cc.Class({properties:{bgmAudioID:-1,audioId:1,gameMusicAudio:!0,bgUrl:"",bgLoop:!1},ctor:function(){cc.sys.localStorage.setItem("gameMusic",1);var e=cc.sys.localStorage.getItem("gameMusic");this.gameMusicAudio=null!=e&&""!=e,cc.game.on(cc.game.EVENT_HIDE,function(){cc.audioEngine.pauseAll()}),cc.game.on(cc.game.EVENT_SHOW,function(){cc.audioEngine.resumeAll()})},getUrl:function(e,t){this.gameMusicAudio&&cc.assetManager.loadBundle("sound",function(n,o){o.load(e,cc.AudioClip,function(e,n){t(n)}.bind(this))}.bind(this))},getMusicStatus:function(e){var t=cc.sys.localStorage.getItem("gameMusic");e(null!=t&&""!=t)},setMusicOnOff:function(e){e?(this.gameMusicAudio=!0,cc.sys.localStorage.setItem("gameMusic",1),this.bgUrl&&this.playBGM(this.bgUrl,this.bgLoop)):(this.stopAll(),this.gameMusicAudio=!1,cc.sys.localStorage.removeItem("gameMusic"))},playBGM:function(e,t){this.bgUrl=e,this.bgLoop=t,this.getUrl(e,function(e){cc.audioEngine.stop(this.bgmAudioID),this.bgmAudioID=cc.audioEngine.playMusic(e,t),cc.log("this.bgmAudioID====="+this.bgmAudioID)}.bind(this))},playSFX:function(e){this.getUrl(e,function(e){this.audioId=cc.audioEngine.play(e,!1,1)}.bind(this))},pauseBGM:function(){cc.log("pauseBGM"),cc.audioEngine.pause(this.bgmAudioID)},resumeBGM:function(){this.gameMusicAudio&&(cc.log("resumeBGM"),cc.audioEngine.resume(this.bgmAudioID))},pauseAll:function(){cc.audioEngine.pauseAll()},resumeAll:function(){cc.audioEngine.resumeAll()},stopAll:function(){cc.audioEngine.stopAll()}});t.exports=n,cc._RF.pop()},{}],banner:[function(e,t){"use strict";cc._RF.push(t,"4d62c7SXMdKHaht/20V3tyM","banner"),e("../model/appGame");var n=cc.Class({properties:{},ctor:function(){this.instance=null},statics:{create:function(e){if(!this.instance)return this.instance=new n,this.instance.initWithData(e),this.instance}},initWithData:function(){if(this.targetBannerAdWidth=200,cc.sys.platform==cc.sys.BYTEDANCE_GAME){var e=tt.getSystemInfoSync(),t=e.windowWidth,n=e.windowHeight;this.width=t,this.height=n,this.adId="3o8m16pp3e54cqcd5t",appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.bannerId&&appGame.gameServerRoom.commonConfig.bannerId.toutiao&&(this.adId=appGame.gameServerRoom.commonConfig.bannerId.toutiao.adUnitId),console.log("banner \u7b2c\u4e00\u6b21\u521b\u5efa"),this.globalData={bannerAd:tt.createBannerAd({adUnitId:this.adId,style:{width:this.targetBannerAdWidth,top:this.height-this.targetBannerAdWidth/16*9,left:(this.width-this.targetBannerAdWidth)/2}})},this.refreshSize()}else if(cc.sys.platform==cc.sys.WECHAT_GAME&&"QQ"==appGame.platform){var o=qq.getSystemInfoSync(),i=o.windowWidth,a=o.windowHeight;this.targetBannerAdWidth=200,this.width=i,this.height=a,this.adId="4ef215ca5af9c3b454e9d22a676f7992",appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.bannerId&&appGame.gameServerRoom.commonConfig.bannerId.QQ&&(this.adId=appGame.gameServerRoom.commonConfig.bannerId.QQ.adUnitId),console.log("banner \u7b2c\u4e00\u6b21\u521b\u5efa"),this.globalData={bannerAd:qq.createBannerAd({adUnitId:this.adId,style:{width:this.targetBannerAdWidth,top:this.height-this.targetBannerAdWidth/16*9,left:(this.width-this.targetBannerAdWidth)/2}})},this.refreshSize()}},scheduleCallBack:function(){console.log("n\u79d2\u540e\u5237\u65b0"),this.playBanner(3),this.playBanner(2)},playBanner:function(e,t){var n=this;if(void 0===t&&(t=30),cc.director.getScheduler().enableForTarget(this),3!=e){if(2==e?cc.director.getScheduler().schedule(this.scheduleCallBack,this,t):cc.director.getScheduler().unschedule(this.scheduleCallBack,this),cc.sys.platform==cc.sys.BYTEDANCE_GAME)this.globalData&&this.globalData.bannerAd?console.log("banner \u9690\u85cf"):(console.log("banner \u521b\u5efa"),this.globalData={bannerAd:tt.createBannerAd({adUnitId:this.adId,style:{width:this.targetBannerAdWidth,top:this.height-this.targetBannerAdWidth/16*9,left:(this.width-this.targetBannerAdWidth)/2}})},this.refreshSize());else if(cc.sys.platform==cc.sys.BAIDU_GAME){this.globalData&&this.globalData.bannerAd&&(this.globalData.bannerAd.destroy(),this.globalData.bannerAd=null);var o=swan.getSystemInfoSync(),i=o.windowWidth,a=o.windowHeight;this.width=i,this.height=a,appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.bannerId&&appGame.gameServerRoom.commonConfig.bannerId.baidu&&(this.adId=appGame.gameServerRoom.commonConfig.bannerId.baidu.adUnitId),appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.bannerId&&appGame.gameServerRoom.commonConfig.bannerId.baidu&&(this.appId=appGame.gameServerRoom.commonConfig.bannerId.baidu.appSid),this.globalData={bannerAd:swan.createBannerAd({adUnitId:this.adId,appSid:this.appId,style:{width:this.width,top:this.height-this.targetBannerAdWidth/16*9,left:(this.width-this.targetBannerAdWidth)/2}})},this.refreshSize()}this.globalData&&this.globalData.bannerAd&&(console.log("\u64ad\u653ebanner\u5e7f\u544a"),cc.sys.platform==cc.sys.BAIDU_GAME?this.globalData.bannerAd.onLoad(function(){console.log("\u767e\u5ea6banner \u52a0\u8f7d\u5b8c\u6210"),n.globalData.bannerAd.show().then(function(){console.log("\u5c55\u793a\u6210\u529f"),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4dbanner",content:"\u5c55\u793a\u6210\u529f+\u5e7f\u544a\u4f4d+"+adId},function(){})}).catch(function(){console.log("\u5c55\u793a\u5931\u8d25"),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4dbanner",content:"\u5c55\u793a\u5931\u8d25+\u5e7f\u544a\u4f4d+"+adId},function(){})})}):(console.log("\u5f00\u59cb\u5c55\u793a\u5e7f\u544a"),this.globalData.bannerAd.show().then(function(){console.log("\u5c55\u793a\u6210\u529f"),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4dbanner",content:"\u5c55\u793a\u6210\u529f+\u5e7f\u544a\u4f4d+"+n.adId},function(){})}).catch(function(){console.log("\u5c55\u793a\u5931\u8d25"),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4dbanner",content:"\u5c55\u793a\u5931\u8d25+\u5e7f\u544a\u4f4d+"+n.adId},function(){})})))}else cc.director.getScheduler().unschedule(this.scheduleCallBack,this),cc.sys.platform==cc.sys.BYTEDANCE_GAME?this.globalData&&this.globalData.bannerAd&&(this.globalData.bannerAd.hide(),this.globalData.bannerAd.destroy(),this.globalData.bannerAd=null,console.log("\u5b57\u8282\u5e73\u53f0banner \u9500\u6bc1"),this.globalData={bannerAd:tt.createBannerAd({adUnitId:this.adId,style:{width:this.targetBannerAdWidth,top:this.height-this.targetBannerAdWidth/16*9,left:(this.width-this.targetBannerAdWidth)/2}})},this.refreshSize()):cc.sys.platform==cc.sys.WECHAT_GAME?this.globalData&&this.globalData.bannerAd&&(this.globalData.bannerAd.hide(),this.globalData.bannerAd.destroy(),this.globalData.bannerAd=null,console.log("banner \u9500\u6bc1"),this.globalData={bannerAd:wx.createBannerAd({adUnitId:this.adId,style:{width:this.targetBannerAdWidth,top:this.height-this.targetBannerAdWidth/16*9,left:(this.width-this.targetBannerAdWidth)/2}})},this.refreshSize()):cc.sys.platform==cc.sys.WECHAT_GAME&&"QQ"==appGame.platform&&this.globalData.bannerAd.hide()},refreshSize:function(){var e=this;this.globalData&&this.globalData.bannerAd&&(cc.sys.platform!=cc.sys.BYTEDANCE_GAME&&cc.sys.platform!=cc.sys.WECHAT_GAME&&cc.sys.platform!=cc.sys.BAIDU_GAME||this.globalData.bannerAd.onResize(function(t){console.log("banner shezhi\u5927\u5c0f"+e.height+"   "+e.width),e.globalData.bannerAd.style.top=e.height-t.height,e.globalData.bannerAd.style.left=(e.width-t.width)/2}),this.globalData.bannerAd.onError(function(t){console.log("banner \u51fa\u9519"),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4dbanner",content:"\u5c55\u793a\u5931\u8d25+\u5e7f\u544a\u4f4d+"+e.adId+"\u539f\u56e0+"+t.errMsg},function(){})}))}});t.exports=n,cc._RF.pop()},{"../model/appGame":"appGame"}],changeGame:[function(e,t){"use strict";cc._RF.push(t,"afdd0LsL2lP35RKLODURjeW","changeGame"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onChangeGameBtnCallBack,this)},start:function(){},onChangeGameBtnCallBack:function(){cc.sys.platform==cc.sys.BYTEDANCE_GAME&&"ios"!==tt.getSystemInfoSync().platform&&tt.showMoreGamesModal({appLaunchOptions:[{appId:"tt7fbb0906e080eb91",extraData:{}},{appId:"tt71aa0717ee919412",extraData:{}},{appId:"tt83a9f5141c9278e6",extraData:{}},{appId:"tt1b516dec846adc47",extraData:{}},{appId:"ttcf78b9c550430232",extraData:{}},{appId:"tt62341489fd0f437a",extraData:{}}],success:function(e){console.log("success",e.errMsg)},fail:function(e){console.log("fail",e.errMsg)}})}}),cc._RF.pop()},{}],com:[function(e,t){"use strict";cc._RF.push(t,"e25bakBQd9I5LmDR7yLx+Jf","com");var n=function(){};n.dateStr=function(e){var t=e.getMonth()+1,n=e.getDate(),o=e.getHours(),i=e.getMinutes(),a=e.getSeconds();return e.getFullYear()+"-"+(10>t?"0"+t:""+t)+"-"+(10>n?"0"+n:""+n)+" "+(10>o?"0"+o:""+o)+":"+(10>i?"0"+i:""+i)+":"+(10>a?"0"+a:""+a)},n.strDate=function(e){switch(e.length){case 8:e=e.split(":");var t=new Date;return t.setTime(0),t.setUTCHours(e[0]),t.setUTCMinutes(e[1]),t.setUTCSeconds(e[2]),t;case 10:return e=e.split("-"),new Date(e[0],e[1]-1,e[2],0,0,0);case 19:return t=e.split(" "),e=t[0].split("-"),t=t[1].split(":"),new Date(e[0],e[1]-1,e[2],t[0],t[1],t[2]);default:throw"Invalid date format : "+e}},n.cca=function(e,t){var n=e.charCodeAt(t);return n!=n?void 0:n},n.substr=function(e,t,n){return null!=t&&0!=t&&null!=n&&0>n?"":(null==n&&(n=e.length),0>t?0>(t=e.length+t)&&(t=0):0>n&&(n=e.length+n-t),e.substr(t,n))},n.remove=function(e,t){var n=e.indexOf(t);return-1!=n&&(e.splice(n,1),!0)},n.iter=function(e){return{cur:0,arr:e,hasNext:function(){return this.cur<this.arr.length},next:function(){return this.arr[this.cur++]}}},cc._RF.pop()},{}],consts:[function(e,t){"use strict";cc._RF.push(t,"f36fcCR/lBD/qmR2CZ3f4L4","consts"),t.exports={CLIENT_GAME_START:"client.onGameStart",LOCAL_EVENT_POPUP_LOADTIP:"localEventPopupLoadTip",LOCAL_EVENT_POPUP_DIALOG:"localEventPopupDialog",LOCAL_EVENT_POPUP_GAME_COMMON:"localEventPopupGameCommon",LOCAL_GAME_RESULT_NATIVE_AD:"client.onResultNativeAD",CLIENT_GAME_VIDEO_SHOW:"client.onGameShowVideo",CLIENT_GAME_RESULT_VIDEO_SHOW:"client.onGameResultShowVideo",CLIENT_GAME_PLAY_VIDEO:"client.onGamePlayVideo",HTTP_RECORD_SERVER:"https://l.h5120.com/te/tk/gameapplist",HTTP_EVENT_MIDDLE_DESK_CONFIG:"client.onGameMiddleDeskConfig",HTTP_RECORD_PACKAGE:"com.snmi.crazyremove",HTTP_RECORD_PACKAGENAME:"\u75af\u72c2\u6d88\u6d88\u6d88",GAME_ID:15,HTTP_GET_PAAS_DATA_SERVER:"https://cs.snmi.cn/game/GetGameValue",HTTP_GET_GAME_DATA_SERVER:"https://cs.snmi.cn/switch/GetGameValue",HTTP_SPREAD_WORD:"https://s.snmi.cn/game/kl",HTTP_SPREAD_REPORT:"https://t.h5data.com/d/gkl?",HTTP_SPREAD_CLOSE:"https://t.h5data.com/d/gclose?rid="},cc._RF.pop()},{}],dialogBox:[function(e,t){"use strict";cc._RF.push(t,"b7b24I8RWhMxIogfhVLnP+c","dialogBox");var n=cc.Class({extends:cc.Component,properties:{titleLabel:cc.Label,contentLabel:cc.Label,confirmButton:cc.Button,cancelButton:cc.Button,okButton:cc.Button,confirmLabel:cc.Label,cancelLabel:cc.Label,okLabel:cc.Label,confirmCallback:null,cancelCallback:null},onLoad:function(){this.confirmButton.node.active=!1,this.okButton.node.active=!1,this.cancelButton.node.active=!1,this.confirmButton.node.on(cc.Node.EventType.TOUCH_END,this.onConfirmBtnClicked,this),this.cancelButton.node.on(cc.Node.EventType.TOUCH_END,this.onCancelBtnClicked,this),this.okButton.node.on(cc.Node.EventType.TOUCH_END,this.onOkBtnClicked,this)},onConfirmBtnClicked:function(){this.confirmCallback&&this.confirmCallback(),this.hide()},onCancelBtnClicked:function(){this.cancelCallback&&this.cancelCallback(),this.hide()},onOkBtnClicked:function(){this.onConfirmBtnClicked(),this.hide()},show:function(e){(e=e||{}).content&&(this.contentLabel.string=e.content),this.confirmLabel.string=e.confirmLabel||"",this.cancelLabel.string=e.cancelLabel||"",this.okLabel.string=e.okLabel||"",this.confirmCallback=e.confirmCB||e.okCB,this.cancelCallback=e.cancelCB,this.okButton.node.active=!!e.okCB,this.confirmButton.node.active=!e.okCB,this.cancelButton.node.active=!e.okCB},hide:function(){this.node.removeFromParent()}});t.exports=n,cc._RF.pop()},{}],easing:[function(e,t,n){"use strict";function o(e,t,n,o){return n-i(o-e,0,n,o)+t}function i(e,t,n,o){return(e/=o)<1/2.75?7.5625*n*e*e+t:e<2/2.75?n*(7.5625*(e-=1.5/2.75)*e+.75)+t:e<2.5/2.75?n*(7.5625*(e-=2.25/2.75)*e+.9375)+t:n*(7.5625*(e-=2.625/2.75)*e+.984375)+t}cc._RF.push(t,"e6742QWT6FGKZZTNPiWFV4s","easing"),Object.defineProperty(n,"__esModule",{value:!0}),n.easeInOutBounce=n.easeOutBounce=n.easeInBounce=n.easeInOutBack=n.easeOutBack=n.easeInBack=n.easeInOutElastic=n.easeOutElastic=n.easeInElastic=n.easeInOutCirc=n.easeOutCirc=n.easeInCirc=n.easeInOutExpo=n.easeOutExpo=n.easeInExpo=n.easeInOutSine=n.easeOutSine=n.easeInSine=n.easeInOutQuint=n.easeOutQuint=n.easeInQuint=n.easeInOutQuart=n.easeOutQuart=n.easeInQuart=n.easeInOutCubic=n.easeOutCubic=n.easeInCubic=n.easeInOutQuad=n.easeOutQuad=n.easeInQuad=n.linear=void 0,n.linear=function(e,t,n,o){return n*e/o+t},n.easeInQuad=function(e,t,n,o){return n*(e/=o)*e+t},n.easeOutQuad=function(e,t,n,o){return-n*(e/=o)*(e-2)+t},n.easeInOutQuad=function(e,t,n,o){return(e/=o/2)<1?n/2*e*e+t:-n/2*(--e*(e-2)-1)+t},n.easeInCubic=function(e,t,n,o){return n*(e/=o)*e*e+t},n.easeOutCubic=function(e,t,n,o){return n*((e=e/o-1)*e*e+1)+t},n.easeInOutCubic=function(e,t,n,o){return(e/=o/2)<1?n/2*e*e*e+t:n/2*((e-=2)*e*e+2)+t},n.easeInQuart=function(e,t,n,o){return n*(e/=o)*e*e*e+t},n.easeOutQuart=function(e,t,n,o){return-n*((e=e/o-1)*e*e*e-1)+t},n.easeInOutQuart=function(e,t,n,o){return(e/=o/2)<1?n/2*e*e*e*e+t:-n/2*((e-=2)*e*e*e-2)+t},n.easeInQuint=function(e,t,n,o){return n*(e/=o)*e*e*e*e+t},n.easeOutQuint=function(e,t,n,o){return n*((e=e/o-1)*e*e*e*e+1)+t},n.easeInOutQuint=function(e,t,n,o){return(e/=o/2)<1?n/2*e*e*e*e*e+t:n/2*((e-=2)*e*e*e*e+2)+t},n.easeInSine=function(e,t,n,o){return-n*Math.cos(e/o*(Math.PI/2))+n+t},n.easeOutSine=function(e,t,n,o){return n*Math.sin(e/o*(Math.PI/2))+t},n.easeInOutSine=function(e,t,n,o){return-n/2*(Math.cos(Math.PI*e/o)-1)+t},n.easeInExpo=function(e,t,n,o){return 0===e?t:n*Math.pow(2,10*(e/o-1))+t},n.easeOutExpo=function(e,t,n,o){return e===o?t+n:n*(1-Math.pow(2,-10*e/o))+t},n.easeInOutExpo=function(e,t,n,o){return 0===e?t:e===o?t+n:(e/=o/2)<1?n/2*Math.pow(2,10*(e-1))+t:n/2*(2-Math.pow(2,-10*--e))+t},n.easeInCirc=function(e,t,n,o){return-n*(Math.sqrt(1-(e/=o)*e)-1)+t},n.easeOutCirc=function(e,t,n,o){return n*Math.sqrt(1-(e=e/o-1)*e)+t},n.easeInOutCirc=function(e,t,n,o){return(e/=o/2)<1?-n/2*(Math.sqrt(1-e*e)-1)+t:n/2*(Math.sqrt(1-(e-=2)*e)+1)+t},n.easeInElastic=function(e,t,n,o){var i=1.70158,a=0,s=n;return 0===e?t:1==(e/=o)?t+n:(a||(a=.3*o),s<Math.abs(n)?(s=n,i=a/4):i=a/(2*Math.PI)*Math.asin(n/s),-s*Math.pow(2,10*(e-=1))*Math.sin(2*(e*o-i)*Math.PI/a)+t)},n.easeOutElastic=function(e,t,n,o){var i=1.70158,a=0,s=n;return 0===e?t:1==(e/=o)?t+n:(a||(a=.3*o),s<Math.abs(n)?(s=n,i=a/4):i=a/(2*Math.PI)*Math.asin(n/s),s*Math.pow(2,-10*e)*Math.sin(2*(e*o-i)*Math.PI/a)+n+t)},n.easeInOutElastic=function(e,t,n,o){var i=1.70158,a=0,s=n;return 0===e?t:2==(e/=o/2)?t+n:(a||(a=.3*1.5*o),s<Math.abs(n)?(s=n,i=a/4):i=a/(2*Math.PI)*Math.asin(n/s),e<1?s*Math.pow(2,10*(e-=1))*Math.sin(2*(e*o-i)*Math.PI/a)*-.5+t:s*Math.pow(2,-10*(e-=1))*Math.sin(2*(e*o-i)*Math.PI/a)*.5+n+t)},n.easeInBack=function(e,t,n,o,i){return void 0===i&&(i=1.70158),n*(e/=o)*e*((i+1)*e-i)+t},n.easeOutBack=function(e,t,n,o,i){return void 0===i&&(i=1.70158),n*((e=e/o-1)*e*((i+1)*e+i)+1)+t},n.easeInOutBack=function(e,t,n,o,i){return void 0===i&&(i=1.70158),(e/=o/2)<1?n/2*e*e*((1+(i*=1.525))*e-i)+t:n/2*((e-=2)*e*((1+(i*=1.525))*e+i)+2)+t},n.easeInBounce=o,n.easeOutBounce=i,n.easeInOutBounce=function(e,t,n,a){return e<a/2?.5*o(2*e,0,n,a)+t:.5*i(2*e-a,0,n,a)+.5*n+t},cc._RF.pop()},{}],emitter:[function(e,t){"use strict";function n(e){if(e)return o(e)}function o(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}cc._RF.push(t,"bebe1jW6dZFa5TewiY9r4WZ","emitter"),t.exports=n,window.EventEmitter=n,n.prototype.on=n.prototype.addEventListener=function(e,t,n){var o=null;return t&&n?(o=t.bind(n)).fn=t:o=t,this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(o),this},n.prototype.once=function(e,t,n){var o=this;function i(){o.off(e,i),t.apply(n||this,arguments)}return this._callbacks=this._callbacks||{},i.fn=t,this._callbacks=this._callbacks||{},(this._callbacks[e]=this._callbacks[e]||[]).push(i),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,o=this._callbacks[e];if(!o)return this;if(1==arguments.length)return delete this._callbacks[e],this;for(var i=0;i<o.length;i++)if((n=o[i])===t||n.fn===t){o.splice(i,1);break}return this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};var t=[].slice.call(arguments,1),n=this._callbacks[e];if(n)for(var o=0,i=(n=n.slice(0)).length;o<i;++o)n[o].apply(this,t);return this},n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks[e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length},cc._RF.pop()},{}],"g - 001":[function(e,t,n){"use strict";cc._RF.push(t,"bfe6ayXISRPGJZU9+VRaz62","g - 001"),Object.defineProperty(n,"__esModule",{value:!0});var o=cc._decorator,i=o.ccclass,a=o.property,s=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.label=null,t.text="hello",t}return __extends(t,e),t.prototype.start=function(){},t.prototype.randomInt=function(e,t){null==t&&(t=e,e=0);var n=Math.random()*(t-e);return Math.floor(n)+e},t.prototype.getRandomInArray=function(e){if(e)return e[g.randomInt(0,e.length)]},t.prototype.randomFloat=function(e,t){return Math.random()*(t-e)+e},t.prototype.isNextDay=function(e){return g.isGreaterDate(new Date,new Date(e))},t.prototype.isGreaterDate=function(e,t){var n=e.getTime()-t.getTime();return n>864e5||n>0&&e.getDate()!=t.getDate()},__decorate([a(cc.Label)],t.prototype,"label",void 0),__decorate([a],t.prototype,"text",void 0),__decorate([i],t)}(cc.Component);n.default=s,cc._RF.pop()},{}],gameSceneManager:[function(e,t){"use strict";cc._RF.push(t,"6be4flAQQJHL6gxxNXHg9Az","gameSceneManager");var n=null,o=cc.Class({extends:cc.Component,properties:{},onLoad:function(){null==n&&((n=e("appGame")).init(),this.initAppData(function(){var t=e("roomGame");appGame.gameServerRoom=t.create({})}.bind(this))),appGame.emitter.on(consts.HTTP_EVENT_MIDDLE_DESK_CONFIG,this.refreshGameConfig),appGame.emitter.on(consts.LOCAL_EVENT_POPUP_LOADTIP,this.showLoadTipFun),appGame.emitter.on(consts.LOCAL_EVENT_POPUP_DIALOG,this.showDialogFun),appGame.emitter.on(consts.LOCAL_EVENT_POPUP_GAME_COMMON,this.showCommonUIFun)},onDestroy:function(){appGame.emitter.off(consts.HTTP_EVENT_MIDDLE_DESK_CONFIG,this.refreshGameConfig),appGame.emitter.off(consts.LOCAL_EVENT_POPUP_DIALOG,this.showDialogFun),appGame.emitter.off(consts.LOCAL_EVENT_POPUP_LOADTIP,this.showLoadTipFun),appGame.emitter.off(consts.LOCAL_EVENT_POPUP_GAME_COMMON,this.showCommonUIFun)},refreshGameConfig:function(){var t=e("videoBanner");appGame.videoBanner=t.create({});var n=e("interstitialAd");appGame.interstitialAd=n.create({});var o=e("banner");appGame.banner=o.create({});var i=e("wxnativeAd");appGame.nativeAd=i.create({});var a=e("wxgridAd");appGame.gridAd=a.create({})},initAppData:function(e){if(appGame.userId=cc.sys.localStorage.getItem("snmi_guid"),null!=appGame.userId&&""!=appGame.userId||(appGame.userId=util.guid(),cc.sys.localStorage.setItem("snmi_guid",appGame.userId)),cc.sys.platform===cc.sys.VIVO_GAME?qg&&qg.getSystemInfo({success:function(e){appGame.deviceInfo=e}}):cc.sys.platform==cc.sys.BAIDU_GAME?swan.getSystemInfo({success:function(e){console.log(e),appGame.deviceInfo=e},fail:function(){console.log("getSystemInfo \u8c03\u7528\u5931\u8d25")}}):cc.sys.platform==cc.sys.BYTEDANCE_GAME?tt.getSystemInfo({success:function(e){console.log(e),appGame.deviceInfo=e},fail:function(){console.log("getSystemInfo \u8c03\u7528\u5931\u8d25")}}):cc.sys.platform==cc.sys.MOBILE_BROWSER||cc.sys.platform==cc.sys.DESKTOP_BROWSER?appGame.deviceInfo="":cc.sys.platform==cc.sys.OPPO_GAME?qg.getSystemInfo({success:function(e){appGame.deviceInfo=e},fail:function(){},complete:function(){}}):cc.sys.platform==cc.sys.XIAOMI_GAME?qg.getSystemInfo({success:function(e){appGame.deviceInfo=e},fail:function(){},complete:function(){}}):(cc.sys.platform,cc.sys.ANDROID,appGame.deviceInfo=""),"html5"==appGame.platform){var t=cc.sys.localStorage.getItem("snmi_loadtime"),n=0;null!=t&&(n=(new Date).getTime()-parseInt(t)),n=(n/1e3).toFixed(2),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u8fdb\u5165APP",content:"\u8fdb\u5165\u65f6\u957f",desc:n+"\u79d2"},function(){})}else httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u767b\u5f55",content:"\u8fdb\u5165\u4e3b\u754c\u9762"},function(){});var o=cc.sys.localStorage.getItem("snmi_bingdu_entercount");null==o||""==o?(o=1,cc.sys.localStorage.setItem("snmi_bingdu_entercount",1)):(o=parseInt(o),o++,cc.sys.localStorage.setItem("snmi_bingdu_entercount",o)),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u6253\u5f00APP",content:"\u8fdb\u5165\u6e38\u620f\u6b21\u6570\u7edf\u8ba1",desc:o+"\u6b21"},function(){}),e()},disConnectFun:function(){appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_DIALOG,{title:"\u63d0\u793a",content:"\u7f51\u7edc\u5df2\u65ad\u5f00\n\u662f\u5426\u9000\u51fa\u91cd\u8fde\uff1f",okLabel:"\u786e\u5b9a",okCB:function(){}.bind(this)})},showCommonUIFun:function(e){(function(e,t){e&&e.prefabName&&(cc.log("prefabName=="+e.prefabName),cc.assetManager.loadBundle("comPrefab",function(n,o){o.load(e.prefabName,cc.Prefab,function(n,o){if(n)cc.error(n);else{var i=!1,a=cc.find("Canvas");if(a.childrenCount>0)for(var s=0;s<a.children.length;s++)if(a.children[s].name==e.prefabName){i=!0;break}if(!i){var r=cc.instantiate(o);a.addChild(r);var c=r.getComponent(e.prefabName);c&&c.show&&c.show(e),r.zIndex=t,r.active=!0}}}.bind(this))}.bind(this)))})(e=e||{},e.zIndex||1300)},showDialogFun:function(e){(function(e,t,n){cc.assetManager.loadBundle("comPrefab",function(e,o){o.load("dialogBox",cc.Prefab,function(e,o){if(e)cc.error(e);else{var i=cc.find("Canvas");if(i.childrenCount>0)for(var a=0;a<i.children.length;a++)"dialogBox"==i.children[a].name&&i.children[a].removeFromParent();var s=cc.instantiate(o);i.addChild(s);var r=s.getComponent("dialogBox");r&&r.show&&r.show(t),s.zIndex=n,s.active=!0}}.bind(this))}.bind(this))})(0,e=e||{},e.zIndex||1400)},showLoadTipFun:function(e){(function(e,t,n){cc.assetManager.loadBundle("comPrefab",function(e,o){o.load("loadTip",cc.Prefab,function(e,o){if(e)cc.error(e);else{var i=cc.find("Canvas");if(i.childrenCount>0)for(var a=0;a<i.children.length;a++)"loadTip"==i.children[a].name&&i.children[a].removeFromParent();var s=cc.instantiate(o);i.addChild(s);var r=s.getComponent("loadTip");r&&r.show&&r.show(t),s.zIndex=n,s.active=!0}}.bind(this))}.bind(this))})(0,e=e||{},e.zIndex||1500)},showGameHelpFun:function(e){(function(e,t,n){cc.loader.loadRes("gameComon/prefab/helpPanel",cc.Prefab,function(e,o){if(e)cc.error(e);else{var i=cc.instantiate(o);cc.find("Canvas").addChild(i);var a=i.getComponent("helpPanel");a&&a.show&&a.show(t),i.zIndex=n,i.active=!0}})})(0,e=e||{},e.zIndex||1e3)}});t.exports=o,cc._RF.pop()},{appGame:"appGame",banner:"banner",interstitialAd:"interstitialAd",roomGame:"roomGame",videoBanner:"videoBanner",wxgridAd:"wxgridAd",wxnativeAd:"wxnativeAd"}],horn:[function(e,t){"use strict";cc._RF.push(t,"40fbfZFpRVEpo0R8nzzeIHb","horn"),cc.Class({extends:cc.Component,properties:{sprite:[cc.SpriteFrame],bg:cc.Sprite},onLoad:function(){this.node.on(cc.Node.EventType.TOUCH_END,this.onClickTouchEnd,this),appGame.audioMgr.getMusicStatus(function(e){this.bg.spriteFrame=e?this.sprite[0]:this.sprite[1]}.bind(this))},start:function(){},onClickTouchEnd:function(){appGame.audioMgr.getMusicStatus(function(e){appGame.audioMgr.setMusicOnOff(!e),this.bg.spriteFrame=e?this.sprite[1]:this.sprite[0]}.bind(this))}}),cc._RF.pop()},{}],httpUtils:[function(e,t){"use strict";cc._RF.push(t,"1c82dl9OYBOLaaJO15Yt8bQ","httpUtils"),t.exports={onLoad:function(){},httpGet:function(e,t){var n=cc.loader.getXMLHttpRequest();n.onreadystatechange=function(){if(4===n.readyState&&n.status>=200&&n.status<300){var e=n.responseText;t&&t(null,e)}else 4===n.readyState&&(n.status>400||0==n.status)&&t&&t(n.status)},n.onerror=function(){cc.log("httpUtils onreadystatechange  onerror===="+n.readyState+"==="+n.status),(4==n.readyState&&0==n.status||1==n.readyState&&0==n.status)&&t&&t(503)},cc.sys.isNative&&n.setRequestHeader("Accept-Encoding","gzip,deflate"),n.open("GET",e,!0),n.timeout=5e3,n.send()},httpGets:function(e,t){cc.log("url=="+e);var n=cc.loader.getXMLHttpRequest(),o=!1,i=setTimeout(function(){o=!0,n.abort(),t()},2e3);n.onreadystatechange=function(){if(4==n.readyState){if(o)return;if(clearTimeout(i),n.status>=200&&n.status<300){var e=n.responseText;e&&t(e)}else(n.status>400||0==n.status)&&t("false")}},n.open("GET",e,!0),n.setRequestHeader("Content-Type","text/plain;charset=UTF-8"),cc.sys.isNative&&n.setRequestHeader("Accept-Encoding","gzip,deflate"),n.send()},httpPost:function(e,t,n){var o=[],i=cc.sys.localStorage.getItem("snmi_guid");o.snmi=encodeURIComponent(JSON.stringify(i)),o.deviceInfo=encodeURIComponent(JSON.stringify(appGame.deviceInfo)),o.timestamp=(new Date).getTime();var a={package:consts.HTTP_RECORD_PACKAGE,packageName:consts.HTTP_RECORD_PACKAGENAME,packageVersion:appGame.packageVersion,versionCode:"1",platfrom:appGame.platform};o.manifest=encodeURIComponent(JSON.stringify(a)),o.title=encodeURIComponent(t.title),o.content=encodeURIComponent(t.content),t.desc?o.desc=encodeURIComponent(t.desc):o.desc=encodeURIComponent("");var s=cc.loader.getXMLHttpRequest();s.onreadystatechange=function(){if(4===s.readyState&&s.status>=200&&s.status<300){var e=s.responseText;e&&n(e)}else n(-1)};var r=e+"?"+Object.keys(o).map(function(e){return e+"="+o[e]}).join("&");s.open("GET",r,!0),s.send()},httpSendRequest:function(e,t){var n=cc.loader.getXMLHttpRequest(),o=!1,i=setTimeout(function(){o=!0,n.abort(),t(-1)},2e3);n.onreadystatechange=function(){if(4==n.readyState){if(o)return;if(clearTimeout(i),n.status>=200&&n.status<300){var e=n.responseText;if(e){var a=JSON.parse(e);t(a)}else t(1)}else(n.status>400||0==n.status)&&t(-1)}},n.open("POST",e,!0),n.send()},httpPostParam:function(e,t,n){var o=cc.loader.getXMLHttpRequest();o.onreadystatechange=function(){if(console.log("xhr.readyState="+o.readyState+"  xhr.status="+o.status),4===o.readyState&&o.status>=200&&o.status<300){var e=o.responseText;if(e){var t=JSON.parse(e);n(t)}}else n(-1)},o.open("POST",e,!0),o.timeout=5e3;var i=JSON.stringify(t);o.send(i)},loadNetToNativeImg:function(e,t){var n=jsb.fileUtils.getWritablePath()+"img/",o=n+MD5(e)+".png";function i(){cc.loader.load(o,function(e,n){if(e)cc.error(e);else{var o=new cc.SpriteFrame(n);o&&(o.retain(),t(o))}})}if(jsb.fileUtils.isFileExist(o))return cc.log("Remote is find"+o),void i();var a=function(e){void 0!==e?(jsb.fileUtils.isDirectoryExist(n)||jsb.fileUtils.createDirectory(n),jsb.fileUtils.writeDataToFile(new Uint8Array(e),o)?(cc.log("Remote write file succeed."),i()):cc.log("Remote write file failed.")):cc.log("Remote download file failed.")},s=new XMLHttpRequest;s.onreadystatechange=function(){cc.log("xhr.readyState  "+s.readyState),cc.log("xhr.status  "+s.status),4===s.readyState&&(200===s.status?(s.responseType="arraybuffer",a(s.response)):a(null))}.bind(this),s.open("GET",e,!0),s.send()}},cc._RF.pop()},{}],interstitialAd:[function(e,t){"use strict";cc._RF.push(t,"65bb3OPXhxMDIngU6dETA4S","interstitialAd");var n=cc.Class({properties:{},ctor:function(){this.instance=null},statics:{create:function(e){if(!this.instance)return this.instance=new n,this.instance.initWithData(e),this.instance}},initWithData:function(){this.adUnitId="",cc.sys.platform==cc.sys.WECHAT_GAME&&"QQ"==appGame.platfrom?(this.adId="e93d7d4378e53c49b258b80960fb84c1",appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.interstitialId&&appGame.gameServerRoom.commonConfig.interstitialId.QQ&&(this.adId=appGame.gameServerRoom.commonConfig.interstitialId.QQ.adUnitId),this.globalData={interstitialAd:qq.createInterstitialAd({adUnitId:this.adId})}):cc.sys.platform==cc.sys.WECHAT_GAME&&"WX"==appGame.platform?(this.adId="c5b484afd6953432",appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.interstitialId&&appGame.gameServerRoom.commonConfig.interstitialId.WX&&(this.adId=appGame.gameServerRoom.commonConfig.interstitialId.WX.adUnitId)):cc.sys.platform==cc.sys.BYTEDANCE_GAME&&(this.adId="15c24vd9ppqti8jgb3",appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.interstitialId&&appGame.gameServerRoom.commonConfig.interstitialId.toutiao&&(this.adId=appGame.gameServerRoom.commonConfig.interstitialId.toutiao.adUnitId))},playAd:function(){var e=this;if(console.log("\u64ad\u653e\u63d2\u5c4f\u5e7f\u544a=="),cc.sys.platform==cc.sys.BYTEDANCE_GAME)this.globalData&&this.globalData.interstitialAd&&(this.globalData.interstitialAd.destroy(),this.globalData.interstitialAd=null),this.globalData={interstitialAd:tt.createInterstitialAd({adUnitId:this.adId})},httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u63d2\u5c4f",content:"\u521b\u5efa\u6210\u529f+\u5e7f\u544a\u4f4d+"+this.adId},function(){}),this.globalData.interstitialAd.load().then(function(){return console.log("\u63d2\u5c4f\u663e\u793a\u6210\u529f"),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u63d2\u5c4f\u5e7f\u544a",content:"\u663e\u793a\u6210\u529f"},function(){}),e.globalData.interstitialAd.show()}).catch(function(e){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u63d2\u5c4f\u5e7f\u544a",content:"\u663e\u793a\u5931\u8d25"},function(){}),console.log("\u63d2\u5c4f\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",e)}),this.globalData.interstitialAd.onError(function(t){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u63d2\u5c4f",content:"\u5c55\u793a\u5931\u8d25+\u5e7f\u544a\u4f4d+"+e.adId+"\u539f\u56e0+"+t.errMsg},function(){})});else if(cc.sys.platform==cc.sys.WECHAT_GAME&&"WX"==appGame.platform)this.globalData&&this.globalData.interstitialAd&&(this.globalData.interstitialAd.offError(),this.globalData.interstitialAd.destroy(),this.globalData.interstitialAd=null,console.log("\u9500\u6bc1")),this.globalData={InterstitialAd:wx.createInterstitialAd({adUnitId:this.adId})},this.globalData.InterstitialAd.load().catch(function(e){console.error("load",e)}),this.globalData.InterstitialAd.onLoad(function(){console.log("onLoad event emit"),e.globalData.InterstitialAd.show().catch(function(e){console.error("show",e)})}),this.globalData.InterstitialAd.onClose(function(){console.log("close event emit")}),this.globalData.InterstitialAd.onError(function(e){console.log("error",e)});else if(this.globalData&&this.globalData.interstitialAd){var t=this.globalData.interstitialAd;t.load().then(function(){return console.log("\u63d2\u5c4f\u663e\u793a\u6210\u529f"),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u63d2\u5c4f",content:"\u52a0\u8f7d\u6210\u529f+\u5e7f\u544a\u4f4d+"+e.adId},function(){}),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u63d2\u5c4f",content:"\u5c55\u793a\u6210\u529f+\u5e7f\u544a\u4f4d+"+e.adId},function(){}),t.show()}).catch(function(t){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u63d2\u5c4f",content:"\u52a0\u8f7d\u5931\u8d25+\u5e7f\u544a\u4f4d+"+e.adId},function(){}),console.log("\u63d2\u5c4f\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",t)})}}});t.exports=n,cc._RF.pop()},{}],item:[function(e,t){"use strict";cc._RF.push(t,"37e7b3Qh2JMQ5/8DSX2ow5C","item"),cc.Class({extends:cc.Component,properties:{},onLoad:function(){cc.log("item onLoad"),this.node.active=!1},start:function(){},init:function(e){cc.log("item init"),appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.item&&underscore.each(appGame.gameServerRoom.commonConfig.item,function(t){t.id==e&&util.loadBundleSprite(t.bundle,t.sprite,this.node.getComponent(cc.Sprite),function(){this.node.active=!0}.bind(this))}.bind(this))}}),cc._RF.pop()},{}],loadTip:[function(e,t){"use strict";cc._RF.push(t,"eec36KS2hZPVbBk7XsJ2C2d","loadTip"),cc.Class({extends:cc.Component,properties:{contentLabel:cc.Label},onLoad:function(){this.contentLabel.string=""},show:function(e){if((e=e||{}).content){this.node.active=!0,this.contentLabel.string=e.content,this.contentLabel._forceUpdateRenderData(!0);var t=this.contentLabel.node.getContentSize().width,n=cc.view.getVisibleSize().width-200;t<n?(this.contentLabel.overflow=cc.Label.Overflow.NONE,this.contentLabel.node.width=t,this.contentLabel.node.height=this.contentLabel.node.getContentSize().height,this.node.width=t+30,this.node.height=80):(this.contentLabel.overflow=cc.Label.Overflow.CLAMP,this.contentLabel.enableWrapText=!0,this.contentLabel.node.width=n,this.contentLabel.node.height=this.contentLabel.node.getContentSize().height+40*Math.floor(t/n),this.node.width=n+30,this.node.height=80+50*Math.floor(t/n))}this.node.opacity=0,this.node.stopAllActions(),this.node.runAction(cc.sequence(cc.fadeIn(.5),cc.delayTime(1),cc.callFunc(function(){this.node.active=!1}.bind(this))))},start:function(){}}),cc._RF.pop()},{}],lucky:[function(e,t){"use strict";var n,o;cc._RF.push(t,"70c5be0DtlNPI44MyAR/Qdw","lucky"),cc.Class({extends:cc.Component,properties:{touchHide:cc.Node,touch:cc.Node,leftBtn:cc.Node,rightBtn:cc.Node,unsealBtn:cc.Button,closeBtn:cc.Button,getBtn:cc.Button,redDragon:dragonBones.ArmatureDisplay,infoLabel:cc.Label,itemReward:cc.Node,redLabel:cc.Label,openTouch:cc.Node,unsealBtnCallback:null,closeBtnCallback:null,redBagBtnCallback:null,blankCallback:null,getRewardCallBack:null},onLoad:function(){this.touchHide.on(cc.Node.EventType.TOUCH_END,this.clickTouchHideCallBack,this),this.touch.on(cc.Node.EventType.TOUCH_START,this.onTouchStart,this),this.touch.on(cc.Node.EventType.TOUCH_END,this.onTouchEnd,this),this.openTouch.active=!1,this.leftBtn.on(cc.Node.EventType.TOUCH_END,this.onLeftTouchEnd,this),this.rightBtn.on(cc.Node.EventType.TOUCH_END,this.onRightTouchEnd,this),this.unsealBtn.node.active=!1,this.getBtn.node.active=!1,this.closeBtn.node.active=!1,this.closeBtn.node.on(cc.Node.EventType.TOUCH_END,this.clickTouchCloseCallBack,this),this.unsealBtn.node.on(cc.Node.EventType.TOUCH_END,this.onUnsealTouchEnd,this),this.getBtn.node.on(cc.Node.EventType.TOUCH_END,this.onGetTouchEnd,this),this.redDragon.addEventListener(dragonBones.EventObject.COMPLETE,this.animationEventHandler,this),this.infoLabel.string="",this.currentIndex=1,this.itemReward.active=!1},show:function(e){(e=e||{}).config&&(this.luckyConfig=e.config),e.info&&(this.info=e.info),e.unsealCB&&(this.unsealBtnCallback=e.unsealCB),e.closeCB&&(this.closeBtnCallback=e.closeCB),e.redbagCB&&(this.redBagBtnCallback=e.redbagCB),e.blankCB&&(this.blankCallback=e.blankCB),e.rewardCB&&(this.getRewardCallBack=e.rewardCB),this.currentIndex=1,this.showRefreshUI(this.info.isResult)},onDestroy:function(){},showRefreshUI:function(e){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e78\u8fd0\u5927\u5956",content:"\u4e3b\u754c\u9762\u56fe\u6807+\u70b9\u51fb"},function(){}),this.currentIndex=1,this.level=this.info.level||1,this.tollgateConfig=this.luckyConfig.tollgate;for(var t=0;t<this.tollgateConfig.length;t++)if(e&&this.tollgateConfig[t].level==this.level||!e){var n=t+1,i=cc.sys.localStorage.getItem("luckReadyReceive"+n);if(null==i||""==i){this.currentIndex=n;break}}this.refreshItem(this.currentIndex),this.node.active=!0,o=setTimeout(function(){appGame.interstitialAd&&appGame.interstitialAd.playAd(),appGame.banner.playBanner(2)}.bind(this),3e3)},refreshItem:function(e){underscore.each(this.tollgateConfig,function(t,n){if(n==e-1){var o=cc.sys.localStorage.getItem("luckReadyReceive"+e),i=cc.sys.localStorage.getItem("luckUnseal"+e);""!=o&&null!=o?(this.redDragon.playAnimation("dajiang2",1),this.refreshGetReward(e,2)):""!=i&&null!=i?(this.redDragon.playAnimation("dajiang2",1),this.refreshGetReward(e,3)):(this.redDragon.playAnimation("dajiang",2),this.refreshGetReward(e,4))}}.bind(this))},clickTouchHideCallBack:function(){var e=this.luckyConfig.luckyOnOff;e&&e.length>0&&1==e[1].video?appGame.videoBanner.playVideoAd(e[1].force,function(){console.log("\u770b\u89c6\u9891\u6210\u529f"),this.onClientResultPlayAD({sceneId:7,eventId:2,isSuccess:!0}),this.blankCallback&&this.blankCallback()}.bind(this)):(this.onClientResultPlayAD({sceneId:7,eventId:2,isSuccess:!0}),this.blankCallback&&this.blankCallback())},clickTouchCloseCallBack:function(){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e78\u8fd0\u5927\u5956",content:"\u5173\u95ed+\u70b9\u51fb"},function(){}),this.onClientResultPlayAD({sceneId:7,eventId:2,isSuccess:!0}),this.closeBtnCallback&&this.closeBtnCallback()},onTouchStart:function(e){this.startX=e.getLocation().x},onTouchEnd:function(e){var t=e.getLocation().x-this.startX;t<=-10?this.onLeftTouchEnd({}):t>=10?this.onRightTouchEnd({}):this.openTouch.active&&this.onRedBagTouchEnd({})},onLeftTouchEnd:function(){this.currentIndex<=1?appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_LOADTIP,{content:"\u60a8\u5f53\u524d\u5df2\u7ecf\u5728\u7b2c\u4e00\u4e2a\u4e86\uff01"}):(this.currentIndex--,this.refreshItem(this.currentIndex))},onRightTouchEnd:function(){this.currentIndex>=this.tollgateConfig.length?appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_LOADTIP,{content:"\u60a8\u5f53\u524d\u5df2\u7ecf\u5728\u6700\u540e\u4e00\u4e2a\u4e86\uff01"}):(this.currentIndex++,this.refreshItem(this.currentIndex))},onUnsealTouchEnd:function(){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e78\u8fd0\u5927\u5956",content:"\u7acb\u5373\u89e3\u5c01+\u70b9\u51fb"},function(){}),this.unsealBtnCallback&&this.unsealBtnCallback(),this.hide()},onRedBagTouchEnd:function(){if(httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e78\u8fd0\u5927\u5956",content:"\u770b\u6fc0\u52b1\u89c6\u9891\u83b7\u53d6+\u70b9\u51fb"},function(){}),!this.itemReward.active){var e=this.luckyConfig.luckyOnOff;e&&e.length>0&&1==e[0].video?appGame.videoBanner.playVideoAd(e[0].force,function(){console.log("\u770b\u89c6\u9891\u6210\u529f"),this.onClientResultPlayAD({sceneId:7,eventId:1,isSuccess:!0}),this.redBagBtnCallback&&this.redBagBtnCallback()}.bind(this)):(this.onClientResultPlayAD({sceneId:7,eventId:1,isSuccess:!0}),this.redBagBtnCallback&&this.redBagBtnCallback())}},onGetTouchEnd:function(){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e78\u8fd0\u5927\u5956",content:"\u9886\u53d6\u5956\u52b1+\u70b9\u51fb"},function(){}),cc.log("\u9886\u53d6====="+this.currentIndex),this.refreshGetReward(this.currentIndex,1)},refreshGetReward:function(e,t){underscore.each(this.tollgateConfig,function(o,i){if(i==e-1)if(1==t&&this.getRewardCallBack&&this.getRewardCallBack(o.reward.itemId,o.reward.count),this.itemReward.getChildByName("item").getComponent("item").init(o.reward.itemId),this.itemReward.getChildByName("count").getComponent(cc.Label).string="\xd7"+o.reward.count,1==t){cc.log("index==="+e),this.redLabel.node.active=!0,this.itemReward.active=!1,this.redDragon.playAnimation("dajiang2",1),cc.sys.localStorage.setItem("luckReadyReceive"+e,e),this.infoLabel.string=o.reward.info;for(var a=0,s=0;s<this.tollgateConfig.length;s++){var r=s+1,c=cc.sys.localStorage.getItem("luckReadyReceive"+r);if(""==c||null==c)return this.currentIndex=r,this.redDragon.playAnimation("dajiang",2),void this.refreshGetReward(r,4);a++}if(a==this.tollgateConfig.length){for(var l=0;l<this.tollgateConfig.length;l++){var u=l+1;cc.sys.localStorage.removeItem("luckReadyReceive"+u),cc.sys.localStorage.removeItem("luckUnseal"+u)}this.showRefreshUI(this.info.isResult)}}else if(2==t)this.openTouch.active=!1,this.redLabel.node.active=!1,this.itemReward.active=!0,this.getBtn.node.active=!0,this.closeBtn.node.active=!1,this.unsealBtn.node.active=!1,this.getBtn.interactable=!1,this.getBtn.node.off(cc.Node.EventType.TOUCH_END,this.onGetTouchEnd,this),this.getBtn.node.getChildByName("label").getComponent(cc.Label).string="\u5df2\u9886\u53d6",this.infoLabel.string="\u5956\u52b1\u5df2\u9886\u53d6",httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e78\u8fd0\u5927\u5956",content:"\u9886\u53d6\u5956\u52b1+\u70b9\u51fb"},function(){});else if(3==t)this.openTouch.active=!1,this.redLabel.node.active=!1,this.itemReward.active=!0,this.getBtn.node.active=!0,this.closeBtn.node.active=!1,this.unsealBtn.node.active=!1,this.getBtn.interactable=!0,this.getBtn.node.on(cc.Node.EventType.TOUCH_END,this.onGetTouchEnd,this),this.getBtn.node.getChildByName("label").getComponent(cc.Label).string="\u9886\u53d6",this.infoLabel.string="\u606d\u559c\u83b7\u5f97",httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e78\u8fd0\u5927\u5956",content:"\u606d\u559c\u83b7\u5f97\u5f39\u7a97"},function(){});else if(4==t){this.redLabel.node.active=!0,this.itemReward.active=!1,this.getBtn.node.active=!1,this.openTouch.active=!0,this.openTouch.scale=1.4,this.openTouch.runAction(cc.repeatForever(cc.sequence(cc.scaleTo(.5,1.2),cc.scaleTo(.5,1.5))));var d=this.luckyConfig.luckUnseal;if(d&&1==d.show){var p=1e3*d.delay;n=setTimeout(function(){this.closeBtn.node.active=!0,this.unsealBtn.node.active=!0}.bind(this),p)}else this.closeBtn.node.active=!1,this.unsealBtn.node.active=!1;this.infoLabel.string=o.reward.info}}.bind(this))},animationEventHandler:function(e){e.type===dragonBones.EventObject.COMPLETE&&"dajiang"===e.animationState.name&&this.redDragon.playAnimation("dajiang1",0)},onClientResultPlayAD:function(e){7==e.sceneId&&e.isSuccess&&(1==e.eventId?(httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e78\u8fd0\u5927\u5956",content:"\u770b\u6fc0\u52b1\u89c6\u9891\u83b7\u53d6+\u5df2\u70b9\u51fb"},function(){}),cc.sys.localStorage.setItem("luckUnseal"+this.currentIndex,this.currentIndex),this.redDragon.playAnimation("dajiang2",1),this.refreshGetReward(this.currentIndex,3)):2!=e.eventId&&3!=e.eventId||(3==e.eventId&&httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e78\u8fd0\u5927\u5956",content:"\u5173\u95ed\u754c\u9762+\u5df2\u70b9\u51fb"},function(){}),this.hide()))},hide:function(){clearTimeout(n),clearTimeout(o),appGame.banner.playBanner(3),this.node.removeFromParent()},start:function(){}}),cc._RF.pop()},{}],nativeAd:[function(e,t){"use strict";cc._RF.push(t,"798f3uehO1CeqnH/lESNu8/","nativeAd");var n=cc.Class({properties:{},ctor:function(){this.instance=null},statics:{create:function(e){if(!this.instance)return this.instance=new n,this.instance.initWithData(e),this.instance}},initWithData:function(){cc.sys.platform==cc.sys.OPPO_GAME&&(this.globalData={nativeAd:qg.createNativeAd({adUnitId:"226783"})}),this.globalData&&this.globalData.nativeAd&&(this.globalData.nativeAd.onLoad(function(e){cc.log("\u52a0\u8f7d\u539f\u751f\u5e7f\u544a\u6210\u529f","\uff1a"+JSON.stringify(e)),e.adList&&e.adList.length>0&&(appGame.nativeAdData=e.adList[0]),appGame.gameServerRoom.emit(consts.LOCAL_GAME_RESULT_NATIVE_AD,{})}),this.globalData.nativeAd.onError(function(e){cc.log("\u8bbe\u7f6e\u539f\u751f\u5e7f\u544a\u51fa\u9519\uff1a"+JSON.stringify(e))}))},playAd:function(){if(console.log("\u64ad\u653e\u539f\u751f\u5e7f\u544a=="),this.globalData&&this.globalData.nativeAd){var e=this.globalData.nativeAd;e.load().then(function(){return console.log("\u539f\u751f\u5e7f\u544a\u663e\u793a\u6210\u529f"),e.show()}).catch(function(e){console.log("\u539f\u751f\u5e7f\u544a\u51fa\u73b0\u95ee\u9898",e)})}}});t.exports=n,cc._RF.pop()},{}],platformFun:[function(e,t){"use strict";cc._RF.push(t,"84833vJXhNMwZQ8web99yS6","platformFun"),t.exports={subscribeService:function(){cc.sys.platform==cc.sys.BAIDU_GAME&&swan.subscribeService({templateId:"7519c8966fdd442d93cec1e0a30c3521",subscribeId:"1234",type:"query",success:function(e){swan.showModal({title:"success",content:JSON.stringify(e)})},fail:function(e){swan.showModal({title:"fail",content:JSON.stringify(e)})}})}},cc._RF.pop()},{}],result:[function(e,t){"use strict";cc._RF.push(t,"33fa5PoD/RJD6LgBnT5ywP1","result"),cc.Class({extends:cc.Component,properties:{title:cc.Label,contentLabel:cc.Label,nextBtn:cc.Button,backBtn:cc.Button,nextBtnCallback:null,backBtnCallback:null},onLoad:function(){this.nextBtn.node.on(cc.Node.EventType.TOUCH_END,this.onNextBtnClicked,this),this.backBtn.node.on(cc.Node.EventType.TOUCH_END,this.onBackBtnClicked,this)},start:function(){},show:function(e){(e=e||{}).nextCB&&(this.nextBtnCallback=e.nextCB),e.backCB&&(this.backBtnCallback=e.backCB),e.info&&(this.info=e.info),e.config&&(this.info.isWin?this.resultConfig=e.config.win:this.resultConfig=e.config.fail),this.refreshUI()},refreshUI:function(){this.info&&(this.title.string=(this.info.isWin,this.resultConfig.title),this.contentLabel.string=(this.info.isWin,this.resultConfig.content),this.nextBtn.node.getChildByName("Background").getChildByName("New Label").getComponent(cc.Label).string=this.resultConfig.btn1.name,this.backBtn.node.getChildByName("Background").getChildByName("New Label").getComponent(cc.Label).string=this.resultConfig.btn2.name,this.nextBtn.node.getChildByName("Background").getChildByName("icon").active=this.resultConfig.btn1.icon,this.backBtn.node.getChildByName("Background").getChildByName("icon").active=this.resultConfig.btn2.icon),appGame.interstitialAd&&appGame.interstitialAd.playAd(),appGame.banner.playBanner(2)},onNextBtnClicked:function(){var e=!1,t=!0;this.resultConfig&&(e=this.resultConfig.btn1.video,t=this.resultConfig.btn1.force),e?appGame.videoBanner.playVideoAd(t,function(){this.nextBtnCallback&&this.nextBtnCallback(this.info.isWin),this.hide()}.bind(this)):(this.nextBtnCallback&&this.nextBtnCallback(this.info.isWin),this.hide())},onBackBtnClicked:function(){var e=!1,t=!0;this.resultConfig&&(e=this.resultConfig.btn2.video,t=this.resultConfig.btn2.force),e?appGame.videoBanner.playVideoAd(t,function(){console.log("\u770b\u89c6\u9891\u6210\u529f"),this.backBtnCallback&&this.backBtnCallback(this.info.isWin),this.hide()}.bind(this)):(this.backBtnCallback&&this.backBtnCallback(this.info.isWin),this.hide())},hide:function(){appGame.banner.playBanner(3),this.node.removeFromParent()}}),cc._RF.pop()},{}],revive:[function(e,t){"use strict";var n,o,i;cc._RF.push(t,"ec134IHnxVI363+v185uOut","revive"),cc.Class({extends:cc.Component,properties:{reviveBtn:cc.Button,backBtn:cc.Button,clock:cc.Node,reviveBtnCallback:null,backBtnCallback:null},onLoad:function(){this.reviveBtn.node.on(cc.Node.EventType.TOUCH_END,this.onReviveBtnClicked,this),this.backBtn.node.on(cc.Node.EventType.TOUCH_END,this.onBackBtnClicked,this)},start:function(){},show:function(e){(e=e||{}).reviveCB&&(this.reviveBtnCallback=e.reviveCB),e.backCB&&(this.backBtnCallback=e.backCB),e.config&&(this.reviveConfig=e.config),this.refreshUI()},refreshUI:function(){this._count=0,this.clock.getComponent(cc.ProgressBar).progress=1,this.reviveConfig.countdown&&this.updateTime(1,this.reviveConfig.countdown,this.reviveConfig.countdown),this.reviveConfig.btn1&&(this.reviveBtn.node.getChildByName("Background").getChildByName("New Label").getComponent(cc.Label).string=this.reviveConfig.btn1.name,this.reviveBtn.node.getChildByName("Background").getChildByName("icon").active=this.reviveConfig.btn1.icon,clearTimeout(o),this.reviveConfig.btn1.delayTime>=0&&(o=setTimeout(function(){this.reviveBtn.node.active=!0}.bind(this),1e3*this.reviveConfig.btn1.delayTime))),this.reviveConfig.btn2&&(this.backBtn.node.getChildByName("Background").getChildByName("New Label").getComponent(cc.Label).string=this.reviveConfig.btn2.name,this.backBtn.node.getChildByName("Background").getChildByName("icon").active=this.reviveConfig.btn2.icon,this.backBtn.node.active=!1,clearTimeout(n),this.reviveConfig.btn2.delayTime>=0&&(n=setTimeout(function(){this.backBtn.node.active=!0}.bind(this),1e3*this.reviveConfig.btn2.delayTime))),appGame.interstitialAd&&appGame.interstitialAd.playAd(),appGame.banner.playBanner(2)},onReviveBtnClicked:function(){var e=!1,t=!0;this.reviveConfig&&(e=this.reviveConfig.btn1.video,t=this.reviveConfig.btn1.force),e?appGame.videoBanner.playVideoAd(t,function(){console.log("\u770b\u89c6\u9891\u6210\u529f"),this.reviveBtnCallback&&this.reviveBtnCallback(),this.hide()}.bind(this)):(this.reviveBtnCallback&&this.reviveBtnCallback(),this.hide())},onBackBtnClicked:function(){var e=!1,t=!0;this.reviveConfig&&(e=this.reviveConfig.btn2.video,t=this.reviveConfig.btn2.force),e?appGame.videoBanner.playVideoAd(t,function(){console.log("\u770b\u89c6\u9891\u6210\u529f"),this.backBtnCallback&&this.backBtnCallback(),this.hide()}.bind(this)):(this.backBtnCallback&&this.backBtnCallback(),this.hide())},updateTime:function(e,t,n){1==e?(t*=1e3,n*=1e3,this._count=t,this.clock&&(this.clock.getComponent(cc.ProgressBar).progress=this._count/n),clearInterval(i),i=setInterval(function(){this._count>100?this._count-=100:(this._count=0,clearInterval(i),this.backBtnCallback&&this.backBtnCallback(),this.hide()),this.clock&&(this.clock.getComponent(cc.ProgressBar).progress=this._count/n)}.bind(this),100)):clearInterval(i)},hide:function(){appGame.banner.playBanner(3),clearInterval(i),clearTimeout(n),clearTimeout(o),this.node.removeFromParent()}}),cc._RF.pop()},{}],roomGame:[function(e,t){"use strict";cc._RF.push(t,"beb9925+ZFD6pMLNAwAhYoo","roomGame");var n=e("room"),o=e("./model/consts"),i=cc.Class({extends:n,statics:{create:function(e){var t=new i;return t.initWithData(e),t}},initWithData:function(e){this._super(e.room),this.videoPath="",this.screenTime=0,this.gameConfigData={},this.wordRid="",this.configSuccess2=!1;var t=o.HTTP_GET_PAAS_DATA_SERVER+"?gameId="+o.GAME_ID+"&plat="+appGame.platform+"&version="+appGame.packageVersion+"&brand=&from=game";cc.log("roomgame url==="+t),httpUtils.httpSendRequest(t,function(e){if(e&&200==e.Code){var t=JSON.parse(e.Detail);t&&(console.log("word=========="+t.word),this.gameConfigData=t,this.isGameStart=!0),this.configSuccess2=!0,this.configSuccess2&&this.configSuccess1&&appGame.gameServerRoom.emit(o.CLIENT_GAME_START,{})}else util.loadJSONData("json","game",function(e){this.gameConfigData=e,this.isGameStart=!0,this.configSuccess2=!0,this.configSuccess2&&this.configSuccess1&&appGame.gameServerRoom.emit(o.CLIENT_GAME_START,{})}.bind(this))}.bind(this))}});t.exports=i,cc._RF.pop()},{"./model/consts":"consts",room:"room"}],room:[function(e,t){"use strict";cc._RF.push(t,"690ef7tcntLt4eCVVAMIQ0O","room");var n=e("emitter"),o=e("./model/consts"),i=cc.Class({extends:n,initWithData:function(){this.commonConfig={},this.configSuccess1=!1,this.isHadWord=!1;var e=o.HTTP_GET_PAAS_DATA_SERVER+"?gameId="+o.GAME_ID+"&plat="+appGame.platform+"&version="+appGame.packageVersion+"&brand=&from=MiddleDesk";console.log("room url==="+e),httpUtils.httpSendRequest(e,function(e){if(e&&200==e.Code){var t=JSON.parse(e.Detail);t&&(t.word&&(this.isHadWord=!0,util.spreadWordFun()),this.commonConfig=t,this.configSuccess1=!0),appGame.emitter.emit(o.HTTP_EVENT_MIDDLE_DESK_CONFIG,{}),this.configSuccess2&&this.configSuccess1&&appGame.gameServerRoom.emit(o.CLIENT_GAME_START,{})}else util.loadJSONData("comJson","comConfig",function(e){e&&(this.commonConfig=e,this.configSuccess1=!0,e.word&&(this.isHadWord=!0,util.spreadWordFun())),appGame.emitter.emit(o.HTTP_EVENT_MIDDLE_DESK_CONFIG,{}),this.configSuccess2&&this.configSuccess1&&appGame.gameServerRoom.emit(o.CLIENT_GAME_START,{})}.bind(this))}.bind(this))}});t.exports=i,cc._RF.pop()},{"./model/consts":"consts",emitter:"emitter"}],screenrecord:[function(e,t){"use strict";var n;cc._RF.push(t,"4bca2MgtetMQYn5yd8otlgf","screenrecord"),cc.Class({extends:cc.Component,properties:{screenBtn:cc.Node,recordBtn:cc.Node},onLoad:function(){this.screenBtn.on(cc.Node.EventType.TOUCH_END,this.screenBtnCallBack,this),this.recordBtn.on(cc.Node.EventType.TOUCH_END,this.recordBtnCallBack,this),appGame.gameServerRoom.on(consts.CLIENT_GAME_PLAY_VIDEO,this.onPlayVideo,this),appGame.gameServerRoom.on(consts.CLIENT_GAME_RESULT_VIDEO_SHOW,this.onGameResultShowVideo,this),this.screenBtn.active=!1,this.initRefreshUI()},onDestroy:function(){appGame.gameServerRoom.off(consts.CLIENT_GAME_PLAY_VIDEO,this.onPlayVideo,this),appGame.gameServerRoom.off(consts.CLIENT_GAME_RESULT_VIDEO_SHOW,this.onGameResultShowVideo,this)},initRefreshUI:function(){this.isScreening=!1,this.isScreening?this.screenBtn.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string="\u5f55\u5c4f\u4e2d":this.screenBtn.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string="\u5f55\u5c4f"},onPlayVideo:function(){appGame.gameServerRoom.screenTime=(new Date).getTime(),this.screenBtn.active=!1,this.isScreening=!0,console.log("\u5e73\u53f0===="+cc.sys.platform),cc.sys.platform==cc.sys.BYTEDANCE_GAME&&(n||(n=tt.getGameRecorderManager()),n.start({duration:300}),n.onStart(function(){console.log("\u5f00\u59cb\u5f55\u5c4f")}),n.onStop(function(e){console.log(e.videoPath),appGame.gameServerRoom.videoPath=e.videoPath,console.log("\u5f55\u5c4f\u7ed3\u675f")},this))},onGameResultShowVideo:function(){appGame.gameServerRoom.screenTime=(new Date).getTime()-appGame.gameServerRoom.screenTime,this.screenBtn.active=!1,this.screenBtn.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string="\u5f55\u5c4f",console.log("11\u81ea\u52a8\u505c\u6b62\u5f55\u5c4f==="),this.isScreening&&cc.sys.platform==cc.sys.BYTEDANCE_GAME&&(n||(n=tt.getGameRecorderManager()),n.stop(),n.onStop(function(e){appGame.gameServerRoom.videoPath=e.videoPath,appGame.gameServerRoom.emit(consts.CLIENT_GAME_VIDEO_SHOW,{}),console.log("22\u81ea\u52a8\u505c\u6b62\u5f55\u5c4f==="+e.videoPath)}))},screenBtnCallBack:function(){this.isScreening=!this.isScreening,cc.sys.platform==cc.sys.BYTEDANCE_GAME&&(n||(n=tt.getGameRecorderManager()),this.isScreening?(this.screenBtn.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string="\u5f55\u5c4f\u4e2d",n.start({duration:1e5}),n.onStart(function(){console.log("\u5f00\u59cb\u5f55\u5c4f")}),n.onStop(function(e){console.log(e.videoPath),appGame.gameServerRoom.videoPath=e.videoPath,console.log("\u5f55\u5c4f\u7ed3\u675f")},this)):(this.screenBtn.getChildByName("Background").getChildByName("Label").getComponent(cc.Label).string="\u5f55\u5c4f",n.stop(),n.onStop(function(e){appGame.gameServerRoom.videoPath=e.videoPath,console.log("\u624b\u52a8\u505c\u6b62\u5f55\u5c4f==="+e.videoPath)})))},recordBtnCallBack:function(){},start:function(){}}),cc._RF.pop()},{}],sdk:[function(e,t,n){"use strict";cc._RF.push(t,"39d4a0B6RRGXqBM/1udBqAy","sdk"),Object.defineProperty(n,"__esModule",{value:!0}),n.wxsdk=void 0;var o=e("../plugin_boosts/utils/EventManager"),i=e("./GameConfigs"),a=function(){function e(){}return e.videoAd=void 0,e.bannerAd=void 0,e.videoAdLoadCount=0,e.bannerAdLoadCount=0,e}(),s=function(){function e(){}return Object.defineProperty(e.prototype,"Ver",{get:function(){return this._version},enumerable:!1,configurable:!0}),e.prototype.init=function(){},e.prototype.requestDB=function(e,t,n){this._db.collection(e).get({success:function(o){console.log("get "+e+" succ:",o.data),t&&t.call(n,o.data)},fail:function(){console.log("get "+e+" fail:"),t&&t.call(n)}})},e.prototype.requestConfig=function(e){this._db.collection("t_conf").get({success:function(t){console.log("get configs succ:",t.data),e&&e(t.data)},fail:function(t){console.log("get configs fail:",t),e&&e(null)}})},e.prototype.requestShareContent=function(){},e.prototype.getShareContentSync=function(){if(!(this._shareConfig&&this._shareConfig.length>0))return{title:i.GameConfig.default_share_title,imageUrl:cc.url.raw(i.GameConfig.deafult_share_imgUrl)};this._shareConfig.length},e.prototype.getShareContent=function(e){var t=this;return new Promise(function(n){t.requestShareContent(function(t){if(t)n(t);else{var o={title:e||i.GameConfig.default_share_title,imageUrl:cc.url.raw(i.GameConfig.deafult_share_imgUrl)};n(o)}})})},e.prototype.openShare=function(e,t,n){return void 0===n&&(n=""),__awaiter(this,void 0,void 0,function(){var e;return __generator(this,function(o){switch(o.label){case 0:return[2];case 1:return e=o.sent(),console.log(e),null!=e&&(t=t||this._userInfo&&this._userInfo.openId||0,e.query="share_id="+t+"&time="+(new Date).getTime()+"&"+n,console.log("open Share",e.query),wx.shareAppMessage(e)),[2]}})})},e.prototype.createButton=function(e,t,n,o,i){console.log("-------------createButton");var a=wx.createUserInfoButton({type:"text",text:"     ",style:{x:t||0,y:n||0,width:o||cc.winSize.width,height:i||cc.winSize.height,lineHeight:40,backgroundColor:"#00000000",color:"#ffffff"}});a.onTap(function(t){a.destroy(),t&&t.userInfo?e&&e(t):e&&e(null)})},Object.defineProperty(e.prototype,"userInfo",{get:function(){return this._userInfo.userInfo},enumerable:!1,configurable:!0}),e.prototype.getUserInfo=function(e){console.log("-------------getUserInfo"),wx.getUserInfo({withCredentials:!0,lang:"zh_CN",success:function(t){console.log("getUserInfo success.",t),e&&e(t)},fail:function(t){console.log("getUserInfo:",t),e&&e(null)},complete:null})},e.prototype.oldAuthUser=function(e){wx.authorize({scope:"scope.userInfo",success:function(t){console.log(t),e&&e(!0)},fail:function(t){console.log(t),e&&e(!1)},complete:null})},e.prototype.authUserInfo=function(e){this.wxLogin(function(t){t&&wx.getSetting({success:function(t){t.authSetting["scope.userInfo"]?e&&e(!0):e&&e(!1)},fail:null,complete:null})})},e.prototype.showShareMenu=function(){var e=this;wx.showShareMenu({withShareTicket:!0,success:function(e){console.log(e)},fail:function(e){console.log(e)},complete:null}),wx.onShareAppMessage(function(){return e.getShareContentSync()})},e.prototype.wxLogin=function(e){wx.login({success:function(t){console.log("code ",t.code),e&&e(!0)},fail:function(){e&&e(!1)},complete:null})},e.prototype.loginToServer=function(e){null==e&&(e={}),this._userInfo=e,e.parentId=this._parentId,this.showShareMenu(),o.event.emit("wxlogin")},e.prototype.login=function(){},e.prototype.getParent=function(){return""},e.prototype.postMessage=function(){},e.prototype.uploadScore=function(e,t){var n=new Array;n.push({key:"score",value:e+""});var o={KVDataList:n,success:function(e){t&&t(e)},fail:function(){},complete:function(){}};wx.setUserCloudStorage(o)},e.prototype.loadBannerAd=function(e){var t=this;a.bannerAd&&a.bannerAd.destroy(),this._systemInfo||(this._systemInfo=wx.getSystemInfoSync());var n=wx.createBannerAd({adUnitId:"adunit-fe3c074ad86d1b59",style:{left:0,top:0,width:this._systemInfo.windowWidth}});n.onLoad(function(){a.bannerAd=n,a.bannerAdLoadCount=0,n.style.left=t._systemInfo.windowWidth/2-n.style.realWidth/2,n.style.top=t._systemInfo.windowHeight-n.style.realHeight,e&&e("load",n)}),n.onError(function(n){console.log("wxsdk onError code:"+n.code+" msg:"+n.msg),a.bannerAdLoadCount+=1,a.bannerAdLoadCount<4&&t.loadBannerAd(e),e&&e("error")})},e.prototype.showBannerAd=function(){var e=this;console.log("Wxsdk \u663e\u793abanner\u5e7f\u544a",a.bannerAd),a.bannerAd?a.bannerAd.show():(console.log("Wxsdk \u4e0d\u5b58\u5728banner\u8d44\u6e90...."),this.loadBannerAd(function(t){"load"==t&&e.showBannerAd()}))},e.prototype.hideBannerAd=function(){a.bannerAd&&a.bannerAd.hide()},e.prototype.loadVideoAd=function(e){var t=this;console.log("============wxsdk.loadVideoAD");var n=wx.createRewardedVideoAd({adUnitId:"adunit-5214efbe348a768c"});this.hideBannerAd(),n.load().then(function(){n.show()}),n.onError(function(){a.videoAdLoadCount+=1,a.videoAdLoadCount<4&&t.loadVideoAd(e),e&&e("error")}),n.onClose(function(t){console.log("wxsdk onClose..."),e&&e("close",t.isEnded),a.videoAd=null}),n.onLoad(function(){console.log("wxsdk onLoad"),a.videoAd=n,a.videoAdLoadCount=0,t.showBannerAd(),e&&e("load",n)})},e}();n.wxsdk=new s,cc._RF.pop()},{"../plugin_boosts/utils/EventManager":"EventManager","./GameConfigs":"GameConfigs"}],sign:[function(e,t){"use strict";cc._RF.push(t,"739a6M/ioBOG5JpbKXWT2IE","sign"),cc.Class({extends:cc.Component,properties:{signNode:[cc.Node],closeBtn:cc.Node,signBtn:cc.Node,replenishSignBtn:cc.Node,closeCallback:null,signCallback:null},onLoad:function(){this.reg=!1,this.regArr=[],this.closeBtn.on(cc.Node.EventType.TOUCH_END,this.onCloseBtnClicked,this),this.signBtn.on(cc.Node.EventType.TOUCH_END,this.onClickSignInBtn,this),this.replenishSignBtn.on(cc.Node.EventType.TOUCH_END,this.onClickReplenishSignBtnInBtn,this)},start:function(){},show:function(e){(e=e||{}).config&&e.config.type&&(this.showType=e.config.type),e.config&&e.config.item&&(this.signItem=e.config.item),e.config&&(this.signConfig=e.config),e.backCB&&(this.closeCallback=e.backCB),e.signCB&&(this.signCallback=e.signCB),this.initData(function(){this.showUI()}.bind(this))},initData:function(e){if(this.days=[],this.signItem)for(var t=0;t<this.signItem.length;t++){var n={sign:0,day:"",signType:this.showType};this.days.push(n)}this.singnday=[],this.save_data={};var o=cc.sys.localStorage.getItem("days_sign");if(o&&(this.days=JSON.parse(o),this.days)){var i=!1,a=!0,s=!0,r=!1,c=!1;if(this.days[0]&&this.showType!=this.days[0].signType)i=!0;else{var l=this.getTodayDay();if(1==this.showType){for(var u=0;u<this.days.length;u++)if(this.days[u].day==l){r=!0;break}for(var d=0;d<this.days.length&&(0==this.days[d].sign&&this.days[d].day!=l&&(s=!1),this.days[d].day!=l);d++);}else if(2==this.showType){for(var p=0;p<this.days.length;p++)if(this.days[p].day==l){a=!1;break}}else if(3==this.showType)for(var h=this.weekIndexInMonth(),f=0;f<this.days.length;f++)if(1==this.days[f].sign&&this.days[f].day!=h){c=!0;break}}if(2==this.showType&&a||1==this.showType&&(!s||!r)||3==this.showType&&c||i){cc.sys.localStorage.removeItem("days_sign"),this.days.length=0;for(var g=0;g<this.signItem.length;g++){var m={sign:0,day:"",signType:this.showType};this.days.push(m)}}}e()},showUI:function(){for(var e=0;e<this.signNode.length;e++)this.signNode[e].active=!1,this.signNode[e].getChildByName("item").active=!1,this.signNode[e].getChildByName("New Sprite").active=!1,this.signNode[e].getChildByName("ok").active=!1;for(var t=0;t<this.signItem.length;t++)3==this.signItem.length?this.signNode[t].y=60:t<3&&(this.signNode[t].y=171.521),this.signNode[t].active=!0;for(var n=0;n<this.signItem.length;n++){var o=this.signItem[n];"{}"!=JSON.stringify(o)?(this.signNode[n].getChildByName("item").getComponent("item").init(o.itemId),this.signNode[n].getChildByName("item").active=!0):this.signNode[n].getChildByName("New Sprite").active=!0}this.signConfig&&this.signConfig.btn1&&(this.replenishSignBtn.active=this.signConfig.btn1.show,this.replenishSignBtn.getChildByName("video").active=this.signConfig.btn1.icon),underscore.each(this.days,function(e,t){1==e.sign&&(this.signNode[t].getChildByName("ok").active=!0)}.bind(this)),appGame.banner.playBanner(2)},onClickReplenishSignBtnInBtn:function(){var e=-1;if(1==this.showType||2==this.showType){for(var t=!1,n=0;n<this.days.length;n++)if(1==this.days[n].sign){t=!0;break}if(!t)return void appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_LOADTIP,{content:"\u5f53\u524d\u8fd8\u672a\u7b7e\u5230\uff0c\u8bf7\u5148\u7b7e\u5230"});for(var o=this.getTodayDay(),i=[],a=0;a<this.days.length&&o!=this.days[a].day;a++)1!=this.days[a].sign&&i.push(a);i.length>0&&(e=i[0])}else if(3==this.showType){for(var s=[],r=0;r<this.days.length&&r+1!=this.getWeekDay();r++)0==this.days[r].sign&&s.push(r);s.length>0&&(e=s[0])}var c=!1,l=!0;this.signConfig&&(c=this.signConfig.btn1.video,l=this.signConfig.btn1.force),c?appGame.videoBanner.playVideoAd(l,function(){console.log("\u770b\u89c6\u9891\u6210\u529f"),-1!=e&&(1==this.showType||2==this.showType?(this.days[e].sign=1,this.signNode[e].getChildByName("ok").active=!0,cc.sys.localStorage.setItem("days_sign",JSON.stringify(this.days)),this.signSuccessTip(this.signItem[e],0)):3==this.showType&&(this.days[e].day=this.weekIndexInMonth(),this.days[e].sign=1,this.signNode[e].getChildByName("ok").active=!0,cc.sys.localStorage.setItem("days_sign",JSON.stringify(this.days)),this.signSuccessTip(this.signItem[e],0)))}.bind(this)):-1!=e&&(1==this.showType||2==this.showType?(this.days[e].sign=1,this.signNode[e].getChildByName("ok").active=!0,cc.sys.localStorage.setItem("days_sign",JSON.stringify(this.days)),this.signSuccessTip(this.signItem[e],0)):3==this.showType&&(this.days[e].day=this.weekIndexInMonth(),this.days[e].sign=1,this.signNode[e].getChildByName("ok").active=!0,cc.sys.localStorage.setItem("days_sign",JSON.stringify(this.days)),this.signSuccessTip(this.signItem[e],0)))},onClickSignInBtn:function(){if(1==this.showType||2==this.showType){for(var e=!1,t=0;t<this.days.length;t++)if(1==this.days[t].sign){e=!0;break}if(e){for(var n=this.getTodayDay(),o=!1,i=-1,a=0;a<this.days.length;a++){if(n==this.days[a].day&&(i=a,1==this.days[a].sign)){o=!0;break}if(n==this.days[a].day&&1==this.days[a].sign){o=!0;break}}o?appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_LOADTIP,{content:"\u5df2\u7b7e\u5230"}):(this.days[i].sign=1,this.signNode[i].getChildByName("ok").active=!0,cc.sys.localStorage.setItem("days_sign",JSON.stringify(this.days)),this.signSuccessTip(this.signItem[i],1))}else{for(var s="",r=0;r<this.days.length;r++)s=0==r?this.getTodayDay():this.getNextDay(s),this.days[r].day=s;this.days[0].sign=1,this.signNode[0].getChildByName("ok").active=!0,cc.sys.localStorage.setItem("days_sign",JSON.stringify(this.days)),this.signSuccessTip(this.signItem[0],1)}}else if(3==this.showType){for(var c=!0,l=-1,u=0;u<this.days.length;u++){var d=this.getWeekDay();if(0==this.days[u].sign&&u+1==d){l=u,c=!1;break}}c?appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_LOADTIP,{content:"\u5df2\u7b7e\u5230"}):(this.days[l].day=this.weekIndexInMonth(),this.days[l].sign=1,this.signNode[l].getChildByName("ok").active=!0,cc.sys.localStorage.setItem("days_sign",JSON.stringify(this.days)),this.signSuccessTip(this.signItem[l],1))}},signSuccessTip:function(e,t){if("{}"!=JSON.stringify(e)&&(t&&this.signCallback&&this.signCallback(e.itemId,e.count),appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.item)){var n=underscore.find(appGame.gameServerRoom.commonConfig.item,function(t){return t.id==e.itemId}.bind(this));n&&appGame.emitter.emit(consts.LOCAL_EVENT_POPUP_LOADTIP,{content:"\u5df2\u83b7\u5f97"+n.name+"\u5956\u52b1"})}},onCloseBtnClicked:function(){appGame.banner.playBanner(3),this.closeCallback&&this.closeCallback(),this.node.removeFromParent()},weekIndexInMonth:function(){var e,t=new Date(new Date(this).setDate(1)||(new Date).setDate(1)),n=(new Date).getDate();return e=0===t.getDay()?6:t.getDay()-1,Math.ceil((n+e)/7)},getWeekDay:function(){var e=(new Date).getDay();return 0==e?7:e},getTodayDay:function(){var e=new Date,t=e.getFullYear(),n=e.getMonth()+1,o=e.getDate(),i=t+"-";return n<10&&(i+="0"),i+=n+"-",o<10&&(i+="0"),i+o},getNextDay:function(e){e=+(e=new Date(e))+864e5;var t=(e=new Date(e)).getFullYear(),n=e.getMonth()+1,o=e.getDate(),i=t+"-";return n<10&&(i+="0"),i+=n+"-",o<10&&(i+="0"),i+o}}),cc._RF.pop()},{}],underscore:[function(e,t,n){"use strict";cc._RF.push(t,"ec994o1t0FK6Y0DWnJafEhA","underscore"),function(){var e=window,o=e._,i={},a=Array.prototype,s=Object.prototype,r=Function.prototype,c=a.push,l=a.slice,u=a.concat,d=s.toString,p=s.hasOwnProperty,h=a.forEach,f=a.map,g=a.reduce,m=a.reduceRight,_=a.filter,v=a.every,y=a.some,b=a.indexOf,C=a.lastIndexOf,S=Array.isArray,w=Object.keys,k=r.bind,T=function e(t){return t instanceof e?t:this instanceof e?void(this._wrapped=t):new e(t)};void 0!==n?(void 0!==t&&t.exports&&(n=t.exports=T),n._=T):e._=T,T.VERSION="1.5.2";var R=T.each=T.forEach=function(e,t,n){if(null!=e)if(h&&e.forEach===h)e.forEach(t,n);else if(e.length===+e.length){for(var o=0,a=e.length;o<a;o++)if(t.call(n,e[o],o,e)===i)return}else{var s=T.keys(e);for(o=0,a=s.length;o<a;o++)if(t.call(n,e[s[o]],s[o],e)===i)return}};T.map=T.collect=function(e,t,n){var o=[];return null==e?o:f&&e.map===f?e.map(t,n):(R(e,function(e,i,a){o.push(t.call(n,e,i,a))}),o)};var E="Reduce of empty array with no initial value";T.reduce=T.foldl=T.inject=function(e,t,n,o){var i=arguments.length>2;if(null==e&&(e=[]),g&&e.reduce===g)return o&&(t=T.bind(t,o)),i?e.reduce(t,n):e.reduce(t);if(R(e,function(e,a,s){i?n=t.call(o,n,e,a,s):(n=e,i=!0)}),!i)throw new TypeError(E);return n},T.reduceRight=T.foldr=function(e,t,n,o){var i=arguments.length>2;if(null==e&&(e=[]),m&&e.reduceRight===m)return o&&(t=T.bind(t,o)),i?e.reduceRight(t,n):e.reduceRight(t);var a=e.length;if(a!==+a){var s=T.keys(e);a=s.length}if(R(e,function(r,c,l){c=s?s[--a]:--a,i?n=t.call(o,n,e[c],c,l):(n=e[c],i=!0)}),!i)throw new TypeError(E);return n},T.find=T.detect=function(e,t,n){var o;return M(e,function(e,i,a){if(t.call(n,e,i,a))return o=e,!0}),o},T.filter=T.select=function(e,t,n){var o=[];return null==e?o:_&&e.filter===_?e.filter(t,n):(R(e,function(e,i,a){t.call(n,e,i,a)&&o.push(e)}),o)},T.reject=function(e,t,n){return T.filter(e,function(e,o,i){return!t.call(n,e,o,i)},n)},T.every=T.all=function(e,t,n){t||(t=T.identity);var o=!0;return null==e?o:v&&e.every===v?e.every(t,n):(R(e,function(e,a,s){if(!(o=o&&t.call(n,e,a,s)))return i}),!!o)};var M=T.some=T.any=function(e,t,n){t||(t=T.identity);var o=!1;return null==e?o:y&&e.some===y?e.some(t,n):(R(e,function(e,a,s){if(o||(o=t.call(n,e,a,s)))return i}),!!o)};T.contains=T.include=function(e,t){return null!=e&&(b&&e.indexOf===b?-1!=e.indexOf(t):M(e,function(e){return e===t}))},T.invoke=function(e,t){var n=l.call(arguments,2),o=T.isFunction(t);return T.map(e,function(e){return(o?t:e[t]).apply(e,n)})},T.pluck=function(e,t){return T.map(e,function(e){return e[t]})},T.where=function(e,t,n){return T.isEmpty(t)?n?void 0:[]:T[n?"find":"filter"](e,function(e){for(var n in t)if(t[n]!==e[n])return!1;return!0})},T.findWhere=function(e,t){return T.where(e,t,!0)},T.max=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.max.apply(Math,e);if(!t&&T.isEmpty(e))return-1/0;var o={computed:-1/0,value:-1/0};return R(e,function(e,i,a){var s=t?t.call(n,e,i,a):e;s>o.computed&&(o={value:e,computed:s})}),o.value},T.min=function(e,t,n){if(!t&&T.isArray(e)&&e[0]===+e[0]&&e.length<65535)return Math.min.apply(Math,e);if(!t&&T.isEmpty(e))return 1/0;var o={computed:1/0,value:1/0};return R(e,function(e,i,a){var s=t?t.call(n,e,i,a):e;s<o.computed&&(o={value:e,computed:s})}),o.value},T.shuffle=function(e){var t,n=0,o=[];return R(e,function(e){t=T.random(n++),o[n-1]=o[t],o[t]=e}),o},T.sample=function(e,t,n){return arguments.length<2||n?e[T.random(e.length-1)]:T.shuffle(e).slice(0,Math.max(0,t))};var I=function(e){return T.isFunction(e)?e:function(t){return t[e]}};T.sortBy=function(e,t,n){var o=I(t);return T.pluck(T.map(e,function(e,t,i){return{value:e,index:t,criteria:o.call(n,e,t,i)}}).sort(function(e,t){var n=e.criteria,o=t.criteria;if(n!==o){if(n>o||void 0===n)return 1;if(n<o||void 0===o)return-1}return e.index-t.index}),"value")};var A=function(e){return function(t,n,o){var i={},a=null==n?T.identity:I(n);return R(t,function(n,s){var r=a.call(o,n,s,t);e(i,r,n)}),i}};T.groupBy=A(function(e,t,n){(T.has(e,t)?e[t]:e[t]=[]).push(n)}),T.indexBy=A(function(e,t,n){e[t]=n}),T.countBy=A(function(e,t){T.has(e,t)?e[t]++:e[t]=1}),T.sortedIndex=function(e,t,n,o){for(var i=(n=null==n?T.identity:I(n)).call(o,t),a=0,s=e.length;a<s;){var r=a+s>>>1;n.call(o,e[r])<i?a=r+1:s=r}return a},T.toArray=function(e){return e?T.isArray(e)?l.call(e):e.length===+e.length?T.map(e,T.identity):T.values(e):[]},T.size=function(e){return null==e?0:e.length===+e.length?e.length:T.keys(e).length},T.first=T.head=T.take=function(e,t,n){if(null!=e)return null==t||n?e[0]:l.call(e,0,t)},T.initial=function(e,t,n){return l.call(e,0,e.length-(null==t||n?1:t))},T.last=function(e,t,n){if(null!=e)return null==t||n?e[e.length-1]:l.call(e,Math.max(e.length-t,0))},T.rest=T.tail=T.drop=function(e,t,n){return l.call(e,null==t||n?1:t)},T.compact=function(e){return T.filter(e,T.identity)};var P=function e(t,n,o){return n&&T.every(t,T.isArray)?u.apply(o,t):(R(t,function(t){T.isArray(t)||T.isArguments(t)?n?c.apply(o,t):e(t,n,o):o.push(t)}),o)};T.flatten=function(e,t){return P(e,t,[])},T.without=function(e){return T.difference(e,l.call(arguments,1))},T.uniq=T.unique=function(e,t,n,o){T.isFunction(t)&&(o=n,n=t,t=!1);var i=n?T.map(e,n,o):e,a=[],s=[];return R(i,function(n,o){(t?o&&s[s.length-1]===n:T.contains(s,n))||(s.push(n),a.push(e[o]))}),a},T.union=function(){return T.uniq(T.flatten(arguments,!0))},T.intersection=function(e){var t=l.call(arguments,1);return T.filter(T.uniq(e),function(e){return T.every(t,function(t){return T.indexOf(t,e)>=0})})},T.difference=function(e){var t=u.apply(a,l.call(arguments,1));return T.filter(e,function(e){return!T.contains(t,e)})},T.zip=function(){for(var e=T.max(T.pluck(arguments,"length").concat(0)),t=new Array(e),n=0;n<e;n++)t[n]=T.pluck(arguments,""+n);return t},T.object=function(e,t){if(null==e)return{};for(var n={},o=0,i=e.length;o<i;o++)t?n[e[o]]=t[o]:n[e[o][0]]=e[o][1];return n},T.indexOf=function(e,t,n){if(null==e)return-1;var o=0,i=e.length;if(n){if("number"!=typeof n)return e[o=T.sortedIndex(e,t)]===t?o:-1;o=n<0?Math.max(0,i+n):n}if(b&&e.indexOf===b)return e.indexOf(t,n);for(;o<i;o++)if(e[o]===t)return o;return-1},T.lastIndexOf=function(e,t,n){if(null==e)return-1;var o=null!=n;if(C&&e.lastIndexOf===C)return o?e.lastIndexOf(t,n):e.lastIndexOf(t);for(var i=o?n:e.length;i--;)if(e[i]===t)return i;return-1},T.range=function(e,t,n){arguments.length<=1&&(t=e||0,e=0),n=arguments[2]||1;for(var o=Math.max(Math.ceil((t-e)/n),0),i=0,a=new Array(o);i<o;)a[i++]=e,e+=n;return a};var L=function(){};T.bind=function(e,t){var n,o;if(k&&e.bind===k)return k.apply(e,l.call(arguments,1));if(!T.isFunction(e))throw new TypeError;return n=l.call(arguments,2),o=function(){if(!(this instanceof o))return e.apply(t,n.concat(l.call(arguments)));L.prototype=e.prototype;var i=new L;L.prototype=null;var a=e.apply(i,n.concat(l.call(arguments)));return Object(a)===a?a:i}},T.partial=function(e){var t=l.call(arguments,1);return function(){return e.apply(this,t.concat(l.call(arguments)))}},T.bindAll=function(e){var t=l.call(arguments,1);if(0===t.length)throw new Error("bindAll must be passed function names");return R(t,function(t){e[t]=T.bind(e[t],e)}),e},T.memoize=function(e,t){var n={};return t||(t=T.identity),function(){var o=t.apply(this,arguments);return T.has(n,o)?n[o]:n[o]=e.apply(this,arguments)}},T.delay=function(e,t){var n=l.call(arguments,2);return setTimeout(function(){return e.apply(null,n)},t)},T.defer=function(e){return T.delay.apply(T,[e,1].concat(l.call(arguments,1)))},T.throttle=function(e,t,n){var o,i,a,s=null,r=0;n||(n={});var c=function(){r=!1===n.leading?0:new Date,s=null,a=e.apply(o,i)};return function(){var l=new Date;r||!1!==n.leading||(r=l);var u=t-(l-r);return o=this,i=arguments,u<=0?(clearTimeout(s),s=null,r=l,a=e.apply(o,i)):s||!1===n.trailing||(s=setTimeout(c,u)),a}},T.debounce=function(e,t,n){var o,i,a,s,r;return function(){a=this,i=arguments,s=new Date;var c=function c(){var l=new Date-s;l<t?o=setTimeout(c,t-l):(o=null,n||(r=e.apply(a,i)))},l=n&&!o;return o||(o=setTimeout(c,t)),l&&(r=e.apply(a,i)),r}},T.once=function(e){var t,n=!1;return function(){return n?t:(n=!0,t=e.apply(this,arguments),e=null,t)}},T.wrap=function(e,t){return function(){var n=[e];return c.apply(n,arguments),t.apply(this,n)}},T.compose=function(){var e=arguments;return function(){for(var t=arguments,n=e.length-1;n>=0;n--)t=[e[n].apply(this,t)];return t[0]}},T.after=function(e,t){return function(){if(--e<1)return t.apply(this,arguments)}},T.keys=w||function(e){if(e!==Object(e))throw new TypeError("Invalid object");var t=[];for(var n in e)T.has(e,n)&&t.push(n);return t},T.values=function(e){for(var t=T.keys(e),n=t.length,o=new Array(n),i=0;i<n;i++)o[i]=e[t[i]];return o},T.pairs=function(e){for(var t=T.keys(e),n=t.length,o=new Array(n),i=0;i<n;i++)o[i]=[t[i],e[t[i]]];return o},T.invert=function(e){for(var t={},n=T.keys(e),o=0,i=n.length;o<i;o++)t[e[n[o]]]=n[o];return t},T.functions=T.methods=function(e){var t=[];for(var n in e)T.isFunction(e[n])&&t.push(n);return t.sort()},T.extend=function(e){return R(l.call(arguments,1),function(t){if(t)for(var n in t)e[n]=t[n]}),e},T.pick=function(e){var t={},n=u.apply(a,l.call(arguments,1));return R(n,function(n){n in e&&(t[n]=e[n])}),t},T.omit=function(e){var t={},n=u.apply(a,l.call(arguments,1));for(var o in e)T.contains(n,o)||(t[o]=e[o]);return t},T.defaults=function(e){return R(l.call(arguments,1),function(t){if(t)for(var n in t)void 0===e[n]&&(e[n]=t[n])}),e},T.clone=function(e){return T.isObject(e)?T.isArray(e)?e.slice():T.extend({},e):e},T.tap=function(e,t){return t(e),e};var D=function e(t,n,o,i){if(t===n)return 0!==t||1/t==1/n;if(null==t||null==n)return t===n;t instanceof T&&(t=t._wrapped),n instanceof T&&(n=n._wrapped);var a=d.call(t);if(a!=d.call(n))return!1;switch(a){case"[object String]":return t==String(n);case"[object Number]":return t!=+t?n!=+n:0==t?1/t==1/n:t==+n;case"[object Date]":case"[object Boolean]":return+t==+n;case"[object RegExp]":return t.source==n.source&&t.global==n.global&&t.multiline==n.multiline&&t.ignoreCase==n.ignoreCase}if("object"!=typeof t||"object"!=typeof n)return!1;for(var s=o.length;s--;)if(o[s]==t)return i[s]==n;var r=t.constructor,c=n.constructor;if(r!==c&&!(T.isFunction(r)&&r instanceof r&&T.isFunction(c)&&c instanceof c))return!1;o.push(t),i.push(n);var l=0,u=!0;if("[object Array]"==a){if(u=(l=t.length)==n.length)for(;l--&&(u=e(t[l],n[l],o,i)););}else{for(var p in t)if(T.has(t,p)&&(l++,!(u=T.has(n,p)&&e(t[p],n[p],o,i))))break;if(u){for(p in n)if(T.has(n,p)&&!l--)break;u=!l}}return o.pop(),i.pop(),u};T.isEqual=function(e,t){return D(e,t,[],[])},T.isEmpty=function(e){if(null==e)return!0;if(T.isArray(e)||T.isString(e))return 0===e.length;for(var t in e)if(T.has(e,t))return!1;return!0},T.isElement=function(e){return!(!e||1!==e.nodeType)},T.isArray=S||function(e){return"[object Array]"==d.call(e)},T.isObject=function(e){return e===Object(e)},R(["Arguments","Function","String","Number","Date","RegExp"],function(e){T["is"+e]=function(t){return d.call(t)=="[object "+e+"]"}}),T.isArguments(arguments)||(T.isArguments=function(e){return!(!e||!T.has(e,"callee"))}),"function"!=typeof/./&&(T.isFunction=function(e){return"function"==typeof e}),T.isFinite=function(e){return isFinite(e)&&!isNaN(parseFloat(e))},T.isNaN=function(e){return T.isNumber(e)&&e!=+e},T.isBoolean=function(e){return!0===e||!1===e||"[object Boolean]"==d.call(e)},T.isNull=function(e){return null===e},T.isUndefined=function(e){return void 0===e},T.has=function(e,t){return p.call(e,t)},T.noConflict=function(){return e._=o,this},T.identity=function(e){return e},T.times=function(e,t,n){for(var o=Array(Math.max(0,e)),i=0;i<e;i++)o[i]=t.call(n,i);return o},T.random=function(e,t){return null==t&&(t=e,e=0),e+Math.floor(Math.random()*(t-e+1))};var B={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;"}};B.unescape=T.invert(B.escape);var x={escape:new RegExp("["+T.keys(B.escape).join("")+"]","g"),unescape:new RegExp("("+T.keys(B.unescape).join("|")+")","g")};T.each(["escape","unescape"],function(e){T[e]=function(t){return null==t?"":(""+t).replace(x[e],function(t){return B[e][t]})}}),T.result=function(e,t){if(null!=e){var n=e[t];return T.isFunction(n)?n.call(e):n}},T.mixin=function(e){R(T.functions(e),function(t){var n=T[t]=e[t];T.prototype[t]=function(){var e=[this._wrapped];return c.apply(e,arguments),U.call(this,n.apply(T,e))}})};var O=0;T.uniqueId=function(e){var t=++O+"";return e?e+t:t},T.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var F=/(.)^/,G={"'":"'","\\":"\\","\r":"r","\n":"n","\t":"t","\u2028":"u2028","\u2029":"u2029"},N=/\\|'|\r|\n|\t|\u2028|\u2029/g;T.template=function(e,t,n){var o;n=T.defaults({},n,T.templateSettings);var i=new RegExp([(n.escape||F).source,(n.interpolate||F).source,(n.evaluate||F).source].join("|")+"|$","g"),a=0,s="__p+='";e.replace(i,function(t,n,o,i,r){return s+=e.slice(a,r).replace(N,function(e){return"\\"+G[e]}),n&&(s+="'+\n((__t=("+n+"))==null?'':_.escape(__t))+\n'"),o&&(s+="'+\n((__t=("+o+"))==null?'':__t)+\n'"),i&&(s+="';\n"+i+"\n__p+='"),a=r+t.length,t}),s+="';\n",n.variable||(s="with(obj||{}){\n"+s+"}\n"),s="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+s+"return __p;\n";try{o=new Function(n.variable||"obj","_",s)}catch(c){throw c.source=s,c}if(t)return o(t,T);var r=function(e){return o.call(this,e,T)};return r.source="function("+(n.variable||"obj")+"){\n"+s+"}",r},T.chain=function(e){return T(e).chain()};var U=function(e){return this._chain?T(e).chain():e};T.mixin(T),R(["pop","push","reverse","shift","sort","splice","unshift"],function(e){var t=a[e];T.prototype[e]=function(){var n=this._wrapped;return t.apply(n,arguments),"shift"!=e&&"splice"!=e||0!==n.length||delete n[0],U.call(this,n)}}),R(["concat","join","slice"],function(e){var t=a[e];T.prototype[e]=function(){return U.call(this,t.apply(this._wrapped,arguments))}}),T.extend(T.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(void 0),cc._RF.pop()},{}],updateTime:[function(e,t){"use strict";var n;cc._RF.push(t,"4cc67JlC1xALoZNsT7RR3yO","updateTime"),cc.Class({extends:cc.Component,properties:{clockNode:cc.Node},onLoad:function(){appGame.gameServerRoom.on("updateCompetitionTime",this.updateTime,this),this.clockNode.getComponent(cc.ProgressBar).progress=1,this._count=0},onDestroy:function(){appGame.gameServerRoom.off("updateCompetitionTime",this.updateTime,this),clearInterval(n)},start:function(){},updateTime:function(e,t,o){1==e?(t*=1e3,o*=1e3,this._count=t,this.clockNode&&(this.clockNode.getComponent(cc.ProgressBar).progress=this._count/o),clearInterval(n),n=setInterval(function(){this._count>100?this._count-=100:(this._count=0,appGame.gameServerRoom.emit("competitionGameOver",2),clearInterval(n)),this.clockNode&&(this.clockNode.getComponent(cc.ProgressBar).progress=this._count/o)}.bind(this),100)):clearInterval(n)}}),cc._RF.pop()},{}],"use_v2.0.x_cc.Toggle_event":[function(e,t){"use strict";cc._RF.push(t,"16452nVLYBF9rx0gR7C2AO8","use_v2.0.x_cc.Toggle_event"),cc.Toggle&&(cc.Toggle._triggerEventInScript_check=!0),cc._RF.pop()},{}],util:[function(e,t){"use strict";cc._RF.push(t,"8a9f96OA6hCcY7Fl9XOa3ug","util"),t.exports={format:function(e){if("string"!=typeof e){for(var t=[],n=0;n<arguments.length;n++)t.push(inspect(arguments[n]));return t.join(" ")}n=1;for(var o=arguments,i=o.length,a=new RegExp("%%|%s|%d|%j","g"),s=String(e).replace(a,function(e){if("%%"===e)return"%";if(n>=i)return e;switch(e){case"%s":return String(o[n++]);case"%d":return Number(o[n++]);case"%j":return JSON.stringify(o[n++]);default:return e}}),r=o[n];n<i;r=o[++n])s+=null===r||"object"!=typeof r?" "+r:" "+inspect(r);return s},loadGameAutoAtlas:function(e,t,n,o){cc.resources.load(e,cc.SpriteAtlas,function(e,i){var a=i.getSpriteFrame(t);n.spriteFrame=a,o(!0)}.bind(this))},loadJSONData:function(e,t,n){cc.assetManager.loadBundle(e,function(e,o){o.load(t,cc.JsonAsset,function(e,t){if(!e){var o=t.json;n(o)}}.bind(this))}.bind(this))},loadBundleSprite:function(e,t,n,o){cc.assetManager.loadBundle(e,function(e,i){i.load(t,cc.SpriteFrame,function(e,t){e||(n.spriteFrame=t,o(!0))}.bind(this))}.bind(this))},addChildToParent:function(e,t,n){cc.assetManager.loadBundle("comPrefab",function(o,i){i.load(e,cc.Prefab,function(e,o){if(e)cc.error(e);else{var i=cc.instantiate(o);t.addChild(i),i.getComponent("item").init(n)}}.bind(this))}.bind(this))},guid:function(){function e(){return(65536*(1+Math.random())|0).toString(16).substring(1)}return e()+e()+"-"+e()+"-"+e()+"-"+e()+"-"+e()+e()+e()},timeConvertInt:function(e){return parseInt(e/1e3)},random:function(e,t){return Math.floor(Math.random()*(t-e))+e},distance:function(e,t){var n=Math.abs(t.x-e.x),o=Math.abs(t.y-e.y);return Math.sqrt(Math.pow(n,2)+Math.pow(o,2))},goldCrarryBit:function(e){for(var t=[[1e8,"N"],[1e7,"T"],[1e6,"G"],[1e5,"M"],[1e4,"K"],[1e3,"B"]],n=0;n<t.length;n++){var o=e/t[n][0];if(o>1)return""+o.toFixed(1)+t[n][1]}return e},setVirusColor:function(e,t){for(var n=0;n<e.children.length;n++)null!=e.children[n].getComponent("color")&&(e.children[n].color=t),this.setVirusColor(e.children[n],t)},getVirusColorByHp:function(e){for(var t=0;t<gVirusColor.length;t++)if(e<=gVirusColor[t].pro)return gVirusColor[t].color},getVirusScaleByHp:function(e){for(var t=0;t<gVirusColor.length;t++)if(e<=gVirusColor[t].pro)return gVirusScale[t].scale},getRandomSpeed:function(){var e=random(0,gSpeed.length-1);return gSpeed[e]},randAlloc:function(e,t,n,o){if(t*o>e||n*o<e)throw Error("\u6ca1\u6cd5\u6ee1\u8db3\u6700\u6700\u5c11 "+t+" \u6700\u5927 "+n+" \u7684\u6761\u4ef6");for(var i=[],a=e,s=o,r=0;r<o-1;r++){var c=--s*n,l=a-s*t,u=Math.max(t,a-c),d=Math.min(l-u,2*(n-u));i[r]=Math.min(n,u+Math.floor(d*Math.random())),a-=i[r]}return i[o-1]=a,i},copyText:function(e,t){var n;cc.sys.platform!=cc.sys.BYTEDANCE_GAME&&cc.sys.platform!=cc.sys.WECHAT_GAME&&cc.sys.platform!=cc.sys.BAIDU_GAME||(n=cc.sys.platform==cc.sys.BAIDU_GAME?swan:cc.sys.platform==cc.sys.WECHAT_GAME?wx:tt).setClipboardData({data:e,success:function(){cc.sys.platform==cc.sys.BAIDU_GAME&&n.showToast({title:"\u52a0\u8f7d\u5b8c\u6210",icon:"none"}),n.getClipboardData({success:function(){var e=consts.HTTP_SPREAD_REPORT+"rid="+t+"&status=1";httpUtils.httpSendRequest(e,function(){})},fail:function(){var e=consts.HTTP_SPREAD_REPORT+"rid="+t+"&status=0";httpUtils.httpSendRequest(e,function(){})}})},fail:function(){var e=consts.HTTP_SPREAD_REPORT+"rid="+t+"&status=0";httpUtils.httpSendRequest(e,function(){})}})},spreadWordFun:function(){if(cc.sys.platform==cc.sys.BYTEDANCE_GAME||cc.sys.platform==cc.sys.WECHAT_GAME||cc.sys.platform==cc.sys.BAIDU_GAME){var e,t,n;if(cc.sys.platform==cc.sys.BAIDU_GAME){var o=swan.getSystemInfoSync();e=o.host,t=o.brand,n=o.model}else if(cc.sys.platform==cc.sys.WECHAT_GAME){var i=wx.getSystemInfoSync();e=i.appName,t=i.brand,n=i.model}else{var a=tt.getSystemInfoSync();e=a.appName,t=a.brand,n=a.model}var s={did:appGame.userId,package:consts.HTTP_RECORD_PACKAGE,app:e,brand:t,model:n};console.log("param=="+JSON.stringify(s)),httpUtils.httpPostParam(consts.HTTP_SPREAD_WORD,s,function(e){e&&(200==e.code&&e.data?(appGame.gameServerRoom.wordRid=e.rid,util.copyText(e.data,e.rid)):appGame.gameServerRoom.wordRid="")}.bind(this))}},spreadClose:function(e){var t=consts.HTTP_SPREAD_CLOSE+e;httpUtils.httpSendRequest(t,function(){})}},cc._RF.pop()},{}],videoBanner:[function(e,t){"use strict";cc._RF.push(t,"984cbg+bTFE9qHzstOIM3zd","videoBanner");var n="",o="",i=!1,a=cc.Class({properties:{},ctor:function(){this.instance=null},statics:{create:function(e){if(!this.instance)return this.instance=new a,this.instance.initWithData(e),this.instance}},initWithData:function(){this.isForce=!1,this.callback=null,this.count=1,cc.sys.platform==cc.sys.BYTEDANCE_GAME?(n="1gr8f7hvpon3mb2llf",appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.videoId&&appGame.gameServerRoom.commonConfig.videoId.toutiao&&(n=appGame.gameServerRoom.commonConfig.videoId.toutiao.adUnitId),this.globalData={videoAd:tt.createRewardedVideoAd({adUnitId:n})}):cc.sys.platform==cc.sys.WECHAT_GAME&&"WX"==appGame.platform?(n="adunit-168ed0ed4d9f8fad",appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.videoId&&appGame.gameServerRoom.commonConfig.videoId.WX&&(n=appGame.gameServerRoom.commonConfig.videoId.WX.adUnitId),this.globalData={videoAd:wx.createRewardedVideoAd({adUnitId:n})}):cc.sys.platform==cc.sys.WECHAT_GAME&&"QQ"==appGame.platform?(n="adunit-168ed0ed4d9f8fad",appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.videoId&&appGame.gameServerRoom.commonConfig.videoId.QQ&&(n=appGame.gameServerRoom.commonConfig.videoId.QQ.adUnitId)):cc.sys.platform==cc.sys.BAIDU_GAME&&(n="7433930",appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.videoId&&appGame.gameServerRoom.commonConfig.videoId.baidu&&(n=appGame.gameServerRoom.commonConfig.videoId.baidu.adUnitId),appGame.gameServerRoom.commonConfig&&appGame.gameServerRoom.commonConfig.videoId&&appGame.gameServerRoom.commonConfig.videoId.baidu&&(o=appGame.gameServerRoom.commonConfig.videoId.baidu.appSid),this.globalData={videoAd:swan.createRewardedVideoAd({adUnitId:n,appSid:o})}),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u6fc0\u52b1\u89c6\u9891",content:"\u521b\u5efa\u6210\u529f+\u5e7f\u544a\u4f4d+"+n},function(){}),cc.sys.platform!=cc.sys.WECHAT_GAME&&this.globalData&&this.globalData.videoAd&&(this.globalData.videoAd.onClose(function(e){e.isEnded?(console.log("\u770b\u5b8c\u89c6\u9891\u5173\u95ed"),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u6fc0\u52b1\u89c6\u9891",content:"\u70b9\u51fb\u5173\u95ed+\u5e7f\u544a\u4f4d+"+n+"\u64ad\u653e\u6210\u529f"},function(){}),this.callback&&this.callback(),appGame.audioMgr.getMusicStatus(function(e){e&&appGame.audioMgr.setMusicOnOff(e)}.bind(this))):(httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u6fc0\u52b1\u89c6\u9891",content:"\u70b9\u51fb\u5173\u95ed+\u5e7f\u544a\u4f4d+"+n+"\u64ad\u653e\u5931\u8d25"},function(){}),console.log("\u672a\u770b\u5b8c\u89c6\u9891\u5173\u95ed=="+this.isForce),this.isForce||(this.callback&&this.callback(),appGame.audioMgr.getMusicStatus(function(e){e&&appGame.audioMgr.setMusicOnOff(e)}.bind(this))))}.bind(this)),this.globalData.videoAd.onError(function(e){console.log("\u64ad\u653e\u89c6\u9891\u5e7f\u544a\u51fa\u95ee\u9898"),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u6fc0\u52b1\u89c6\u9891",content:"\u5c55\u793a\u5931\u8d25+\u5e7f\u544a\u4f4d+"+n+"\u539f\u56e0+"+e.errCode+e.errMsg},function(){}),this.isForce||(this.callback&&this.callback(),appGame.audioMgr.getMusicStatus(function(e){e&&appGame.audioMgr.setMusicOnOff(e)}.bind(this)))}.bind(this)))},playVideoAd:function(e,t,o){if(this.isForce=t,console.log("\u64ad\u653e\u89c6\u9891\u5e7f\u544a"),this.count++,httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u6fc0\u52b1\u89c6\u9891",content:"\u70b9\u51fb\u6b21\u6570+"+this.count+"+\u5e7f\u544a\u4f4d+"+n},function(){}),this.globalData&&this.globalData.videoAd){appGame.audioMgr.getMusicStatus(function(e){e&&appGame.audioMgr.setMusicOnOff(e)}.bind(this));var a=this.globalData.videoAd;if(cc.sys.platform!=cc.sys.WECHAT_GAME||"WX"!=appGame.platfrom&&"QQ"!=appGame.platform)a.show().then(function(){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u6fc0\u52b1\u89c6\u9891",content:"\u5c55\u793a\u6210\u529f+\u5e7f\u544a\u4f4d+"+n+"\u573a\u666f"+e},function(){}),console.log("\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(t){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u6fc0\u52b1\u89c6\u9891",content:"\u5c55\u793a\u5931\u8d25+\u5e7f\u544a\u4f4d+"+n+"\u573a\u666f"+e},function(){}),console.log("\u5e7f\u544a\u7ec4\u4ef6\u51fa\u73b0\u95ee\u9898",t),a.load().then(function(){return console.log("\u624b\u52a8\u52a0\u8f7d\u6210\u529f"),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u6fc0\u52b1\u89c6\u9891",content:"\u52a0\u8f7d\u6210\u529f+\u5e7f\u544a\u4f4d+"+n},function(){}),a.show()})}),this.callback=o;else{s&&s.destroy();var s=null;(s="WX"==appGame.platfrom?wx.createRewardedVideoAd({adUnitId:s}):qq.createRewardedVideoAd({adUnitId:s})).onError(function(e){this.isForce||(this.callback&&this.callback(),appGame.audioMgr.getMusicStatus(function(e){e&&appGame.audioMgr.setMusicOnOff(e)}.bind(this))),httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u6fc0\u52b1\u89c6\u9891",content:"\u5c55\u793a\u5931\u8d25+\u5e7f\u544a\u4f4d+"+n+"\u539f\u56e0+"+e.errCode+e.errMsg},function(){}),console.log("videoAd onError",e)}.bind(this)),s.onLoad(function(e){console.log("videoAd onLoad",e)}),s.onClose(function(e){if(e.isEnded){if(i)return;i=!0,httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u6fc0\u52b1\u89c6\u9891",content:"\u70b9\u51fb\u5173\u95ed+\u5e7f\u544a\u4f4d+"+n+"\u64ad\u653e\u6210\u529f"},function(){}),this.callback&&this.callback(),appGame.audioMgr.getMusicStatus(function(e){e&&appGame.audioMgr.setMusicOnOff(e)}.bind(this))}else httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u6fc0\u52b1\u89c6\u9891",content:"\u70b9\u51fb\u5173\u95ed+\u5e7f\u544a\u4f4d+"+n+"\u64ad\u653e\u5931\u8d25"},function(){}),this.isForce||(this.callback&&this.callback(),appGame.audioMgr.getMusicStatus(function(e){e&&appGame.audioMgr.setMusicOnOff(e)}.bind(this)));s.offClose()}.bind(this)),s.load().then(function(){console.log("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u6210\u529f"),s.show().then(function(){i=!1,httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u6fc0\u52b1\u89c6\u9891",content:"\u5c55\u793a\u6210\u529f+\u5e7f\u544a\u4f4d+"+n+"\u573a\u666f"+e},function(){}),console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(){httpUtils.httpPost(consts.HTTP_RECORD_SERVER,{title:"\u5e7f\u544a\u4f4d\u6fc0\u52b1\u89c6\u9891",content:"\u5c55\u793a\u5931\u8d25+\u5e7f\u544a\u4f4d+"+n+"\u573a\u666f"+e},function(){}),console.log("\u6fc0\u52b1\u89c6\u9891 \u5e7f\u544a\u663e\u793a\u5931\u8d25")})}).catch(function(){console.log("\u6fc0\u52b1\u89c6\u9891\u52a0\u8f7d\u5931\u8d25")})}}else appGame.audioMgr.getMusicStatus(function(e){e&&appGame.audioMgr.setMusicOnOff(e)}.bind(this)),o()}});t.exports=a,cc._RF.pop()},{}],wxgridAd:[function(e,t){"use strict";cc._RF.push(t,"27d3buB6l5GlarYvR/+7For","wxgridAd");var n=cc.Class({properties:{},ctor:function(){this.instance=null},statics:{create:function(e){if(!this.instance)return this.instance=new n,this.instance.initWithData(e),this.instance}},initWithData:function(){if(cc.sys.platform==cc.sys.WECHAT_GAME&&"WX"==appGame.platform){var e=wx.getSystemInfoSync(),t=e.windowWidth,n=e.windowHeight;this.targetBannerAdWidth=200,this.width=t,this.height=n,this.adId="adunit-144bcfc4f8f3cefe",console.log("banner \u7b2c\u4e00\u6b21\u521b\u5efa"),this.globalData={gridAd:wx.createGridAd({adUnitId:this.adId,adTheme:"white",gridCount:5,style:{left:0,top:0,width:330,opacity:.8}})},this.globalData.gridAd.onError(function(e){console.log("\u76d2\u5b50\u5e7f\u544aonError",e)})}},playGridAd:function(e){e?this.globalData&&this.globalData.gridAd&&(console.log("\u64ad\u653e\u76d2\u5b50\u5e7f\u544a"),this.globalData.gridAd.show().then(function(){console.log("\u76d2\u5b50\u5e7f\u544a\u5c55\u793a\u6210\u529f")})):this.globalData.gridAd.hide()}});t.exports=n,cc._RF.pop()},{}],wxnativeAd:[function(e,t){"use strict";cc._RF.push(t,"9a169f/Cs9NFp08r0mXOa8e","wxnativeAd");var n=cc.Class({properties:{},ctor:function(){this.instance=null},statics:{create:function(e){if(!this.instance)return this.instance=new n,this.instance.initWithData(e),this.instance}},initWithData:function(){if(cc.sys.platform==cc.sys.OPPO_GAME)this.globalData={nativeAd:qg.createNativeAd({adUnitId:"236300"})};else if(cc.sys.platform==cc.sys.WECHAT_GAME&&"WX"==appGame.platform){var e=wx.getSystemInfoSync(),t=e.windowWidth,n=e.windowHeight;this.targetBannerAdWidth=200,this.width=t,this.height=n,console.log("\u539f\u751f\u5e7f\u544a111111111111"),this.globalData={nativeAd:wx.createCustomAd({adUnitId:"adunit-48fb335e928d3b4d",style:{left:20,top:this.height-this.targetBannerAdWidth/16*9}})}}this.globalData&&this.globalData.nativeAd&&this.globalData.nativeAd.onError(function(e){console.log("\u8bbe\u7f6e\u539f\u751f\u5e7f\u544a\u51fa\u9519\uff1a"+JSON.stringify(e))})},playAd:function(e){if(cc.sys.platform==cc.sys.WECHAT_GAME&&"WX"==appGame.platform)e?this.globalData.nativeAd.show():(console.log("\u64ad\u653e\u539f\u751f\u5e7f\u544a=="),this.globalData.nativeAd.hide());else if(this.globalData&&this.globalData.nativeAd){var t=this.globalData.nativeAd;t.load().then(function(){console.log("\u539f\u751f\u5e7f\u544a\u663e\u793a\u6210\u529f")}).catch(function(e){console.log("\u539f\u751f\u5e7f\u544a\u51fa\u73b0\u95ee\u9898",e)}),t.onLoad(function(e){console.log("\u52a0\u8f7d\u539f\u751f\u5e7f\u544a\u6210\u529f","\uff1a"+JSON.stringify(e)),e.adList&&e.adList.length>0&&(appGame.nativeAdData=e.adList[0]),appGame.gameServerRoom.emit(consts.LOCAL_GAME_RESULT_NATIVE_AD,{})})}}});t.exports=n,cc._RF.pop()},{}]},{},["Info","Main","g - 001","Animal","Consts","Game","GridManager","HexonTile","Res","com","IntMap","DCBackground","DCParticleSystem","DailyGetDialog","GetDialog","HbDialog","LevelDialog","LevelupDialog","LuckyDialog","PauseDialog","ShopDialog","ShopItemTemplate","WinDialog","Platform","ConnectManager","Message","MessageBase","MessageDispatch","MessageHandler","MessageType","Socket","Device","FSM","InfiniteBackground","LocalLifeSystem","LocalTimeSystem","PoolManager","PsFx","PsFxPlayer","PsSpawner","easing","BoostsAction","ClickAudio","ClickAudioManager","DataCenter","FrameSwitch","InputSystem","JoyStick","Net","Signal","SpriteFrameCache","DCLabel","DCPandoraPoint","DCSprite","DCToggle","DCUI","LoadingManager","MessageBoxComponent","MessageBoxManager","PandoraPoint","ToastComponent","ToastManager","UIComponent","UIFunctions","View","ViewManager","LevelSelector","Common","EventManager","Intersection","BKTool","SoundHelper","AddToMyFav","GameConfigs","MoreGameComponent","MoreGameDialog","MoreGameItem","MoreGameManager","MoreGameStyle","WxRankDialog","sdk","banner","interstitialAd","nativeAd","videoBanner","wxgridAd","wxnativeAd","audioMgr","changeGame","dialogBox","gameSceneManager","horn","item","loadTip","lucky","androidHelper","appGame","async","consts","emitter","httpUtils","underscore","util","platformFun","result","revive","room","roomGame","screenrecord","sign","updateTime","use_v2.0.x_cc.Toggle_event"]);